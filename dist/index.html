<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link
      rel="icon"
      type="image/svg+xml"
      href="data:image/svg+xml, %3Csvg data-v-6805eed4='' version='1.0' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='100%25' height='100%25' viewBox='0 0 70.000000 70.000000' preserveAspectRatio='xMidYMid meet' color-interpolation-filters='sRGB' style='margin: auto;'%3E%3Cg data-v-6805eed4='' fill='%23333' class='icon-text-wrapper icon-svg-group iconsvg' transform='translate(71.40499877929688,97.81155776977539)'%3E%3Cg class='iconsvg-imagesvg' transform='matrix(1,0,0,1,0,0)' opacity='1'%3E%3Cg%3E%3Crect fill='%23333' fill-opacity='0' stroke-width='2' x='0' y='0' width='60' height='54.37688619824' class='image-rect'%3E%3C/rect%3E%3Csvg x='-120' y='-95' width='160' height='54.37688619824' filtersec='colorsb2791788449' class='image-svg-svg primary' style='overflow: visible;'%3E%3Csvg xmlns='http://www.w3.org/2000/svg' xlink='http://www.w3.org/1999/xlink' viewBox='0 0 100 100'%3E%3Cdefs%3E%3ClinearGradient id='ae8194c03-b976-4110-a715-bc6a7dcd8efe' x1='127.09' y1='100.34' x2='11.24' y2='19.22' gradientUnits='userSpaceOnUse'%3E%3Cstop offset='0' stop-color='%23fad5a5'%3E%3C/stop%3E%3Cstop offset='1' stop-color='%23f06c68'%3E%3C/stop%3E%3C/linearGradient%3E%3ClinearGradient id='b74247629-084e-4695-a572-5323a7fe49da' x1='12.79' y1='-21.54' x2='83.81' y2='101.47' href='%23ae8194c03-b976-4110-a715-bc6a7dcd8efe'%3E%3C/linearGradient%3E%3C/defs%3E%3Cpath d='M108.13 58.27L88.82 91.72A16.56 16.56 0 0 1 74.49 100H35.86a16.54 16.54 0 0 1-8.72-2.49C86.56 97.51 82.65 50 82.65 50a8.59 8.59 0 0 0-2.52-6.09L61.26 25a8.62 8.62 0 0 0-12.18 0L30.22 43.91a8.51 8.51 0 0 0-2.41 4.69c-.06-8.11 2.5-46 55.56-46a16.43 16.43 0 0 1 5.43 5.68l19.31 33.45a16.51 16.51 0 0 1 .02 16.54z' fill='url(%23ae8194c03-b976-4110-a715-bc6a7dcd8efe)'%3E%3C/path%3E%3Cpath d='M27.81 48.6a8.61 8.61 0 0 0 2.41 7.49L49.08 75a8.62 8.62 0 0 0 12.18 0l18.87-18.91A8.59 8.59 0 0 0 82.65 50s3.91 47.51-55.51 47.51a16.48 16.48 0 0 1-5.61-5.79L2.22 58.27a16.51 16.51 0 0 1 0-16.54L21.53 8.28A16.56 16.56 0 0 1 35.86 0h38.63a16.54 16.54 0 0 1 8.9 2.6c-53.08 0-55.64 37.89-55.58 46z' fill='url(%23b74247629-084e-4695-a572-5323a7fe49da)'%3E%3C/path%3E%3C/svg%3E%3C/svg%3E%3C!----%3E%3C/g%3E%3C/g%3E%3C/g%3E%3Cdefs v-gra='od'%3E%3C/defs%3E%3C/svg%3E"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script type="module" crossorigin>
var zu=Object.defineProperty;var Pu=(t,e,n)=>e in t?zu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Gr=(t,e,n)=>(Pu(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function he(){}function Iu(t,e){for(const n in e)t[n]=e[n];return t}function $l(t){return t()}function Qi(){return Object.create(null)}function st(t){t.forEach($l)}function Ai(t){return typeof t=="function"}function qe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Ru(t){return Object.keys(t).length===0}function Fl(t,...e){if(t==null){for(const r of e)r(void 0);return he}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function dt(t){let e;return Fl(t,n=>e=n)(),e}function ye(t,e,n){t.$$.on_destroy.push(Fl(e,n))}function Ei(t,e,n,r){if(t){const i=zl(t,e,n,r);return t[0](i)}}function zl(t,e,n,r){return t[1]&&r?Iu(n.ctx.slice(),t[1](r(e))):n.ctx}function Ci(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const a=[],s=Math.max(e.dirty.length,i.length);for(let l=0;l<s;l+=1)a[l]=e.dirty[l]|i[l];return a}return e.dirty|i}return e.dirty}function Ni(t,e,n,r,i,a){if(i){const s=zl(e,n,r,a);t.p(s,i)}}function $i(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function wn(t){return t??""}function $e(t,e,n){return t.set(n),e}function Fi(t){return t&&Ai(t.destroy)?t.destroy:he}const Lu=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function T(t,e){t.appendChild(e)}function I(t,e,n){t.insertBefore(e,n||null)}function z(t){t.parentNode&&t.parentNode.removeChild(t)}function je(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function O(t){return document.createElement(t)}function ft(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Me(t){return document.createTextNode(t)}function Z(){return Me(" ")}function ze(){return Me("")}function ie(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function Hu(t){return function(e){return e.preventDefault(),t.call(this,e)}}function p(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function li(t){return t===""?null:+t}function Wu(t){return Array.from(t.childNodes)}function He(t,e){e=""+e,t.data!==e&&(t.data=e)}function it(t,e){t.value=e??""}function ue(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function Sr(t,e,n){for(let r=0;r<t.options.length;r+=1){const i=t.options[r];if(i.__value===e){i.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Pl(t){const e=t.querySelector(":checked");return e&&e.__value}function Wt(t,e,n){t.classList.toggle(e,!!n)}function Vu(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}function Jt(t,e){return new t(e)}let Vn;function Rn(t){Vn=t}function On(){if(!Vn)throw new Error("Function called outside component initialization");return Vn}function An(t){On().$$.on_mount.push(t)}function zi(t){On().$$.after_update.push(t)}function Il(t){On().$$.on_destroy.push(t)}function Gn(){const t=On();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const a=Vu(e,n,{cancelable:r});return i.slice().forEach(s=>{s.call(t,a)}),!a.defaultPrevented}return!0}}function qu(t,e){return On().$$.context.set(t,e),e}function Uu(t){return On().$$.context.get(t)}const hn=[],Fe=[];let _n=[];const oi=[],Rl=Promise.resolve();let ui=!1;function Ll(){ui||(ui=!0,Rl.then(Hl))}function Zu(){return Ll(),Rl}function qn(t){_n.push(t)}function Ze(t){oi.push(t)}const Jr=new Set;let on=0;function Hl(){if(on!==0)return;const t=Vn;do{try{for(;on<hn.length;){const e=hn[on];on++,Rn(e),Yu(e.$$)}}catch(e){throw hn.length=0,on=0,e}for(Rn(null),hn.length=0,on=0;Fe.length;)Fe.pop()();for(let e=0;e<_n.length;e+=1){const n=_n[e];Jr.has(n)||(Jr.add(n),n())}_n.length=0}while(hn.length);for(;oi.length;)oi.pop()();ui=!1,Jr.clear(),Rn(t)}function Yu(t){if(t.fragment!==null){t.update(),st(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(qn)}}function Bu(t){const e=[],n=[];_n.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),_n=e}const _r=new Set;let en;function Ie(){en={r:0,c:[],p:en}}function Re(){en.r||st(en.c),en=en.p}function C(t,e){t&&t.i&&(_r.delete(t),t.i(e))}function R(t,e,n,r){if(t&&t.o){if(_r.has(t))return;_r.add(t),en.c.push(()=>{_r.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function me(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Gu(t,e){R(t,1,1,()=>{e.delete(t.key)})}function Ju(t,e,n,r,i,a,s,l,o,u,f,c){let h=t.length,d=a.length,g=h;const w={};for(;g--;)w[t[g].key]=g;const y=[],_=new Map,m=new Map,v=[];for(g=d;g--;){const k=c(i,a,g),H=n(k);let q=s.get(H);q?r&&v.push(()=>q.p(k,e)):(q=u(H,k),q.c()),_.set(H,y[g]=q),H in w&&m.set(H,Math.abs(g-w[H]))}const D=new Set,M=new Set;function A(k){C(k,1),k.m(l,f),s.set(k.key,k),f=k.first,d--}for(;h&&d;){const k=y[d-1],H=t[h-1],q=k.key,P=H.key;k===H?(f=k.first,h--,d--):_.has(P)?!s.has(q)||D.has(q)?A(k):M.has(P)?h--:m.get(q)>m.get(P)?(M.add(q),A(k)):(D.add(P),h--):(o(H,s),h--)}for(;h--;){const k=t[h];_.has(k.key)||o(k,s)}for(;d;)A(y[d-1]);return st(v),y}function Ye(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function re(t){t&&t.c()}function te(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),qn(()=>{const a=t.$$.on_mount.map($l).filter(Ai);t.$$.on_destroy?t.$$.on_destroy.push(...a):st(a),t.$$.on_mount=[]}),i.forEach(qn)}function ne(t,e){const n=t.$$;n.fragment!==null&&(Bu(n.after_update),st(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ku(t,e){t.$$.dirty[0]===-1&&(hn.push(t),Ll(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Be(t,e,n,r,i,a,s=null,l=[-1]){const o=Vn;Rn(t);const u=t.$$={fragment:null,ctx:[],props:a,update:he,not_equal:i,bound:Qi(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:Qi(),dirty:l,skip_bound:!1,root:e.target||o.$$.root};s&&s(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,h,...d)=>{const g=d.length?d[0]:h;return u.ctx&&i(u.ctx[c],u.ctx[c]=g)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](g),f&&Ku(t,c)),h}):[],u.update(),f=!0,st(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const c=Wu(e.target);u.fragment&&u.fragment.l(c),c.forEach(z)}else u.fragment&&u.fragment.c();e.intro&&C(t.$$.fragment),te(t,e.target,e.anchor),Hl()}Rn(o)}class Ge{constructor(){Gr(this,"$$");Gr(this,"$$set")}$destroy(){ne(this,1),this.$destroy=he}$on(e,n){if(!Ai(n))return he;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!Ru(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ju="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ju);const un=[];function gt(t,e=he){let n;const r=new Set;function i(l){if(qe(t,l)&&(t=l,n)){const o=!un.length;for(const u of r)u[1](),un.push(u,t);if(o){for(let u=0;u<un.length;u+=2)un[u][0](un[u+1]);un.length=0}}}function a(l){i(l(t))}function s(l,o=he){const u=[l,o];return r.add(u),r.size===1&&(n=e(i,a)||he),l(t),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:i,update:a,subscribe:s}}var rt=gt([]),Bt=gt([]),_t=gt(-1),pe=gt([]),yn=gt([]),mn=gt([]),Yt=gt(-1),Gt=gt(!1),Ln=gt(""),Lt=gt({labels:[],funcs:[]}),xu=gt("light"),Dr=gt(!1),Hn=gt([]);const Wl=!0;function nr(t){if(!t.endsWith("px"))return;const e=parseFloat(t.slice(0,t.length-2));return isNaN(e)?void 0:e}const Vl=t=>t?"height":"width",fi=t=>window.getComputedStyle(t),ci=t=>t.getBoundingClientRect(),Xu=(t,e=!0)=>{if(t.getPropertyValue("box-sizing")==="border-box")return;const n=nr(t.getPropertyValue("border-left-width"));if(n===void 0){console.error("Splitpanes Error: Fail to parse container `border-left-width`.");return}const r=nr(t.getPropertyValue("border-top-width"));if(r===void 0){console.error("Splitpanes Error: Fail to parse container `border-top-width`.");return}const i={left:n,top:r};if(e){const a=nr(t.getPropertyValue("border-right-width"));if(a===void 0){console.error("Splitpanes Error: Fail to parse container `border-right-width`.");return}const s=nr(t.getPropertyValue("border-bottom-width"));if(s===void 0){console.error("Splitpanes Error: Fail to parse container `border-bottom-width`.");return}const l=i;l.right=a,l.bottom=s}return i};function Qu(t,e){e||(e=fi(t));const n=ci(t),r=Xu(e,!0)||{left:0,top:0,right:0,bottom:0};return{width:n.width-r.left-r.right,height:n.height-r.top-r.bottom,left:n.left+r.left,top:n.top+r.top}}const es=(t,e)=>({left:t.left-e.left,top:t.top-e.top});function ts(t){const e=t,n=t,{clientX:r,clientY:i}="ontouchstart"in window&&n.touches?n.touches[0]:e;return{left:r,top:i}}function ns(t,e,n,r){let i=0;for(let a=e;a<n;a++)i+=r(t[a],a);return i}function rr(t,e,n,r){for(let i=e;i<n;i++)r(t[i],i)}function ef(t){let e,n,r,i,a=!Wl;const s=t[16].default,l=Ei(s,t,t[18],null);return{c(){e=O("div"),n=Z(),l&&l.c(),p(e,"id",t[0]),p(e,"class",r=`splitpanes ${t[3]||""} ${t[4]||""}`),p(e,"style",t[2]),Wt(e,"splitpanes--horizontal",t[1]),Wt(e,"splitpanes--vertical",!t[1]),Wt(e,"splitpanes--dragging",t[7]||t[8]),Wt(e,"splitpanes--freeze",!t[6])},m(o,u){I(o,e,u),T(e,n),l&&l.m(e,null),t[17](e),i=!0},p(o,u){l&&l.p&&(!i||u[0]&262144)&&Ni(l,s,o,o[18],i?Ci(s,o[18],u,null):$i(o[18]),null),(!i||u[0]&1)&&p(e,"id",o[0]),(!i||u[0]&24&&r!==(r=`splitpanes ${o[3]||""} ${o[4]||""}`))&&p(e,"class",r),(!i||u[0]&4)&&p(e,"style",o[2]),(!i||u[0]&26)&&Wt(e,"splitpanes--horizontal",o[1]),(!i||u[0]&26)&&Wt(e,"splitpanes--vertical",!o[1]),(!i||u[0]&408)&&Wt(e,"splitpanes--dragging",o[7]||o[8]),(!i||u[0]&88)&&Wt(e,"splitpanes--freeze",!o[6])},i(o){i||(C(a),C(l,o),i=!0)},o(o){R(a),R(l,o),i=!1},d(o){o&&z(e),l&&l.d(o),t[17](null)}}}const ql={};function tf(t,e,n){let r,i,a,{$$slots:s={},$$scope:l}=e,{id:o=void 0}=e,{horizontal:u=!1}=e,{pushOtherPanes:f=!0}=e,{dblClickSplitter:c=!0}=e,{rtl:h="auto"}=e,{firstSplitter:d=!1}=e,{style:g=null}=e,{theme:w="default-theme"}=e,{class:y=""}=e;const _=Gn();let m,v=!1,D=!1,M=!1,A=!1,k=!1,H=-1,q=-1,P,F=new Array,U=gt(u);ye(t,U,L=>n(31,a=L));const B=gt(d);ye(t,B,L=>n(30,i=L));const S=gt(void 0);ye(t,S,L=>n(29,r=L));let b=null,E=null;qu(ql,{showFirstSplitter:B,veryFirstPaneKey:S,isHorizontal:U,ssrRegisterPaneSize:void 0,onPaneInit:L=>(r===void 0&&$e(S,r=L,r),{undefinedPaneInitSize:0}),clientOnly:{onPaneAdd:G,onPaneRemove:N}});function G(L){let se=-1;Array.from(L.element.parentNode.children).some(X=>(X.className.includes("splitpanes__pane")&&se++,X===L.element)),se===0&&$e(S,r=L.key,r),F.splice(se,0,L);for(let X=0;X<F.length;X++)F[X].index=X;v&&Ae().then(()=>{L.isReady=!0,_("pane-add",{index:se,panes:ge()})});const oe=(X,be=!0)=>Q=>{(be||L.index>0)&&X(Q,L)};return{onSplitterDown:oe(Y,!1),onSplitterClick:oe(ve,!1),onSplitterDblClick:oe(De),onPaneClick:oe(V),reportGivenSizeChange:oe(J)}}async function N(L){const se=F.findIndex(oe=>oe.key===L);if(se>=0){const oe=F.splice(se,1)[0];for(let X=0;X<F.length;X++)F[X].index=X;se===0&&$e(S,r=F.length>0?F[0].key:void 0,r),v&&(await Ae(),_("pane-remove",{removed:oe,panes:ge()}))}}function V(L,se){_("pane-click",se)}function J(L,se){se.setSz(L),Ae()}An(()=>{We(),tt();for(let L=0;L<F.length;L++)F[L].isReady=!0;v=!0,_("ready"),setTimeout(()=>{n(6,M=!0)},0)}),Il(()=>{v&&x(),v=!1}),zi(()=>{We()});function $(L){if(h==="auto")try{return(L??fi(m)).direction==="rtl"}catch{}return h===!0}function K(){document.body.style.cursor=U?"col-resize":"row-resize",document.addEventListener("mousemove",Ee,{passive:!1}),document.addEventListener("mouseup",le),"ontouchstart"in window&&(document.addEventListener("touchmove",Ee,{passive:!1}),document.addEventListener("touchend",le))}function x(){document.body.style.cursor="",document.removeEventListener("mousemove",Ee),document.removeEventListener("mouseup",le),"ontouchstart"in window&&(document.removeEventListener("touchmove",Ee),document.removeEventListener("touchend",le))}const j=L=>L.nodeType===Node.ELEMENT_NODE&&L.classList.contains("splitpanes__splitter");function Te(L,se,oe){let X=L[u?"top":"left"];return oe&&!u&&(X=se-X),X}const we=()=>Vl(u);function Y(L,se){n(7,A=!0),H=se.index,se.setSplitterActive(!0);let X=se.element;for(;X!=null&&(X=X.previousSibling,!j(X)););if(X==null){console.error("Splitpane Error: Active splitter wasn't found!");return}b=X;const be=ts(L),Q=ci(b);E=Te(es(be,Q),Q[we()],$()),K()}function Ee(L){if(A){L.preventDefault(),n(8,k=!0);const se=ts(L),oe=fi(m),X=Qu(m,oe),be=X[we()],Q=$(oe),de=es(se,X),_e=Te(de,be,Q);Oe(_e,be),_("resize",ge())}}function le(){k&&_("resized",ge()),n(7,A=!1),F[H].setSplitterActive(!1),setTimeout(()=>{n(8,k=!1),x()},100)}function ve(L,se){if("ontouchstart"in window){L.preventDefault();const oe=se.index;c&&(q===oe?(P&&clearTimeout(P),P=null,De(L,se),q=-1):(q=oe,P=setTimeout(()=>{q=-1},500)))}k||_("splitter-click",se)}function De(L,se){if(c){const oe=se.index;let X=0;for(let de=0;de<F.length;de++){const _e=F[de];de!==oe&&(X+=_e.min())}const be=Math.min(Math.max(0,100-X),se.max()),Q=X+be;if(Q>=100)for(let de=0;de<F.length;de++){const _e=F[de];_e!==se?_e.setSz(_e.min()):_e.setSz(100-X)}else{let de=100-Q;se.setSz(be);const _e=Ce=>{const Le=Ce.min(),ht=Ce.max(),yt=Math.min(Math.max(0,de),ht-Le);Ce.setSz(Le+yt),de-=yt};for(let Ce=oe-1;Ce>=0;Ce--)_e(F[Ce]);for(let Ce=oe+1;Ce<F.length;Ce++)_e(F[Ce]);de!=0&&console.warn("Splitpanes: there is a left spare size after computation of splitter double click, which means there are issues on the size constains of the panes.")}_("pane-maximize",se),_("resized",ge())}n(7,A=!1)}const ge=()=>F.map(L=>({min:L.min(),max:L.max(),size:L.sz(),snap:L.snap()}));function ee(L,se){const oe=ht=>ci(ht)[we()],X=oe(b);let be=0,Q=b.previousSibling;for(;Q!=null;)j(Q)&&(be+=oe(Q)),Q=Q.previousSibling;let de=0,_e=b.nextSibling;for(;_e!=null;)j(_e)&&(de+=oe(_e)),_e=_e.nextSibling;const Ce=be+E,Le=be+X+de;return(L-Ce)/(se-Le)*100}function Oe(L,se){let oe=H-1,X=F[oe],be=H,Q=F[be],de={prevPanesSize:Qe(oe),nextPanesSize:ot(be),prevReachedMinPanes:0,nextReachedMinPanes:0};const _e=0+(f?0:de.prevPanesSize),Ce=100-(f?0:de.nextPanesSize),Le=Math.max(Math.min(ee(L,se),Ce),_e),ht=de.prevPanesSize+X.min()+X.snap(),yt=100-(de.nextPanesSize+Q.min()+Q.snap());let Ke=Le,kt=!1;Le<=ht?Le>de.prevPanesSize+X.min()&&(Ke=Math.max(X.min()+de.prevPanesSize,100-(Q.max()+de.nextPanesSize)),kt=!0):Le>=yt&&Le<100-de.nextPanesSize-Q.min()&&(Ke=Math.min(100-(Q.min()+de.nextPanesSize),X.max()+de.prevPanesSize),kt=!0);const mt=X.max()<100&&Ke>=X.max()+de.prevPanesSize,ln=Q.max()<100&&Ke<=100-(Q.max()+de.nextPanesSize);if(mt||ln)mt?(X.setSz(X.max()),Q.setSz(Math.max(100-X.max()-de.prevPanesSize-de.nextPanesSize,0))):(X.setSz(Math.max(100-Q.max()-de.prevPanesSize-de.nextPanesSize,0)),Q.setSz(Q.max()));else{if(f&&!kt){const vt=xe(de,Ke);if(!vt)return;({sums:de,paneBeforeIndex:oe,paneAfterIndex:be}=vt),X=F[oe],Q=F[be]}oe!=null&&X.setSz(Math.min(Math.max(Ke-de.prevPanesSize-de.prevReachedMinPanes,X.min()),X.max())),be!=null&&Q.setSz(Math.min(Math.max(100-Ke-de.nextPanesSize-de.nextReachedMinPanes,Q.min()),Q.max()))}}function xe(L,se){var Q,de;const oe=H-1;let X=oe,be=oe+1;if(se<L.prevPanesSize+F[X].min()&&(X=(Q=ce(oe))==null?void 0:Q.index,L.prevReachedMinPanes=0,X<oe&&rr(F,X+1,oe+1,_e=>{_e.setSz(_e.min()),L.prevReachedMinPanes+=_e.min()}),L.prevPanesSize=Qe(X),X==null))return L.prevReachedMinPanes=0,F[0].setSz(F[0].min()),rr(F,1,oe+1,_e=>{_e.setSz(_e.min()),L.prevReachedMinPanes+=_e.min()}),F[be].setSz(100-L.prevReachedMinPanes-F[0].min()-L.prevPanesSize-L.nextPanesSize),null;if(se>100-L.nextPanesSize-F[be].min()){be=(de=fe(oe))==null?void 0:de.index,L.nextReachedMinPanes=0,be>oe+1&&rr(F,oe+1,be,Ce=>{Ce.setSz(Ce.min()),L.nextReachedMinPanes+=Ce.min()}),L.nextPanesSize=ot(be);const _e=F.length;if(be==null)return L.nextReachedMinPanes=0,F[_e-1].setSz(F[_e-1].min()),rr(F,oe+1,_e-1,Ce=>{Ce.setSz(Ce.min()),L.nextReachedMinPanes+=Ce.min()}),F[X].setSz(100-L.prevPanesSize-L.nextReachedMinPanes-F[_e-1].min()-L.nextPanesSize),null}return{sums:L,paneBeforeIndex:X,paneAfterIndex:be}}const ke=L=>L.sz(),Qe=L=>ns(F,0,L,ke),ot=L=>ns(F,L+1,F.length,ke),ce=L=>[...F].reverse().find(se=>se.index<L&&se.sz()>se.min()),fe=L=>F.find(se=>se.index>L+1&&se.sz()>se.min());async function Ae(){D=!0,await Zu(),D&&(tt(),D=!1)}function tt(){Pe(),v&&_("resized",ge())}function Pe(){if(F.length===0)return;const L=F.length;let se=100,oe=0,X=0,be=0,Q=[],de=[];for(let yt=0;yt<L;yt++){const Ke=F[yt],kt=Ke.sz();Ke.givenSize==null?Ke.isReady?(be+=kt,kt>=Ke.max()&&Q.push(Ke),kt<=Ke.min()&&de.push(Ke)):X+=1:(se-=kt,oe++,Q.push(Ke),de.push(Ke))}const _e=L-oe,Ce=_e-X;let Le,ht;if(Ce>0?(Le=be/Ce,Le>.1&&se>.1?(be+=X*Le,ht=se/be):(Le=0,ht=1)):(Le=se/_e,ht=1),se+be>.1){se=100;for(let yt=0;yt<L;yt++){const Ke=F[yt];if(Ke.givenSize==null){const kt=Ke.isReady?Ke.sz():Le,mt=Math.max(Math.min(kt*ht,Ke.max()),Ke.min());Ke.setSz(mt)}se-=Ke.sz()}Math.abs(se)>.1&&(se=Ue(se,Q,de))}isFinite(se)?Math.abs(se)>.1&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints."):console.warn("Splitpanes: Internal error, sizes might be NaN as a result.")}function Ue(L,se,oe){const be=F.length-(L>0?se.length:oe.length);if(be<=0)return L;const Q=L/be;if(F.length===1)F[0].setSz(100),L=0;else for(let de=0;de<F.length;de++){const _e=F[de],Ce=_e.sz();if(L>0&&!se.includes(_e)){const Le=Math.max(Math.min(Ce+Q,_e.max()),_e.min()),ht=Le-Ce;L-=ht,_e.setSz(Le)}else if(!oe.includes(_e)){const Le=Math.max(Math.min(Ce+Q,_e.max()),_e.min()),ht=Le-Ce;L-=ht,_e.setSz(Le)}}return L}function We(){var X;const{children:L}=m;let se=0,oe=!1;for(let be=0;be<L.length;be++){const Q=L.item(be),de=Q.classList.contains("splitpanes__pane"),_e=Q.classList.contains("splitpanes__splitter");if(!de&&!_e){(X=Q.parentNode)==null||X.removeChild(Q),console.warn("Splitpanes: Only <Pane> elements are allowed at the root of <Splitpanes>. One of your DOM nodes was removed.");return}else de&&(!oe&&F[se].element!==Q&&(oe=!0),se++)}if(oe){const be=[];for(let Q=0;Q<L.length;Q++){const de=L.item(Q);if(de.classList.contains("splitpanes__pane")){const Ce=F.find(Le=>Le.element===de);Ce!=null?(Ce.index=be.length,be.push(Ce)):console.warn("Splitpanes: Internal error - found a <Pane> elements which isn't tracked.")}}F=be,$e(S,r=F.length>0?F[0].key:void 0,r)}}function at(L){Fe[L?"unshift":"push"](()=>{m=L,n(5,m)})}return t.$$set=L=>{"id"in L&&n(0,o=L.id),"horizontal"in L&&n(1,u=L.horizontal),"pushOtherPanes"in L&&n(12,f=L.pushOtherPanes),"dblClickSplitter"in L&&n(13,c=L.dblClickSplitter),"rtl"in L&&n(14,h=L.rtl),"firstSplitter"in L&&n(15,d=L.firstSplitter),"style"in L&&n(2,g=L.style),"theme"in L&&n(3,w=L.theme),"class"in L&&n(4,y=L.class),"$$scope"in L&&n(18,l=L.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&2&&$e(U,a=u,a),t.$$.dirty[0]&32768&&$e(B,i=d,i)},[o,u,g,w,y,m,M,A,k,U,B,S,f,c,h,d,s,at,l]}class Jn extends Ge{constructor(e){super(),Be(this,e,tf,ef,qe,{id:0,horizontal:1,pushOtherPanes:12,dblClickSplitter:13,rtl:14,firstSplitter:15,style:2,theme:3,class:4},null,[-1,-1,-1])}}const nf=(t,e)=>n=>{const r=t();r!=null&&r[e](n)},rf=t=>nf.bind(null,t);function sf(t){let e,n,r,i,a,s,l=(t[4]!==t[9]||t[5])&&rs(t);const o=t[20].default,u=Ei(o,t,t[19],null);return{c(){l&&l.c(),e=Z(),n=O("div"),u&&u.c(),p(n,"class",r=`splitpanes__pane ${t[0]||""}`),p(n,"style",t[3])},m(f,c){l&&l.m(f,c),I(f,e,c),I(f,n,c),u&&u.m(n,null),t[21](n),i=!0,a||(s=ie(n,"click",t[11]("onPaneClick")),a=!0)},p(f,c){f[4]!==f[9]||f[5]?l?l.p(f,c):(l=rs(f),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),u&&u.p&&(!i||c&524288)&&Ni(u,o,f,f[19],i?Ci(o,f[19],c,null):$i(f[19]),null),(!i||c&1&&r!==(r=`splitpanes__pane ${f[0]||""}`))&&p(n,"class",r),(!i||c&8)&&p(n,"style",f[3])},i(f){i||(C(u,f),i=!0)},o(f){R(u,f),i=!1},d(f){f&&(z(e),z(n)),l&&l.d(f),u&&u.d(f),t[21](null),a=!1,s()}}}function rs(t){let e,n,r,i;return{c(){e=O("div"),p(e,"class",n="splitpanes__splitter "+(t[2]?"splitpanes__splitter__active":""))},m(a,s){I(a,e,s),r||(i=[ie(e,"mousedown",t[11]("onSplitterDown")),ie(e,"touchstart",t[11]("onSplitterDown")),ie(e,"click",t[11]("onSplitterClick")),ie(e,"dblclick",t[11]("onSplitterDblClick"))],r=!0)},p(a,s){s&4&&n!==(n="splitpanes__splitter "+(a[2]?"splitpanes__splitter__active":""))&&p(e,"class",n)},d(a){a&&z(e),r=!1,st(i)}}}function af(t){let e,n,r=!t[10]&&sf(t);return{c(){r&&r.c(),e=ze()},m(i,a){r&&r.m(i,a),I(i,e,a),n=!0},p(i,[a]){i[10]||r.p(i,a)},i(i){n||(C(r),n=!0)},o(i){R(r),n=!1},d(i){i&&z(e),r&&r.d(i)}}}function lf(t,e,n){let r,i,a,s,l,{$$slots:o={},$$scope:u}=e;const{ssrRegisterPaneSize:f,onPaneInit:c,clientOnly:h,isHorizontal:d,showFirstSplitter:g,veryFirstPaneKey:w}=Uu(ql);ye(t,d,b=>n(18,a=b)),ye(t,g,b=>n(5,l=b)),ye(t,w,b=>n(4,s=b));let{size:y=null}=e,{minSize:_=0}=e,{maxSize:m=100}=e,{snapSize:v=0}=e,{class:D=""}=e;const M={},A=!Wl,{undefinedPaneInitSize:k}=c(M);let H,q=y??k,P=!1,F;const U=rf(()=>F),B=b=>{b!=q&&U("reportGivenSizeChange")(b)};An(()=>{const b={key:M,element:H,givenSize:y,sz:()=>q,setSz:E=>{n(16,q=E),y!=null&&y!=q&&n(12,y=q)},min:()=>_,max:()=>m,snap:()=>v,setSplitterActive:E=>{n(2,P=E)},isReady:!1};F=h.onPaneAdd(b)}),Il(()=>{h.onPaneRemove(M)});function S(b){Fe[b?"unshift":"push"](()=>{H=b,n(1,H)})}return t.$$set=b=>{"size"in b&&n(12,y=b.size),"minSize"in b&&n(13,_=b.minSize),"maxSize"in b&&n(14,m=b.maxSize),"snapSize"in b&&n(15,v=b.snapSize),"class"in b&&n(0,D=b.class),"$$scope"in b&&n(19,u=b.$$scope)},t.$$.update=()=>{t.$$.dirty&4096&&y!=null&&B(y),t.$$.dirty&262144&&n(17,r=Vl(a)),t.$$.dirty&196608&&n(3,i=`${r}: ${q}%;`)},[D,H,P,i,s,l,d,g,w,M,A,U,y,_,m,v,q,r,a,u,o,S]}class Rt extends Ge{constructor(e){super(),Be(this,e,lf,af,qe,{size:12,minSize:13,maxSize:14,snapSize:15,class:0})}}function of(t){let e,n,r,i,a,s,l,o,u,f,c=ir(t[0])+"",h,d,g,w,y=ir(t[1])+"",_,m,v;return{c(){e=O("div"),n=O("label"),r=O("span"),i=Me(t[5]),a=Z(),s=O("input"),l=Z(),o=O("input"),u=Z(),f=O("span"),h=Me(c),g=Z(),w=O("span"),_=Me(y),p(r,"class","svelte-1o4zp2p"),p(s,"class","numberInput svelte-1o4zp2p"),p(s,"type","number"),p(s,"id","val"),p(s,"min",t[0]),p(s,"max",t[1]),p(s,"step",t[3]),p(n,"for","val"),p(n,"class","sliderLabel svelte-1o4zp2p"),p(o,"class","sliderInput svelte-1o4zp2p"),p(o,"type","range"),p(o,"min",t[0]),p(o,"max",t[1]),p(o,"step",t[3]),p(f,"class",d="min "+(t[0]===t[4][0]?"stop":"")+" svelte-1o4zp2p"),p(w,"class","max svelte-1o4zp2p"),p(e,"class","processItem svelte-1o4zp2p")},m(D,M){I(D,e,M),T(e,n),T(n,r),T(r,i),T(n,a),T(n,s),it(s,t[2]),T(e,l),T(e,o),it(o,t[2]),T(e,u),T(e,f),T(f,h),T(e,g),T(e,w),T(w,_),m||(v=[ie(s,"change",t[8]),ie(s,"input",t[9]),ie(s,"input",t[10]),ie(o,"change",t[11]),ie(o,"input",t[12]),ie(o,"change",t[13]),ie(o,"input",t[13])],m=!0)},p(D,[M]){M&32&&He(i,D[5]),M&1&&p(s,"min",D[0]),M&2&&p(s,"max",D[1]),M&8&&p(s,"step",D[3]),M&4&&li(s.value)!==D[2]&&it(s,D[2]),M&1&&p(o,"min",D[0]),M&2&&p(o,"max",D[1]),M&8&&p(o,"step",D[3]),M&4&&it(o,D[2]),M&1&&c!==(c=ir(D[0])+"")&&He(h,c),M&17&&d!==(d="min "+(D[0]===D[4][0]?"stop":"")+" svelte-1o4zp2p")&&p(f,"class",d),M&2&&y!==(y=ir(D[1])+"")&&He(_,y)},i:he,o:he,d(D){D&&z(e),m=!1,st(v)}}}function ir(t,e=2){const n=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);if(!n||!n[1])return t;const r=n[1].slice(0,e);return parseFloat(n[0].replace(n[1],r))}function uf(t,e,n){let{min:r=-100}=e,{max:i=100}=e,{step:a=1}=e,{limits:s=[-1/0,1/0]}=e,{value:l}=e,{label:o="Label:"}=e;function u(){r<s[0]&&n(0,r=s[0]),i>s[1]&&n(1,i=s[1]),l<s[0]&&(n(2,l=s[0]),n(0,r=l)),l>s[1]&&(n(2,l=s[1]),n(1,i=l))}function f(){const _=Math.abs(i-r),m=Math.max(s[0],r+_*.2),v=Math.min(s[1],i-_*.2);Number.isInteger(a)?(l>v||l<m)&&(n(1,i=Math.ceil(l+_/2)),n(0,r=Math.floor(l-_/2))):(l>v||l<m)&&(n(1,i=l+_/2),n(0,r=l-_/2)),u()}const c=()=>f(),h=()=>{u()};function d(){l=li(this.value),n(2,l)}const g=()=>f(),w=()=>{u()};function y(){l=li(this.value),n(2,l)}return t.$$set=_=>{"min"in _&&n(0,r=_.min),"max"in _&&n(1,i=_.max),"step"in _&&n(3,a=_.step),"limits"in _&&n(4,s=_.limits),"value"in _&&n(2,l=_.value),"label"in _&&n(5,o=_.label)},[r,i,l,a,s,o,u,f,c,h,d,g,w,y]}class et extends Ge{constructor(e){super(),Be(this,e,uf,of,qe,{min:0,max:1,step:3,limits:4,value:2,label:5})}}class an extends Error{}class ff extends an{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class cf extends an{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class df extends an{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class pn extends an{}class Ul extends an{constructor(e){super(`Invalid unit ${e}`)}}class bt extends an{}class Vt extends an{constructor(){super("Zone is an abstract class")}}const ae="numeric",zt="short",St="long",Mr={year:ae,month:ae,day:ae},Zl={year:ae,month:zt,day:ae},hf={year:ae,month:zt,day:ae,weekday:zt},Yl={year:ae,month:St,day:ae},Bl={year:ae,month:St,day:ae,weekday:St},Gl={hour:ae,minute:ae},Jl={hour:ae,minute:ae,second:ae},Kl={hour:ae,minute:ae,second:ae,timeZoneName:zt},jl={hour:ae,minute:ae,second:ae,timeZoneName:St},xl={hour:ae,minute:ae,hourCycle:"h23"},Xl={hour:ae,minute:ae,second:ae,hourCycle:"h23"},Ql={hour:ae,minute:ae,second:ae,hourCycle:"h23",timeZoneName:zt},eo={hour:ae,minute:ae,second:ae,hourCycle:"h23",timeZoneName:St},to={year:ae,month:ae,day:ae,hour:ae,minute:ae},no={year:ae,month:ae,day:ae,hour:ae,minute:ae,second:ae},ro={year:ae,month:zt,day:ae,hour:ae,minute:ae},io={year:ae,month:zt,day:ae,hour:ae,minute:ae,second:ae},mf={year:ae,month:zt,day:ae,weekday:zt,hour:ae,minute:ae},so={year:ae,month:St,day:ae,hour:ae,minute:ae,timeZoneName:zt},ao={year:ae,month:St,day:ae,hour:ae,minute:ae,second:ae,timeZoneName:zt},lo={year:ae,month:St,day:ae,weekday:St,hour:ae,minute:ae,timeZoneName:St},oo={year:ae,month:St,day:ae,weekday:St,hour:ae,minute:ae,second:ae,timeZoneName:St};class Kn{get type(){throw new Vt}get name(){throw new Vt}get ianaName(){return this.name}get isUniversal(){throw new Vt}offsetName(e,n){throw new Vt}formatOffset(e,n){throw new Vt}offset(e){throw new Vt}equals(e){throw new Vt}get isValid(){throw new Vt}}let Kr=null;class Wr extends Kn{static get instance(){return Kr===null&&(Kr=new Wr),Kr}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return yo(e,n,r)}formatOffset(e,n){return Wn(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let yr={};function pf(t){return yr[t]||(yr[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),yr[t]}const gf={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function _f(t,e){const n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,i,a,s,l,o,u,f]=r;return[s,i,a,l,o,u,f]}function yf(t,e){const n=t.formatToParts(e),r=[];for(let i=0;i<n.length;i++){const{type:a,value:s}=n[i],l=gf[a];a==="era"?r[l]=s:Ne(l)||(r[l]=parseInt(s,10))}return r}let sr={};class Ht extends Kn{static create(e){return sr[e]||(sr[e]=new Ht(e)),sr[e]}static resetCache(){sr={},yr={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Ht.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return yo(e,n,r,this.name)}formatOffset(e,n){return Wn(this.offset(e),n)}offset(e){const n=new Date(e);if(isNaN(n))return NaN;const r=pf(this.name);let[i,a,s,l,o,u,f]=r.formatToParts?yf(r,n):_f(r,n);l==="BC"&&(i=-Math.abs(i)+1);const h=qr({year:i,month:a,day:s,hour:o===24?0:o,minute:u,second:f,millisecond:0});let d=+n;const g=d%1e3;return d-=g>=0?g:1e3+g,(h-d)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let is={};function vf(t,e={}){const n=JSON.stringify([t,e]);let r=is[n];return r||(r=new Intl.ListFormat(t,e),is[n]=r),r}let di={};function hi(t,e={}){const n=JSON.stringify([t,e]);let r=di[n];return r||(r=new Intl.DateTimeFormat(t,e),di[n]=r),r}let mi={};function Tf(t,e={}){const n=JSON.stringify([t,e]);let r=mi[n];return r||(r=new Intl.NumberFormat(t,e),mi[n]=r),r}let pi={};function bf(t,e={}){const{base:n,...r}=e,i=JSON.stringify([t,r]);let a=pi[i];return a||(a=new Intl.RelativeTimeFormat(t,e),pi[i]=a),a}let Pn=null;function wf(){return Pn||(Pn=new Intl.DateTimeFormat().resolvedOptions().locale,Pn)}let ss={};function kf(t){let e=ss[t];if(!e){const n=new Intl.Locale(t);e="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,ss[t]=e}return e}function Sf(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const n=t.indexOf("-u-");if(n===-1)return[t];{let r,i;try{r=hi(t).resolvedOptions(),i=t}catch{const o=t.substring(0,n);r=hi(o).resolvedOptions(),i=o}const{numberingSystem:a,calendar:s}=r;return[i,a,s]}}function Df(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function Mf(t){const e=[];for(let n=1;n<=12;n++){const r=Se.utc(2009,n,1);e.push(t(r))}return e}function Of(t){const e=[];for(let n=1;n<=7;n++){const r=Se.utc(2016,11,13+n);e.push(t(r))}return e}function ar(t,e,n,r){const i=t.listingMode();return i==="error"?null:i==="en"?n(e):r(e)}function Af(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class Ef{constructor(e,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:i,floor:a,...s}=r;if(!n||Object.keys(s).length>0){const l={useGrouping:!1,...r};r.padTo>0&&(l.minimumIntegerDigits=r.padTo),this.inf=Tf(e,l)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):Li(e,3);return ct(n,this.padTo)}}}class Cf{constructor(e,n,r){this.opts=r,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const s=-1*(e.offset/60),l=s>=0?`Etc/GMT+${s}`:`Etc/GMT${s}`;e.offset!==0&&Ht.create(l).valid?(i=l,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const a={...this.opts};a.timeZone=a.timeZone||i,this.dtf=hi(n,a)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:r}}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class Nf{constructor(e,n,r){this.opts={style:"long",...r},!n&&go()&&(this.rtf=bf(e,r))}format(e,n){return this.rtf?this.rtf.format(e,n):xf(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}const $f={firstDay:1,minimalDays:4,weekend:[6,7]};class Xe{static fromOpts(e){return Xe.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,n,r,i,a=!1){const s=e||ut.defaultLocale,l=s||(a?"en-US":wf()),o=n||ut.defaultNumberingSystem,u=r||ut.defaultOutputCalendar,f=gi(i)||ut.defaultWeekSettings;return new Xe(l,o,u,f,s)}static resetCache(){Pn=null,di={},mi={},pi={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:r,weekSettings:i}={}){return Xe.create(e,n,r,i)}constructor(e,n,r,i,a){const[s,l,o]=Sf(e);this.locale=s,this.numberingSystem=n||l||null,this.outputCalendar=r||o||null,this.weekSettings=i,this.intl=Df(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=a,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Af(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Xe.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,gi(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1){return ar(this,e,bo,()=>{const r=n?{month:e,day:"numeric"}:{month:e},i=n?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=Mf(a=>this.extract(a,r,"month"))),this.monthsCache[i][e]})}weekdays(e,n=!1){return ar(this,e,So,()=>{const r=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=n?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=Of(a=>this.extract(a,r,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return ar(this,void 0,()=>Do,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Se.utc(2016,11,13,9),Se.utc(2016,11,13,19)].map(n=>this.extract(n,e,"dayperiod"))}return this.meridiemCache})}eras(e){return ar(this,e,Mo,()=>{const n={era:e};return this.eraCache[e]||(this.eraCache[e]=[Se.utc(-40,1,1),Se.utc(2017,1,1)].map(r=>this.extract(r,n,"era"))),this.eraCache[e]})}extract(e,n,r){const i=this.dtFormatter(e,n),a=i.formatToParts(),s=a.find(l=>l.type.toLowerCase()===r);return s?s.value:null}numberFormatter(e={}){return new Ef(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new Cf(e,this.intl,n)}relFormatter(e={}){return new Nf(this.intl,this.isEnglish(),e)}listFormatter(e={}){return vf(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:_o()?kf(this.locale):$f}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let jr=null;class Tt extends Kn{static get utcInstance(){return jr===null&&(jr=new Tt(0)),jr}static instance(e){return e===0?Tt.utcInstance:new Tt(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new Tt(Ur(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Wn(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Wn(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return Wn(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class Ff extends Kn{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Zt(t,e){if(Ne(t)||t===null)return e;if(t instanceof Kn)return t;if(If(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?Wr.instance:n==="utc"||n==="gmt"?Tt.utcInstance:Tt.parseSpecifier(n)||Ht.create(t)}else return rn(t)?Tt.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new Ff(t)}let as=()=>Date.now(),ls="system",os=null,us=null,fs=null,cs=60,ds,hs=null;class ut{static get now(){return as}static set now(e){as=e}static set defaultZone(e){ls=e}static get defaultZone(){return Zt(ls,Wr.instance)}static get defaultLocale(){return os}static set defaultLocale(e){os=e}static get defaultNumberingSystem(){return us}static set defaultNumberingSystem(e){us=e}static get defaultOutputCalendar(){return fs}static set defaultOutputCalendar(e){fs=e}static get defaultWeekSettings(){return hs}static set defaultWeekSettings(e){hs=gi(e)}static get twoDigitCutoffYear(){return cs}static set twoDigitCutoffYear(e){cs=e%100}static get throwOnInvalid(){return ds}static set throwOnInvalid(e){ds=e}static resetCaches(){Xe.resetCache(),Ht.resetCache()}}class $t{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const uo=[0,31,59,90,120,151,181,212,243,273,304,334],fo=[0,31,60,91,121,152,182,213,244,274,305,335];function Mt(t,e){return new $t("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function Pi(t,e,n){const r=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return i===0?7:i}function co(t,e,n){return n+(jn(t)?fo:uo)[e-1]}function ho(t,e){const n=jn(t)?fo:uo,r=n.findIndex(a=>a<e),i=e-n[r];return{month:r+1,day:i}}function Ii(t,e){return(t-e+7)%7+1}function Or(t,e=4,n=1){const{year:r,month:i,day:a}=t,s=co(r,i,a),l=Ii(Pi(r,i,a),n);let o=Math.floor((s-l+14-e)/7),u;return o<1?(u=r-1,o=Un(u,e,n)):o>Un(r,e,n)?(u=r+1,o=1):u=r,{weekYear:u,weekNumber:o,weekday:l,...Zr(t)}}function ms(t,e=4,n=1){const{weekYear:r,weekNumber:i,weekday:a}=t,s=Ii(Pi(r,1,e),n),l=vn(r);let o=i*7+a-s-7+e,u;o<1?(u=r-1,o+=vn(u)):o>l?(u=r+1,o-=vn(r)):u=r;const{month:f,day:c}=ho(u,o);return{year:u,month:f,day:c,...Zr(t)}}function xr(t){const{year:e,month:n,day:r}=t,i=co(e,n,r);return{year:e,ordinal:i,...Zr(t)}}function ps(t){const{year:e,ordinal:n}=t,{month:r,day:i}=ho(e,n);return{year:e,month:r,day:i,...Zr(t)}}function gs(t,e){if(!Ne(t.localWeekday)||!Ne(t.localWeekNumber)||!Ne(t.localWeekYear)){if(!Ne(t.weekday)||!Ne(t.weekNumber)||!Ne(t.weekYear))throw new pn("Cannot mix locale-based week fields with ISO-based week fields");return Ne(t.localWeekday)||(t.weekday=t.localWeekday),Ne(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),Ne(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function zf(t,e=4,n=1){const r=Vr(t.weekYear),i=Ot(t.weekNumber,1,Un(t.weekYear,e,n)),a=Ot(t.weekday,1,7);return r?i?a?!1:Mt("weekday",t.weekday):Mt("week",t.weekNumber):Mt("weekYear",t.weekYear)}function Pf(t){const e=Vr(t.year),n=Ot(t.ordinal,1,vn(t.year));return e?n?!1:Mt("ordinal",t.ordinal):Mt("year",t.year)}function mo(t){const e=Vr(t.year),n=Ot(t.month,1,12),r=Ot(t.day,1,Ar(t.year,t.month));return e?n?r?!1:Mt("day",t.day):Mt("month",t.month):Mt("year",t.year)}function po(t){const{hour:e,minute:n,second:r,millisecond:i}=t,a=Ot(e,0,23)||e===24&&n===0&&r===0&&i===0,s=Ot(n,0,59),l=Ot(r,0,59),o=Ot(i,0,999);return a?s?l?o?!1:Mt("millisecond",i):Mt("second",r):Mt("minute",n):Mt("hour",e)}function Ne(t){return typeof t>"u"}function rn(t){return typeof t=="number"}function Vr(t){return typeof t=="number"&&t%1===0}function If(t){return typeof t=="string"}function Rf(t){return Object.prototype.toString.call(t)==="[object Date]"}function go(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function _o(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Lf(t){return Array.isArray(t)?t:[t]}function _s(t,e,n){if(t.length!==0)return t.reduce((r,i)=>{const a=[e(i),i];return r&&n(r[0],a[0])===r[0]?r:a},null)[1]}function Hf(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function kn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function gi(t){if(t==null)return null;if(typeof t!="object")throw new bt("Week settings must be an object");if(!Ot(t.firstDay,1,7)||!Ot(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!Ot(e,1,7)))throw new bt("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function Ot(t,e,n){return Vr(t)&&t>=e&&t<=n}function Wf(t,e){return t-e*Math.floor(t/e)}function ct(t,e=2){const n=t<0;let r;return n?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function Ut(t){if(!(Ne(t)||t===null||t===""))return parseInt(t,10)}function xt(t){if(!(Ne(t)||t===null||t===""))return parseFloat(t)}function Ri(t){if(!(Ne(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function Li(t,e,n=!1){const r=10**e;return(n?Math.trunc:Math.round)(t*r)/r}function jn(t){return t%4===0&&(t%100!==0||t%400===0)}function vn(t){return jn(t)?366:365}function Ar(t,e){const n=Wf(e-1,12)+1,r=t+(e-n)/12;return n===2?jn(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function qr(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function ys(t,e,n){return-Ii(Pi(t,1,e),n)+e-1}function Un(t,e=4,n=1){const r=ys(t,e,n),i=ys(t+1,e,n);return(vn(t)-r+i)/7}function _i(t){return t>99?t:t>ut.twoDigitCutoffYear?1900+t:2e3+t}function yo(t,e,n,r=null){const i=new Date(t),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(a.timeZone=r);const s={timeZoneName:e,...a},l=new Intl.DateTimeFormat(n,s).formatToParts(i).find(o=>o.type.toLowerCase()==="timezonename");return l?l.value:null}function Ur(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const r=parseInt(e,10)||0,i=n<0||Object.is(n,-0)?-r:r;return n*60+i}function vo(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new bt(`Invalid unit value ${t}`);return e}function Er(t,e){const n={};for(const r in t)if(kn(t,r)){const i=t[r];if(i==null)continue;n[e(r)]=vo(i)}return n}function Wn(t,e){const n=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${ct(n,2)}:${ct(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${ct(n,2)}${ct(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Zr(t){return Hf(t,["hour","minute","second","millisecond"])}const Vf=["January","February","March","April","May","June","July","August","September","October","November","December"],To=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],qf=["J","F","M","A","M","J","J","A","S","O","N","D"];function bo(t){switch(t){case"narrow":return[...qf];case"short":return[...To];case"long":return[...Vf];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const wo=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],ko=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Uf=["M","T","W","T","F","S","S"];function So(t){switch(t){case"narrow":return[...Uf];case"short":return[...ko];case"long":return[...wo];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Do=["AM","PM"],Zf=["Before Christ","Anno Domini"],Yf=["BC","AD"],Bf=["B","A"];function Mo(t){switch(t){case"narrow":return[...Bf];case"short":return[...Yf];case"long":return[...Zf];default:return null}}function Gf(t){return Do[t.hour<12?0:1]}function Jf(t,e){return So(e)[t.weekday-1]}function Kf(t,e){return bo(e)[t.month-1]}function jf(t,e){return Mo(e)[t.year<0?0:1]}function xf(t,e,n="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&a){const c=t==="days";switch(e){case 1:return c?"tomorrow":`next ${i[t][0]}`;case-1:return c?"yesterday":`last ${i[t][0]}`;case 0:return c?"today":`this ${i[t][0]}`}}const s=Object.is(e,-0)||e<0,l=Math.abs(e),o=l===1,u=i[t],f=r?o?u[1]:u[2]||u[1]:o?i[t][0]:t;return s?`${l} ${f} ago`:`in ${l} ${f}`}function vs(t,e){let n="";for(const r of t)r.literal?n+=r.val:n+=e(r.val);return n}const Xf={D:Mr,DD:Zl,DDD:Yl,DDDD:Bl,t:Gl,tt:Jl,ttt:Kl,tttt:jl,T:xl,TT:Xl,TTT:Ql,TTTT:eo,f:to,ff:ro,fff:so,ffff:lo,F:no,FF:io,FFF:ao,FFFF:oo};class pt{static create(e,n={}){return new pt(e,n)}static parseFormat(e){let n=null,r="",i=!1;const a=[];for(let s=0;s<e.length;s++){const l=e.charAt(s);l==="'"?(r.length>0&&a.push({literal:i||/^\s+$/.test(r),val:r}),n=null,r="",i=!i):i||l===n?r+=l:(r.length>0&&a.push({literal:/^\s+$/.test(r),val:r}),r=l,n=l)}return r.length>0&&a.push({literal:i||/^\s+$/.test(r),val:r}),a}static macroTokenToFormatOpts(e){return Xf[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}dtFormatter(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n})}formatDateTime(e,n){return this.dtFormatter(e,n).format()}formatDateTimeParts(e,n){return this.dtFormatter(e,n).formatToParts()}formatInterval(e,n){return this.dtFormatter(e.start,n).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n){return this.dtFormatter(e,n).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return ct(e,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){const r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",a=(d,g)=>this.loc.extract(e,d,g),s=d=>e.isOffsetFixed&&e.offset===0&&d.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,d.format):"",l=()=>r?Gf(e):a({hour:"numeric",hourCycle:"h12"},"dayperiod"),o=(d,g)=>r?Kf(e,d):a(g?{month:d}:{month:d,day:"numeric"},"month"),u=(d,g)=>r?Jf(e,d):a(g?{weekday:d}:{weekday:d,month:"long",day:"numeric"},"weekday"),f=d=>{const g=pt.macroTokenToFormatOpts(d);return g?this.formatWithSystemDefault(e,g):d},c=d=>r?jf(e,d):a({era:d},"era"),h=d=>{switch(d){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return s({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return s({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return s({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return l();case"d":return i?a({day:"numeric"},"day"):this.num(e.day);case"dd":return i?a({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return i?a({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?a({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return o("short",!0);case"LLLL":return o("long",!0);case"LLLLL":return o("narrow",!0);case"M":return i?a({month:"numeric"},"month"):this.num(e.month);case"MM":return i?a({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return o("short",!1);case"MMMM":return o("long",!1);case"MMMMM":return o("narrow",!1);case"y":return i?a({year:"numeric"},"year"):this.num(e.year);case"yy":return i?a({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?a({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?a({year:"numeric"},"year"):this.num(e.year,6);case"G":return c("short");case"GG":return c("long");case"GGGGG":return c("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return f(d)}};return vs(pt.parseFormat(n),h)}formatDurationFromString(e,n){const r=o=>{switch(o[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=o=>u=>{const f=r(u);return f?this.num(o.get(f),u.length):u},a=pt.parseFormat(n),s=a.reduce((o,{literal:u,val:f})=>u?o:o.concat(f),[]),l=e.shiftTo(...s.map(r).filter(o=>o));return vs(a,i(l))}}const Oo=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function En(...t){const e=t.reduce((n,r)=>n+r.source,"");return RegExp(`^${e}$`)}function Cn(...t){return e=>t.reduce(([n,r,i],a)=>{const[s,l,o]=a(e,i);return[{...n,...s},l||r,o]},[{},null,1]).slice(0,2)}function Nn(t,...e){if(t==null)return[null,null];for(const[n,r]of e){const i=n.exec(t);if(i)return r(i)}return[null,null]}function Ao(...t){return(e,n)=>{const r={};let i;for(i=0;i<t.length;i++)r[t[i]]=Ut(e[n+i]);return[r,null,n+i]}}const Eo=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Qf=`(?:${Eo.source}?(?:\\[(${Oo.source})\\])?)?`,Hi=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Co=RegExp(`${Hi.source}${Qf}`),Wi=RegExp(`(?:T${Co.source})?`),ec=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,tc=/(\d{4})-?W(\d\d)(?:-?(\d))?/,nc=/(\d{4})-?(\d{3})/,rc=Ao("weekYear","weekNumber","weekDay"),ic=Ao("year","ordinal"),sc=/(\d{4})-(\d\d)-(\d\d)/,No=RegExp(`${Hi.source} ?(?:${Eo.source}|(${Oo.source}))?`),ac=RegExp(`(?: ${No.source})?`);function Tn(t,e,n){const r=t[e];return Ne(r)?n:Ut(r)}function lc(t,e){return[{year:Tn(t,e),month:Tn(t,e+1,1),day:Tn(t,e+2,1)},null,e+3]}function $n(t,e){return[{hours:Tn(t,e,0),minutes:Tn(t,e+1,0),seconds:Tn(t,e+2,0),milliseconds:Ri(t[e+3])},null,e+4]}function xn(t,e){const n=!t[e]&&!t[e+1],r=Ur(t[e+1],t[e+2]),i=n?null:Tt.instance(r);return[{},i,e+3]}function Xn(t,e){const n=t[e]?Ht.create(t[e]):null;return[{},n,e+1]}const oc=RegExp(`^T?${Hi.source}$`),uc=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function fc(t){const[e,n,r,i,a,s,l,o,u]=t,f=e[0]==="-",c=o&&o[0]==="-",h=(d,g=!1)=>d!==void 0&&(g||d&&f)?-d:d;return[{years:h(xt(n)),months:h(xt(r)),weeks:h(xt(i)),days:h(xt(a)),hours:h(xt(s)),minutes:h(xt(l)),seconds:h(xt(o),o==="-0"),milliseconds:h(Ri(u),c)}]}const cc={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Vi(t,e,n,r,i,a,s){const l={year:e.length===2?_i(Ut(e)):Ut(e),month:To.indexOf(n)+1,day:Ut(r),hour:Ut(i),minute:Ut(a)};return s&&(l.second=Ut(s)),t&&(l.weekday=t.length>3?wo.indexOf(t)+1:ko.indexOf(t)+1),l}const dc=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function hc(t){const[,e,n,r,i,a,s,l,o,u,f,c]=t,h=Vi(e,i,r,n,a,s,l);let d;return o?d=cc[o]:u?d=0:d=Ur(f,c),[h,new Tt(d)]}function mc(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const pc=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,gc=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,_c=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Ts(t){const[,e,n,r,i,a,s,l]=t;return[Vi(e,i,r,n,a,s,l),Tt.utcInstance]}function yc(t){const[,e,n,r,i,a,s,l]=t;return[Vi(e,l,n,r,i,a,s),Tt.utcInstance]}const vc=En(ec,Wi),Tc=En(tc,Wi),bc=En(nc,Wi),wc=En(Co),$o=Cn(lc,$n,xn,Xn),kc=Cn(rc,$n,xn,Xn),Sc=Cn(ic,$n,xn,Xn),Dc=Cn($n,xn,Xn);function Mc(t){return Nn(t,[vc,$o],[Tc,kc],[bc,Sc],[wc,Dc])}function Oc(t){return Nn(mc(t),[dc,hc])}function Ac(t){return Nn(t,[pc,Ts],[gc,Ts],[_c,yc])}function Ec(t){return Nn(t,[uc,fc])}const Cc=Cn($n);function Nc(t){return Nn(t,[oc,Cc])}const $c=En(sc,ac),Fc=En(No),zc=Cn($n,xn,Xn);function Pc(t){return Nn(t,[$c,$o],[Fc,zc])}const bs="Invalid Duration",Fo={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Ic={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...Fo},Dt=146097/400,fn=146097/4800,Rc={years:{quarters:4,months:12,weeks:Dt/7,days:Dt,hours:Dt*24,minutes:Dt*24*60,seconds:Dt*24*60*60,milliseconds:Dt*24*60*60*1e3},quarters:{months:3,weeks:Dt/28,days:Dt/4,hours:Dt*24/4,minutes:Dt*24*60/4,seconds:Dt*24*60*60/4,milliseconds:Dt*24*60*60*1e3/4},months:{weeks:fn/7,days:fn,hours:fn*24,minutes:fn*24*60,seconds:fn*24*60*60,milliseconds:fn*24*60*60*1e3},...Fo},tn=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Lc=tn.slice(0).reverse();function qt(t,e,n=!1){const r={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new Ve(r)}function zo(t,e){let n=e.milliseconds??0;for(const r of Lc.slice(1))e[r]&&(n+=e[r]*t[r].milliseconds);return n}function ws(t,e){const n=zo(t,e)<0?-1:1;tn.reduceRight((r,i)=>{if(Ne(e[i]))return r;if(r){const a=e[r]*n,s=t[i][r],l=Math.floor(a/s);e[i]+=l*n,e[r]-=l*s*n}return i},null),tn.reduce((r,i)=>{if(Ne(e[i]))return r;if(r){const a=e[r]%1;e[r]-=a,e[i]+=a*t[r][i]}return i},null)}function Hc(t){const e={};for(const[n,r]of Object.entries(t))r!==0&&(e[n]=r);return e}class Ve{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let r=n?Rc:Ic;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||Xe.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,n){return Ve.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new bt(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new Ve({values:Er(e,Ve.normalizeUnit),loc:Xe.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(rn(e))return Ve.fromMillis(e);if(Ve.isDuration(e))return e;if(typeof e=="object")return Ve.fromObject(e);throw new bt(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[r]=Ec(e);return r?Ve.fromObject(r,n):Ve.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){const[r]=Nc(e);return r?Ve.fromObject(r,n):Ve.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new bt("need to specify a reason the Duration is invalid");const r=e instanceof $t?e:new $t(e,n);if(ut.throwOnInvalid)throw new df(r);return new Ve({invalid:r})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new Ul(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?pt.create(this.loc,r).formatDurationFromString(this,e):bs}toHuman(e={}){if(!this.isValid)return bs;const n=tn.map(r=>{const i=this.values[r];return Ne(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(i)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Li(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();return n<0||n>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},Se.fromMillis(n,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?zo(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=Ve.fromDurationLike(e),r={};for(const i of tn)(kn(n.values,i)||kn(this.values,i))&&(r[i]=n.get(i)+this.get(i));return qt(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const n=Ve.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=vo(e(this.values[r],r));return qt(this,{values:n},!0)}get(e){return this[Ve.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...Er(e,Ve.normalizeUnit)};return qt(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:r,matrix:i}={}){const s={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:i,conversionAccuracy:r};return qt(this,s)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return ws(this.matrix,e),qt(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=Hc(this.normalize().shiftToAll().toObject());return qt(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(s=>Ve.normalizeUnit(s));const n={},r={},i=this.toObject();let a;for(const s of tn)if(e.indexOf(s)>=0){a=s;let l=0;for(const u in r)l+=this.matrix[u][s]*r[u],r[u]=0;rn(i[s])&&(l+=i[s]);const o=Math.trunc(l);n[s]=o,r[s]=(l*1e3-o*1e3)/1e3}else rn(i[s])&&(r[s]=i[s]);for(const s in r)r[s]!==0&&(n[a]+=s===a?r[s]:r[s]/this.matrix[a][s]);return ws(this.matrix,n),qt(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return qt(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(const r of tn)if(!n(this.values[r],e.values[r]))return!1;return!0}}const cn="Invalid Interval";function Wc(t,e){return!t||!t.isValid?lt.invalid("missing or invalid start"):!e||!e.isValid?lt.invalid("missing or invalid end"):e<t?lt.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class lt{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new bt("need to specify a reason the Interval is invalid");const r=e instanceof $t?e:new $t(e,n);if(ut.throwOnInvalid)throw new cf(r);return new lt({invalid:r})}static fromDateTimes(e,n){const r=zn(e),i=zn(n),a=Wc(r,i);return a??new lt({start:r,end:i})}static after(e,n){const r=Ve.fromDurationLike(n),i=zn(e);return lt.fromDateTimes(i,i.plus(r))}static before(e,n){const r=Ve.fromDurationLike(n),i=zn(e);return lt.fromDateTimes(i.minus(r),i)}static fromISO(e,n){const[r,i]=(e||"").split("/",2);if(r&&i){let a,s;try{a=Se.fromISO(r,n),s=a.isValid}catch{s=!1}let l,o;try{l=Se.fromISO(i,n),o=l.isValid}catch{o=!1}if(s&&o)return lt.fromDateTimes(a,l);if(s){const u=Ve.fromISO(i,n);if(u.isValid)return lt.after(a,u)}else if(o){const u=Ve.fromISO(r,n);if(u.isValid)return lt.before(l,u)}}return lt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",n){if(!this.isValid)return NaN;const r=this.start.startOf(e,n);let i;return n!=null&&n.useLocaleWeeks?i=this.end.reconfigure({locale:r.locale}):i=this.end,i=i.startOf(e,n),Math.floor(i.diff(r,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?lt.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(zn).filter(s=>this.contains(s)).sort((s,l)=>s.toMillis()-l.toMillis()),r=[];let{s:i}=this,a=0;for(;i<this.e;){const s=n[a]||this.e,l=+s>+this.e?this.e:s;r.push(lt.fromDateTimes(i,l)),i=l,a+=1}return r}splitBy(e){const n=Ve.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,i=1,a;const s=[];for(;r<this.e;){const l=this.start.plus(n.mapUnits(o=>o*i));a=+l>+this.e?this.e:l,s.push(lt.fromDateTimes(r,a)),r=a,i+=1}return s}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return n>=r?null:lt.fromDateTimes(n,r)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return lt.fromDateTimes(n,r)}static merge(e){const[n,r]=e.sort((i,a)=>i.s-a.s).reduce(([i,a],s)=>a?a.overlaps(s)||a.abutsStart(s)?[i,a.union(s)]:[i.concat([a]),s]:[i,s],[[],null]);return r&&n.push(r),n}static xor(e){let n=null,r=0;const i=[],a=e.map(o=>[{time:o.s,type:"s"},{time:o.e,type:"e"}]),s=Array.prototype.concat(...a),l=s.sort((o,u)=>o.time-u.time);for(const o of l)r+=o.type==="s"?1:-1,r===1?n=o.time:(n&&+n!=+o.time&&i.push(lt.fromDateTimes(n,o.time)),n=null);return lt.merge(i)}difference(...e){return lt.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:cn}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=Mr,n={}){return this.isValid?pt.create(this.s.loc.clone(n),e).formatInterval(this):cn}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:cn}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:cn}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:cn}toFormat(e,{separator:n="  "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:cn}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):Ve.invalid(this.invalidReason)}mapEndpoints(e){return lt.fromDateTimes(e(this.s),e(this.e))}}class lr{static hasDST(e=ut.defaultZone){const n=Se.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return Ht.isValidZone(e)}static normalizeZone(e){return Zt(e,ut.defaultZone)}static getStartOfWeek({locale:e=null,locObj:n=null}={}){return(n||Xe.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:n=null}={}){return(n||Xe.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:n=null}={}){return(n||Xe.create(e)).getWeekendDays().slice()}static months(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:a="gregory"}={}){return(i||Xe.create(n,r,a)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:a="gregory"}={}){return(i||Xe.create(n,r,a)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Xe.create(n,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Xe.create(n,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Xe.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return Xe.create(n,null,"gregory").eras(e)}static features(){return{relative:go(),localeWeek:_o()}}}function ks(t,e){const n=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(e)-n(t);return Math.floor(Ve.fromMillis(r).as("days"))}function Vc(t,e,n){const r=[["years",(o,u)=>u.year-o.year],["quarters",(o,u)=>u.quarter-o.quarter+(u.year-o.year)*4],["months",(o,u)=>u.month-o.month+(u.year-o.year)*12],["weeks",(o,u)=>{const f=ks(o,u);return(f-f%7)/7}],["days",ks]],i={},a=t;let s,l;for(const[o,u]of r)n.indexOf(o)>=0&&(s=o,i[o]=u(t,e),l=a.plus(i),l>e?(i[o]--,t=a.plus(i),t>e&&(l=t,i[o]--,t=a.plus(i))):t=l);return[t,i,l,s]}function qc(t,e,n,r){let[i,a,s,l]=Vc(t,e,n);const o=e-i,u=n.filter(c=>["hours","minutes","seconds","milliseconds"].indexOf(c)>=0);u.length===0&&(s<e&&(s=i.plus({[l]:1})),s!==i&&(a[l]=(a[l]||0)+o/(s-i)));const f=Ve.fromObject(a,r);return u.length>0?Ve.fromMillis(o,r).shiftTo(...u).plus(f):f}const qi={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},Ss={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Uc=qi.hanidec.replace(/[\[|\]]/g,"").split("");function Zc(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);if(t[n].search(qi.hanidec)!==-1)e+=Uc.indexOf(t[n]);else for(const i in Ss){const[a,s]=Ss[i];r>=a&&r<=s&&(e+=r-a)}}return parseInt(e,10)}else return e}function Et({numberingSystem:t},e=""){return new RegExp(`${qi[t||"latn"]}${e}`)}const Yc="missing Intl.DateTimeFormat.formatToParts support";function Je(t,e=n=>n){return{regex:t,deser:([n])=>e(Zc(n))}}const Bc="",Po=`[ ${Bc}]`,Io=new RegExp(Po,"g");function Gc(t){return t.replace(/\./g,"\\.?").replace(Io,Po)}function Ds(t){return t.replace(/\./g,"").replace(Io," ").toLowerCase()}function Ct(t,e){return t===null?null:{regex:RegExp(t.map(Gc).join("|")),deser:([n])=>t.findIndex(r=>Ds(n)===Ds(r))+e}}function Ms(t,e){return{regex:t,deser:([,n,r])=>Ur(n,r),groups:e}}function or(t){return{regex:t,deser:([e])=>e}}function Jc(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Kc(t,e){const n=Et(e),r=Et(e,"{2}"),i=Et(e,"{3}"),a=Et(e,"{4}"),s=Et(e,"{6}"),l=Et(e,"{1,2}"),o=Et(e,"{1,3}"),u=Et(e,"{1,6}"),f=Et(e,"{1,9}"),c=Et(e,"{2,4}"),h=Et(e,"{4,6}"),d=y=>({regex:RegExp(Jc(y.val)),deser:([_])=>_,literal:!0}),w=(y=>{if(t.literal)return d(y);switch(y.val){case"G":return Ct(e.eras("short"),0);case"GG":return Ct(e.eras("long"),0);case"y":return Je(u);case"yy":return Je(c,_i);case"yyyy":return Je(a);case"yyyyy":return Je(h);case"yyyyyy":return Je(s);case"M":return Je(l);case"MM":return Je(r);case"MMM":return Ct(e.months("short",!0),1);case"MMMM":return Ct(e.months("long",!0),1);case"L":return Je(l);case"LL":return Je(r);case"LLL":return Ct(e.months("short",!1),1);case"LLLL":return Ct(e.months("long",!1),1);case"d":return Je(l);case"dd":return Je(r);case"o":return Je(o);case"ooo":return Je(i);case"HH":return Je(r);case"H":return Je(l);case"hh":return Je(r);case"h":return Je(l);case"mm":return Je(r);case"m":return Je(l);case"q":return Je(l);case"qq":return Je(r);case"s":return Je(l);case"ss":return Je(r);case"S":return Je(o);case"SSS":return Je(i);case"u":return or(f);case"uu":return or(l);case"uuu":return Je(n);case"a":return Ct(e.meridiems(),0);case"kkkk":return Je(a);case"kk":return Je(c,_i);case"W":return Je(l);case"WW":return Je(r);case"E":case"c":return Je(n);case"EEE":return Ct(e.weekdays("short",!1),1);case"EEEE":return Ct(e.weekdays("long",!1),1);case"ccc":return Ct(e.weekdays("short",!0),1);case"cccc":return Ct(e.weekdays("long",!0),1);case"Z":case"ZZ":return Ms(new RegExp(`([+-]${l.source})(?::(${r.source}))?`),2);case"ZZZ":return Ms(new RegExp(`([+-]${l.source})(${r.source})?`),2);case"z":return or(/[a-z_+-/]{1,256}?/i);case" ":return or(/[^\S\n\r]/);default:return d(y)}})(t)||{invalidReason:Yc};return w.token=t,w}const jc={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function xc(t,e,n){const{type:r,value:i}=t;if(r==="literal"){const o=/^\s+$/.test(i);return{literal:!o,val:o?" ":i}}const a=e[r];let s=r;r==="hour"&&(e.hour12!=null?s=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?s="hour12":s="hour24":s=n.hour12?"hour12":"hour24");let l=jc[s];if(typeof l=="object"&&(l=l[a]),l)return{literal:!1,val:l}}function Xc(t){return[`^${t.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,t]}function Qc(t,e,n){const r=t.match(e);if(r){const i={};let a=1;for(const s in n)if(kn(n,s)){const l=n[s],o=l.groups?l.groups+1:1;!l.literal&&l.token&&(i[l.token.val[0]]=l.deser(r.slice(a,a+o))),a+=o}return[r,i]}else return[r,{}]}function ed(t){const e=a=>{switch(a){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return Ne(t.z)||(n=Ht.create(t.z)),Ne(t.Z)||(n||(n=new Tt(t.Z)),r=t.Z),Ne(t.q)||(t.M=(t.q-1)*3+1),Ne(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),Ne(t.u)||(t.S=Ri(t.u)),[Object.keys(t).reduce((a,s)=>{const l=e(s);return l&&(a[l]=t[s]),a},{}),n,r]}let Xr=null;function td(){return Xr||(Xr=Se.fromMillis(1555555555555)),Xr}function nd(t,e){if(t.literal)return t;const n=pt.macroTokenToFormatOpts(t.val),r=Ho(n,e);return r==null||r.includes(void 0)?t:r}function Ro(t,e){return Array.prototype.concat(...t.map(n=>nd(n,e)))}function Lo(t,e,n){const r=Ro(pt.parseFormat(n),t),i=r.map(s=>Kc(s,t)),a=i.find(s=>s.invalidReason);if(a)return{input:e,tokens:r,invalidReason:a.invalidReason};{const[s,l]=Xc(i),o=RegExp(s,"i"),[u,f]=Qc(e,o,l),[c,h,d]=f?ed(f):[null,null,void 0];if(kn(f,"a")&&kn(f,"H"))throw new pn("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:r,regex:o,rawMatches:u,matches:f,result:c,zone:h,specificOffset:d}}}function rd(t,e,n){const{result:r,zone:i,specificOffset:a,invalidReason:s}=Lo(t,e,n);return[r,i,a,s]}function Ho(t,e){if(!t)return null;const r=pt.create(e,t).dtFormatter(td()),i=r.formatToParts(),a=r.resolvedOptions();return i.map(s=>xc(s,t,a))}const Qr="Invalid DateTime",Os=864e13;function ur(t){return new $t("unsupported zone",`the zone "${t.name}" is not supported`)}function ei(t){return t.weekData===null&&(t.weekData=Or(t.c)),t.weekData}function ti(t){return t.localWeekData===null&&(t.localWeekData=Or(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function Xt(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new Se({...n,...e,old:n})}function Wo(t,e,n){let r=t-e*60*1e3;const i=n.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;const a=n.offset(r);return i===a?[r,i]:[t-Math.min(i,a)*60*1e3,Math.max(i,a)]}function fr(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function vr(t,e,n){return Wo(qr(t),e,n)}function As(t,e){const n=t.o,r=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,a={...t.c,year:r,month:i,day:Math.min(t.c.day,Ar(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},s=Ve.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),l=qr(a);let[o,u]=Wo(l,n,t.zone);return s!==0&&(o+=s,u=t.zone.offset(o)),{ts:o,o:u}}function Fn(t,e,n,r,i,a){const{setZone:s,zone:l}=n;if(t&&Object.keys(t).length!==0||e){const o=e||l,u=Se.fromObject(t,{...n,zone:o,specificOffset:a});return s?u:u.setZone(l)}else return Se.invalid(new $t("unparsable",`the input "${i}" can't be parsed as ${r}`))}function cr(t,e,n=!0){return t.isValid?pt.create(Xe.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function ni(t,e){const n=t.c.year>9999||t.c.year<0;let r="";return n&&t.c.year>=0&&(r+="+"),r+=ct(t.c.year,n?6:4),e?(r+="-",r+=ct(t.c.month),r+="-",r+=ct(t.c.day)):(r+=ct(t.c.month),r+=ct(t.c.day)),r}function Es(t,e,n,r,i,a){let s=ct(t.c.hour);return e?(s+=":",s+=ct(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(s+=":")):s+=ct(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(s+=ct(t.c.second),(t.c.millisecond!==0||!r)&&(s+=".",s+=ct(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!a?s+="Z":t.o<0?(s+="-",s+=ct(Math.trunc(-t.o/60)),s+=":",s+=ct(Math.trunc(-t.o%60))):(s+="+",s+=ct(Math.trunc(t.o/60)),s+=":",s+=ct(Math.trunc(t.o%60)))),a&&(s+="["+t.zone.ianaName+"]"),s}const Vo={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},id={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},sd={ordinal:1,hour:0,minute:0,second:0,millisecond:0},qo=["year","month","day","hour","minute","second","millisecond"],ad=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],ld=["year","ordinal","hour","minute","second","millisecond"];function od(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new Ul(t);return e}function Cs(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return od(t)}}function Ns(t,e){const n=Zt(e.zone,ut.defaultZone),r=Xe.fromObject(e),i=ut.now();let a,s;if(Ne(t.year))a=i;else{for(const u of qo)Ne(t[u])&&(t[u]=Vo[u]);const l=mo(t)||po(t);if(l)return Se.invalid(l);const o=n.offset(i);[a,s]=vr(t,o,n)}return new Se({ts:a,zone:n,loc:r,o:s})}function $s(t,e,n){const r=Ne(n.round)?!0:n.round,i=(s,l)=>(s=Li(s,r||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(s,l)),a=s=>n.calendary?e.hasSame(t,s)?0:e.startOf(s).diff(t.startOf(s),s).get(s):e.diff(t,s).get(s);if(n.unit)return i(a(n.unit),n.unit);for(const s of n.units){const l=a(s);if(Math.abs(l)>=1)return i(l,s)}return i(t>e?-0:0,n.units[n.units.length-1])}function Fs(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}class Se{constructor(e){const n=e.zone||ut.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new $t("invalid input"):null)||(n.isValid?null:ur(n));this.ts=Ne(e.ts)?ut.now():e.ts;let i=null,a=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[i,a]=[e.old.c,e.old.o];else{const l=n.offset(this.ts);i=fr(this.ts,l),r=Number.isNaN(i.year)?new $t("invalid input"):null,i=r?null:i,a=r?null:l}this._zone=n,this.loc=e.loc||Xe.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=i,this.o=a,this.isLuxonDateTime=!0}static now(){return new Se({})}static local(){const[e,n]=Fs(arguments),[r,i,a,s,l,o,u]=n;return Ns({year:r,month:i,day:a,hour:s,minute:l,second:o,millisecond:u},e)}static utc(){const[e,n]=Fs(arguments),[r,i,a,s,l,o,u]=n;return e.zone=Tt.utcInstance,Ns({year:r,month:i,day:a,hour:s,minute:l,second:o,millisecond:u},e)}static fromJSDate(e,n={}){const r=Rf(e)?e.valueOf():NaN;if(Number.isNaN(r))return Se.invalid("invalid input");const i=Zt(n.zone,ut.defaultZone);return i.isValid?new Se({ts:r,zone:i,loc:Xe.fromObject(n)}):Se.invalid(ur(i))}static fromMillis(e,n={}){if(rn(e))return e<-Os||e>Os?Se.invalid("Timestamp out of range"):new Se({ts:e,zone:Zt(n.zone,ut.defaultZone),loc:Xe.fromObject(n)});throw new bt(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(rn(e))return new Se({ts:e*1e3,zone:Zt(n.zone,ut.defaultZone),loc:Xe.fromObject(n)});throw new bt("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const r=Zt(n.zone,ut.defaultZone);if(!r.isValid)return Se.invalid(ur(r));const i=Xe.fromObject(n),a=Er(e,Cs),{minDaysInFirstWeek:s,startOfWeek:l}=gs(a,i),o=ut.now(),u=Ne(n.specificOffset)?r.offset(o):n.specificOffset,f=!Ne(a.ordinal),c=!Ne(a.year),h=!Ne(a.month)||!Ne(a.day),d=c||h,g=a.weekYear||a.weekNumber;if((d||f)&&g)throw new pn("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&f)throw new pn("Can't mix ordinal dates with month/day");const w=g||a.weekday&&!d;let y,_,m=fr(o,u);w?(y=ad,_=id,m=Or(m,s,l)):f?(y=ld,_=sd,m=xr(m)):(y=qo,_=Vo);let v=!1;for(const P of y){const F=a[P];Ne(F)?v?a[P]=_[P]:a[P]=m[P]:v=!0}const D=w?zf(a,s,l):f?Pf(a):mo(a),M=D||po(a);if(M)return Se.invalid(M);const A=w?ms(a,s,l):f?ps(a):a,[k,H]=vr(A,u,r),q=new Se({ts:k,zone:r,o:H,loc:i});return a.weekday&&d&&e.weekday!==q.weekday?Se.invalid("mismatched weekday",`you can't specify both a weekday of ${a.weekday} and a date of ${q.toISO()}`):q}static fromISO(e,n={}){const[r,i]=Mc(e);return Fn(r,i,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[r,i]=Oc(e);return Fn(r,i,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[r,i]=Ac(e);return Fn(r,i,n,"HTTP",n)}static fromFormat(e,n,r={}){if(Ne(e)||Ne(n))throw new bt("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:a=null}=r,s=Xe.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0}),[l,o,u,f]=rd(s,e,n);return f?Se.invalid(f):Fn(l,o,r,`format ${n}`,e,u)}static fromString(e,n,r={}){return Se.fromFormat(e,n,r)}static fromSQL(e,n={}){const[r,i]=Pc(e);return Fn(r,i,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new bt("need to specify a reason the DateTime is invalid");const r=e instanceof $t?e:new $t(e,n);if(ut.throwOnInvalid)throw new ff(r);return new Se({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const r=Ho(e,Xe.fromObject(n));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(e,n={}){return Ro(pt.parseFormat(e),Xe.fromObject(n)).map(i=>i.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?ei(this).weekYear:NaN}get weekNumber(){return this.isValid?ei(this).weekNumber:NaN}get weekday(){return this.isValid?ei(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?ti(this).weekday:NaN}get localWeekNumber(){return this.isValid?ti(this).weekNumber:NaN}get localWeekYear(){return this.isValid?ti(this).weekYear:NaN}get ordinal(){return this.isValid?xr(this.c).ordinal:NaN}get monthShort(){return this.isValid?lr.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?lr.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?lr.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?lr.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,n=6e4,r=qr(this.c),i=this.zone.offset(r-e),a=this.zone.offset(r+e),s=this.zone.offset(r-i*n),l=this.zone.offset(r-a*n);if(s===l)return[this];const o=r-s*n,u=r-l*n,f=fr(o,s),c=fr(u,l);return f.hour===c.hour&&f.minute===c.minute&&f.second===c.second&&f.millisecond===c.millisecond?[Xt(this,{ts:o}),Xt(this,{ts:u})]:[this]}get isInLeapYear(){return jn(this.year)}get daysInMonth(){return Ar(this.year,this.month)}get daysInYear(){return this.isValid?vn(this.year):NaN}get weeksInWeekYear(){return this.isValid?Un(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Un(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:r,calendar:i}=pt.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:i}}toUTC(e=0,n={}){return this.setZone(Tt.instance(e),n)}toLocal(){return this.setZone(ut.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(e=Zt(e,ut.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(n||r){const a=e.offset(this.ts),s=this.toObject();[i]=vr(s,a,e)}return Xt(this,{ts:i,zone:e})}else return Se.invalid(ur(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:r}={}){const i=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:r});return Xt(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=Er(e,Cs),{minDaysInFirstWeek:r,startOfWeek:i}=gs(n,this.loc),a=!Ne(n.weekYear)||!Ne(n.weekNumber)||!Ne(n.weekday),s=!Ne(n.ordinal),l=!Ne(n.year),o=!Ne(n.month)||!Ne(n.day),u=l||o,f=n.weekYear||n.weekNumber;if((u||s)&&f)throw new pn("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(o&&s)throw new pn("Can't mix ordinal dates with month/day");let c;a?c=ms({...Or(this.c,r,i),...n},r,i):Ne(n.ordinal)?(c={...this.toObject(),...n},Ne(n.day)&&(c.day=Math.min(Ar(c.year,c.month),c.day))):c=ps({...xr(this.c),...n});const[h,d]=vr(c,this.o,this.zone);return Xt(this,{ts:h,o:d})}plus(e){if(!this.isValid)return this;const n=Ve.fromDurationLike(e);return Xt(this,As(this,n))}minus(e){if(!this.isValid)return this;const n=Ve.fromDurationLike(e).negate();return Xt(this,As(this,n))}startOf(e,{useLocaleWeeks:n=!1}={}){if(!this.isValid)return this;const r={},i=Ve.normalizeUnit(e);switch(i){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(i==="weeks")if(n){const a=this.loc.getStartOfWeek(),{weekday:s}=this;s<a&&(r.weekNumber=this.weekNumber-1),r.weekday=a}else r.weekday=1;if(i==="quarters"){const a=Math.ceil(this.month/3);r.month=(a-1)*3+1}return this.set(r)}endOf(e,n){return this.isValid?this.plus({[e]:1}).startOf(e,n).minus(1):this}toFormat(e,n={}){return this.isValid?pt.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):Qr}toLocaleString(e=Mr,n={}){return this.isValid?pt.create(this.loc.clone(n),e).formatDateTime(this):Qr}toLocaleParts(e={}){return this.isValid?pt.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:a=!1}={}){if(!this.isValid)return null;const s=e==="extended";let l=ni(this,s);return l+="T",l+=Es(this,s,n,r,i,a),l}toISODate({format:e="extended"}={}){return this.isValid?ni(this,e==="extended"):null}toISOWeekDate(){return cr(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:a=!1,format:s="extended"}={}){return this.isValid?(i?"T":"")+Es(this,s==="extended",n,e,r,a):null}toRFC2822(){return cr(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return cr(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?ni(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(n||e)&&(r&&(i+=" "),n?i+="z":e&&(i+="ZZ")),cr(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Qr}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",r={}){if(!this.isValid||!e.isValid)return Ve.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...r},a=Lf(n).map(Ve.normalizeUnit),s=e.valueOf()>this.valueOf(),l=s?this:e,o=s?e:this,u=qc(l,o,a,i);return s?u.negate():u}diffNow(e="milliseconds",n={}){return this.diff(Se.now(),e,n)}until(e){return this.isValid?lt.fromDateTimes(this,e):this}hasSame(e,n,r){if(!this.isValid)return!1;const i=e.valueOf(),a=this.setZone(e.zone,{keepLocalTime:!0});return a.startOf(n,r)<=i&&i<=a.endOf(n,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||Se.fromObject({},{zone:this.zone}),r=e.padding?this<n?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],a=e.unit;return Array.isArray(e.unit)&&(i=e.unit,a=void 0),$s(n,this.plus(r),{...e,numeric:"always",units:i,unit:a})}toRelativeCalendar(e={}){return this.isValid?$s(e.base||Se.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Se.isDateTime))throw new bt("min requires all arguments be DateTimes");return _s(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(Se.isDateTime))throw new bt("max requires all arguments be DateTimes");return _s(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,r={}){const{locale:i=null,numberingSystem:a=null}=r,s=Xe.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0});return Lo(s,e,n)}static fromStringExplain(e,n,r={}){return Se.fromFormatExplain(e,n,r)}static get DATE_SHORT(){return Mr}static get DATE_MED(){return Zl}static get DATE_MED_WITH_WEEKDAY(){return hf}static get DATE_FULL(){return Yl}static get DATE_HUGE(){return Bl}static get TIME_SIMPLE(){return Gl}static get TIME_WITH_SECONDS(){return Jl}static get TIME_WITH_SHORT_OFFSET(){return Kl}static get TIME_WITH_LONG_OFFSET(){return jl}static get TIME_24_SIMPLE(){return xl}static get TIME_24_WITH_SECONDS(){return Xl}static get TIME_24_WITH_SHORT_OFFSET(){return Ql}static get TIME_24_WITH_LONG_OFFSET(){return eo}static get DATETIME_SHORT(){return to}static get DATETIME_SHORT_WITH_SECONDS(){return no}static get DATETIME_MED(){return ro}static get DATETIME_MED_WITH_SECONDS(){return io}static get DATETIME_MED_WITH_WEEKDAY(){return mf}static get DATETIME_FULL(){return so}static get DATETIME_FULL_WITH_SECONDS(){return ao}static get DATETIME_HUGE(){return lo}static get DATETIME_HUGE_WITH_SECONDS(){return oo}}function zn(t){if(Se.isDateTime(t))return t;if(t&&t.valueOf&&rn(t.valueOf()))return Se.fromJSDate(t);if(t&&typeof t=="object")return Se.fromObject(t);throw new bt(`Unknown datetime argument: ${t}, of type ${typeof t}`)}class ud{constructor(e,n){this._value=e,this._type=n,this._format=""}get value(){return this._value}set value(e){this._value=e}get type(){return this._type}set type(e){this._type=e}get format(){return this._format}set format(e){this._format=e}}class Pt{constructor(e,n){this.name=e,this.pattern=n}parse(e){const n=this.pattern.exec(e);if(!n||!n.groups)return;let r=[];for(const[i,a]of Object.entries(n.groups))a&&r.push(new ud(a,/delim\d+/.test(i)?"delimiter":i));return{tokens:r,index:n.index,parser:this.name}}}const jt="UT|CAT|CET|CVT|EAT|EET|GMT|MUT|RET|SAST|SCT|WAST|WAT|WEST|WET|WST|WT|ADT|AFT|ALMT|AMST|AMT|ANAST|ANAT|AQTT|AST|AZST|AZT|BNT|BST|BTT|CHOST|CHOT|CST|EEST|EET|GET|GST|HKT|HOVST|HOVT|ICT|IDT|IRDT|IRKST|IRKT|IST|JST|KGT|KRAST|KRAT|KST|MAGST|MAGT|MMT|MSK|MVT|NOVST|NOVT|NPT|OMSST|OMST|ORAT|PETST|PETT|PHT|PKT|PYT|QYZT|SAKT|SGT|SRET|TJT|TLT|TMT|TRT|ULAST|ULAT|UZT|VLAST|VLAT|WIB|WIT|YAKST|YAKT|YEKST|YEKT|ART|CAST|CEST|CLST|CLT|DAVT|DDUT|GMT|MAWT|NZDT|NZST|ROTT|SYOT|VOST|ADT|AST|AT|AZOST|AZOT|ACDT|ACST|ACT|ACWST|AEDT|AEST|AET|AWDT|AWST|CXT|LHDT|LHST|NFDT|NFT|AST|AT|CDT|CIDST|CIST|CST|EDT|EST|ET|CST|CT|EST|ET|BST|CEST|CET|EEST|EET|FET|GET|GMT|IST|KUYT|MSD|MSK|SAMT|TRT|WEST|WET|CCT|EAT|IOT|TFT|ADT|AKDT|AKST|AST|AT|CDT|CST|CT|EDT|EGST|EGT|ET|GMT|HDT|HST|MDT|MST|MT|NDT|NST|PDT|PMDT|PMST|PST|PT|WGST|WGT|AoE|BST|CHADT|CHAST|CHUT|CKT|ChST|EASST|EAST|FJST|FJT|GALT|GAMT|GILT|HST|KOST|LINT|MART|MHT|NCT|NRT|NUT|NZDT|NZST|PGT|PHOT|PONT|PST|PWT|SBT|SST|TAHT|TKT|TOST|TOT|TVT|VUT|WAKT|WFT|WST|YAPT|ACT|AMST|AMT|ART|BOT|BRST|BRT|CLST|CLT|COT|ECT|FKST|FKT|FNT|GFT|GST|GYT|PET|PYST|PYT|SRT|UYST|UYT|VET|WARST",fd=new Pt("DayOfMonthAndMonthNameDateFormatParser",new RegExp(`^(?<dayOfWeek>(?:Sun?|Mon?|Tu(?:es)?|We(?:dnes)?|Th(?:urs)?|Fri?|Sa(?:tur)?)(?:day)?)?(?<delim1>,)?(?<delim2>\\s)?(?<dayOfMonth>(?:3[0-1]|[1-2]\\d|0?[1-9])(?:st|nd|rd|th)?)(?<delim3>\\s)(?<month>Jan(?:uary)?|Feb(?:ruary)?|Mar(?:ch)?|Apr(?:il)?|May|June?|July?|Aug(?:ust)?|Sep(?:tember)?|Oct(?:ober)?|Nov(?:ember)?|Dec(?:ember)?)(?<delim4>,)?(?<delim5>\\s)?(?<year>\\d{4}|\\d{2})?(?:(?<delim6>,)?(?<delim7>\\s)(?:(?<twentyFourHour>2[0-3]|0?\\d|1\\d)|(?<twelveHour>0?[1-9]|1[0-2]))(?:(?<delim8>[:.])(?<minute>[0-5]\\d))?(?:(?<delim9>[:.])(?<second>[0-5]\\d))?(?:(?<delim10>.)(?<millisecond>\\d{3}))?(?<delim11>\\s)?(?<meridiem>am|pm|AM|PM)?(?:(?<delim12>\\s)(?<timezone>[+-]\\d{2}(?::?\\d{2})?|Z|${jt}))?)?$`)),cd=new Pt("ISO8601BasicDateTimeFormatParser",new RegExp("^(?<year>[+-]\\d{6}|\\d{4})(?:(?<month>\\d{2})(?:(?<dayOfMonth>\\d{2}))?|(?<escapeText>W)(?<isoWeekOfYear>\\d{2})(?:(?<isoDayOfWeek>\\d))?|(?<dayOfYear>\\d{3}))?(?:(?<delim1>T| )(?:(?<twentyFourHour>\\d{2})(?:(?<minute>\\d{2})(?:(?<second>\\d{2})(?:(?<delim2>[.,])(?<millisecond>\\d{1,9}))?)?)?)(?<timezone>[+-]\\d{2}(?::?\\d{2})?|Z)?)?$")),dd=new Pt("ISO8601ExtendedDateTimeFormatParser",new RegExp("^(?<year>[+-]\\d{6}|\\d{4})(?<delim1>\\-)(?:(?<month>\\d{2})(?:(?<delim2>\\-)(?<dayOfMonth>\\d{2}))?|(?<escapeText>W)(?<isoWeekOfYear>\\d{2})(?:(?<delim3>\\-)(?<isoDayOfWeek>\\d))?|(?<dayOfYear>\\d{3}))(?:(?<delim4>T| )(?:(?<twentyFourHour>\\d{2})(?:(?<delim5>:)(?<minute>\\d{2})(?:(?<delim6>:)(?<second>\\d{2})(?:(?<delim7>[.,])(?<millisecond>\\d{1,9}))?)?)?)(?<timezone>[+-]\\d{2}(?::?\\d{2})?|Z)?)?$")),hd=new Pt("MonthNameAndDayOfMonthDateFormatParser",new RegExp(`^(?<dayOfWeek>(?:Sun?|Mon?|Tu(?:es)?|We(?:dnes)?|Th(?:urs)?|Fri?|Sa(?:tur)?)(?:day)?)?(?<delim1>,)?(?<delim2>\\s)?(?<month>Jan(?:uary)?|Feb(?:ruary)?|Mar(?:ch)?|Apr(?:il)?|May|June?|July?|Aug(?:ust)?|Sep(?:tember)?|Oct(?:ober)?|Nov(?:ember)?|Dec(?:ember)?)(?<delim3>\\s)(?<dayOfMonth>(?:3[0-1]|[1-2]\\d|0?[1-9])(?:st|nd|rd|th)?)(?<delim4>,)?(?<delim5>\\s)?(?<year>\\d{4}|\\d{2})?(?:(?:(?<delim6>,)?(?<delim7>\\s)(?:(?<twentyFourHour>2[0-3]|0?\\d|1\\d)|(?<twelveHour>0?[1-9]|1[0-2]))(?:(?<delim8>[:.])(?<minute>[0-5]\\d))?(?:(?<delim9>[:.])(?<second>[0-5]\\d))?(?:(?<delim10>.)(?<millisecond>\\d{3}))?(?<delim11>\\s)?(?<meridiem>am|pm|AM|PM)?(?:(?<delim12>\\s)(?<timezone>[+-]\\d{2}(?::?\\d{2})?|Z|${jt}))?)?)?$`)),md=new Pt("RFC2822DateTimeFormatParser",new RegExp("^(?:(?<dayOfWeek>Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?<delim1>,)?(?<delim2>\\s))?(?<dayOfMonth>\\d{1,2})(?<delim3>\\s)(?<month>Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)(?<delim4>\\s)(?<year>\\d{2,4})(?<delim5>\\s)(?<twentyFourHour>\\d{2})(?<delim6>:)(?<minute>\\d{2})(?:(?<delim7>:)(?<second>\\d{2}))?(?<delim8>\\s)(?<timezone>(?:(?:UT|GMT|[ECMP][SD]T)|[Zz]|[+-]\\d{4}))$")),pd=new Pt("SlashDelimitedDateFormatParser",new RegExp(`^(?<year>\\d{4}|\\d{2})(?<delim1>[/.-])(?<month>0?[1-9]|1[0-2])(?:(?<delim2>[/.-])(?<dayOfMonth>0?[1-9]|[1-2]\\d|3[0-1]))?(?:(?:(?<delim3>,)?(?<delim4>\\s)(?:(?<twentyFourHour>2[0-3]|0?\\d|1\\d)|(?<twelveHour>0?[1-9]|1[0-2]))(?:(?<delim5>[:.])(?<minute>[0-5]\\d))?(?:(?<delim6>[:.])(?<second>[0-5]\\d))?(?:(?<delim7>.)(?<millisecond>\\d{3}))?(?<delim8>\\s)?(?<meridiem>am|pm|AM|PM)?(?:(?<delim9>\\s)(?<timezone>[+-]\\d{2}(?::?\\d{2})?|Z|${jt}))?)?)?$`)),gd=new Pt("TwelveHourTimeFormatParser",new RegExp(`^(?<twelveHour>0?[1-9]|1[0-2])(?:(?<delim1>[:.])(?<minute>[0-5]\\d))?(?:(?<delim2>[:.])(?<second>[0-5]\\d))?(?:(?<delim3>.)(?<millisecond>\\d{3}))?(?<delim4>\\s)?(?<meridiem>am|pm|AM|PM)(?:(?<delim5>\\s)(?<timezone>[+-]\\d{2}(?::?\\d{2})?|Z|${jt}))?$`)),_d=new Pt("TwentyFourHourTimeFormatParser",new RegExp(`^(?<twentyFourHour>2[0-3]|0?\\d|1\\d)(?<delim1>[:.])(?<minute>[0-5]\\d)(?:(?<delim2>[:.])(?<second>[0-5]\\d))?(?:(?<delim3>.)(?<millisecond>\\d{3}))?(?:(?<delim4>\\s)(?<timezone>[+-]\\d{2}(?::?\\d{2})?|Z|${jt}))?$`)),yd=new Pt("UKStyleSlashDelimitedDateFormatParser",new RegExp(`^(?<dayOfMonth>0?[1-9]|[1-2]\\d|3[0-1])(?<delim1>[/.-])(?<month>0?[1-9]|1[0-2])(?:(?<delim2>[/.-])(?<year>\\d{4}|\\d{2}))?(?:(?:(?<delim3>,)?(?<delim4>\\s)(?:(?<twentyFourHour>2[0-3]|0?\\d|1\\d)|(?<twelveHour>0?[1-9]|1[0-2]))(?:(?<delim5>[:.])(?<minute>[0-5]\\d))?(?:(?<delim6>[:.])(?<second>[0-5]\\d))?(?:(?<delim7>.)(?<millisecond>\\d{3}))?(?<delim8>\\s)?(?<meridiem>am|pm|AM|PM)?(?:(?<delim9>\\s)(?<timezone>[+-]\\d{2}(?::?\\d{2})?|Z|${jt}))?)?)?$`)),vd=new Pt("USStyleSlashDelimitedDateFormatParser",new RegExp(`^(?<month>0?[1-9]|1[0-2])(?<delim1>[/.-])(?<dayOfMonth>0?[1-9]|[1-2]\\d|3[0-1])(?:(?<delim2>[/.-])(?<year>\\d{4}|\\d{2}))?(?:(?:(?<delim3>,)?(?<delim4>\\s)(?:(?<twentyFourHour>2[0-3]|0?\\d|1\\d)|(?<twelveHour>0?[1-9]|1[0-2]))(?:(?<delim5>[:.])(?<minute>[0-5]\\d))?(?:(?<delim6>[:.])(?<second>[0-5]\\d))?(?:(?<delim7>.)(?<millisecond>\\d{3}))?(?<delim8>\\s)?(?<meridiem>am|pm|AM|PM)?(?:(?<delim9>\\s)(?<timezone>[+-]\\d{2}(?::?\\d{2})?|Z|${jt}))?)?)?$`)),Td=new Pt("DashDelimitedWithMonthNameDateTimeFormatParser",new RegExp(`^(?<dayOfMonth>0?[1-9]|[1-2]\\d|3[0-1])(?<delim1>-)(?<month>Jan(?:uary)?|Feb(?:ruary)?|Mar(?:ch)?|Apr(?:il)?|May|June?|July?|Aug(?:ust)?|Sep(?:tember)?|Oct(?:ober)?|Nov(?:ember)?|Dec(?:ember)?)(?<delim2>-)?(?<year>\\d{4}|\\d{2})?(?:(?:(?<delim3>,)?(?<delim4>\\s)(?:(?<twentyFourHour>2[0-3]|0?\\d|1\\d)|(?<twelveHour>0?[1-9]|1[0-2]))(?:(?<delim5>[:.])(?<minute>[0-5]\\d))?(?:(?<delim6>[:.])(?<second>[0-5]\\d))?(?:(?<delim7>.)(?<millisecond>\\d{3}))?(?<delim8>\\s)?(?<meridiem>am|pm|AM|PM)?(?:(?<delim9>\\s)(?<timezone>[+-]\\d{2}(?::?\\d{2})?|Z|${jt}))?)?)?$`)),bd=[dd,cd,md,pd,yd,vd,hd,fd,_d,gd,Td];class wd{constructor(e){this.name=e}refine(e){const n=e.filter(r=>r.parser==="ISO8601ExtendedDateTimeFormatParser"||r.parser==="ISO8601BasicDateTimeFormatParser"||r.parser==="RFC2822DateTimeFormatParser");return n.length===0?e:n}}class kd{constructor(e){this.name=e}refine(e){return e.forEach(n=>{let r=!1;n.tokens.forEach(i=>{i.type==="meridiem"&&(r=!0)}),r&&n.tokens.forEach(i=>{i.type==="twentyFourHour"&&(i.type="twelveHour")})}),e}}const Sd=new kd("TimeFormatRefiner"),Dd=new wd("StandardFormatParsersRefiner"),Md=[Dd,Sd];class Uo{constructor(e,n,r){this.name=e,this.type=n,this.format=r,this._map=new Map,!r||r==="default"?(this._map.set(/\d{2}/,"YY"),this._map.set(/\d{4}/,"YYYY"),this._map.set(/[+-]\d{6}/,"YYYYYY")):(this._map.set(/\d{2}/,"%y"),this._map.set(/\d{4}/,"%Y"),this._map.set(/[+-]\d{6}/,"NA"))}_testTokenType(e){return e.type===this.type}assign(e){this._map.forEach((n,r)=>{this._testTokenType(e)&&r.test(e.value)&&(e.format=n)})}}class Zo{constructor(e,n,r){this.name=e,this.type=n,this.format=r,this._map=new Map,!r||r==="default"?(this._map.set(/\d{1,2}/,"M"),this._map.set(/\d{2}/,"MM"),this._map.set(/\d{1,2}(?:st|nd|rd|th)/,"Mo"),this._map.set(/^(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)$/,"MMM"),this._map.set(/^(January|February|March|April|May|June|July|August|September|October|November|December)$/,"MMMM")):(this._map.set(/\d{1,2}/,"NA"),this._map.set(/\d{2}/,"%m"),this._map.set(/\d{1,2}(?:st|nd|rd|th)/,"NA"),this._map.set(/^(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)$/,"%b"),this._map.set(/^(January|February|March|April|May|June|July|August|September|October|November|December)$/,"%B"))}_testTokenType(e){return e.type===this.type}assign(e){this._map.forEach((n,r)=>{this._testTokenType(e)&&r.test(e.value)&&(e.format=n)})}}class Yo{constructor(e,n,r){this.name=e,this.type=n,this.format=r,this._map=new Map,!r||r==="default"?(this._map.set(/\d{1,2}/,"D"),this._map.set(/\d{2}/,"DD"),this._map.set(/\d{1,2}(?:st|nd|rd|th)/,"Do")):(this._map.set(/\d{1,2}/,"%-e"),this._map.set(/\d{2}/,"%d"),this._map.set(/\d{1,2}(?:st|nd|rd|th)/,"%o"))}_testTokenType(e){return e.type===this.type}assign(e){this._map.forEach((n,r)=>{this._testTokenType(e)&&r.test(e.value)&&(e.format=n)})}}class Bo{constructor(e,n,r){this.name=e,this.format=r,this.type=n}assign(e){}}class Go{constructor(e,n,r){this.name=e,this.type=n,this.format=r,this._map=new Map,!r||r==="default"?(this._map.set(/\d{1,2}/,"m"),this._map.set(/\d{2}/,"mm")):(this._map.set(/\d{1,2}/,"NA"),this._map.set(/\d{2}/,"%M"))}_testTokenType(e){return e.type===this.type}assign(e){this._map.forEach((n,r)=>{this._testTokenType(e)&&r.test(e.value)&&(e.format=n)})}}class Jo{constructor(e,n,r){this.name=e,this.type=n,this.format=r,this._map=new Map,!r||r==="default"?(this._map.set(/\d{2}/,"ss"),this._map.set(/\d{1,2}/,"s")):(this._map.set(/\d{1,2}/,"NA"),this._map.set(/\d{2}/,"%S"))}_testTokenType(e){return e.type===this.type}assign(e){this._map.forEach((n,r)=>{this._testTokenType(e)&&r.test(e.value)&&(e.format=n)})}}class Ko{constructor(e,n,r){this.name=e,this.type=n,this.format=r,this._map=new Map,!r||r==="default"?(this._map.set(/\d/,"S"),this._map.set(/\d{2}/,"SS"),this._map.set(/\d{3}/,"SSS")):(this._map.set(/\d/,"NA"),this._map.set(/\d{2}/,"NA"),this._map.set(/\d{3}/,"%L"))}_testTokenType(e){return e.type===this.type}assign(e){this._map.forEach((n,r)=>{this._testTokenType(e)&&r.test(e.value)&&(e.format=n)})}}class jo{constructor(e,n,r){this.name=e,this.type=n,this.format=r,this._map=new Map;const i=new RegExp("UT|CAT|CET|CVT|EAT|EET|GMT|MUT|RET|SAST|SCT|WAST|WAT|WEST|WET|WST|WT|ADT|AFT|ALMT|AMST|AMT|ANAST|ANAT|AQTT|AST|AZST|AZT|BNT|BST|BTT|CHOST|CHOT|CST|EEST|EET|GET|GST|HKT|HOVST|HOVT|ICT|IDT|IRDT|IRKST|IRKT|IST|JST|KGT|KRAST|KRAT|KST|MAGST|MAGT|MMT|MSK|MVT|NOVST|NOVT|NPT|OMSST|OMST|ORAT|PETST|PETT|PHT|PKT|PYT|QYZT|SAKT|SGT|SRET|TJT|TLT|TMT|TRT|ULAST|ULAT|UZT|VLAST|VLAT|WIB|WIT|YAKST|YAKT|YEKST|YEKT|ART|CAST|CEST|CLST|CLT|DAVT|DDUT|GMT|MAWT|NZDT|NZST|ROTT|SYOT|VOST|ADT|AST|AT|AZOST|AZOT|ACDT|ACST|ACT|ACWST|AEDT|AEST|AET|AWDT|AWST|CXT|LHDT|LHST|NFDT|NFT|AST|AT|CDT|CIDST|CIST|CST|EDT|EST|ET|CST|CT|EST|ET|BST|CEST|CET|EEST|EET|FET|GET|GMT|IST|KUYT|MSD|MSK|SAMT|TRT|WEST|WET|CCT|EAT|IOT|TFT|ADT|AKDT|AKST|AST|AT|CDT|CST|CT|EDT|EGST|EGT|ET|GMT|HDT|HST|MDT|MST|MT|NDT|NST|PDT|PMDT|PMST|PST|PT|WGST|WGT|AoE|BST|CHADT|CHAST|CHUT|CKT|ChST|EASST|EAST|FJST|FJT|GALT|GAMT|GILT|HST|KOST|LINT|MART|MHT|NCT|NRT|NUT|NZDT|NZST|PGT|PHOT|PONT|PST|PWT|SBT|SST|TAHT|TKT|TOST|TOT|TVT|VUT|WAKT|WFT|WST|YAPT|ACT|AMST|AMT|ART|BOT|BRST|BRT|CLST|CLT|COT|ECT|FKST|FKT|FNT|GFT|GST|GYT|PET|PYST|PYT|SRT|UYST|UYT|VET|WARST");!r||r==="default"?(this._map.set(/[+-]\d{2}(?::\d{2})?/,"Z"),this._map.set(/[+-]\d{4}/,"ZZ"),this._map.set(/Z/,"[Z]"),this._map.set(/z/,"[z]"),this._map.set(i,"z")):(this._map.set(/[+-]\d{2}(?::\d{2})?/,"%:z"),this._map.set(/[+-]\d{4}/,"%z"),this._map.set(/Z/,"Z"),this._map.set(/z/,"z"),this._map.set(i,"%Z"))}_testTokenType(e){return e.type===this.type}assign(e){this._map.forEach((n,r)=>{this._testTokenType(e)&&r.test(e.value)&&(e.format=n)})}}class xo{constructor(e,n,r){this.name=e,this.type=n,this.format=r,this._map=new Map,!r||r==="default"?(this._map.set(/\d{1,3}/,"DDD"),this._map.set(/\d{3}/,"DDDD"),this._map.set(/\d{1,3}(?:st|nd|rd|th)/,"DDDo")):(this._map.set(/\d{1,3}/,"NA"),this._map.set(/\d{3}/,"%j"),this._map.set(/\d{1,3}(?:st|nd|rd|th)/,"NA"))}_testTokenType(e){return e.type===this.type}assign(e){this._map.forEach((n,r)=>{this._testTokenType(e)&&r.test(e.value)&&(e.format=n)})}}class Xo{constructor(e,n,r){this.name=e,this.type=n,this.format=r}_testTokenType(e){return e.type===this.type}assign(e){this._testTokenType(e)&&(e.format=!this.format||this.format==="default"?`[${e.value}]`:e.value)}}class Qo{constructor(e,n,r){this.name=e,this.type=n,this.format=r,this._map=new Map,!r||r==="default"?this._map.set(/[1-7]/,"E"):this._map.set(/[1-7]/,"%u")}_testTokenType(e){return e.type===this.type}assign(e){this._map.forEach((n,r)=>{this._testTokenType(e)&&r.test(e.value)&&(e.format=n)})}}class eu{constructor(e,n,r){this.name=e,this.type=n,this.format=r,this._map=new Map,!r||r==="default"?(this._map.set(/\d{1,2}/,"W"),this._map.set(/\d{2}/,"WW"),this._map.set(/\d{1,2}(?:st|nd|rd|th)/,"Wo")):(this._map.set(/\d{1,2}/,"NA"),this._map.set(/\d{2}/,"%U"),this._map.set(/\d{1,2}(?:st|nd|rd|th)/,"NA"))}_testTokenType(e){return e.type===this.type}assign(e){this._map.forEach((n,r)=>{this._testTokenType(e)&&r.test(e.value)&&(e.format=n)})}}class tu{constructor(e,n,r){this.name=e,this.type=n,this.format=r,this._map=new Map,!r||r==="default"?(this._map.set(/^([0-1]\d|2[0-3])$/,"HH"),this._map.set(/^(\d|1\d|2[0-3])$/,"H")):(this._map.set(/^(\d|1\d|2[0-3])$/,"%-k"),this._map.set(/^([0-1]\d|2[0-3])$/,"%H"))}_testTokenType(e){return e.type===this.type}assign(e){this._map.forEach((n,r)=>{this._testTokenType(e)&&r.test(e.value)&&(e.format=n)})}}class nu{constructor(e,n,r){this.name=e,this.type=n,this.format=r,this._map=new Map,!r||r==="default"?(this._map.set(/^(0\d|1[0-2])$/,"hh"),this._map.set(/^([1-9]|1[0-9])$/,"h")):(this._map.set(/^([1-9]|1[0-2])$/,"%-l"),this._map.set(/^(0\d|1[0-2])$/,"%I"))}_testTokenType(e){return e.type===this.type}assign(e){this._map.forEach((n,r)=>{this._testTokenType(e)&&r.test(e.value)&&(e.format=n)})}}class ru{constructor(e,n,r){this.name=e,this.type=n,this.format=r,this._map=new Map,!r||r==="default"?(this._map.set(/[0-6](?:st|nd|rd|th)/,"do"),this._map.set(/(?:Su|Mo|Tu|We|Th|Fr|Sa)/,"dd"),this._map.set(/(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)/,"ddd"),this._map.set(/(?:Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday)/,"dddd")):(this._map.set(/[0-6]/,"%w"),this._map.set(/[0-6](?:st|nd|rd|th)/,"NA"),this._map.set(/(?:Su|Mo|Tu|We|Th|Fr|Sa)/,"NA"),this._map.set(/(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)/,"%a"),this._map.set(/(?:Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday)/,"%A"))}_testTokenType(e){return e.type===this.type}assign(e){this._map.forEach((n,r)=>{this._testTokenType(e)&&r.test(e.value)&&(e.format=n)})}}class iu{constructor(e,n,r){this.name=e,this.type=n,this.format=r,this._map=new Map,!r||r==="default"?(this._map.set(/am|pm/,"a"),this._map.set(/AM|PM/,"A")):(this._map.set(/am|pm/,"%P"),this._map.set(/AM|PM/,"%p"))}_testTokenType(e){return e.type===this.type}assign(e){this._map.forEach((n,r)=>{this._testTokenType(e)&&r.test(e.value)&&(e.format=n)})}}const Od=new Yo("DelimiterFormatTokenAssigner","dayOfMonth"),Ad=new ru("DayOfWeekFormatTokenAssigner","dayOfWeek"),Ed=new xo("DayOfYearFormatTokenAssigner","dayOfYear"),Cd=new Bo("DelimiterFormatTokenAssigner","delimiter"),Nd=new Xo("EscapeTextFormatTokenAssigner","escapeText"),$d=new Qo("ISODayOfWeekFormatTokenAssigner","isoDayOfWeek"),Fd=new eu("ISOWeekOfYearFormatTokenAssigner","isoWeekOfYear"),zd=new iu("MeridiemFormatTokenAssigner","meridiem"),Pd=new Ko("MillisecondFormatTokenAssigner","millisecond"),Id=new Go("MinuteFormatTokenAssigner","minute"),Rd=new Zo("MonthFormatTokenAssigner","month"),Ld=new Jo("SecondFormatTokenAssigner","second"),Hd=new jo("TimezoneFormatTokenAssigner","timezone"),Wd=new nu("TwelveHourFormatTokenAssigner","twelveHour"),Vd=new tu("TwentyFourHourFormatTokenAssigner","twentyFourHour"),qd=new Uo("YearFormatTokenAssigner","year"),Ud=new Yo("DelimiterFormatTokenAssigner","dayOfMonth","strftime"),Zd=new ru("DayOfWeekFormatTokenAssigner","dayOfWeek","strftime"),Yd=new xo("DayOfYearFormatTokenAssigner","dayOfYear","strftime"),Bd=new Bo("DelimiterFormatTokenAssigner","delimiter","strftime"),Gd=new Xo("EscapeTextFormatTokenAssigner","escapeText","strftime"),Jd=new Qo("ISODayOfWeekFormatTokenAssigner","isoDayOfWeek","strftime"),Kd=new eu("ISOWeekOfYearFormatTokenAssigner","isoWeekOfYear","strftime"),jd=new iu("MeridiemFormatTokenAssigner","meridiem","strftime"),xd=new Ko("MillisecondFormatTokenAssigner","millisecond","strftime"),Xd=new Go("MinuteFormatTokenAssigner","minute","strftime"),Qd=new Zo("MonthFormatTokenAssigner","month","strftime"),eh=new Jo("SecondFormatTokenAssigner","second","strftime"),th=new jo("TimezoneFormatTokenAssigner","timezone","strftime"),nh=new nu("TwelveHourFormatTokenAssigner","twelveHour","strftime"),rh=new tu("TwentyFourHourFormatTokenAssigner","twentyFourHour","strftime"),ih=new Uo("YearFormatTokenAssigner","year","strftime"),sh=[qd,Rd,Od,Cd,Id,Ld,Pd,Hd,Ed,Nd,$d,Fd,Vd,Wd,Ad,zd],ah=[Ud,Zd,Yd,Bd,Gd,Jd,Kd,jd,xd,Xd,Qd,eh,th,nh,rh,ih];class dr{constructor(){}static parse(e){const n=[];return bd.forEach(r=>{const i=r.parse(e);i&&n.push(Object.assign({},i))}),n}static refine(e){let n=[...e];return Md.forEach(r=>{n=[...r.refine(n)]}),n}static assign(e,n){(!n||n==="default"?sh:ah).forEach(i=>{e.forEach(a=>{i.assign(a)})})}static getFormatString(e){let n="";return e.forEach(r=>{if(r.format==="NA")throw Error(`Couldn't find strftime modifier for "${r.value}"`);n+=r.format?r.format:r.value}),n}}function lh(t,e){const n=dr.parse(t),r=dr.refine(n);if(r.length===0)throw Error("Couldn't parse date");r.forEach(a=>dr.assign(a.tokens,e));let i=[];return r.forEach(a=>i.push(dr.getFormatString(a.tokens))),i.length===1?i[0]:i}function Qn(t){const e={from:["A","D","DD","M","MM","YY","YYYY"],to:["a","d","dd","L","LL","yy","yyyy"]};let n=t;return e.from.forEach((r,i)=>{const a=e.to[i],s=new RegExp(`\\b${r}\\b`,"g");n=n.replace(s,a)}),n}function zs(t){const e=lh(t);return typeof e=="string"?[e]:e}function Cr(t){try{let e=zs(t[0]);for(let r=1;r<t.length;r++)e=[...new Set([...e,...zs(t[r])])];const n=e.filter(r=>t.every(i=>Se.fromFormat(i,Qn(r)).invalid===null));return n.length==1?n[0]:e[0]}catch{return-1}}function su(t,e,n){if(t===null||e===null||t===void 0||e===void 0)return null;t=Se.fromFormat(t,n),e=Se.fromFormat(e,n);var r=e.diff(t,"hours");return r.hours}function Ui(t,e){let n=new Array(t.length-1);for(let r=1;r<t.length;r++)n[r-1]=su(t[r-1],t[r],Qn(e));return{minDiff:Math.min(...n),constant:Math.min(...n)===Math.max(...n)}}function oh(t,e,n){let r=Se.fromISO(t);return Se.fromFormat(e,Qn(n)).diff(r,"hours").hours}function uh(t){return Cr(t)}function Zi(t,e){return t.map(r=>su(t[0],r,Qn(e)))}function yi(t){if(t){const[e,n]=t.split("T"),[r,i,a]=e.split("-"),[s,l]=n.split(":"),u=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][+i-1];return`${a} ${u} ${r} ${s}:${l}`}else return""}function fh(t,e){return Se.fromFormat(t,Qn(e)).toISO()}function ch(t,e){return yi(Se.fromISO(t).plus({hours:e}).toISO())}function Ps(t,e,n){const r=t.slice();return r[22]=e[n],r[23]=e,r[24]=n,r}function Is(t){let e,n,r,i,a,s,l,o,u,f,c,h,d,g,w,y,_,m,v,D,M,A,k,H,q,P,F,U,B,S,b,E;function W(x){t[11](x)}let G={min:5,max:30,limits:[1,1/0],label:"Days:"};t[0]!==void 0&&(G.value=t[0]),o=new et({props:G}),Fe.push(()=>Ye(o,"value",W));function N(x){t[12](x)}let V={min:1,max:240,step:1,limits:[1,240],label:"Sampling period (minutes):"};t[1]!==void 0&&(V.value=t[1]),h=new et({props:V}),Fe.push(()=>Ye(h,"value",N));let J=me(Array.from({length:t[3]})),$=[];for(let x=0;x<J.length;x+=1)$[x]=Rs(Ps(t,J,x));const K=x=>R($[x],1,1,()=>{$[x]=null});return{c(){e=O("div"),n=Z(),r=O("dialog"),i=O("div"),a=O("h1"),a.textContent="GENERATE SIMULATED DATA",s=Z(),l=O("div"),re(o.$$.fragment),f=Z(),c=O("div"),re(h.$$.fragment),g=Z(),w=O("div"),y=O("label"),y.textContent="Start time:",_=Z(),m=O("input"),v=Z(),D=O("hr"),M=Z(),A=O("h2"),A.textContent="Data:",k=Z(),H=O("span"),H.textContent="",q=Z();for(let x=0;x<$.length;x+=1)$[x].c();P=Z(),F=O("button"),F.textContent="Generate",U=Z(),B=O("button"),B.textContent="Close",p(e,"class","backdrop svelte-dciaze"),p(y,"for","val"),p(m,"type","datetime-local"),p(m,"name","start"),p(H,"class","addSimDataButton svelte-dciaze"),p(i,"class","modal-box svelte-dciaze"),p(r,"id","modal_simulated_data"),p(r,"class","dialog svelte-dciaze")},m(x,j){I(x,e,j),I(x,n,j),I(x,r,j),T(r,i),T(i,a),T(i,s),T(i,l),te(o,l,null),T(i,f),T(i,c),te(h,c,null),T(i,g),T(i,w),T(w,y),T(w,_),T(w,m),it(m,t[2]),T(i,v),T(i,D),T(i,M),T(i,A),T(i,k),T(i,H),T(i,q);for(let Te=0;Te<$.length;Te+=1)$[Te]&&$[Te].m(i,null);T(i,P),T(i,F),T(i,U),T(i,B),S=!0,b||(E=[ie(m,"input",t[13]),ie(m,"change",t[14]),ie(H,"click",t[15]),ie(F,"click",t[19]),ie(B,"click",t[20])],b=!0)},p(x,j){const Te={};!u&&j&1&&(u=!0,Te.value=x[0],Ze(()=>u=!1)),o.$set(Te);const we={};if(!d&&j&2&&(d=!0,we.value=x[1],Ze(()=>d=!1)),h.$set(we),j&4&&it(m,x[2]),j&568){J=me(Array.from({length:x[3]}));let Y;for(Y=0;Y<J.length;Y+=1){const Ee=Ps(x,J,Y);$[Y]?($[Y].p(Ee,j),C($[Y],1)):($[Y]=Rs(Ee),$[Y].c(),C($[Y],1),$[Y].m(i,P))}for(Ie(),Y=J.length;Y<$.length;Y+=1)K(Y);Re()}},i(x){if(!S){C(o.$$.fragment,x),C(h.$$.fragment,x);for(let j=0;j<J.length;j+=1)C($[j]);S=!0}},o(x){R(o.$$.fragment,x),R(h.$$.fragment,x),$=$.filter(Boolean);for(let j=0;j<$.length;j+=1)R($[j]);S=!1},d(x){x&&(z(e),z(n),z(r)),ne(o),ne(h),je($,x),b=!1,st(E)}}}function Rs(t){let e,n,r,i,a,s,l,o,u,f,c,h,d,g,w,y,_;function m(){return t[16](t[24])}function v(k){t[17](k,t[24])}let D={min:21,max:26,limits:[6,72],step:"0.1",label:"Rhythm period (hours):"};t[4][t[24]]!==void 0&&(D.value=t[4][t[24]]),u=new et({props:D}),Fe.push(()=>Ye(u,"value",v));function M(k){t[18](k,t[24])}let A={min:1,max:100,limits:[10,1e4],label:"Max values:"};return t[5][t[24]]!==void 0&&(A.value=t[5][t[24]]),d=new et({props:A}),Fe.push(()=>Ye(d,"value",M)),{c(){e=O("div"),n=O("div"),r=O("div"),r.textContent=`value${t[24]}:`,i=Z(),a=O("div"),a.textContent="",s=Z(),l=O("div"),o=O("div"),re(u.$$.fragment),c=Z(),h=O("div"),re(d.$$.fragment),p(a,"class","removeData hoverbutton svelte-dciaze"),p(n,"class","dataTitle svelte-dciaze"),p(e,"class","datum svelte-dciaze")},m(k,H){I(k,e,H),T(e,n),T(n,r),T(n,i),T(n,a),T(n,s),T(n,l),T(l,o),te(u,o,null),T(l,c),T(l,h),te(d,h,null),w=!0,y||(_=ie(a,"click",m),y=!0)},p(k,H){t=k;const q={};!f&&H&16&&(f=!0,q.value=t[4][t[24]],Ze(()=>f=!1)),u.$set(q);const P={};!g&&H&32&&(g=!0,P.value=t[5][t[24]],Ze(()=>g=!1)),d.$set(P)},i(k){w||(C(u.$$.fragment,k),C(d.$$.fragment,k),w=!0)},o(k){R(u.$$.fragment,k),R(d.$$.fragment,k),w=!1},d(k){k&&z(e),ne(u),ne(d),y=!1,_()}}}function dh(t){let e,n,r=t[6]&&t[7]==="generateSim"&&Is(t);return{c(){r&&r.c(),e=ze()},m(i,a){r&&r.m(i,a),I(i,e,a),n=!0},p(i,[a]){i[6]&&i[7]==="generateSim"?r?(r.p(i,a),a&192&&C(r,1)):(r=Is(i),r.c(),C(r,1),r.m(e.parentNode,e)):r&&(Ie(),R(r,1,1,()=>{r=null}),Re())},i(i){n||(C(r),n=!0)},o(i){R(r),n=!1},d(i){i&&z(e),r&&r.d(i)}}}function hh(t,e,n){let r,i,a;ye(t,Gt,q=>n(6,r=q)),ye(t,rt,q=>n(21,i=q)),ye(t,Ln,q=>n(7,a=q)),An(()=>{s(28,15,Se.now().set({hour:0,minute:0,second:0,millisecond:0}).toJSDate(),[24,28],[100,150])});function s(q,P,F,U,B){const S={id:i.length,importedFrom:`simulated(${q},${B[0]})`,displayName:`Simulated_${i.length+1}`,datalength:q*24*(60/P),data:{}},b=[];for(let N=0;N<S.datalength;N++){const V=new Date(F.getTime()+N*P*60*1e3).toLocaleString("en-US");b.push(V)}const E=Cr(b),W=Zi(b,E),G=Ui(b,E);S.data.time={name:"time",type:"time",data:b,timeData:W,processSteps:[],processedData:[],timeFormat:E,recordPeriod:G};for(let N=0;N<U.length;N++){const V=`value${N}`,J=[],$=B[N],x=U[N]*(60/P);for(let j=0;j<S.datalength;j++){const we=j%x<x/2?$*.05:$,Y=Math.random()*we;J.push(Math.round(Y))}S.data[V]={name:V,type:"value",data:J,processSteps:[],processedData:[]}}rt.update(N=>[...N,S]),$e(Gt,r=!1,r)}let l=28,o=15,u=Se.now().set({hour:0,minute:0,second:0,millisecond:0}).toJSDate(),f=2,c=[24,25],h=[200,400];function d(q){n(3,f-=1),c.slice(q,1),h.slice(q,1)}function g(){n(3,f+=1),c.push(24),h.push(100)}function w(q){l=q,n(0,l)}function y(q){o=q,n(1,o)}function _(){u=this.value,n(2,u)}const m=q=>console.log(q),v=()=>g(),D=q=>d(q);function M(q,P){t.$$.not_equal(c[P],q)&&(c[P]=q,n(4,c))}function A(q,P){t.$$.not_equal(h[P],q)&&(h[P]=q,n(5,h))}return[l,o,u,f,c,h,r,a,s,d,g,w,y,_,m,v,D,M,A,()=>s(l,o,u,c,h),()=>$e(Gt,r=!1,r)]}class mh extends Ge{constructor(e){super(),Be(this,e,hh,dh,qe,{})}}function ph(t){let e,n,r,i,a,s,l;return{c(){e=O("label"),e.textContent="From:",n=O("input"),r=Z(),i=O("label"),i.textContent="To:",a=O("input")},m(o,u){I(o,e,u),I(o,n,u),it(n,t[0].from),I(o,r,u),I(o,i,u),I(o,a,u),it(a,t[0].to),s||(l=[ie(n,"input",t[3]),ie(a,"input",t[4])],s=!0)},p(o,[u]){u&1&&n.value!==o[0].from&&it(n,o[0].from),u&1&&a.value!==o[0].to&&it(a,o[0].to)},i:he,o:he,d(o){o&&(z(e),z(n),z(r),z(i),z(a)),s=!1,st(l)}}}function gh(t=[1,2,3],e={from:0,to:100}){var n=[...t];for(let r=0;r<n.length;r++)n[r]==e.from&&(n[r]=e.to);return n}function _h(t,e,n){const r=Gn();let{paramsStart:i}=e,{typeTime:a}=e,{params:s={from:0,to:100}}=e;Object.keys(i).length>0&&(s=Object.assign({},i));function l(){s.from=this.value,n(0,s)}function o(){s.to=this.value,n(0,s)}return t.$$set=u=>{"paramsStart"in u&&n(1,i=u.paramsStart),"typeTime"in u&&n(2,a=u.typeTime),"params"in u&&n(0,s=u.params)},t.$$.update=()=>{t.$$.dirty&1&&r("update",{params:s})},[s,i,a,l,o]}class yh extends Ge{constructor(e){super(),Be(this,e,_h,ph,qe,{paramsStart:1,typeTime:2,params:0})}}function vh(t){let e,n,r,i,a,s;function l(c){t[3](c)}let o={min:vi-1,max:Ti+1,label:"Min:"};t[0].min!==void 0&&(o.value=t[0].min),e=new et({props:o}),Fe.push(()=>Ye(e,"value",l));function u(c){t[4](c)}let f={min:vi-1,max:Ti+1,label:"Max:"};return t[0].max!==void 0&&(f.value=t[0].max),i=new et({props:f}),Fe.push(()=>Ye(i,"value",u)),{c(){re(e.$$.fragment),r=Z(),re(i.$$.fragment)},m(c,h){te(e,c,h),I(c,r,h),te(i,c,h),s=!0},p(c,[h]){const d={};!n&&h&1&&(n=!0,d.value=c[0].min,Ze(()=>n=!1)),e.$set(d);const g={};!a&&h&1&&(a=!0,g.value=c[0].max,Ze(()=>a=!1)),i.$set(g)},i(c){s||(C(e.$$.fragment,c),C(i.$$.fragment,c),s=!0)},o(c){R(e.$$.fragment,c),R(i.$$.fragment,c),s=!1},d(c){c&&z(r),ne(e,c),ne(i,c)}}}function Th(t=[1,2,3],e={min:0,max:12}){Math.min(...t),Math.max(...t);var n=[...t];for(let r=0;r<n.length;r++)n[r]<e.min?n[r]=NaN:n[r]>e.max&&(n[r]=NaN);return n}const vi=0,Ti=1e4;function bh(t,e,n){const r=Gn();let{paramsStart:i}=e,{typeTime:a}=e,{params:s={min:vi,max:Ti}}=e;Object.keys(i).length>0&&(s=Object.assign({},i));function l(u){t.$$.not_equal(s.min,u)&&(s.min=u,n(0,s))}function o(u){t.$$.not_equal(s.max,u)&&(s.max=u,n(0,s))}return t.$$set=u=>{"paramsStart"in u&&n(1,i=u.paramsStart),"typeTime"in u&&n(2,a=u.typeTime),"params"in u&&n(0,s=u.params)},t.$$.update=()=>{t.$$.dirty&1&&s.max<s.min&&n(0,s.max=s.min,s),t.$$.dirty&1&&r("update",{params:s})},[s,i,a,l,o]}class wh extends Ge{constructor(e){super(),Be(this,e,bh,vh,qe,{paramsStart:1,typeTime:2,params:0})}}function kh(t){let e,n,r;function i(s){t[4](s)}let a={min:-20,max:20,step:.5,label:"Add (hrs):"};return t[0].val!==void 0&&(a.value=t[0].val),e=new et({props:a}),Fe.push(()=>Ye(e,"value",i)),{c(){re(e.$$.fragment)},m(s,l){te(e,s,l),r=!0},p(s,l){const o={};!n&&l&1&&(n=!0,o.value=s[0].val,Ze(()=>n=!1)),e.$set(o)},i(s){r||(C(e.$$.fragment,s),r=!0)},o(s){R(e.$$.fragment,s),r=!1},d(s){ne(e,s)}}}function Sh(t){let e,n,r;function i(s){t[3](s)}let a={min:-20,max:20,label:"Add:"};return t[0].val!==void 0&&(a.value=t[0].val),e=new et({props:a}),Fe.push(()=>Ye(e,"value",i)),{c(){re(e.$$.fragment)},m(s,l){te(e,s,l),r=!0},p(s,l){const o={};!n&&l&1&&(n=!0,o.value=s[0].val,Ze(()=>n=!1)),e.$set(o)},i(s){r||(C(e.$$.fragment,s),r=!0)},o(s){R(e.$$.fragment,s),r=!1},d(s){ne(e,s)}}}function Dh(t){let e,n,r,i;const a=[Sh,kh],s=[];function l(o,u){return o[1].type==="value"?0:o[1].type==="time"?1:-1}return~(e=l(t))&&(n=s[e]=a[e](t)),{c(){n&&n.c(),r=ze()},m(o,u){~e&&s[e].m(o,u),I(o,r,u),i=!0},p(o,[u]){let f=e;e=l(o),e===f?~e&&s[e].p(o,u):(n&&(Ie(),R(s[f],1,1,()=>{s[f]=null}),Re()),~e?(n=s[e],n?n.p(o,u):(n=s[e]=a[e](o),n.c()),C(n,1),n.m(r.parentNode,r)):n=null)},i(o){i||(C(n),i=!0)},o(o){R(n),i=!1},d(o){o&&z(r),~e&&s[e].d(o)}}}function Mh(t=[1,2,3],e={val:0}){var n=[...t];for(let r=0;r<n.length;r++)n[r]=n[r]+e.val;return n}function Oh(t,e,n){const r=Gn();let{paramsStart:i}=e,{typeTime:a}=e,{params:s={val:0}}=e;Object.keys(i).length>0&&(s=Object.assign({},i));function l(u){t.$$.not_equal(s.val,u)&&(s.val=u,n(0,s))}function o(u){t.$$.not_equal(s.val,u)&&(s.val=u,n(0,s))}return t.$$set=u=>{"paramsStart"in u&&n(2,i=u.paramsStart),"typeTime"in u&&n(1,a=u.typeTime),"params"in u&&n(0,s=u.params)},t.$$.update=()=>{t.$$.dirty&1&&r("update",{params:s})},[s,a,i,l,o]}class Ah extends Ge{constructor(e){super(),Be(this,e,Oh,Dh,qe,{paramsStart:2,typeTime:1,params:0})}}function Yi(t,e,n=!0){const r=dt(rt)[dt(rt).findIndex(i=>i.id===t)].data[e];return r.processedData.length>0&&n?r.processedData:r.type==="time"?r.timeData:r.data}function Eh(t,e){return dt(rt)[dt(rt).findIndex(r=>r.id===t)].data[e].name}function Sn(t,e){const n=dt(pe)[dt(_t)].sourceData[t];if(e.processedData.length>0)return e.processedData;{const r=n.tableID;return Yi(r,e.field)}}function au(t,e,n){const r=Math.ceil((Math.max(...t)+n)/n),i=new Array(r),a=new Array(r),s=new Array(r);for(let o=0;o<r;o++)i[o]=o*n+n/2,a[o]=0,s[o]=0;for(let o=0;o<t.length;o++){const u=Math.floor(t[o]/n);e[o]&&(a[u]+=e[o],s[u]++)}const l=a.map((o,u)=>s[u]>0?o/s[u]:0);return{time:i,values:l}}function Ch(t){let e=[];for(let n=1;n<t.length;n++)e[n-1]=t[n]-t[n-1];return e}function Nh(t){const e=Bi(t),n=$h(t,e),r=t.filter(a=>Math.abs(a-e)<=2*n);return Fh(r)}function Bi(t){const e=t.slice().sort((r,i)=>r-i),n=Math.floor(e.length/2);return e.length%2===0?(e[n-1]+e[n])/2:e[n]}function $h(t,e){const n=t.map(r=>Math.abs(r-e));return Bi(n)}function Fh(t){return t.reduce((n,r)=>n+r,0)/t.length}const Kt={add:{component:Ah,startParams:{val:0},func:Mh},filter:{component:wh,startParams:{min:0,max:12},func:Th},replace:{component:yh,startParams:{from:-999,to:NaN},func:gh}};let ri=null;function lu(t,e,n,r){ri={process:t,parameters:Kt[t].startParams},e==="data"&&(rt.update(i=>{const a=[...i],s=a.find(l=>l.id===n);return s&&s.data[r]&&s.data[r].processSteps.push(ri),a}),Nr(n,r)),e==="graph"&&(pe.update(i=>{const a=[...i];return a.find(s=>s.id===n),a[dt(_t)].sourceData[n].chartvalues[r].processSteps.push(ri),a}),Qt(dt(_t),n,r))}function ou(t,e){for(const n of t){const r=n.process,i=Kt[r].func;typeof i=="function"?e=i(e,n.parameters):console.error(`Function '${r}' does not exist.`)}return e}function Qt(t,e,n){let r=dt(pe)[t].sourceData[e].tableID,i=dt(pe)[t].sourceData[e].chartvalues[n].field,a=Yi(r,i),s=dt(pe)[t].sourceData[e].chartvalues[n].processSteps;s.length>0&&(a=ou(s,a)),pe.update(l=>{const o=[...l];return o[t].sourceData[e].chartvalues[n].processedData=a,o})}function Nr(t,e){let n=Yi(t,e,!1),r=dt(rt).find(i=>i.id===t).data[e].processSteps;r.length>0&&(n=ou(r,n)),rt.update(i=>{const a=[...i],s=a.find(l=>l.id===t);return s&&s.data[e]&&(s.data[e].processedData=n),a}),dt(pe).forEach((i,a)=>{i.sourceData.forEach((s,l)=>{s.tableID===t&&Object.keys(s.chartvalues).forEach(o=>{s.chartvalues[o].field===e&&Qt(a,l,o)})})})}class zh extends Ge{constructor(e){super(),Be(this,e,null,null,qe,{})}}function Ph(t){let e,n,r,i;return{c(){e=O("span"),n=Me(t[0]),p(e,"class","svelte-1tdrfqa")},m(a,s){I(a,e,s),T(e,n),r||(i=[ie(e,"dblclick",t[9]),ie(e,"click",Lh)],r=!0)},p(a,s){s&1&&He(n,a[0])},d(a){a&&z(e),r=!1,st(i)}}}function Ih(t){let e,n,r,i,a;return{c(){e=O("form"),n=O("input"),n.required=t[1],p(n,"class",r=wn(t[2]?"editing":"")+" svelte-1tdrfqa"),p(e,"class","svelte-1tdrfqa")},m(s,l){I(s,e,l),T(e,n),it(n,t[0]),t[8](n),i||(a=[ie(n,"input",t[7]),ie(n,"blur",t[5]),ie(e,"submit",Hu(t[5])),ie(e,"keydown",t[6])],i=!0)},p(s,l){l&2&&(n.required=s[1]),l&4&&r!==(r=wn(s[2]?"editing":"")+" svelte-1tdrfqa")&&p(n,"class",r),l&1&&n.value!==s[0]&&it(n,s[0])},d(s){s&&z(e),t[8](null),i=!1,st(a)}}}function Rh(t){let e;function n(a,s){return a[2]?Ih:Ph}let r=n(t),i=r(t);return{c(){i.c(),e=ze()},m(a,s){i.m(a,s),I(a,e,s)},p(a,[s]){r===(r=n(a))&&i?i.p(a,s):(i.d(1),i=r(a),i&&(i.c(),i.m(e.parentNode,e)))},i:he,o:he,d(a){a&&z(e),i.d(a)}}}const Lh=t=>{t.target.parentElement.className.includes("tabname")||t.preventDefault()};function Hh(t,e,n){let{value:r,required:i=!0}=e;const a=Gn();let s=!1,l,o;An(()=>{l=r}),zi(()=>{s&&(o.focus(),o.click())});function u(w){n(2,s=!0)}function f(){r!=l&&a("submit",r),n(2,s=!1)}function c(w){w.key=="Escape"&&(w.preventDefault(),n(0,r=l),n(2,s=!1))}function h(){r=this.value,n(0,r)}function d(w){Fe[w?"unshift":"push"](()=>{o=w,n(3,o)})}const g=w=>{u()};return t.$$set=w=>{"value"in w&&n(0,r=w.value),"required"in w&&n(1,i=w.required)},[r,i,s,o,u,f,c,h,d,g]}class er extends Ge{constructor(e){super(),Be(this,e,Hh,Rh,qe,{value:0,required:1})}}function Ls(t,e,n){const r=t.slice();return r[17]=e[n],r[18]=e,r[19]=n,r}function Hs(t,e,n){const r=t.slice();return r[20]=e[n][0],r[21]=e[n][1],r[22]=e,r[23]=n,r}function Ws(t,e,n){const r=t.slice();return r[24]=e[n],r[26]=n,r}function Vs(t){let e,n,r=t[24].process+"",i,a,s,l,o,u,f,c,h;function d(..._){return t[11](t[17],t[20],t[26],..._)}function g(..._){return t[12](t[17],t[20],t[26],..._)}var w=Kt[t[24].process].component;function y(_,m){return{props:{paramsStart:_[24].parameters,typeTime:{type:_[0][_[19]].data[_[20]].type,tocheck:{tableID:_[17].id,key:_[20]}}}}}return w&&(u=Jt(w,y(t)),u.$on("update",g)),{c(){e=O("details"),n=O("summary"),i=Me(r),a=Z(),s=O("div"),s.textContent="",l=Z(),o=O("div"),u&&re(u.$$.fragment),p(s,"class","deleteProcess hoverbutton svelte-hshnm9"),p(n,"class","svelte-hshnm9"),p(o,"class","processDetails svelte-hshnm9"),e.open=!0,p(e,"class","process svelte-hshnm9")},m(_,m){I(_,e,m),T(e,n),T(n,i),T(n,a),T(n,s),T(e,l),T(e,o),u&&te(u,o,null),f=!0,c||(h=ie(s,"click",d),c=!0)},p(_,m){if(t=_,(!f||m&1)&&r!==(r=t[24].process+"")&&He(i,r),m&1&&w!==(w=Kt[t[24].process].component)){if(u){Ie();const v=u;R(v.$$.fragment,1,0,()=>{ne(v,1)}),Re()}w?(u=Jt(w,y(t)),u.$on("update",g),re(u.$$.fragment),C(u.$$.fragment,1),te(u,o,null)):u=null}else if(w){const v={};m&1&&(v.paramsStart=t[24].parameters),m&1&&(v.typeTime={type:t[0][t[19]].data[t[20]].type,tocheck:{tableID:t[17].id,key:t[20]}}),u.$set(v)}},i(_){f||(u&&C(u.$$.fragment,_),f=!0)},o(_){u&&R(u.$$.fragment,_),f=!1},d(_){_&&z(e),u&&ne(u),c=!1,h()}}}function qs(t,e){let n,r,i,a,s,l,o,u,f,c;function h(m){e[9](m,e[17],e[20])}let d={};e[17].data[e[20]].name!==void 0&&(d.value=e[17].data[e[20]].name),i=new er({props:d}),Fe.push(()=>Ye(i,"value",h));function g(...m){return e[10](e[17],e[20],...m)}let w=me(e[17].data[e[20]].processSteps),y=[];for(let m=0;m<w.length;m+=1)y[m]=Vs(Ws(e,w,m));const _=m=>R(y[m],1,1,()=>{y[m]=null});return{key:t,first:null,c(){n=O("details"),r=O("summary"),re(i.$$.fragment),s=O("span"),s.textContent="+",l=Z();for(let m=0;m<y.length;m+=1)y[m].c();p(s,"class","addbutton hoverbutton showContextMenu svelte-hshnm9"),p(r,"class","svelte-hshnm9"),n.open=!0,p(n,"class",o="field "+(e[17].data[e[20]].processSteps.length>0?"":"no-arrow")+" svelte-hshnm9"),this.first=n},m(m,v){I(m,n,v),T(n,r),te(i,r,null),T(r,s),T(n,l);for(let D=0;D<y.length;D+=1)y[D]&&y[D].m(n,null);u=!0,f||(c=ie(s,"click",g),f=!0)},p(m,v){e=m;const D={};if(!a&&v&1&&(a=!0,D.value=e[17].data[e[20]].name,Ze(()=>a=!1)),i.$set(D),v&13){w=me(e[17].data[e[20]].processSteps);let M;for(M=0;M<w.length;M+=1){const A=Ws(e,w,M);y[M]?(y[M].p(A,v),C(y[M],1)):(y[M]=Vs(A),y[M].c(),C(y[M],1),y[M].m(n,null))}for(Ie(),M=w.length;M<y.length;M+=1)_(M);Re()}(!u||v&1&&o!==(o="field "+(e[17].data[e[20]].processSteps.length>0?"":"no-arrow")+" svelte-hshnm9"))&&p(n,"class",o)},i(m){if(!u){C(i.$$.fragment,m);for(let v=0;v<w.length;v+=1)C(y[v]);u=!0}},o(m){R(i.$$.fragment,m),y=y.filter(Boolean);for(let v=0;v<y.length;v+=1)R(y[v]);u=!1},d(m){m&&z(n),ne(i),je(y,m),f=!1,c()}}}function Us(t){let e,n,r,i,a,s,l,o,u,f=[],c=new Map,h,d,g,w;function y(A){t[6](A,t[17])}let _={};t[17].displayName!==void 0&&(_.value=t[17].displayName),r=new er({props:_}),Fe.push(()=>Ye(r,"value",y));function m(...A){return t[7](t[17],...A)}function v(...A){return t[8](t[17],...A)}let D=me(Object.entries(t[17].data));const M=A=>A[20];for(let A=0;A<D.length;A+=1){let k=Hs(t,D,A),H=M(k);c.set(H,f[A]=qs(H,k))}return{c(){e=O("details"),n=O("summary"),re(r.$$.fragment),a=Z(),s=O("div"),s.textContent="",l=Z(),o=O("div"),o.textContent="",u=Z();for(let A=0;A<f.length;A+=1)f[A].c();h=Z(),p(s,"class","deleteTable hoverbutton svelte-hshnm9"),p(o,"class","viewTable hoverbutton svelte-hshnm9"),p(n,"class","svelte-hshnm9"),e.open=!0,p(e,"class","dataTable svelte-hshnm9")},m(A,k){I(A,e,k),T(e,n),te(r,n,null),T(n,a),T(n,s),T(n,l),T(n,o),T(e,u);for(let H=0;H<f.length;H+=1)f[H]&&f[H].m(e,null);T(e,h),d=!0,g||(w=[ie(s,"click",m),ie(o,"click",v)],g=!0)},p(A,k){t=A;const H={};!i&&k&1&&(i=!0,H.value=t[17].displayName,Ze(()=>i=!1)),r.$set(H),k&45&&(D=me(Object.entries(t[17].data)),Ie(),f=Ju(f,k,M,1,t,D,c,e,Gu,qs,h,Hs),Re())},i(A){if(!d){C(r.$$.fragment,A);for(let k=0;k<D.length;k+=1)C(f[k]);d=!0}},o(A){R(r.$$.fragment,A);for(let k=0;k<f.length;k+=1)R(f[k]);d=!1},d(A){A&&z(e),ne(r);for(let k=0;k<f.length;k+=1)f[k].d();g=!1,st(w)}}}function Wh(t){let e,n,r,i,a,s=me(t[0]),l=[];for(let u=0;u<s.length;u+=1)l[u]=Us(Ls(t,s,u));const o=u=>R(l[u],1,1,()=>{l[u]=null});return{c(){e=O("div"),n=O("h1"),n.textContent="Data Tables",r=Z(),i=O("div");for(let u=0;u<l.length;u+=1)l[u].c();p(i,"class","dataTree scroll-shadows svelte-hshnm9"),p(e,"id","dataTreeContainer"),ue(e,"overflow","auto"),ue(e,"height","100%"),ue(e,"width","auto")},m(u,f){I(u,e,f),T(e,n),T(e,r),T(e,i);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(i,null);a=!0},p(u,[f]){if(f&63){s=me(u[0]);let c;for(c=0;c<s.length;c+=1){const h=Ls(u,s,c);l[c]?(l[c].p(h,f),C(l[c],1)):(l[c]=Us(h),l[c].c(),C(l[c],1),l[c].m(i,null))}for(Ie(),c=s.length;c<l.length;c+=1)o(c);Re()}},i(u){if(!a){for(let f=0;f<s.length;f+=1)C(l[f]);a=!0}},o(u){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)R(l[f]);a=!1},d(u){u&&z(e),je(l,u)}}}function Vh(t,e,n){let r,i,a,s,l;ye(t,Lt,D=>n(13,r=D)),ye(t,rt,D=>n(0,i=D)),ye(t,yn,D=>n(14,a=D)),ye(t,Yt,D=>n(15,s=D)),ye(t,mn,D=>n(16,l=D));function o(D){const M=a.indexOf(D);M<0?(a.push(D),yn.set(a),l.push(!1),mn.set(l),$e(Yt,s=a.length-1,s)):$e(Yt,s=M,s)}function u(D,M,A,k){let H=i.findIndex(q=>q.id===D);$e(rt,i[H].data[M].processSteps[A].parameters=k,i),Nr(D,M)}function f(D,M,A){let k=i.findIndex(H=>H.id===D);i[k].data[M].processSteps.splice(A,1),Nr(D,M),i[k].data[M].processSteps.length===0&&$e(rt,i[k].data[M].processedData=[],i)}function c(D){$e(yn,a=a.filter(A=>A!==D),a),$e(Yt,s=a.length>0?0:-1,s),pe.update(A=>A.map(k=>{const H=k.sourceData.filter(q=>q.tableID!==D);return{...k,sourceData:H}}));let M=i.findIndex(A=>A.id===D);rt.update(A=>(A.splice(M,1),A))}function h(D,M,A){$e(Lt,r.labels=Object.keys(Kt),r);for(let k=0;k<r.labels.length;k++)$e(Lt,r.funcs[k]=()=>lu(r.labels[k],D,M,A),r)}function d(D,M){t.$$.not_equal(M.displayName,D)&&(M.displayName=D,rt.set(i))}const g=(D,M)=>{M.preventDefault(),c(D.id)},w=(D,M)=>{M.preventDefault(),o(D.id)};function y(D,M,A){t.$$.not_equal(M.data[A].name,D)&&(M.data[A].name=D,rt.set(i))}return[i,o,u,f,c,h,d,g,w,y,(D,M,A)=>{A.preventDefault(),h("data",D.id,M)},(D,M,A,k)=>{k.preventDefault(),f(D.id,M,A)},(D,M,A,k)=>u(D.id,M,A,k.detail.params)]}class qh extends Ge{constructor(e){super(),Be(this,e,Vh,Wh,qe,{})}}function Zs(t){let e,n;return{c(){e=O("div"),n=Me(t[0]),ue(e,"top",t[3]+"px"),ue(e,"left",t[2]+"px"),p(e,"class","tooltip svelte-1926ilb")},m(r,i){I(r,e,i),T(e,n)},p(r,i){i&1&&He(n,r[0]),i&8&&ue(e,"top",r[3]+"px"),i&4&&ue(e,"left",r[2]+"px")},d(r){r&&z(e)}}}function Uh(t){let e,n,r,i,a,s;const l=t[8].default,o=Ei(l,t,t[7],null);let u=t[1]&&Zs(t);return{c(){e=O("div"),o&&o.c(),n=Z(),u&&u.c(),r=ze()},m(f,c){I(f,e,c),o&&o.m(e,null),I(f,n,c),u&&u.m(f,c),I(f,r,c),i=!0,a||(s=[ie(e,"mouseover",t[4]),ie(e,"mouseleave",t[6]),ie(e,"mousemove",t[5])],a=!0)},p(f,[c]){o&&o.p&&(!i||c&128)&&Ni(o,l,f,f[7],i?Ci(l,f[7],c,null):$i(f[7]),null),f[1]?u?u.p(f,c):(u=Zs(f),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null)},i(f){i||(C(o,f),i=!0)},o(f){R(o,f),i=!1},d(f){f&&(z(e),z(n),z(r)),o&&o.d(f),u&&u.d(f),a=!1,st(s)}}}function Zh(t,e,n){let{$$slots:r={},$$scope:i}=e,{tipcontent:a=""}=e,s=!1,l,o;function u(h){n(1,s=!0),n(2,l=h.clientX+5),n(3,o=h.clientY+5)}function f(h){n(2,l=h.clientX+5),n(3,o=h.clientY+5),console.log(l+", "+o)}function c(){n(1,s=!1)}return t.$$set=h=>{"tipcontent"in h&&n(0,a=h.tipcontent),"$$scope"in h&&n(7,i=h.$$scope)},[a,s,l,o,u,f,c,i,r]}class Tr extends Ge{constructor(e){super(),Be(this,e,Zh,Uh,qe,{tipcontent:0})}}function Yh(t){let e,n,r;return{c(){e=O("div"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M304 192v32c0 6.6-5.4 12-12 12h-56v56c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-56h-56c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h56v-56c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v56h56c6.6 0 12 5.4 12 12zm201 284.7L476.7 505c-9.4 9.4-24.6 9.4-33.9 0L343 405.3c-4.5-4.5-7-10.6-7-17V372c-35.3 27.6-79.7 44-128 44C93.1 416 0 322.9 0 208S93.1 0 208 0s208 93.1 208 208c0 48.3-16.4 92.7-44 128h16.3c6.4 0 12.5 2.5 17 7l99.7 99.7c9.3 9.4 9.3 24.6 0 34zM344 208c0-75.2-60.8-136-136-136S72 132.8 72 208s60.8 136 136 136 136-60.8 136-136z" style="transform: scale(0.04); fill: var(--font-color); "></path></svg>',p(e,"class","button svelte-1289zmx"),p(e,"id","Zoom in")},m(i,a){I(i,e,a),n||(r=ie(e,"click",t[0]),n=!0)},p:he,d(i){i&&z(e),n=!1,r()}}}function Bh(t){let e,n,r;return{c(){e=O("div"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M304 192v32c0 6.6-5.4 12-12 12H124c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm201 284.7L476.7 505c-9.4 9.4-24.6 9.4-33.9 0L343 405.3c-4.5-4.5-7-10.6-7-17V372c-35.3 27.6-79.7 44-128 44C93.1 416 0 322.9 0 208S93.1 0 208 0s208 93.1 208 208c0 48.3-16.4 92.7-44 128h16.3c6.4 0 12.5 2.5 17 7l99.7 99.7c9.3 9.4 9.3 24.6 0 34zM344 208c0-75.2-60.8-136-136-136S72 132.8 72 208s60.8 136 136 136 136-60.8 136-136z" style="transform: scale(0.04); fill: var(--font-color); "></path></svg>',p(e,"class","button svelte-1289zmx"),p(e,"id","Zoom in")},m(i,a){I(i,e,a),n||(r=ie(e,"click",t[1]),n=!0)},p:he,d(i){i&&z(e),n=!1,r()}}}function Gh(t){let e,n,r;return{c(){e=O("div"),e.textContent="",p(e,"class","button svelte-1289zmx"),p(e,"id","export")},m(i,a){I(i,e,a),n||(r=ie(e,"click",t[2]),n=!0)},p:he,d(i){i&&z(e),n=!1,r()}}}function Jh(t){let e,n,r,i,a,s,l;return n=new Tr({props:{tipcontent:"Zoom in",$$slots:{default:[Yh]},$$scope:{ctx:t}}}),i=new Tr({props:{tipcontent:"Zoom out",$$slots:{default:[Bh]},$$scope:{ctx:t}}}),s=new Tr({props:{tipcontent:"Save plot",$$slots:{default:[Gh]},$$scope:{ctx:t}}}),{c(){e=O("div"),re(n.$$.fragment),r=Z(),re(i.$$.fragment),a=Z(),re(s.$$.fragment),p(e,"id","chartTools"),p(e,"class","svelte-1289zmx")},m(o,u){I(o,e,u),te(n,e,null),T(e,r),te(i,e,null),T(e,a),te(s,e,null),l=!0},p(o,[u]){const f={};u&8&&(f.$$scope={dirty:u,ctx:o}),n.$set(f);const c={};u&8&&(c.$$scope={dirty:u,ctx:o}),i.$set(c);const h={};u&8&&(h.$$scope={dirty:u,ctx:o}),s.$set(h)},i(o){l||(C(n.$$.fragment,o),C(i.$$.fragment,o),C(s.$$.fragment,o),l=!0)},o(o){R(n.$$.fragment,o),R(i.$$.fragment,o),R(s.$$.fragment,o),l=!1},d(o){o&&z(e),ne(n),ne(i),ne(s)}}}function uu(){const t=document.getElementById("thePlot").querySelector("svg").outerHTML,e=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=dt(Bt)[dt(_t)].name+".svg",document.body.appendChild(r),r.click(),URL.revokeObjectURL(n)}function Ys(t="in"){const e=document.getElementById("svgContainer");var r=parseFloat(e.style.transform.slice(e.style.transform.indexOf("scale")+6));t==="in"?r+=.1:r-=.1,e.style.transform="scale("+r+")",e.style.width=e.getAttribute("width")*r}function Kh(t){return[i=>Ys("in"),i=>Ys("out"),i=>uu()]}class jh extends Ge{constructor(e){super(),Be(this,e,Kh,Jh,qe,{})}}function Bs(t,e,n){const r=t.slice();return r[8]=e[n],r[9]=e,r[10]=n,r}function xh(t){let e,n,r,i,a,s=me(t[0]),l=[];for(let u=0;u<s.length;u+=1)l[u]=Gs(Bs(t,s,u));const o=u=>R(l[u],1,1,()=>{l[u]=null});return i=new jh({}),{c(){e=O("nav"),n=O("ul");for(let u=0;u<l.length;u+=1)l[u].c();r=Z(),re(i.$$.fragment),p(n,"class","svelte-1gfrvzx"),p(e,"class","svelte-1gfrvzx")},m(u,f){I(u,e,f),T(e,n);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(n,null);I(u,r,f),te(i,u,f),a=!0},p(u,f){if(f&15){s=me(u[0]);let c;for(c=0;c<s.length;c+=1){const h=Bs(u,s,c);l[c]?(l[c].p(h,f),C(l[c],1)):(l[c]=Gs(h),l[c].c(),C(l[c],1),l[c].m(n,null))}for(Ie(),c=s.length;c<l.length;c+=1)o(c);Re()}},i(u){if(!a){for(let f=0;f<s.length;f+=1)C(l[f]);C(i.$$.fragment,u),a=!0}},o(u){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)R(l[f]);R(i.$$.fragment,u),a=!1},d(u){u&&(z(e),z(r)),je(l,u),ne(i,u)}}}function Xh(t){let e;return{c(){e=O("h3"),e.textContent="Need to add a graph"},m(n,r){I(n,e,r)},p:he,i:he,o:he,d(n){n&&z(e)}}}function Gs(t){let e,n,r,i,a,s,l,o,u,f,c;function h(y){t[4](y,t[8])}let d={};t[8].name!==void 0&&(d.value=t[8].name),r=new er({props:d}),Fe.push(()=>Ye(r,"value",h));function g(){return t[5](t[10])}function w(){return t[6](t[10])}return{c(){e=O("li"),n=O("span"),re(r.$$.fragment),a=Z(),s=O("button"),s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="svelte-1gfrvzx"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg>',l=Z(),p(n,"class","tabname svelte-1gfrvzx"),p(s,"class","closeButton svelte-1gfrvzx"),p(e,"class",o=wn(t[1]===t[10]?"active":"")+" svelte-1gfrvzx")},m(y,_){I(y,e,_),T(e,n),te(r,n,null),T(e,a),T(e,s),T(e,l),u=!0,f||(c=[ie(n,"click",g),ie(s,"click",w)],f=!0)},p(y,_){t=y;const m={};!i&&_&1&&(i=!0,m.value=t[8].name,Ze(()=>i=!1)),r.$set(m),(!u||_&2&&o!==(o=wn(t[1]===t[10]?"active":"")+" svelte-1gfrvzx"))&&p(e,"class",o)},i(y){u||(C(r.$$.fragment,y),u=!0)},o(y){R(r.$$.fragment,y),u=!1},d(y){y&&z(e),ne(r),f=!1,st(c)}}}function Qh(t){let e,n,r,i;const a=[Xh,xh],s=[];function l(o,u){return o[1]<0?0:1}return n=l(t),r=s[n]=a[n](t),{c(){e=O("div"),r.c(),p(e,"id","graphTabs"),ue(e,"margin","0 1em"),p(e,"class","svelte-1gfrvzx")},m(o,u){I(o,e,u),s[n].m(e,null),i=!0},p(o,[u]){let f=n;n=l(o),n===f?s[n].p(o,u):(Ie(),R(s[f],1,1,()=>{s[f]=null}),Re(),r=s[n],r?r.p(o,u):(r=s[n]=a[n](o),r.c()),C(r,1),r.m(e,null))},i(o){i||(C(r),i=!0)},o(o){R(r),i=!1},d(o){o&&z(e),s[n].d()}}}function em(t,e,n){let r,i,a;ye(t,Bt,c=>n(0,r=c)),ye(t,pe,c=>n(7,i=c)),ye(t,_t,c=>n(1,a=c));function s(c){$e(_t,a=c,a)}function l(c){i.splice(c,1),r.splice(c,1),$e(_t,a=i.length-1,a),console.log(a),pe.set(i),Bt.set(r)}function o(c,h){t.$$.not_equal(h.name,c)&&(h.name=c,Bt.set(r))}return[r,a,s,l,o,c=>s(c),c=>l(c)]}class tm extends Ge{constructor(e){super(),Be(this,e,em,Qh,qe,{})}}function br(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function nm(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fu(t){let e,n,r;t.length!==2?(e=br,n=(l,o)=>br(t(l),o),r=(l,o)=>t(l)-o):(e=t===br||t===nm?t:rm,n=t,r=t);function i(l,o,u=0,f=l.length){if(u<f){if(e(o,o)!==0)return f;do{const c=u+f>>>1;n(l[c],o)<0?u=c+1:f=c}while(u<f)}return u}function a(l,o,u=0,f=l.length){if(u<f){if(e(o,o)!==0)return f;do{const c=u+f>>>1;n(l[c],o)<=0?u=c+1:f=c}while(u<f)}return u}function s(l,o,u=0,f=l.length){const c=i(l,o,u,f-1);return c>u&&r(l[c-1],o)>-r(l[c],o)?c-1:c}return{left:i,center:s,right:a}}function rm(){return 0}function im(t){return t===null?NaN:+t}const sm=fu(br),am=sm.right;fu(im).center;const lm=Math.sqrt(50),om=Math.sqrt(10),um=Math.sqrt(2);function $r(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=lm?10:a>=om?5:a>=um?2:1;let l,o,u;return i<0?(u=Math.pow(10,-i)/s,l=Math.round(t*u),o=Math.round(e*u),l/u<t&&++l,o/u>e&&--o,u=-u):(u=Math.pow(10,i)*s,l=Math.round(t/u),o=Math.round(e/u),l*u<t&&++l,o*u>e&&--o),o<l&&.5<=n&&n<2?$r(t,e,n*2):[l,o,u]}function fm(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?$r(e,t,n):$r(t,e,n);if(!(a>=i))return[];const l=a-i+1,o=new Array(l);if(r)if(s<0)for(let u=0;u<l;++u)o[u]=(a-u)/-s;else for(let u=0;u<l;++u)o[u]=(a-u)*s;else if(s<0)for(let u=0;u<l;++u)o[u]=(i+u)/-s;else for(let u=0;u<l;++u)o[u]=(i+u)*s;return o}function bi(t,e,n){return e=+e,t=+t,n=+n,$r(t,e,n)[2]}function cm(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?bi(e,t,n):bi(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function dm(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Gi(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function cu(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function tr(){}var Zn=.7,Fr=1/Zn,bn="\\s*([+-]?\\d+)\\s*",Yn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",It="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hm=/^#([0-9a-f]{3,8})$/,mm=new RegExp(`^rgb\\(${bn},${bn},${bn}\\)$`),pm=new RegExp(`^rgb\\(${It},${It},${It}\\)$`),gm=new RegExp(`^rgba\\(${bn},${bn},${bn},${Yn}\\)$`),_m=new RegExp(`^rgba\\(${It},${It},${It},${Yn}\\)$`),ym=new RegExp(`^hsl\\(${Yn},${It},${It}\\)$`),vm=new RegExp(`^hsla\\(${Yn},${It},${It},${Yn}\\)$`),Js={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Gi(tr,Bn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ks,formatHex:Ks,formatHex8:Tm,formatHsl:bm,formatRgb:js,toString:js});function Ks(){return this.rgb().formatHex()}function Tm(){return this.rgb().formatHex8()}function bm(){return du(this).formatHsl()}function js(){return this.rgb().formatRgb()}function Bn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=hm.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?xs(e):n===3?new wt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?hr(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?hr(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=mm.exec(t))?new wt(e[1],e[2],e[3],1):(e=pm.exec(t))?new wt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=gm.exec(t))?hr(e[1],e[2],e[3],e[4]):(e=_m.exec(t))?hr(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ym.exec(t))?ea(e[1],e[2]/100,e[3]/100,1):(e=vm.exec(t))?ea(e[1],e[2]/100,e[3]/100,e[4]):Js.hasOwnProperty(t)?xs(Js[t]):t==="transparent"?new wt(NaN,NaN,NaN,0):null}function xs(t){return new wt(t>>16&255,t>>8&255,t&255,1)}function hr(t,e,n,r){return r<=0&&(t=e=n=NaN),new wt(t,e,n,r)}function wm(t){return t instanceof tr||(t=Bn(t)),t?(t=t.rgb(),new wt(t.r,t.g,t.b,t.opacity)):new wt}function wi(t,e,n,r){return arguments.length===1?wm(t):new wt(t,e,n,r??1)}function wt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Gi(wt,wi,cu(tr,{brighter(t){return t=t==null?Fr:Math.pow(Fr,t),new wt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Zn:Math.pow(Zn,t),new wt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new wt(sn(this.r),sn(this.g),sn(this.b),zr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xs,formatHex:Xs,formatHex8:km,formatRgb:Qs,toString:Qs}));function Xs(){return`#${nn(this.r)}${nn(this.g)}${nn(this.b)}`}function km(){return`#${nn(this.r)}${nn(this.g)}${nn(this.b)}${nn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Qs(){const t=zr(this.opacity);return`${t===1?"rgb(":"rgba("}${sn(this.r)}, ${sn(this.g)}, ${sn(this.b)}${t===1?")":`, ${t})`}`}function zr(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function sn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function nn(t){return t=sn(t),(t<16?"0":"")+t.toString(16)}function ea(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Nt(t,e,n,r)}function du(t){if(t instanceof Nt)return new Nt(t.h,t.s,t.l,t.opacity);if(t instanceof tr||(t=Bn(t)),!t)return new Nt;if(t instanceof Nt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,l=a-i,o=(a+i)/2;return l?(e===a?s=(n-r)/l+(n<r)*6:n===a?s=(r-e)/l+2:s=(e-n)/l+4,l/=o<.5?a+i:2-a-i,s*=60):l=o>0&&o<1?0:s,new Nt(s,l,o,t.opacity)}function Sm(t,e,n,r){return arguments.length===1?du(t):new Nt(t,e,n,r??1)}function Nt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Gi(Nt,Sm,cu(tr,{brighter(t){return t=t==null?Fr:Math.pow(Fr,t),new Nt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Zn:Math.pow(Zn,t),new Nt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new wt(ii(t>=240?t-240:t+120,i,r),ii(t,i,r),ii(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Nt(ta(this.h),mr(this.s),mr(this.l),zr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=zr(this.opacity);return`${t===1?"hsl(":"hsla("}${ta(this.h)}, ${mr(this.s)*100}%, ${mr(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ta(t){return t=(t||0)%360,t<0?t+360:t}function mr(t){return Math.max(0,Math.min(1,t||0))}function ii(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Ji=t=>()=>t;function Dm(t,e){return function(n){return t+n*e}}function Mm(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Om(t){return(t=+t)==1?hu:function(e,n){return n-e?Mm(e,n,t):Ji(isNaN(e)?n:e)}}function hu(t,e){var n=e-t;return n?Dm(t,n):Ji(isNaN(t)?e:t)}const na=function t(e){var n=Om(e);function r(i,a){var s=n((i=wi(i)).r,(a=wi(a)).r),l=n(i.g,a.g),o=n(i.b,a.b),u=hu(i.opacity,a.opacity);return function(f){return i.r=s(f),i.g=l(f),i.b=o(f),i.opacity=u(f),i+""}}return r.gamma=t,r}(1);function Am(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Em(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Cm(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Ki(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(l){for(s=0;s<r;++s)a[s]=i[s](l);return a}}function Nm(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Pr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function $m(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ki(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var ki=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,si=new RegExp(ki.source,"g");function Fm(t){return function(){return t}}function zm(t){return function(e){return t(e)+""}}function Pm(t,e){var n=ki.lastIndex=si.lastIndex=0,r,i,a,s=-1,l=[],o=[];for(t=t+"",e=e+"";(r=ki.exec(t))&&(i=si.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),l[s]?l[s]+=a:l[++s]=a),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,o.push({i:s,x:Pr(r,i)})),n=si.lastIndex;return n<e.length&&(a=e.slice(n),l[s]?l[s]+=a:l[++s]=a),l.length<2?o[0]?zm(o[0].x):Fm(e):(e=o.length,function(u){for(var f=0,c;f<e;++f)l[(c=o[f]).i]=c.x(u);return l.join("")})}function Ki(t,e){var n=typeof e,r;return e==null||n==="boolean"?Ji(e):(n==="number"?Pr:n==="string"?(r=Bn(e))?(e=r,na):Pm:e instanceof Bn?na:e instanceof Date?Nm:Em(e)?Am:Array.isArray(e)?Cm:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?$m:Pr)(t,e)}function Im(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Rm(t){return function(){return t}}function Lm(t){return+t}var ra=[0,1];function gn(t){return t}function Si(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Rm(isNaN(e)?NaN:.5)}function Hm(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Wm(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=Si(i,r),a=n(s,a)):(r=Si(r,i),a=n(a,s)),function(l){return a(r(l))}}function Vm(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=Si(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(l){var o=am(t,l,1,r)-1;return a[o](i[o](l))}}function qm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Um(){var t=ra,e=ra,n=Ki,r,i,a,s=gn,l,o,u;function f(){var h=Math.min(t.length,e.length);return s!==gn&&(s=Hm(t[0],t[h-1])),l=h>2?Vm:Wm,o=u=null,c}function c(h){return h==null||isNaN(h=+h)?a:(o||(o=l(t.map(r),e,n)))(r(s(h)))}return c.invert=function(h){return s(i((u||(u=l(e,t.map(r),Pr)))(h)))},c.domain=function(h){return arguments.length?(t=Array.from(h,Lm),f()):t.slice()},c.range=function(h){return arguments.length?(e=Array.from(h),f()):e.slice()},c.rangeRound=function(h){return e=Array.from(h),n=Im,f()},c.clamp=function(h){return arguments.length?(s=h?!0:gn,f()):s!==gn},c.interpolate=function(h){return arguments.length?(n=h,f()):n},c.unknown=function(h){return arguments.length?(a=h,c):a},function(h,d){return r=h,i=d,f()}}function Zm(){return Um()(gn,gn)}function Ym(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ir(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Dn(t){return t=Ir(Math.abs(t)),t?t[1]:NaN}function Bm(t,e){return function(n,r){for(var i=n.length,a=[],s=0,l=t[0],o=0;i>0&&l>0&&(o+l+1>r&&(l=Math.max(1,r-o)),a.push(n.substring(i-=l,i+l)),!((o+=l+1)>r));)l=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Gm(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Jm=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rr(t){if(!(e=Jm.exec(t)))throw new Error("invalid format: "+t);var e;return new ji({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Rr.prototype=ji.prototype;function ji(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ji.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Km(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var mu;function jm(t,e){var n=Ir(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(mu=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ir(t,Math.max(0,e+a-1))[0]}function ia(t,e){var n=Ir(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const sa={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ym,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ia(t*100,e),r:ia,s:jm,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function aa(t){return t}var la=Array.prototype.map,oa=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xm(t){var e=t.grouping===void 0||t.thousands===void 0?aa:Bm(la.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?aa:Gm(la.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",o=t.nan===void 0?"NaN":t.nan+"";function u(c){c=Rr(c);var h=c.fill,d=c.align,g=c.sign,w=c.symbol,y=c.zero,_=c.width,m=c.comma,v=c.precision,D=c.trim,M=c.type;M==="n"?(m=!0,M="g"):sa[M]||(v===void 0&&(v=12),D=!0,M="g"),(y||h==="0"&&d==="=")&&(y=!0,h="0",d="=");var A=w==="$"?n:w==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",k=w==="$"?r:/[%p]/.test(M)?s:"",H=sa[M],q=/[defgprs%]/.test(M);v=v===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function P(F){var U=A,B=k,S,b,E;if(M==="c")B=H(F)+B,F="";else{F=+F;var W=F<0||1/F<0;if(F=isNaN(F)?o:H(Math.abs(F),v),D&&(F=Km(F)),W&&+F==0&&g!=="+"&&(W=!1),U=(W?g==="("?g:l:g==="-"||g==="("?"":g)+U,B=(M==="s"?oa[8+mu/3]:"")+B+(W&&g==="("?")":""),q){for(S=-1,b=F.length;++S<b;)if(E=F.charCodeAt(S),48>E||E>57){B=(E===46?i+F.slice(S+1):F.slice(S))+B,F=F.slice(0,S);break}}}m&&!y&&(F=e(F,1/0));var G=U.length+F.length+B.length,N=G<_?new Array(_-G+1).join(h):"";switch(m&&y&&(F=e(N+F,N.length?_-B.length:1/0),N=""),d){case"<":F=U+F+B+N;break;case"=":F=U+N+F+B;break;case"^":F=N.slice(0,G=N.length>>1)+U+F+B+N.slice(G);break;default:F=N+U+F+B;break}return a(F)}return P.toString=function(){return c+""},P}function f(c,h){var d=u((c=Rr(c),c.type="f",c)),g=Math.max(-8,Math.min(8,Math.floor(Dn(h)/3)))*3,w=Math.pow(10,-g),y=oa[8+g/3];return function(_){return d(w*_)+y}}return{format:u,formatPrefix:f}}var pr,pu,gu;Xm({thousands:",",grouping:[3],currency:["$",""]});function Xm(t){return pr=xm(t),pu=pr.format,gu=pr.formatPrefix,pr}function Qm(t){return Math.max(0,-Dn(Math.abs(t)))}function ep(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Dn(e)/3)))*3-Dn(Math.abs(t)))}function tp(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Dn(e)-Dn(t))+1}function np(t,e,n,r){var i=cm(t,e,n),a;switch(r=Rr(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=ep(i,s))&&(r.precision=a),gu(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=tp(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Qm(i))&&(r.precision=a-(r.type==="%")*2);break}}return pu(r)}function rp(t){var e=t.domain;return t.ticks=function(n){var r=e();return fm(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return np(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],l=r[a],o,u,f=10;for(l<s&&(u=s,s=l,l=u,u=i,i=a,a=u);f-- >0;){if(u=bi(s,l,n),u===o)return r[i]=s,r[a]=l,e(r);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;o=u}return t},t}function Ft(){var t=Zm();return t.copy=function(){return qm(t,Ft())},dm.apply(t,arguments),rp(t)}var Di="http://www.w3.org/1999/xhtml";const ua={svg:"http://www.w3.org/2000/svg",xhtml:Di,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function _u(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),ua.hasOwnProperty(e)?{space:ua[e],local:t}:t}function ip(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Di&&e.documentElement.namespaceURI===Di?e.createElement(t):e.createElementNS(n,t)}}function sp(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function yu(t){var e=_u(t);return(e.local?sp:ip)(e)}function ap(){}function vu(t){return t==null?ap:function(){return this.querySelector(t)}}function lp(t){typeof t!="function"&&(t=vu(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,l=r[i]=new Array(s),o,u,f=0;f<s;++f)(o=a[f])&&(u=t.call(o,o.__data__,f,a))&&("__data__"in o&&(u.__data__=o.__data__),l[f]=u);return new At(r,this._parents)}function op(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function up(){return[]}function fp(t){return t==null?up:function(){return this.querySelectorAll(t)}}function cp(t){return function(){return op(t.apply(this,arguments))}}function dp(t){typeof t=="function"?t=cp(t):t=fp(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var s=e[a],l=s.length,o,u=0;u<l;++u)(o=s[u])&&(r.push(t.call(o,o.__data__,u,s)),i.push(o));return new At(r,i)}function hp(t){return function(){return this.matches(t)}}function Tu(t){return function(e){return e.matches(t)}}var mp=Array.prototype.find;function pp(t){return function(){return mp.call(this.children,t)}}function gp(){return this.firstElementChild}function _p(t){return this.select(t==null?gp:pp(typeof t=="function"?t:Tu(t)))}var yp=Array.prototype.filter;function vp(){return Array.from(this.children)}function Tp(t){return function(){return yp.call(this.children,t)}}function bp(t){return this.selectAll(t==null?vp:Tp(typeof t=="function"?t:Tu(t)))}function wp(t){typeof t!="function"&&(t=hp(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,l=r[i]=[],o,u=0;u<s;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&l.push(o);return new At(r,this._parents)}function bu(t){return new Array(t.length)}function kp(){return new At(this._enter||this._groups.map(bu),this._parents)}function Lr(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Lr.prototype={constructor:Lr,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Sp(t){return function(){return t}}function Dp(t,e,n,r,i,a){for(var s=0,l,o=e.length,u=a.length;s<u;++s)(l=e[s])?(l.__data__=a[s],r[s]=l):n[s]=new Lr(t,a[s]);for(;s<o;++s)(l=e[s])&&(i[s]=l)}function Mp(t,e,n,r,i,a,s){var l,o,u=new Map,f=e.length,c=a.length,h=new Array(f),d;for(l=0;l<f;++l)(o=e[l])&&(h[l]=d=s.call(o,o.__data__,l,e)+"",u.has(d)?i[l]=o:u.set(d,o));for(l=0;l<c;++l)d=s.call(t,a[l],l,a)+"",(o=u.get(d))?(r[l]=o,o.__data__=a[l],u.delete(d)):n[l]=new Lr(t,a[l]);for(l=0;l<f;++l)(o=e[l])&&u.get(h[l])===o&&(i[l]=o)}function Op(t){return t.__data__}function Ap(t,e){if(!arguments.length)return Array.from(this,Op);var n=e?Mp:Dp,r=this._parents,i=this._groups;typeof t!="function"&&(t=Sp(t));for(var a=i.length,s=new Array(a),l=new Array(a),o=new Array(a),u=0;u<a;++u){var f=r[u],c=i[u],h=c.length,d=Ep(t.call(f,f&&f.__data__,u,r)),g=d.length,w=l[u]=new Array(g),y=s[u]=new Array(g),_=o[u]=new Array(h);n(f,c,w,y,_,d,e);for(var m=0,v=0,D,M;m<g;++m)if(D=w[m]){for(m>=v&&(v=m+1);!(M=y[v])&&++v<g;);D._next=M||null}}return s=new At(s,r),s._enter=l,s._exit=o,s}function Ep(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Cp(){return new At(this._exit||this._groups.map(bu),this._parents)}function Np(t,e,n){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function $p(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,s=Math.min(i,a),l=new Array(i),o=0;o<s;++o)for(var u=n[o],f=r[o],c=u.length,h=l[o]=new Array(c),d,g=0;g<c;++g)(d=u[g]||f[g])&&(h[g]=d);for(;o<i;++o)l[o]=n[o];return new At(l,this._parents)}function Fp(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],s;--i>=0;)(s=r[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function zp(t){t||(t=Pp);function e(c,h){return c&&h?t(c.__data__,h.__data__):!c-!h}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var s=n[a],l=s.length,o=i[a]=new Array(l),u,f=0;f<l;++f)(u=s[f])&&(o[f]=u);o.sort(e)}return new At(i,this._parents).order()}function Pp(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ip(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Rp(){return Array.from(this)}function Lp(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var s=r[i];if(s)return s}return null}function Hp(){let t=0;for(const e of this)++t;return t}function Wp(){return!this.node()}function Vp(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,s=i.length,l;a<s;++a)(l=i[a])&&t.call(l,l.__data__,a,i);return this}function qp(t){return function(){this.removeAttribute(t)}}function Up(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Zp(t,e){return function(){this.setAttribute(t,e)}}function Yp(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Bp(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Gp(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Jp(t,e){var n=_u(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Up:qp:typeof e=="function"?n.local?Gp:Bp:n.local?Yp:Zp)(n,e))}function wu(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Kp(t){return function(){this.style.removeProperty(t)}}function jp(t,e,n){return function(){this.style.setProperty(t,e,n)}}function xp(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Xp(t,e,n){return arguments.length>1?this.each((e==null?Kp:typeof e=="function"?xp:jp)(t,e,n??"")):Qp(this.node(),t)}function Qp(t,e){return t.style.getPropertyValue(e)||wu(t).getComputedStyle(t,null).getPropertyValue(e)}function e0(t){return function(){delete this[t]}}function t0(t,e){return function(){this[t]=e}}function n0(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function r0(t,e){return arguments.length>1?this.each((e==null?e0:typeof e=="function"?n0:t0)(t,e)):this.node()[t]}function ku(t){return t.trim().split(/^|\s+/)}function xi(t){return t.classList||new Su(t)}function Su(t){this._node=t,this._names=ku(t.getAttribute("class")||"")}Su.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Du(t,e){for(var n=xi(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Mu(t,e){for(var n=xi(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function i0(t){return function(){Du(this,t)}}function s0(t){return function(){Mu(this,t)}}function a0(t,e){return function(){(e.apply(this,arguments)?Du:Mu)(this,t)}}function l0(t,e){var n=ku(t+"");if(arguments.length<2){for(var r=xi(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?a0:e?i0:s0)(n,e))}function o0(){this.textContent=""}function u0(t){return function(){this.textContent=t}}function f0(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function c0(t){return arguments.length?this.each(t==null?o0:(typeof t=="function"?f0:u0)(t)):this.node().textContent}function d0(){this.innerHTML=""}function h0(t){return function(){this.innerHTML=t}}function m0(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function p0(t){return arguments.length?this.each(t==null?d0:(typeof t=="function"?m0:h0)(t)):this.node().innerHTML}function g0(){this.nextSibling&&this.parentNode.appendChild(this)}function _0(){return this.each(g0)}function y0(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function v0(){return this.each(y0)}function T0(t){var e=typeof t=="function"?t:yu(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function b0(){return null}function w0(t,e){var n=typeof t=="function"?t:yu(t),r=e==null?b0:typeof e=="function"?e:vu(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function k0(){var t=this.parentNode;t&&t.removeChild(this)}function S0(){return this.each(k0)}function D0(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function M0(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function O0(t){return this.select(t?M0:D0)}function A0(t){return arguments.length?this.property("__data__",t):this.node().__data__}function E0(t){return function(e){t.call(this,e,this.__data__)}}function C0(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function N0(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function $0(t,e,n){return function(){var r=this.__on,i,a=E0(e);if(r){for(var s=0,l=r.length;s<l;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function F0(t,e,n){var r=C0(t+""),i,a=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var o=0,u=l.length,f;o<u;++o)for(i=0,f=l[o];i<a;++i)if((s=r[i]).type===f.type&&s.name===f.name)return f.value}return}for(l=e?$0:N0,i=0;i<a;++i)this.each(l(r[i],e,n));return this}function Ou(t,e,n){var r=wu(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function z0(t,e){return function(){return Ou(this,t,e)}}function P0(t,e){return function(){return Ou(this,t,e.apply(this,arguments))}}function I0(t,e){return this.each((typeof e=="function"?P0:z0)(t,e))}function*R0(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,s;i<a;++i)(s=r[i])&&(yield s)}var L0=[null];function At(t,e){this._groups=t,this._parents=e}function H0(){return this}At.prototype={constructor:At,select:lp,selectAll:dp,selectChild:_p,selectChildren:bp,filter:wp,data:Ap,enter:kp,exit:Cp,join:Np,merge:$p,selection:H0,order:Fp,sort:zp,call:Ip,nodes:Rp,node:Lp,size:Hp,empty:Wp,each:Vp,attr:Jp,style:Xp,property:r0,classed:l0,text:c0,html:p0,raise:_0,lower:v0,append:T0,insert:w0,remove:S0,clone:O0,datum:A0,on:F0,dispatch:I0,[Symbol.iterator]:R0};function ai(t){return typeof t=="string"?new At([[document.querySelector(t)]],[document.documentElement]):new At([[t]],L0)}function W0(t){return t}var wr=1,kr=2,Mi=3,In=4,fa=1e-6;function V0(t){return"translate("+t+",0)"}function q0(t){return"translate(0,"+t+")"}function U0(t){return e=>+t(e)}function Z0(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Y0(){return!this.__axis}function Yr(t,e){var n=[],r=null,i=null,a=6,s=6,l=3,o=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===wr||t===In?-1:1,f=t===In||t===kr?"x":"y",c=t===wr||t===Mi?V0:q0;function h(d){var g=r??(e.ticks?e.ticks.apply(e,n):e.domain()),w=i??(e.tickFormat?e.tickFormat.apply(e,n):W0),y=Math.max(a,0)+l,_=e.range(),m=+_[0]+o,v=+_[_.length-1]+o,D=(e.bandwidth?Z0:U0)(e.copy(),o),M=d.selection?d.selection():d,A=M.selectAll(".domain").data([null]),k=M.selectAll(".tick").data(g,e).order(),H=k.exit(),q=k.enter().append("g").attr("class","tick"),P=k.select("line"),F=k.select("text");A=A.merge(A.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),k=k.merge(q),P=P.merge(q.append("line").attr("stroke","currentColor").attr(f+"2",u*a)),F=F.merge(q.append("text").attr("fill","currentColor").attr(f,u*y).attr("dy",t===wr?"0em":t===Mi?"0.71em":"0.32em")),d!==M&&(A=A.transition(d),k=k.transition(d),P=P.transition(d),F=F.transition(d),H=H.transition(d).attr("opacity",fa).attr("transform",function(U){return isFinite(U=D(U))?c(U+o):this.getAttribute("transform")}),q.attr("opacity",fa).attr("transform",function(U){var B=this.parentNode.__axis;return c((B&&isFinite(B=B(U))?B:D(U))+o)})),H.remove(),A.attr("d",t===In||t===kr?s?"M"+u*s+","+m+"H"+o+"V"+v+"H"+u*s:"M"+o+","+m+"V"+v:s?"M"+m+","+u*s+"V"+o+"H"+v+"V"+u*s:"M"+m+","+o+"H"+v),k.attr("opacity",1).attr("transform",function(U){return c(D(U)+o)}),P.attr(f+"2",u*a),F.attr(f,u*y).text(w),M.filter(Y0).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===kr?"start":t===In?"end":"middle"),M.each(function(){this.__axis=D})}return h.scale=function(d){return arguments.length?(e=d,h):e},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),h):n.slice()},h.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),h):r&&r.slice()},h.tickFormat=function(d){return arguments.length?(i=d,h):i},h.tickSize=function(d){return arguments.length?(a=s=+d,h):a},h.tickSizeInner=function(d){return arguments.length?(a=+d,h):a},h.tickSizeOuter=function(d){return arguments.length?(s=+d,h):s},h.tickPadding=function(d){return arguments.length?(l=+d,h):l},h.offset=function(d){return arguments.length?(o=+d,h):o},h}function B0(t){return Yr(wr,t)}function G0(t){return Yr(kr,t)}function J0(t){return Yr(Mi,t)}function K0(t){return Yr(In,t)}function j0(t){let e;return{c(){e=ft("g"),p(e,"class","axis"),p(e,"transform",t[1])},m(n,r){I(n,e,r),t[10](e)},p(n,[r]){r&2&&p(e,"transform",n[1])},i:he,o:he,d(n){n&&z(e),t[10](null)}}}function x0(t,e,n){let{innerHeight:r=0}=e,{width:i=0}=e,{yoffset:a=0}=e,{xoffset:s=0}=e,{position:l="left"}=e,{scale:o}=e,{nticks:u=5}=e,{colour:f=""}=e,c,h;function d(g){Fe[g?"unshift":"push"](()=>{h=g,n(0,h)})}return t.$$set=g=>{"innerHeight"in g&&n(3,r=g.innerHeight),"width"in g&&n(4,i=g.width),"yoffset"in g&&n(5,a=g.yoffset),"xoffset"in g&&n(6,s=g.xoffset),"position"in g&&n(7,l=g.position),"scale"in g&&n(8,o=g.scale),"nticks"in g&&n(9,u=g.nticks),"colour"in g&&n(2,f=g.colour)},t.$$.update=()=>{if(t.$$.dirty&1021){ai(h).selectAll("*").remove(),f===""&&n(2,f=getComputedStyle(document.documentElement).getPropertyValue("--font-color"));let g;switch(l){case"bottom":g=J0(o).tickSizeOuter(0).ticks(u),n(1,c=`translate(0, ${r})`);break;case"top":g=B0(o).tickSizeOuter(0).ticks(u),n(1,c="translate(0, 0)");break;case"left":g=K0(o).tickSizeOuter(0).ticks(u),n(1,c=`translate(${s}, ${a})`);break;case"right":g=G0(o).tickSizeOuter(0).ticks(u),n(1,c=`translate(${s+i}, ${a})`);break}ai(h).call(g).selectAll("path").style("stroke",f),ai(h).call(g).selectAll("text").style("fill",f)}},[h,c,f,r,i,a,s,l,o,u,d]}class Mn extends Ge{constructor(e){super(),Be(this,e,x0,j0,qe,{innerHeight:3,width:4,yoffset:5,xoffset:6,position:7,scale:8,nticks:9,colour:2})}}function ca(t,e,n=1){const r=[];for(let i=t;i<=e;i+=n)r.push(i);return r}function da(t){return t.reduce((e,n)=>e+n,0)/t.length}function ha(t,e,n){const r=t.slice();return r[32]=e[n],r[34]=n,r}function ma(t,e,n){const r=t.slice();return r[35]=e[n],r[37]=n,r}function pa(t,e,n){const r=t.slice();return r[38]=e[n],r[34]=n,r}function ga(t,e,n){const r=t.slice();return r[37]=e[n],r}function _a(t){let e,n,r,i,a,s,l,o,u,f,c,h,d;const g=[Q0,X0],w=[];function y(v,D){return v[9].length>0?0:1}s=y(t),l=w[s]=g[s](t),u=new Mn({props:{innerHeight:t[12],yoffset:"0",scale:t[11],position:"top",nticks:t[6][t[5]].params.periodHrs}});let _=me(t[6][t[5]].chartData.onsets),m=[];for(let v=0;v<_.length;v+=1)m[v]=ka(ha(t,_,v));return{c(){e=O("div"),r=Z(),i=ft("svg"),a=ft("g"),l.c(),o=ze(),re(u.$$.fragment);for(let v=0;v<m.length;v+=1)m[v].c();p(e,"class","overlay svelte-1hj8mph"),p(e,"style",n=t[7]?"display:block; left:"+t[8].x+"px; top:"+t[8].y+"px;":"display:none;"),p(a,"transform",f=`translate(${t[0].left},${t[0].top})`),p(i,"id","svgContainer"),ue(i,"transform-origin","top left"),ue(i,"transform","scale(1)"),p(i,"width",t[3]),p(i,"height",t[4])},m(v,D){I(v,e,D),I(v,r,D),I(v,i,D),T(i,a),w[s].m(a,null),T(a,o),te(u,a,null);for(let M=0;M<m.length;M+=1)m[M]&&m[M].m(i,null);c=!0,h||(d=[ie(i,"mousedown",t[16]),ie(i,"mousemove",t[17]),ie(i,"mouseup",t[18]),ie(i,"click",r1),ie(i,"dblclick",t[19])],h=!0)},p(v,D){(!c||D[0]&384&&n!==(n=v[7]?"display:block; left:"+v[8].x+"px; top:"+v[8].y+"px;":"display:none;"))&&p(e,"style",n);let M=s;s=y(v),s===M?w[s].p(v,D):(Ie(),R(w[M],1,1,()=>{w[M]=null}),Re(),l=w[s],l?l.p(v,D):(l=w[s]=g[s](v),l.c()),C(l,1),l.m(a,o));const A={};if(D[0]&4096&&(A.innerHeight=v[12]),D[0]&2048&&(A.scale=v[11]),D[0]&96&&(A.nticks=v[6][v[5]].params.periodHrs),u.$set(A),(!c||D[0]&1&&f!==(f=`translate(${v[0].left},${v[0].top})`))&&p(a,"transform",f),D[0]&2151){_=me(v[6][v[5]].chartData.onsets);let k;for(k=0;k<_.length;k+=1){const H=ha(v,_,k);m[k]?m[k].p(H,D):(m[k]=ka(H),m[k].c(),m[k].m(i,null))}for(;k<m.length;k+=1)m[k].d(1);m.length=_.length}(!c||D[0]&8)&&p(i,"width",v[3]),(!c||D[0]&16)&&p(i,"height",v[4])},i(v){c||(C(l),C(u.$$.fragment,v),c=!0)},o(v){R(l),R(u.$$.fragment,v),c=!1},d(v){v&&(z(e),z(r),z(i)),w[s].d(),ne(u),je(m,v),h=!1,st(d)}}}function X0(t){let e;return{c(){e=ft("text"),p(e,"x","50%"),p(e,"y","50%"),p(e,"text-anchor","middle"),p(e,"fill","red")},m(n,r){I(n,e,r)},p:he,i:he,o:he,d(n){n&&z(e)}}}function Q0(t){let e,n,r=me(t[9]),i=[];for(let s=0;s<r.length;s+=1)i[s]=Ta(pa(t,r,s));const a=s=>R(i[s],1,1,()=>{i[s]=null});return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=ze()},m(s,l){for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(s,l);I(s,e,l),n=!0},p(s,l){if(l[0]&5743){r=me(s[9]);let o;for(o=0;o<r.length;o+=1){const u=pa(s,r,o);i[o]?(i[o].p(u,l),C(i[o],1)):(i[o]=Ta(u),i[o].c(),C(i[o],1),i[o].m(e.parentNode,e))}for(Ie(),o=r.length;o<i.length;o+=1)a(o);Re()}},i(s){if(!n){for(let l=0;l<r.length;l+=1)C(i[l]);n=!0}},o(s){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)R(i[l]);n=!1},d(s){s&&z(e),je(i,s)}}}function ya(t){let e,n;return e=new Mn({props:{innerHeight:t[12],yoffset:t[37]*(t[2]+t[1]),xoffset:15*t[34],width:t[3]-t[0].left-t[0].right-15,scale:t[10][t[34]][t[37]],position:t[34]===0?"left":"right",nticks:t[2]/30+1,colour:t[6][t[5]].sourceData[t[34]].col.hex}}),{c(){re(e.$$.fragment)},m(r,i){te(e,r,i),n=!0},p(r,i){const a={};i[0]&4096&&(a.innerHeight=r[12]),i[0]&518&&(a.yoffset=r[37]*(r[2]+r[1])),i[0]&9&&(a.width=r[3]-r[0].left-r[0].right-15),i[0]&1536&&(a.scale=r[10][r[34]][r[37]]),i[0]&4&&(a.nticks=r[2]/30+1),i[0]&96&&(a.colour=r[6][r[5]].sourceData[r[34]].col.hex),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){ne(e,r)}}}function va(t){let e,n,r,i,a,s,l=t[6][t[5]].params.showAxes&&ya(t);return{c(){e=ft("path"),l&&l.c(),a=ze(),p(e,"d",n=t[9][t[34]][t[37]]),p(e,"fill",r=t[6][t[5]].sourceData[t[34]].col.hex),p(e,"fill-opacity",i=t[6][t[5]].sourceData[t[34]].col.alpha)},m(o,u){I(o,e,u),l&&l.m(o,u),I(o,a,u),s=!0},p(o,u){(!s||u[0]&512&&n!==(n=o[9][o[34]][o[37]]))&&p(e,"d",n),(!s||u[0]&96&&r!==(r=o[6][o[5]].sourceData[o[34]].col.hex))&&p(e,"fill",r),(!s||u[0]&96&&i!==(i=o[6][o[5]].sourceData[o[34]].col.alpha))&&p(e,"fill-opacity",i),o[6][o[5]].params.showAxes?l?(l.p(o,u),u[0]&96&&C(l,1)):(l=ya(o),l.c(),C(l,1),l.m(a.parentNode,a)):l&&(Ie(),R(l,1,1,()=>{l=null}),Re())},i(o){s||(C(l),s=!0)},o(o){R(l),s=!1},d(o){o&&(z(e),z(a)),l&&l.d(o)}}}function Ta(t){let e,n,r=me(ca(0,t[9][t[34]].length-1)),i=[];for(let s=0;s<r.length;s+=1)i[s]=va(ga(t,r,s));const a=s=>R(i[s],1,1,()=>{i[s]=null});return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=ze()},m(s,l){for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(s,l);I(s,e,l),n=!0},p(s,l){if(l[0]&5743){r=me(ca(0,s[9][s[34]].length-1));let o;for(o=0;o<r.length;o+=1){const u=ga(s,r,o);i[o]?(i[o].p(u,l),C(i[o],1)):(i[o]=va(u),i[o].c(),C(i[o],1),i[o].m(e.parentNode,e))}for(Ie(),o=r.length;o<i.length;o+=1)a(o);Re()}},i(s){if(!n){for(let l=0;l<r.length;l+=1)C(i[l]);n=!0}},o(s){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)R(i[l]);n=!1},d(s){s&&z(e),je(i,s)}}}function ba(t){let e,n=me(t[6][t[5]].chartData.onsets[t[34]].onsetTimes),r=[];for(let i=0;i<n.length;i+=1)r[i]=wa(ma(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=ze()},m(i,a){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,a);I(i,e,a)},p(i,a){if(a[0]&2151){n=me(i[6][i[5]].chartData.onsets[i[34]].onsetTimes);let s;for(s=0;s<n.length;s+=1){const l=ma(i,n,s);r[s]?r[s].p(l,a):(r[s]=wa(l),r[s].c(),r[s].m(e.parentNode,e))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){i&&z(e),je(r,i)}}}function wa(t){let e,n,r,i;return{c(){e=ft("circle"),p(e,"cx",n=t[11](t[35]-t[37]*t[6][t[5]].params.periodHrs)+t[0].left),p(e,"cy",r=t[37]*(t[2]+t[1])+t[2]+t[0].top),p(e,"r","2"),p(e,"fill",i=t[6][t[5]].sourceData[t[34]].col.hex),p(e,"stroke-width","1"),p(e,"stroke","black")},m(a,s){I(a,e,s)},p(a,s){s[0]&2145&&n!==(n=a[11](a[35]-a[37]*a[6][a[5]].params.periodHrs)+a[0].left)&&p(e,"cx",n),s[0]&7&&r!==(r=a[37]*(a[2]+a[1])+a[2]+a[0].top)&&p(e,"cy",r),s[0]&96&&i!==(i=a[6][a[5]].sourceData[a[34]].col.hex)&&p(e,"fill",i)},d(a){a&&z(e)}}}function ka(t){let e,n=t[32]&&ba(t);return{c(){n&&n.c(),e=ze()},m(r,i){n&&n.m(r,i),I(r,e,i)},p(r,i){r[32]?n?n.p(r,i):(n=ba(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(r){r&&z(e),n&&n.d(r)}}}function e1(t){var i,a;let e,n,r=((i=t[6][t[5]])==null?void 0:i.graph)==="actigram"&&((a=t[6][t[5]])==null?void 0:a.sourceData.length)>0&&_a(t);return{c(){r&&r.c(),e=ze()},m(s,l){r&&r.m(s,l),I(s,e,l),n=!0},p(s,l){var o,u;((o=s[6][s[5]])==null?void 0:o.graph)==="actigram"&&((u=s[6][s[5]])==null?void 0:u.sourceData.length)>0?r?(r.p(s,l),l[0]&96&&C(r,1)):(r=_a(s),r.c(),C(r,1),r.m(e.parentNode,e)):r&&(Ie(),R(r,1,1,()=>{r=null}),Re())},i(s){n||(C(r),n=!0)},o(s){R(r),n=!1},d(s){s&&z(e),r&&r.d(s)}}}function t1(t,e){const r=t.filter(s=>!isNaN(s)&&s!==0).slice().sort((s,l)=>s-l),i=Math.ceil(e/100*r.length)-1;return r[i]}function n1(t,e){let n=-1,r=-1/0;for(let i=0;i<=t.length-e.length;i++){let a=0;for(let s=0;s<e.length;s++)a+=t[i+s]*e[s];a>r&&(r=a,n=i)}return n}const r1=t=>{t.preventDefault()};function i1(t,e,n){let r,i,a,s,l,o,u,f,c,h,d;ye(t,_t,N=>n(5,f=N)),ye(t,pe,N=>n(6,c=N)),ye(t,Hn,N=>n(22,h=N)),ye(t,rt,N=>n(23,d=N));let g={top:50,bottom:20,left:80,right:80},w=!1,y={x:0,y:0},_="",m=[],v=Ft().domain([0,100]).range([0,u]);function D(N){N?n(0,g={top:50,bottom:20,left:80,right:80}):n(0,g={top:50,bottom:20,left:50,right:50})}function M(N,V,J,$){var K;if(((K=c[f])==null?void 0:K.graph)==="actigram"){let x;return c[f].chartData.data.length>0||A(c[f].sourceData,c[f].params.binSizeHrs,c[f].params.periodHrs,c[f].params.startTime),x=c[f].chartData.data[0].time.length,n(4,r=N.top+N.bottom+(V+J)*x-J),r<N.top+N.bottom&&n(4,r=N.top+N.bottom),r}}function A(N,V,J,$){var K;if(((K=c[f])==null?void 0:K.graph)==="actigram"){let x,j,Te={data:[{time:[],values:[],day:[],scaleLimits:[]}],startOffsets:[],onsets:[]};N.forEach((we,Y)=>{we.chartvalues.time.field!=""&&(x=Sn(Y,we.chartvalues.time)),we.chartvalues.values.field!=""&&(j=Sn(Y,we.chartvalues.values));const Ee=au(x,j,V);Te.startOffsets=k($,f),Y>0&&(Te.data[Y]={time:[],values:[],day:[],scaleLimits:[]}),Te.data[Y].time=Ee.time,Te.data[Y].values=Ee.values;let le=Math.floor(Ee.time[0]/J);for(let ve=0;ve<Ee.time.length;ve++){const De=Math.floor(Ee.time[ve]/J);if(Te.data[Y].day[ve]=De,De===le){const ge=Ee.values[ve];Te.data[Y].scaleLimits[De]?(Te.data[Y].scaleLimits[De].min=Math.min(ge,Te.data[Y].scaleLimits[De].min),Te.data[Y].scaleLimits[De].max=Math.max(ge,Te.data[Y].scaleLimits[De].max)):Te.data[Y].scaleLimits[De]={min:ge,max:ge}}else le=De,Te.data[Y].scaleLimits[le]={min:Ee.values[ve],max:Ee.values[ve]}}}),$e(pe,c[f].chartData=Te,c)}}function k(N,V){let J=[];if(c[V].graph==="actigram"&&c[V].sourceData.length>0){J=Array.from({length:c[V].sourceData.length},()=>0);for(let $=0;$<c[V].sourceData.length;$++){const K=c[V].sourceData[$].chartvalues.time.field,x=d.findIndex(j=>j.id===c[V].sourceData[$].tableID);if(d[x].data[K].type=="time"){const j=d[x].data[K].data[0];J[$]=oh(N,j,d[x].data[K].timeFormat);const Te=c[f].params.periodHrs*c[f].params.doublePlot;J[$]>=Te&&(J[$]=0,$e(pe,c[f].params.startTime=fh(j,d[x].data[K].timeFormat),c))}}}else J=Array.from({length:1},()=>0);return $e(pe,c[f].chartData.startOffsets=J,c),J}function H(N,V,J,$,K){if(N&&c[f].graph==="actigram"){const j=$/K,Te=c[f].chartData.data.length;n(11,v=Ft().domain([0,c[f].params.periodHrs*c[f].params.doublePlot]).range([0,u]));const we=v(i/2);n(9,_=[]),n(10,m=[]);for(let Y=0;Y<Te;Y++){n(9,_[Y]=[],_),n(10,m[Y]=[],m);const Ee=c[f].chartData.data[Y].scaleLimits.length;var x=Ft().domain([Math.min(...c[f].chartData.data[Y].values),Math.max(...c[f].chartData.data[Y].values)]).range([V,0]);for(let le=0;le<Ee;le++){n(9,_[Y][le]="",_);const ve=le*(V+l);if(c[f].params.scaleAxes==="byPlot"){let ee=c[f].chartData.data[Y].scaleLimits[le].min,Oe=c[f].chartData.data[Y].scaleLimits[le].max;for(let xe=le;xe<Math.min(le+J,c[f].chartData.data[Y].scaleLimits.length);xe++)c[f].chartData.data[Y].scaleLimits[xe].min<ee&&(ee=c[f].chartData.data[Y].scaleLimits[xe].min),c[f].chartData.data[Y].scaleLimits[xe].max>Oe&&(Oe=c[f].chartData.data[Y].scaleLimits[xe].max);x=Ft().domain([ee,Oe]).range([V,0])}n(10,m[Y][le]=x,m);const De=`M0,${le*(V+l)+V}`;n(9,_[Y][le]=_[Y][le]+De+" ",_);for(let ee=le*j;ee<Math.min(N.data[Y].time.length,(le+J)*j);ee++){const Oe=N.data[Y].time[ee]-le*$,xe=N.data[Y].values[ee],ke=x(xe)+ve,Qe=v(Oe),ot=`${Qe-we},${ve+V}  ${Qe-we},${ke} ${Qe+we},${ke} ${Qe+we},${ve+V}`;Qe!=null&&Qe!=null&&!isNaN(Qe)&&ke!=null&&ke!=null&&!isNaN(ke)&&n(9,_[Y][le]=_[Y][le]+ot+" ",_)}const ge=`${v($*J)},${le*(V+l)+V} 0,${le*(V+l)+V}`;n(9,_[Y][le]=_[Y][le]+ge+" Z",_)}}for(let Y=0;Y<Te;Y++)c[f].sourceData[Y].showOnsets&&q(Y);return _}}function q(N){const K=c[f].params.binSizeHrs,x=P(3,3,K);c[f].chartData.data[N].time;const j=c[f].chartData.data[N].values,Te=t1(j,60),we=j.map(ke=>ke<=Te||isNaN(ke)?-1:1),Ee=c[f].params.periodHrs/K;c[f].params.doublePlot;let le=[],ve=[];for(let ke=0;ke<we.length/Ee;ke++)le[ke]=n1(we.slice(ke*Ee,(ke+1)*Ee),x)+Math.round(3/K),ve[ke]=c[f].chartData.data[N].time[le[ke]+ke*Ee];const De=Nh(Ch(ve));h.push({display:"Estimated period for "+c[f].sourceData[N].name+" = "+De.toFixed(3)}),Hn.set(h);let ge=[];for(let ke=0;ke<ve.length;ke++)ge[ke]=v(ve[ke]-ke*c[f].params.periodHrs)+g.left,ke*(s+l)+s+g.top;const ee=c[f].params.periodHrs-De,Oe=Bi(ge),xe=ge.reduce((ke,Qe,ot)=>Math.abs(Qe-Oe)<Math.abs(ge[ke]-Oe)?ot:ke,0);$e(pe,c[f].chartData.onsets[N]={onsetTimes:ve,estimate:De,median:Oe,estDay:xe,moveXDay:v(ee),slope:v(ee)/(c[f].params.dayHeight+c[f].params.betweenHeight)},c)}function P(N,V,J){const $=Math.round(N/J),K=Math.round(V/J);return Array.from({length:$},()=>-1).concat(Array.from({length:K},()=>1))}function F(N){if(N.offsetX<g.left||N.offsetX>g.left+a||N.offsetY<g.top||N.offsetY>g.top+o)return null;const V=c[f].params.periodHrs,J=c[f].params.doublePlot,$=Math.floor((N.offsetY-g.top)/(s+l)),K=(N.offsetX-g.left)/u*V*J;return $*V+K}function U(N){N&&(h.push({display:B(N)}),Hn.set(h))}function B(N){Math.floor(N/c[f].params.periodHrs);let V=Math.round((N-c[f].chartData.data[0].time[0])/c[f].params.binSizeHrs);V<0&&(V=0);let J="";J=ch(c[f].params.startTime,c[f].chartData.data[0].time[V]);for(let $=0;$<c[f].chartData.data.length;$++)J+="<br><a style='color:"+c[f].sourceData[$].col.hex+";''>"+Eh(c[f].sourceData[$].tableID,c[f].sourceData[$].chartvalues.values.field)+": "+c[f].chartData.data[$].values[V].toFixed(2)+"</a>";return J}function S(N){n(8,y={x:10+N.pageX,y:-10+N.pageY}),(N.offsetX<g.left||N.offsetX>g.left+u||N.offsetY<g.top||N.offsetY>g.top+o)&&n(7,w=!1);try{var V=document.querySelector(".overlay");const J=F(N);V.innerHTML=B(J)}catch{n(7,w=!1)}}const b=N=>{N.preventDefault(),n(7,w=!0),S(N)},E=N=>{w&&(N.preventDefault(),F(N),S(N))},W=N=>{N.preventDefault(),n(7,w=!1),F(N)},G=N=>{N.preventDefault();const V=F(N);U(V)};return t.$$.update=()=>{var N,V,J,$,K,x,j,Te,we,Y,Ee,le,ve,De,ge,ee;t.$$.dirty[0]&96&&D((N=c[f])==null?void 0:N.params.showAxes),t.$$.dirty[0]&96&&n(2,s=(V=c[f])==null?void 0:V.params.dayHeight),t.$$.dirty[0]&96&&n(1,l=(J=c[f])==null?void 0:J.params.betweenHeight),t.$$.dirty[0]&103&&n(4,r=M(g,s,l,($=c[f])==null?void 0:$.params.periodHrs,(K=c[f])==null?void 0:K.chartData)),t.$$.dirty[0]&96&&(i=(x=c[f])==null?void 0:x.params.binSizeHrs),t.$$.dirty[0]&96&&n(3,a=(j=c[f])==null?void 0:j.params.width),t.$$.dirty[0]&17&&n(12,o=r-g.top-g.bottom),t.$$.dirty[0]&9&&(u=a-g.left-g.right),t.$$.dirty[0]&96&&A((Te=c[f])==null?void 0:Te.sourceData,(we=c[f])==null?void 0:we.params.binSizeHrs,(Y=c[f])==null?void 0:Y.params.periodHrs,(Ee=c[f])==null?void 0:Ee.params.startTime),t.$$.dirty[0]&96&&n(9,_=H((le=c[f])==null?void 0:le.chartData,(ve=c[f])==null?void 0:ve.params.dayHeight,(De=c[f])==null?void 0:De.params.doublePlot,(ge=c[f])==null?void 0:ge.params.periodHrs,(ee=c[f])==null?void 0:ee.params.binSizeHrs))},[g,l,s,a,r,f,c,w,y,_,m,v,o,F,U,S,b,E,W,G]}class s1 extends Ge{constructor(e){super(),Be(this,e,i1,e1,qe,{},null,[-1,-1])}}function Sa(t){var Qe,ot;let e,n,r,i,a,s=yi(t[1][t[0]].params.startTime)+"",l,o,u,f,c,h,d,g,w,y,_,m,v,D,M,A,k,H,q,P,F,U,B,S,b,E,W,G,N,V,J,$,K,x,j,Te,we;function Y(ce){t[6](ce)}let Ee={min:10,max:40,limits:[1,1/0],label:"Period (hrs):"};t[1][t[0]].params.periodHrs!==void 0&&(Ee.value=t[1][t[0]].params.periodHrs),h=new et({props:Ee}),Fe.push(()=>Ye(h,"value",Y));function le(ce){t[7](ce)}let ve={min:.05,max:1,step:"0.05",limits:[.05,(Qe=t[1][t[0]])==null?void 0:Qe.params.periodHrs],label:"Bin size (hrs):"};t[1][t[0]].params.binSizeHrs!==void 0&&(ve.value=t[1][t[0]].params.binSizeHrs),y=new et({props:ve}),Fe.push(()=>Ye(y,"value",le));function De(ce){t[8](ce)}let ge={min:100,max:1e3,step:"1",limits:[5,1/0],label:"Width: "};t[1][t[0]].params.width!==void 0&&(ge.value=t[1][t[0]].params.width),D=new et({props:ge}),Fe.push(()=>Ye(D,"value",De));function ee(ce){t[9](ce)}let Oe={min:10,max:30,step:"1",limits:[5,1/0],label:"Day Height:"};t[1][t[0]].params.dayHeight!==void 0&&(Oe.value=t[1][t[0]].params.dayHeight),H=new et({props:Oe}),Fe.push(()=>Ye(H,"value",ee));function xe(ce){t[10](ce)}let ke={min:1,max:20,step:"1",limits:[-((ot=t[1][t[0]])==null?void 0:ot.params.dayHeight),1/0],label:"Between Height:"};return t[1][t[0]].params.betweenHeight!==void 0&&(ke.value=t[1][t[0]].params.betweenHeight),U=new et({props:ke}),Fe.push(()=>Ye(U,"value",xe)),{c(){e=O("div"),n=O("div"),r=O("span"),r.textContent="Start time:",i=Z(),a=O("div"),l=Me(s),o=Z(),u=O("input"),f=Z(),c=O("div"),re(h.$$.fragment),g=Z(),w=O("div"),re(y.$$.fragment),m=Z(),v=O("div"),re(D.$$.fragment),A=Z(),k=O("div"),re(H.$$.fragment),P=Z(),F=O("div"),re(U.$$.fragment),S=Z(),b=O("div"),E=O("a"),E.textContent="y-Axes:",W=Z(),G=O("a"),G.textContent="Show",N=Z(),V=O("input"),J=Z(),$=O("select"),K=O("option"),K.textContent="By row / plot",x=O("option"),x.textContent="Overall",p(r,"class","svelte-1xir1xc"),p(a,"class","datepicklabel datepicklabelshow svelte-1xir1xc"),ue(a,"display","inline-block"),ue(a,"margin-right","2px"),ue(a,"margin-left","auto"),ue(a,"text-align","center"),p(u,"class","dateInput svelte-1xir1xc"),p(u,"type","datetime-local"),p(u,"id","startTime"),p(u,"name","startTime"),p(n,"class","sliderContainer svelte-1xir1xc"),p(c,"class","sliderContainer svelte-1xir1xc"),p(w,"class","sliderContainer svelte-1xir1xc"),p(v,"class","sliderContainer svelte-1xir1xc"),p(k,"class","sliderContainer svelte-1xir1xc"),p(F,"class","sliderContainer svelte-1xir1xc"),p(E,"class","svelte-1xir1xc"),p(G,"class","svelte-1xir1xc"),p(V,"type","checkbox"),p(V,"class","svelte-1xir1xc"),K.__value="byPlot",it(K,K.__value),p(K,"class","svelte-1xir1xc"),x.__value="overall",it(x,x.__value),p(x,"class","svelte-1xir1xc"),p($,"class","selectField svelte-1xir1xc"),ue($,"margin-right","0",1),t[1][t[0]].params.scaleAxes===void 0&&qn(()=>t[12].call($)),p(b,"class","sliderContainer svelte-1xir1xc"),p(e,"class","chartControls svelte-1xir1xc")},m(ce,fe){I(ce,e,fe),T(e,n),T(n,r),T(n,i),T(n,a),T(a,l),T(n,o),T(n,u),it(u,t[1][t[0]].params.startTime),T(e,f),T(e,c),te(h,c,null),T(e,g),T(e,w),te(y,w,null),T(e,m),T(e,v),te(D,v,null),T(e,A),T(e,k),te(H,k,null),T(e,P),T(e,F),te(U,F,null),T(e,S),T(e,b),T(b,E),T(b,W),T(b,G),T(b,N),T(b,V),V.checked=t[1][t[0]].params.showAxes,T(b,J),T(b,$),T($,K),T($,x),Sr($,t[1][t[0]].params.scaleAxes,!0),j=!0,Te||(we=[ie(a,"dblclick",t[3]),ie(u,"input",t[4]),ie(u,"keydown",t[5]),ie(V,"change",t[11]),ie($,"change",t[12])],Te=!0)},p(ce,fe){var at,L;(!j||fe&3)&&s!==(s=yi(ce[1][ce[0]].params.startTime)+"")&&He(l,s),fe&3&&it(u,ce[1][ce[0]].params.startTime);const Ae={};!d&&fe&3&&(d=!0,Ae.value=ce[1][ce[0]].params.periodHrs,Ze(()=>d=!1)),h.$set(Ae);const tt={};fe&3&&(tt.limits=[.05,(at=ce[1][ce[0]])==null?void 0:at.params.periodHrs]),!_&&fe&3&&(_=!0,tt.value=ce[1][ce[0]].params.binSizeHrs,Ze(()=>_=!1)),y.$set(tt);const Pe={};!M&&fe&3&&(M=!0,Pe.value=ce[1][ce[0]].params.width,Ze(()=>M=!1)),D.$set(Pe);const Ue={};!q&&fe&3&&(q=!0,Ue.value=ce[1][ce[0]].params.dayHeight,Ze(()=>q=!1)),H.$set(Ue);const We={};fe&3&&(We.limits=[-((L=ce[1][ce[0]])==null?void 0:L.params.dayHeight),1/0]),!B&&fe&3&&(B=!0,We.value=ce[1][ce[0]].params.betweenHeight,Ze(()=>B=!1)),U.$set(We),fe&3&&(V.checked=ce[1][ce[0]].params.showAxes),fe&3&&Sr($,ce[1][ce[0]].params.scaleAxes)},i(ce){j||(C(h.$$.fragment,ce),C(y.$$.fragment,ce),C(D.$$.fragment,ce),C(H.$$.fragment,ce),C(U.$$.fragment,ce),j=!0)},o(ce){R(h.$$.fragment,ce),R(y.$$.fragment,ce),R(D.$$.fragment,ce),R(H.$$.fragment,ce),R(U.$$.fragment,ce),j=!1},d(ce){ce&&z(e),ne(h),ne(y),ne(D),ne(H),ne(U),Te=!1,st(we)}}}function a1(t){let e,n,r=t[0]>=0&&Sa(t);return{c(){r&&r.c(),e=ze()},m(i,a){r&&r.m(i,a),I(i,e,a),n=!0},p(i,[a]){i[0]>=0?r?(r.p(i,a),a&1&&C(r,1)):(r=Sa(i),r.c(),C(r,1),r.m(e.parentNode,e)):r&&(Ie(),R(r,1,1,()=>{r=null}),Re())},i(i){n||(C(r),n=!0)},o(i){R(r),n=!1},d(i){i&&z(e),r&&r.d(i)}}}function l1(t,e,n){let r,i;ye(t,_t,_=>n(0,r=_)),ye(t,pe,_=>n(1,i=_));let a=!0;function s(){a=!a;const _=document.querySelector(".datepicklabel"),m=document.querySelector(".dateInput");a?(_.style.display="inline-block",m.style.width="18px"):(_.style.display="none",m.style.width="60%")}const l=_=>{s()};function o(){i[r].params.startTime=this.value,pe.set(i)}const u=_=>{_.key==="Enter"&&s()};function f(_){t.$$.not_equal(i[r].params.periodHrs,_)&&(i[r].params.periodHrs=_,pe.set(i))}function c(_){t.$$.not_equal(i[r].params.binSizeHrs,_)&&(i[r].params.binSizeHrs=_,pe.set(i))}function h(_){t.$$.not_equal(i[r].params.width,_)&&(i[r].params.width=_,pe.set(i))}function d(_){t.$$.not_equal(i[r].params.dayHeight,_)&&(i[r].params.dayHeight=_,pe.set(i))}function g(_){t.$$.not_equal(i[r].params.betweenHeight,_)&&(i[r].params.betweenHeight=_,pe.set(i))}function w(){i[r].params.showAxes=this.checked,pe.set(i)}function y(){i[r].params.scaleAxes=Pl(this),pe.set(i)}return[r,i,s,l,o,u,f,c,h,d,g,w,y]}class o1 extends Ge{constructor(e){super(),Be(this,e,l1,a1,qe,{})}}function u1(t,e,n,r,i){var a=function(u){return u>0?1:u<0?-1:0},s=a(t(e));a(t(n));for(var l=.5*(e+n),o=t(l);n-e>i&&n-e>r*Math.abs(l)&&Math.abs(o)>i;)o*s>0?(e=l,s=a(o)):n=l,l=.5*(e+n),o=t(l);return l}function Au(t){var e=[.5723649429247001,0,-.1207822376352452,0,.2846828704729192,.6931471805599453,1.200973602347074,1.791759469228055,2.453736570842442,3.178053830347946,3.957813967618717,4.787491742782046,5.662562059857142,6.579251212010101,7.534364236758733,8.525161361065415,9.549267257300997,10.60460290274525,11.68933342079727,12.80182748008147,13.94062521940376,15.10441257307552,16.29200047656724,17.50230784587389,18.73434751193645,19.98721449566188,21.2600761562447,22.55216385312342,23.86276584168909,25.19122118273868,26.53691449111561,27.89927138384089,29.27775451504082,30.67186010608068,32.08111489594736,33.50507345013689,34.94331577687682,36.39544520803305,37.86108650896109,39.3398841871995,40.8315009745308,42.33561646075349,43.85192586067515,45.3801388984769,46.91997879580877,48.47118135183522,50.03349410501914,51.60667556776437,53.19049452616927,54.78472939811231,56.38916764371993,58.00360522298051,59.62784609588432,61.26170176100199,62.9049908288765,64.55753862700632,66.21917683354901,67.88974313718154,69.56908092082364,71.257038967168,72.9534711841694,74.65823634883016,76.37119786778275,78.0922235533153,79.82118541361436,81.55795945611503,83.30242550295004,85.05446701758153,86.81397094178108,88.58082754219767,90.35493026581838,92.1361756036871,93.92446296229978,95.71969454214322,97.52177522288821,99.33061245478741,101.1461161558646,102.9681986145138,104.7967743971583,106.6317602606435,108.4730750690654,110.3206397147574,112.1743770431779,114.0342117814617,115.9000704704145,117.7718813997451,119.6495745463449,121.5330815154387,123.4223354844396,125.3172711493569,127.2178246736118,129.1239336391272,131.0355369995686,132.9525750356163,134.8749893121619,136.8027226373264,138.7357190232026,140.6739236482343,142.617282821146,144.5657439463449,146.5192554907206,148.477766951773,150.4412288270019,152.4095925844974,154.3828106346716,156.3608363030788,158.3436238042692,160.3311282166309,162.3233054581712,164.3201122631952,166.3215061598404,168.3274454484277,170.3378891805928,172.3527971391628,174.3721298187452,176.3958484069973,178.4239147665485,180.4562914175438,182.4929415207863,184.5338288614495,186.5789178333379,188.6281734236716,190.6815611983747,192.7390472878449,194.8005983731871,196.86618167289,198.9357649299295,201.0093163992815,203.0868048358281,205.1681994826412,207.2534700596299,209.3425867525368,211.435520202271,213.5322414945632,215.6327221499328,217.7369341139542,219.8448497478113,221.9564418191303,224.0716834930795,226.1905483237276,228.3130102456502,230.4390435657769,232.5686229554685,234.7017234428182,236.8383204051684,238.9783895618343,241.121906967029,243.2688490029827,245.4191923732478,247.5729140961868,249.7299914986334,251.8904022097232,254.0541241548883,256.2211355500095,258.3914148957209,260.5649409718632,262.7416928320802,264.9216497985528,267.1047914568685,269.2910976510198,271.4805484785288,273.6731242856937,275.8688056629533,278.0675734403662,280.2694086832001,282.4742926876305,284.6822069765408,286.893133295427,289.1070536083976,291.3239500942703,293.5438051427607,295.7666013507606,297.9923215187034,300.2209486470141,302.4524659326413,304.6868567656687,306.9241047260048,309.1641935801469,311.4071072780187,313.652829949879,315.9013459032995,318.1526396202093,320.4066957540055,322.6634991267262,324.9230347262869,327.1852877037753,329.4502433708053,331.7178871969285,333.9882048070999,336.2611819791985,338.5368046415996,340.815058870799,343.0959308890863,345.3794070622669,347.6654738974312,349.9541180407703,352.245326275435,354.5390855194408,356.835382823613,359.1342053695754];if(t<201)return e[t-1];var n=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],r=2.5066282746310007,i=.5*t,a=i,s=i+5.5;s=(i+.5)*Math.log(s)-s;for(var l=1.000000000190015,o=0;o<6;o++)a=a+1,l=l+n[o]/a;var u=s+Math.log(r*l/i);return u}function Eu(t,e){for(var n=1e8,r=1e-8,i=Au(t),a=.5*t,s=a,l=1/a,o=l,t=1;t<n&&(s++,o=o*e/s,l+=o,!(o<l*r));t++);return l*Math.exp(-e+a*Math.log(e)-i)}function Cu(t,e){for(var n=1e8,r=1e-8,i=Au(t),a=.5*t,s=e+1-a,l=1e-300,o=1/l,u=1/s,f=u,c=1;c<n;c++){var h=-c*(c-a);s+=2,u=h*u+s,Math.abs(u)<l&&(u=l),o=s+h/o,Math.abs(o)<l&&(o=l),u=1/u;var d=u*o;if(f=f*d,Math.abs(d-1)<r)break}return f*Math.exp(-e+a*Math.log(e)-i)}function f1(t,e){return e<.5*t+1?Eu(t,e):1-Cu(t,e)}function c1(t,e){return e<.5*t+1?1-Eu(t,e):Cu(t,e)}function Oi(t,e,n=1){return n==1?c1(e,.5*t):f1(e,.5*t)}function d1(t,e,n=1){if(n==1){if(t==0)return 1/0;if(t==1)return 0}if(n==2){if(t==0)return 0;if(t==1)return 1/0}var r=1e-6,i=0,a=Math.sqrt(2*e),s=2*a,l=1;for(n==2&&(l=-1);l*Oi(s,e,n)>t*l;)i=s,s+=2*a;var o=function(u){return Oi(u,e,n)-t};return u1(o,i,s,r,0)}function h1(t){let e,n;return{c(){e=O("div"),n=Me(t[0]),ue(e,"top",t[2]+5+"px"),ue(e,"left",t[1]+5+"px"),p(e,"class","svelte-1wb4l5o")},m(r,i){I(r,e,i),T(e,n)},p(r,[i]){i&1&&He(n,r[0]),i&4&&ue(e,"top",r[2]+5+"px"),i&2&&ue(e,"left",r[1]+5+"px")},i:he,o:he,d(r){r&&z(e)}}}function m1(t,e,n){let{tipcontent:r}=e,{x:i}=e,{y:a}=e;return t.$$set=s=>{"tipcontent"in s&&n(0,r=s.tipcontent),"x"in s&&n(1,i=s.x),"y"in s&&n(2,a=s.y)},[r,i,a]}class p1 extends Ge{constructor(e){super(),Be(this,e,m1,h1,qe,{tipcontent:0,x:1,y:2})}}function Nu(t){let e,n;function r(s){e=t.getAttribute("tipcontent"),t.removeAttribute("title"),n=new p1({props:{tipcontent:e,x:s.pageX,y:s.pageY},target:document.body})}function i(s){n.$set({x:s.pageX,y:s.pageY})}function a(){n.$destroy(),t.setAttribute("tipcontent",e)}return t.addEventListener("mouseover",r),t.addEventListener("mouseleave",a),t.addEventListener("mousemove",i),{destroy(){t.removeEventListener("mouseover",r),t.removeEventListener("mouseleave",a),t.removeEventListener("mousemove",i)}}}function Da(t,e,n){const r=t.slice();return r[11]=e[n],r[13]=n,r}function Ma(t,e,n){const r=t.slice();return r[14]=e[n],r[16]=n,r}function Oa(t){let e,n,r,i,a,s,l,o,u,f,c,h,d,g;function w(m,v){return m[3][m[2]].chartData.data.periods.length>0?_1:g1}let y=w(t),_=y(t);return a=new Mn({props:{innerHeight:t[6],yoffset:"0",scale:t[3][t[2]].chartData.xScale,position:"bottom"}}),s=new Mn({props:{innerHeight:t[6],yoffset:"0",scale:t[3][t[2]].chartData.yScale,position:"left"}}),{c(){e=O("div"),n=ft("svg"),r=ft("g"),_.c(),i=ze(),re(a.$$.fragment),re(s.$$.fragment),l=ft("text"),o=Me("Chi-sq"),f=ft("text"),c=Me("Period"),ue(l,"text-anchor","middle"),p(l,"transform",u=`translate(-50,${t[6]/2}) rotate(-90)     `),ue(f,"text-anchor","middle"),p(f,"x",h=t[7]/2),p(f,"y",d=t[6]+32),p(r,"transform",`translate(${t[8].left},${t[8].top})`),p(n,"id","svgContainer"),p(n,"width",t[1]),p(n,"height",t[0]),ue(n,"transform-origin","top left"),ue(n,"transform","scale(1)"),p(e,"class","periodogram")},m(m,v){I(m,e,v),T(e,n),T(n,r),_.m(r,null),T(r,i),te(a,r,null),te(s,r,null),T(r,l),T(l,o),T(r,f),T(f,c),g=!0},p(m,v){y===(y=w(m))&&_?_.p(m,v):(_.d(1),_=y(m),_&&(_.c(),_.m(r,i)));const D={};v&64&&(D.innerHeight=m[6]),v&12&&(D.scale=m[3][m[2]].chartData.xScale),a.$set(D);const M={};v&64&&(M.innerHeight=m[6]),v&12&&(M.scale=m[3][m[2]].chartData.yScale),s.$set(M),(!g||v&64&&u!==(u=`translate(-50,${m[6]/2}) rotate(-90)     `))&&p(l,"transform",u),(!g||v&128&&h!==(h=m[7]/2))&&p(f,"x",h),(!g||v&64&&d!==(d=m[6]+32))&&p(f,"y",d),(!g||v&2)&&p(n,"width",m[1]),(!g||v&1)&&p(n,"height",m[0])},i(m){g||(C(a.$$.fragment,m),C(s.$$.fragment,m),g=!0)},o(m){R(a.$$.fragment,m),R(s.$$.fragment,m),g=!1},d(m){m&&z(e),_.d(),ne(a),ne(s)}}}function g1(t){let e,n;return{c(){e=ft("text"),n=Me("No Data "),p(e,"x","50%"),p(e,"y","50%"),p(e,"text-anchor","middle"),p(e,"fill","red")},m(r,i){I(r,e,i),T(e,n)},p:he,d(r){r&&z(e)}}}function _1(t){let e,n=me(t[3][t[2]].chartData.data.periods),r=[];for(let i=0;i<n.length;i+=1)r[i]=Ea(Da(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=ze()},m(i,a){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,a);I(i,e,a)},p(i,a){if(a&60){n=me(i[3][i[2]].chartData.data.periods);let s;for(s=0;s<n.length;s+=1){const l=Da(i,n,s);r[s]?r[s].p(l,a):(r[s]=Ea(l),r[s].c(),r[s].m(e.parentNode,e))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){i&&z(e),je(r,i)}}}function Aa(t){let e,n,r,i,a,s,l,o;return{c(){e=ft("circle"),p(e,"tipcontent",n=t[14].toFixed(2)+", "+t[3][t[2]].chartData.data.power[t[13]][t[16]].toFixed(2)+" ("+t[3][t[2]].chartData.data.pvalue[t[13]][t[16]].toFixed(2)+")"),p(e,"cx",r=t[3][t[2]].chartData.xScale(t[14])),p(e,"cy",i=t[3][t[2]].chartData.yScale(t[3][t[2]].chartData.data.power[t[13]][t[16]])),p(e,"r","3"),p(e,"fill",a=t[3][t[2]].sourceData[t[13]].col.hex),p(e,"fill-opacity",s=t[3][t[2]].sourceData[t[13]].col.alpha)},m(u,f){I(u,e,f),l||(o=Fi(Nu.call(null,e)),l=!0)},p(u,f){f&12&&n!==(n=u[14].toFixed(2)+", "+u[3][u[2]].chartData.data.power[u[13]][u[16]].toFixed(2)+" ("+u[3][u[2]].chartData.data.pvalue[u[13]][u[16]].toFixed(2)+")")&&p(e,"tipcontent",n),f&12&&r!==(r=u[3][u[2]].chartData.xScale(u[14]))&&p(e,"cx",r),f&12&&i!==(i=u[3][u[2]].chartData.yScale(u[3][u[2]].chartData.data.power[u[13]][u[16]]))&&p(e,"cy",i),f&12&&a!==(a=u[3][u[2]].sourceData[u[13]].col.hex)&&p(e,"fill",a),f&12&&s!==(s=u[3][u[2]].sourceData[u[13]].col.alpha)&&p(e,"fill-opacity",s)},d(u){u&&z(e),l=!1,o()}}}function Ea(t){let e,n,r,i,a,s,l,o=me(t[11]),u=[];for(let f=0;f<o.length;f+=1)u[f]=Aa(Ma(t,o,f));return{c(){for(let f=0;f<u.length;f+=1)u[f].c();e=ft("path"),a=ft("path"),p(e,"d",n=t[4][t[13]]),p(e,"fill","none"),p(e,"stroke",r=t[3][t[2]].sourceData[t[13]].col.hex),p(e,"stroke-opacity",i=t[3][t[2]].sourceData[t[13]].col.alpha),p(e,"stroke-width","2px"),p(a,"d",s=t[5][t[13]]),p(a,"fill","none"),p(a,"stroke","red"),p(a,"stroke-opacity",l=t[3][t[2]].sourceData[t[13]].col.alpha),p(a,"stroke-width","1px")},m(f,c){for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(f,c);I(f,e,c),I(f,a,c)},p(f,c){if(c&12){o=me(f[11]);let h;for(h=0;h<o.length;h+=1){const d=Ma(f,o,h);u[h]?u[h].p(d,c):(u[h]=Aa(d),u[h].c(),u[h].m(e.parentNode,e))}for(;h<u.length;h+=1)u[h].d(1);u.length=o.length}c&16&&n!==(n=f[4][f[13]])&&p(e,"d",n),c&12&&r!==(r=f[3][f[2]].sourceData[f[13]].col.hex)&&p(e,"stroke",r),c&12&&i!==(i=f[3][f[2]].sourceData[f[13]].col.alpha)&&p(e,"stroke-opacity",i),c&32&&s!==(s=f[5][f[13]])&&p(a,"d",s),c&12&&l!==(l=f[3][f[2]].sourceData[f[13]].col.alpha)&&p(a,"stroke-opacity",l)},d(f){f&&(z(e),z(a)),je(u,f)}}}function y1(t){var i,a;let e,n,r=((i=t[3][t[2]])==null?void 0:i.graph)==="periodogram"&&((a=t[3][t[2]])==null?void 0:a.sourceData.length)>0&&Oa(t);return{c(){r&&r.c(),e=ze()},m(s,l){r&&r.m(s,l),I(s,e,l),n=!0},p(s,[l]){var o,u;((o=s[3][s[2]])==null?void 0:o.graph)==="periodogram"&&((u=s[3][s[2]])==null?void 0:u.sourceData.length)>0?r?(r.p(s,l),l&12&&C(r,1)):(r=Oa(s),r.c(),C(r,1),r.m(e.parentNode,e)):r&&(Ie(),R(r,1,1,()=>{r=null}),Re())},i(s){n||(C(r),n=!0)},o(s){R(r),n=!1},d(s){s&&z(e),r&&r.d(s)}}}function v1(t,e,n){let r,i,a,s,l,o;ye(t,_t,g=>n(2,l=g)),ye(t,pe,g=>n(3,o=g));let u={top:20,bottom:40,left:80,right:20},f=[],c=[];function h(g,w,y,_,m){var v;if(((v=o[l])==null?void 0:v.graph)==="periodogram"){let M,A,k={data:{periods:[],power:[],sigThreshold:[],pvalue:[]},xScale:Ft().domain([y,_]).range([0,s]),yScale:Ft().domain([0,100]).range([i,0])},H={ymin:1/0,ymax:-1/0};g.forEach((q,P)=>{q.chartvalues.time.field!=""&&(M=Sn(P,q.chartvalues.time)),q.chartvalues.values.field!=""&&(A=Sn(P,q.chartvalues.values));const F=au(M,A,w);console.log(F.values),k.data.periods[P]=[],k.data.power[P]=[],k.data.pvalue[P]=[],k.data.sigThreshold[P]=[];let U=0;const B=1+(_-y)/m,S=Math.pow(1-.05,1/B);for(let b=y;b<_;b+=m)k.data.periods[P][U]=b,k.data.power[P][U]=d(F.values,w,b),k.data.pvalue[P][U]=Oi(k.data.power[P][U],Math.round(b/w)),k.data.sigThreshold[P][U]=d1(S,Math.round(b/w)),k.data.power[P][U]<H.ymin&&(H.ymin=k.data.power[P][U]),k.data.power[P][U]>H.ymax&&(H.ymax=k.data.power[P][U]),U++}),$e(pe,o[l].chartData=k,o),$e(pe,o[l].chartData.yScale=Ft().domain([H.ymin,H.ymax]).range([a,0]),o),g.forEach((q,P)=>{for(let F=0;F<k.data.power[P].length;F++)F===0&&(n(4,f[P]="M ",f),n(5,c[P]="M",c)),n(4,f[P]+=`${o[l].chartData.xScale(k.data.periods[P][F])} ${o[l].chartData.yScale(k.data.power[P][F])} `,f),n(5,c[P]+=`${o[l].chartData.xScale(k.data.periods[P][F])} ${o[l].chartData.yScale(k.data.sigThreshold[P][F])} `,c)})}}function d(g,w,y){const _=Math.round(y/w),m=Math.ceil(g.length/_),v=Array.from({length:_},(k,H)=>{const q=H,P=Array.from({length:m},(F,U)=>g[q+U*_]).filter(F=>F!==void 0&&!isNaN(F));return da(P)}),D=da(g),M=v.reduce((k,H)=>k+Math.pow(H-D,2),0)*(g.length*m),A=g.reduce((k,H)=>k+Math.pow(H-D,2),0);return M/A}return t.$$.update=()=>{var g,w,y,_,m,v,D;t.$$.dirty&12&&n(1,r=(g=o[l])==null?void 0:g.params.width),t.$$.dirty&12&&n(0,i=(w=o[l])==null?void 0:w.params.height),t.$$.dirty&1&&n(6,a=i-u.top-u.bottom),t.$$.dirty&2&&n(7,s=r-u.left-u.right),t.$$.dirty&12&&h((y=o[l])==null?void 0:y.sourceData,(_=o[l])==null?void 0:_.params.binSizeHrs,(m=o[l])==null?void 0:m.params.minPeriod,(v=o[l])==null?void 0:v.params.maxPeriod,(D=o[l])==null?void 0:D.params.stepPeriod)},[i,r,l,o,f,c,a,s,u]}class T1 extends Ge{constructor(e){super(),Be(this,e,v1,y1,qe,{})}}function Ca(t){let e,n,r,i,a,s,l,o,u,f,c,h,d,g,w,y,_,m,v,D,M,A,k,H,q;function P($){t[2]($)}let F={min:10,max:t[1][t[0]].params.maxPeriod,limits:[1,1/0],label:"Min period:"};t[1][t[0]].params.minPeriod!==void 0&&(F.value=t[1][t[0]].params.minPeriod),r=new et({props:F}),Fe.push(()=>Ye(r,"value",P));function U($){t[3]($)}let B={min:t[1][t[0]].params.minPeriod,max:30,limits:[1,1/0],label:"Max period:"};t[1][t[0]].params.maxPeriod!==void 0&&(B.value=t[1][t[0]].params.maxPeriod),l=new et({props:B}),Fe.push(()=>Ye(l,"value",U));function S($){t[4]($)}let b={min:.1,max:1,step:.01,limits:[.1,1],label:"Period step:"};t[1][t[0]].params.stepPeriod!==void 0&&(b.value=t[1][t[0]].params.stepPeriod),c=new et({props:b}),Fe.push(()=>Ye(c,"value",S));function E($){t[5]($)}let W={min:.05,max:1,step:"0.05",limits:[.05,t[1][t[0]].params.maxPeriod],label:"Bin size (hrs):"};t[1][t[0]].params.binSizeHrs!==void 0&&(W.value=t[1][t[0]].params.binSizeHrs),w=new et({props:W}),Fe.push(()=>Ye(w,"value",E));function G($){t[6]($)}let N={min:100,max:1e3,step:"1",limits:[5,1/0],label:"Width: "};t[1][t[0]].params.width!==void 0&&(N.value=t[1][t[0]].params.width),v=new et({props:N}),Fe.push(()=>Ye(v,"value",G));function V($){t[7]($)}let J={min:10,max:30,step:"1",limits:[5,1/0],label:"Height:"};return t[1][t[0]].params.height!==void 0&&(J.value=t[1][t[0]].params.height),k=new et({props:J}),Fe.push(()=>Ye(k,"value",V)),{c(){e=O("div"),n=O("div"),re(r.$$.fragment),a=Z(),s=O("div"),re(l.$$.fragment),u=Z(),f=O("div"),re(c.$$.fragment),d=Z(),g=O("div"),re(w.$$.fragment),_=Z(),m=O("div"),re(v.$$.fragment),M=Z(),A=O("div"),re(k.$$.fragment),p(n,"class","sliderContainer"),p(s,"class","sliderContainer"),p(f,"class","sliderContainer"),p(g,"class","sliderContainer"),p(m,"class","sliderContainer"),p(A,"class","sliderContainer"),p(e,"class","chartControls")},m($,K){I($,e,K),T(e,n),te(r,n,null),T(e,a),T(e,s),te(l,s,null),T(e,u),T(e,f),te(c,f,null),T(e,d),T(e,g),te(w,g,null),T(e,_),T(e,m),te(v,m,null),T(e,M),T(e,A),te(k,A,null),q=!0},p($,K){const x={};K&3&&(x.max=$[1][$[0]].params.maxPeriod),!i&&K&3&&(i=!0,x.value=$[1][$[0]].params.minPeriod,Ze(()=>i=!1)),r.$set(x);const j={};K&3&&(j.min=$[1][$[0]].params.minPeriod),!o&&K&3&&(o=!0,j.value=$[1][$[0]].params.maxPeriod,Ze(()=>o=!1)),l.$set(j);const Te={};!h&&K&3&&(h=!0,Te.value=$[1][$[0]].params.stepPeriod,Ze(()=>h=!1)),c.$set(Te);const we={};K&3&&(we.limits=[.05,$[1][$[0]].params.maxPeriod]),!y&&K&3&&(y=!0,we.value=$[1][$[0]].params.binSizeHrs,Ze(()=>y=!1)),w.$set(we);const Y={};!D&&K&3&&(D=!0,Y.value=$[1][$[0]].params.width,Ze(()=>D=!1)),v.$set(Y);const Ee={};!H&&K&3&&(H=!0,Ee.value=$[1][$[0]].params.height,Ze(()=>H=!1)),k.$set(Ee)},i($){q||(C(r.$$.fragment,$),C(l.$$.fragment,$),C(c.$$.fragment,$),C(w.$$.fragment,$),C(v.$$.fragment,$),C(k.$$.fragment,$),q=!0)},o($){R(r.$$.fragment,$),R(l.$$.fragment,$),R(c.$$.fragment,$),R(w.$$.fragment,$),R(v.$$.fragment,$),R(k.$$.fragment,$),q=!1},d($){$&&z(e),ne(r),ne(l),ne(c),ne(w),ne(v),ne(k)}}}function b1(t){let e,n,r=t[0]>=0&&Ca(t);return{c(){r&&r.c(),e=ze()},m(i,a){r&&r.m(i,a),I(i,e,a),n=!0},p(i,[a]){i[0]>=0?r?(r.p(i,a),a&1&&C(r,1)):(r=Ca(i),r.c(),C(r,1),r.m(e.parentNode,e)):r&&(Ie(),R(r,1,1,()=>{r=null}),Re())},i(i){n||(C(r),n=!0)},o(i){R(r),n=!1},d(i){i&&z(e),r&&r.d(i)}}}function w1(t,e,n){let r,i;ye(t,_t,c=>n(0,r=c)),ye(t,pe,c=>n(1,i=c));function a(c){t.$$.not_equal(i[r].params.minPeriod,c)&&(i[r].params.minPeriod=c,pe.set(i))}function s(c){t.$$.not_equal(i[r].params.maxPeriod,c)&&(i[r].params.maxPeriod=c,pe.set(i))}function l(c){t.$$.not_equal(i[r].params.stepPeriod,c)&&(i[r].params.stepPeriod=c,pe.set(i))}function o(c){t.$$.not_equal(i[r].params.binSizeHrs,c)&&(i[r].params.binSizeHrs=c,pe.set(i))}function u(c){t.$$.not_equal(i[r].params.width,c)&&(i[r].params.width=c,pe.set(i))}function f(c){t.$$.not_equal(i[r].params.height,c)&&(i[r].params.height=c,pe.set(i))}return[r,i,a,s,l,o,u,f]}class k1 extends Ge{constructor(e){super(),Be(this,e,w1,b1,qe,{})}}function Na(t,e,n){const r=t.slice();return r[12]=e[n],r[14]=n,r}function $a(t,e,n){const r=t.slice();return r[15]=e[n],r[17]=n,r}function Fa(t){let e,n,r,i,a,s,l,o=t[7][t[6]].params.yAxisLabel+"",u,f,c,h=t[7][t[6]].params.xAxisLabel+"",d,g,w,y,_=me(t[1]),m=[];for(let v=0;v<_.length;v+=1)m[v]=Ia(Na(t,_,v));return a=new Mn({props:{innerHeight:t[2],scale:t[8],position:"bottom"}}),s=new Mn({props:{innerHeight:t[2],scale:t[9],position:"left"}}),{c(){e=O("div"),n=ft("svg"),r=ft("g");for(let v=0;v<m.length;v+=1)m[v].c();i=ze(),re(a.$$.fragment),re(s.$$.fragment),l=ft("text"),u=Me(o),c=ft("text"),d=Me(h),ue(l,"text-anchor","middle"),p(l,"transform",f=`translate(-30,${t[2]/2}) rotate(-90)     `),ue(c,"text-anchor","middle"),p(c,"x",g=t[3]/2),p(c,"y",w=t[2]+32),p(r,"transform",`translate(${t[10].left},${t[10].right})`),p(n,"id","svgContainer"),p(n,"width",t[4]),p(n,"height",t[5]),ue(n,"transform-origin","top left"),ue(n,"transform","scale(1)"),p(e,"class","rawGraph")},m(v,D){I(v,e,D),T(e,n),T(n,r);for(let M=0;M<m.length;M+=1)m[M]&&m[M].m(r,null);T(r,i),te(a,r,null),te(s,r,null),T(r,l),T(l,u),T(r,c),T(c,d),y=!0},p(v,D){if(D&963){_=me(v[1]);let k;for(k=0;k<_.length;k+=1){const H=Na(v,_,k);m[k]?m[k].p(H,D):(m[k]=Ia(H),m[k].c(),m[k].m(r,i))}for(;k<m.length;k+=1)m[k].d(1);m.length=_.length}const M={};D&4&&(M.innerHeight=v[2]),D&256&&(M.scale=v[8]),a.$set(M);const A={};D&4&&(A.innerHeight=v[2]),D&512&&(A.scale=v[9]),s.$set(A),(!y||D&192)&&o!==(o=v[7][v[6]].params.yAxisLabel+"")&&He(u,o),(!y||D&4&&f!==(f=`translate(-30,${v[2]/2}) rotate(-90)     `))&&p(l,"transform",f),(!y||D&192)&&h!==(h=v[7][v[6]].params.xAxisLabel+"")&&He(d,h),(!y||D&8&&g!==(g=v[3]/2))&&p(c,"x",g),(!y||D&4&&w!==(w=v[2]+32))&&p(c,"y",w),(!y||D&16)&&p(n,"width",v[4]),(!y||D&32)&&p(n,"height",v[5])},i(v){y||(C(a.$$.fragment,v),C(s.$$.fragment,v),y=!0)},o(v){R(a.$$.fragment,v),R(s.$$.fragment,v),y=!1},d(v){v&&z(e),je(m,v),ne(a),ne(s)}}}function za(t){let e,n,r,i,a,s,l,o,u,f,c,h;return{c(){e=ft("circle"),p(e,"tipcontent",n=t[0][t[14]][t[17]]+", "+t[15]),p(e,"cx",r=t[8](t[0][t[14]][t[17]])),p(e,"cy",i=t[9](t[15])),p(e,"r",a=t[7][t[6]].sourceData[t[14]].size),p(e,"stroke",s=t[7][t[6]].sourceData[t[14]].strokeCol.hex),p(e,"stroke-opacity",l=t[7][t[6]].sourceData[t[14]].strokeCol.alpha),p(e,"stroke-width",o=t[7][t[6]].sourceData[t[14]].strokeWidth),p(e,"fill",u=t[7][t[6]].sourceData[t[14]].col.hex),p(e,"fill-opacity",f=t[7][t[6]].sourceData[t[14]].col.alpha)},m(d,g){I(d,e,g),c||(h=Fi(Nu.call(null,e)),c=!0)},p(d,g){g&3&&n!==(n=d[0][d[14]][d[17]]+", "+d[15])&&p(e,"tipcontent",n),g&257&&r!==(r=d[8](d[0][d[14]][d[17]]))&&p(e,"cx",r),g&514&&i!==(i=d[9](d[15]))&&p(e,"cy",i),g&192&&a!==(a=d[7][d[6]].sourceData[d[14]].size)&&p(e,"r",a),g&192&&s!==(s=d[7][d[6]].sourceData[d[14]].strokeCol.hex)&&p(e,"stroke",s),g&192&&l!==(l=d[7][d[6]].sourceData[d[14]].strokeCol.alpha)&&p(e,"stroke-opacity",l),g&192&&o!==(o=d[7][d[6]].sourceData[d[14]].strokeWidth)&&p(e,"stroke-width",o),g&192&&u!==(u=d[7][d[6]].sourceData[d[14]].col.hex)&&p(e,"fill",u),g&192&&f!==(f=d[7][d[6]].sourceData[d[14]].col.alpha)&&p(e,"fill-opacity",f)},d(d){d&&z(e),c=!1,h()}}}function Pa(t){let e=t[15]!==null&&!isNaN(t[15])&&t[0][t[14]][t[17]]!==null&&!isNaN(t[0][t[14]][t[17]]),n,r=e&&za(t);return{c(){r&&r.c(),n=ze()},m(i,a){r&&r.m(i,a),I(i,n,a)},p(i,a){a&3&&(e=i[15]!==null&&!isNaN(i[15])&&i[0][i[14]][i[17]]!==null&&!isNaN(i[0][i[14]][i[17]])),e?r?r.p(i,a):(r=za(i),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(i){i&&z(n),r&&r.d(i)}}}function Ia(t){let e,n=me(t[12]),r=[];for(let i=0;i<n.length;i+=1)r[i]=Pa($a(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=ze()},m(i,a){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,a);I(i,e,a)},p(i,a){if(a&963){n=me(i[12]);let s;for(s=0;s<n.length;s+=1){const l=$a(i,n,s);r[s]?r[s].p(l,a):(r[s]=Pa(l),r[s].c(),r[s].m(e.parentNode,e))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){i&&z(e),je(r,i)}}}function S1(t){var i,a;let e,n,r=((i=t[7][t[6]])==null?void 0:i.graph)==="raw"&&((a=t[7][t[6]])==null?void 0:a.sourceData.length)>0&&Fa(t);return{c(){r&&r.c(),e=ze()},m(s,l){r&&r.m(s,l),I(s,e,l),n=!0},p(s,[l]){var o,u;((o=s[7][s[6]])==null?void 0:o.graph)==="raw"&&((u=s[7][s[6]])==null?void 0:u.sourceData.length)>0?r?(r.p(s,l),l&192&&C(r,1)):(r=Fa(s),r.c(),C(r,1),r.m(e.parentNode,e)):r&&(Ie(),R(r,1,1,()=>{r=null}),Re())},i(s){n||(C(r),n=!0)},o(s){R(r),n=!1},d(s){s&&z(e),r&&r.d(s)}}}function D1(t,e,n){let r,i,a,s,l,o,u;ye(t,_t,w=>n(6,l=w)),ye(t,pe,w=>n(7,o=w)),ye(t,rt,w=>n(11,u=w));const f={top:20,bottom:60,left:60,right:20};let c=[],h=[],d,g;return t.$$.update=()=>{var w,y,_;if(t.$$.dirty&192&&n(4,r=(w=o[l])==null?void 0:w.params.width),t.$$.dirty&192&&n(5,i=(y=o[l])==null?void 0:y.params.height),t.$$.dirty&32&&n(2,a=i-f.top-f.bottom),t.$$.dirty&16&&n(3,s=r-f.left-f.right),t.$$.dirty&2255){n(0,c=[]),n(1,h=[]);let m,v;((_=o[l])==null?void 0:_.graph)==="raw"&&(o[l].sourceData.forEach((D,M)=>{u.findIndex(A=>A.id===D.tableID),D.chartvalues.x.field!=""&&(m=Sn(M,D.chartvalues.x)),D.chartvalues.y.field!=""&&(v=Sn(M,D.chartvalues.y)),c.push(m),h.push(v)}),n(8,d=Ft().domain([o[l].params.xDomainMin,o[l].params.xDomainMax]).range([0,s])),n(9,g=Ft().domain([o[l].params.yDomainMin,o[l].params.yDomainMax]).range([a,0])))}},[c,h,a,s,r,i,l,o,d,g,f,u]}class M1 extends Ge{constructor(e){super(),Be(this,e,D1,S1,qe,{})}}function Ra(t){let e,n,r,i,a,s,l,o,u,f,c,h,d,g,w,y,_,m,v,D,M,A,k,H,q,P,F,U,B,S,b,E,W,G,N,V,J;function $(ee){t[2](ee)}let K={min:100,max:1e3,limits:[5,1/0],label:"Width:"};t[1][t[0]].params.width!==void 0&&(K.value=t[1][t[0]].params.width),r=new et({props:K}),Fe.push(()=>Ye(r,"value",$));function x(ee){t[3](ee)}let j={min:10,max:3e3,limits:[5,1/0],label:"Height: "};t[1][t[0]].params.height!==void 0&&(j.value=t[1][t[0]].params.height),l=new et({props:j}),Fe.push(()=>Ye(l,"value",x));function Te(ee){t[5](ee)}let we={min:-10,max:30,label:"Min X:"};t[1][t[0]].params.xDomainMin!==void 0&&(we.value=t[1][t[0]].params.xDomainMin),y=new et({props:we}),Fe.push(()=>Ye(y,"value",Te));function Y(ee){t[6](ee)}let Ee={min:-10,max:30,label:"Max X:"};t[1][t[0]].params.xDomainMax!==void 0&&(Ee.value=t[1][t[0]].params.xDomainMax),D=new et({props:Ee}),Fe.push(()=>Ye(D,"value",Y));function le(ee){t[8](ee)}let ve={min:-10,max:30,label:"Min Y:"};t[1][t[0]].params.yDomainMin!==void 0&&(ve.value=t[1][t[0]].params.yDomainMin),B=new et({props:ve}),Fe.push(()=>Ye(B,"value",le));function De(ee){t[9](ee)}let ge={min:-10,max:30,label:"Max Y:"};return t[1][t[0]].params.yDomainMax!==void 0&&(ge.value=t[1][t[0]].params.yDomainMax),W=new et({props:ge}),Fe.push(()=>Ye(W,"value",De)),{c(){e=O("div"),n=O("div"),re(r.$$.fragment),a=Z(),s=O("div"),re(l.$$.fragment),u=Z(),f=O("div"),c=O("label"),c.textContent="X-axis:",h=Z(),d=O("input"),g=Z(),w=O("div"),re(y.$$.fragment),m=Z(),v=O("div"),re(D.$$.fragment),A=Z(),k=O("div"),H=O("label"),H.textContent="Y-axis:",q=Z(),P=O("input"),F=Z(),U=O("div"),re(B.$$.fragment),b=Z(),E=O("div"),re(W.$$.fragment),p(n,"class","sliderContainer"),p(s,"class","sliderContainer"),p(c,"for","val"),p(d,"type","text"),p(d,"id","min"),p(f,"class","sliderContainer"),p(w,"class","sliderContainer"),p(v,"class","sliderContainer"),p(H,"for","val"),p(P,"type","text"),p(P,"id","min"),p(k,"class","sliderContainer"),p(U,"class","sliderContainer"),p(E,"class","sliderContainer"),p(e,"class","chartControls")},m(ee,Oe){I(ee,e,Oe),T(e,n),te(r,n,null),T(e,a),T(e,s),te(l,s,null),T(e,u),T(e,f),T(f,c),T(f,h),T(f,d),it(d,t[1][t[0]].params.xAxisLabel),T(e,g),T(e,w),te(y,w,null),T(e,m),T(e,v),te(D,v,null),T(e,A),T(e,k),T(k,H),T(k,q),T(k,P),it(P,t[1][t[0]].params.yAxisLabel),T(e,F),T(e,U),te(B,U,null),T(e,b),T(e,E),te(W,E,null),N=!0,V||(J=[ie(d,"input",t[4]),ie(P,"input",t[7])],V=!0)},p(ee,Oe){const xe={};!i&&Oe&3&&(i=!0,xe.value=ee[1][ee[0]].params.width,Ze(()=>i=!1)),r.$set(xe);const ke={};!o&&Oe&3&&(o=!0,ke.value=ee[1][ee[0]].params.height,Ze(()=>o=!1)),l.$set(ke),Oe&3&&d.value!==ee[1][ee[0]].params.xAxisLabel&&it(d,ee[1][ee[0]].params.xAxisLabel);const Qe={};!_&&Oe&3&&(_=!0,Qe.value=ee[1][ee[0]].params.xDomainMin,Ze(()=>_=!1)),y.$set(Qe);const ot={};!M&&Oe&3&&(M=!0,ot.value=ee[1][ee[0]].params.xDomainMax,Ze(()=>M=!1)),D.$set(ot),Oe&3&&P.value!==ee[1][ee[0]].params.yAxisLabel&&it(P,ee[1][ee[0]].params.yAxisLabel);const ce={};!S&&Oe&3&&(S=!0,ce.value=ee[1][ee[0]].params.yDomainMin,Ze(()=>S=!1)),B.$set(ce);const fe={};!G&&Oe&3&&(G=!0,fe.value=ee[1][ee[0]].params.yDomainMax,Ze(()=>G=!1)),W.$set(fe)},i(ee){N||(C(r.$$.fragment,ee),C(l.$$.fragment,ee),C(y.$$.fragment,ee),C(D.$$.fragment,ee),C(B.$$.fragment,ee),C(W.$$.fragment,ee),N=!0)},o(ee){R(r.$$.fragment,ee),R(l.$$.fragment,ee),R(y.$$.fragment,ee),R(D.$$.fragment,ee),R(B.$$.fragment,ee),R(W.$$.fragment,ee),N=!1},d(ee){ee&&z(e),ne(r),ne(l),ne(y),ne(D),ne(B),ne(W),V=!1,st(J)}}}function O1(t){let e,n,r=t[0]>=0&&Ra(t);return{c(){r&&r.c(),e=ze()},m(i,a){r&&r.m(i,a),I(i,e,a),n=!0},p(i,[a]){i[0]>=0?r?(r.p(i,a),a&1&&C(r,1)):(r=Ra(i),r.c(),C(r,1),r.m(e.parentNode,e)):r&&(Ie(),R(r,1,1,()=>{r=null}),Re())},i(i){n||(C(r),n=!0)},o(i){R(r),n=!1},d(i){i&&z(e),r&&r.d(i)}}}function A1(t,e,n){let r,i;ye(t,_t,d=>n(0,r=d)),ye(t,pe,d=>n(1,i=d));function a(d){t.$$.not_equal(i[r].params.width,d)&&(i[r].params.width=d,pe.set(i))}function s(d){t.$$.not_equal(i[r].params.height,d)&&(i[r].params.height=d,pe.set(i))}function l(){i[r].params.xAxisLabel=this.value,pe.set(i)}function o(d){t.$$.not_equal(i[r].params.xDomainMin,d)&&(i[r].params.xDomainMin=d,pe.set(i))}function u(d){t.$$.not_equal(i[r].params.xDomainMax,d)&&(i[r].params.xDomainMax=d,pe.set(i))}function f(){i[r].params.yAxisLabel=this.value,pe.set(i)}function c(d){t.$$.not_equal(i[r].params.yDomainMin,d)&&(i[r].params.yDomainMin=d,pe.set(i))}function h(d){t.$$.not_equal(i[r].params.yDomainMax,d)&&(i[r].params.yDomainMax=d,pe.set(i))}return[r,i,a,s,l,o,u,f,c,h]}class E1 extends Ge{constructor(e){super(),Be(this,e,A1,O1,qe,{})}}const nt={actigram:{graph:s1,controls:o1,prototypechartvalues:{time:"time",values:"values"},prototypeother:{col:{hex:"#1B1D50",alpha:.5},showOnsets:!0},othertypes:["colour","checkbox"],params:{startTime:Se.now().set({hour:0,minute:0,second:0,millisecond:0}).toISO().slice(0,16),periodHrs:24,binSizeHrs:.25,width:800,dayHeight:10,betweenHeight:2,doublePlot:2,scaleAxes:"byPlot",showAxes:!1},chartData:{chartMins:[],chartMaxs:[],data:{time:[],values:[],mins:[],maxs:[]},yScales:[],xScale:Ft().domain([0,48]).range([0,innerWidth]),startOffsets:[]}},periodogram:{graph:T1,controls:k1,prototypechartvalues:{time:"any",values:"any"},prototypeother:{col:{hex:"#78322e",alpha:.5}},othertypes:["colour"],params:{width:600,height:200,minPeriod:4,maxPeriod:30,stepPeriod:.25,binSizeHrs:.25},chartData:{}},raw:{graph:M1,controls:E1,prototypechartvalues:{x:"any",y:"any"},prototypeother:{col:{hex:"#78322e",alpha:.5},size:2,strokeWidth:1,strokeCol:{hex:"#000000",alpha:.9}},othertypes:["colour","slider","slider","colour"],params:{width:600,height:200,yDomainMin:0,yDomainMax:200,xDomainMin:0,xDomainMax:680,yAxisLabel:"y-axis",xAxisLabel:"x-axis title here"},chartData:{}}};function C1(){return"#"+Math.floor(Math.random()*16777215).toString(16)}function La(t,e){const n={};for(let r=0;r<t.length;r++)n[t[r]]={field:e[r],processSteps:[],processedData:[]};return n}function Ha(t){let e={graph:t,id:Wa(),sourceData:[{tableID:0,name:"Data 0",chartvalues:La(Object.keys(nt[t].prototypechartvalues),["time","value0"]),...gr(nt[t].prototypeother)},{tableID:0,name:"Data 1",chartvalues:La(Object.keys(nt[t].prototypechartvalues),["time","value1"]),...gr(nt[t].prototypeother)}],params:{...gr(nt[t].params)},chartData:{...gr(nt[t].chartData)}};for(let n=0;n<nt[t].othertypes.length;n++)if(nt[t].othertypes[n]==="colour")for(let r=0;r<e.sourceData.length;r++)e.sourceData[r][Object.keys(nt[t].prototypeother)[n]].hex=C1();dt(pe).push(e),dt(Bt).push({name:"Chart "+Wa()}),Bt.update(n=>[...n]),_t.update(()=>dt(Bt).length-1)}function Wa(){if(dt(pe).length===0)return 0;let t=[];return dt(pe).forEach(e=>t.push(e.id)),Math.max(...t)+1}function gr(t){return JSON.parse(JSON.stringify(t))}function Va(t,e,n){const r=t.slice();return r[29]=e[n],r[30]=e,r[31]=n,r}function qa(t,e,n){const r=t.slice();return r[32]=e[n],r[33]=e,r[34]=n,r}function Ua(t,e,n){const r=t.slice();return r[35]=e[n],r[36]=e,r[37]=n,r}function Za(t,e,n){const r=t.slice();return r[38]=e[n],r[40]=n,r}function Ya(t,e,n){const r=t.slice();return r[41]=e[n],r}function N1(t){let e,n,r=t[3][t[0]].name+"",i,a,s,l,o,u,f,c,h,d=me(t[1][t[0]].sourceData),g=[];for(let y=0;y<d.length;y+=1)g[y]=Qa(Va(t,d,y));const w=y=>R(g[y],1,1,()=>{g[y]=null});return{c(){e=O("div"),n=O("h1"),i=Me(r),a=Me(" Data"),s=Z(),l=O("span"),l.textContent="+",o=Z(),u=O("div");for(let y=0;y<g.length;y+=1)g[y].c();ue(n,"display","inline"),p(l,"class","addbutton hoverbutton showContextMenu svelte-tzfpl2"),ue(e,"margin","1em 1em 0 0"),p(u,"class","graphDataTree svelte-tzfpl2")},m(y,_){I(y,e,_),T(e,n),T(n,i),T(n,a),T(e,s),T(e,l),I(y,o,_),I(y,u,_);for(let m=0;m<g.length;m+=1)g[m]&&g[m].m(u,null);f=!0,c||(h=ie(l,"click",t[11]),c=!0)},p(y,_){if((!f||_[0]&9)&&r!==(r=y[3][y[0]].name+"")&&He(i,r),_[0]&503){d=me(y[1][y[0]].sourceData);let m;for(m=0;m<d.length;m+=1){const v=Va(y,d,m);g[m]?(g[m].p(v,_),C(g[m],1)):(g[m]=Qa(v),g[m].c(),C(g[m],1),g[m].m(u,null))}for(Ie(),m=d.length;m<g.length;m+=1)w(m);Re()}},i(y){if(!f){for(let _=0;_<d.length;_+=1)C(g[_]);f=!0}},o(y){g=g.filter(Boolean);for(let _=0;_<g.length;_+=1)R(g[_]);f=!1},d(y){y&&(z(e),z(o),z(u)),je(g,y),c=!1,h()}}}function $1(t){return{c:he,m:he,p:he,i:he,o:he,d:he}}function Ba(t){let e,n=t[2][t[2].findIndex(a)].data[t[41]].name+"",r,i;function a(...s){return t[16](t[29],...s)}return{c(){e=O("option"),r=Me(n),e.__value=i=t[41],it(e,e.__value)},m(s,l){I(s,e,l),T(e,r)},p(s,l){t=s,l[0]&7&&n!==(n=t[2][t[2].findIndex(a)].data[t[41]].name+"")&&He(r,n),l[0]&67&&i!==(i=t[41])&&(e.__value=i,it(e,e.__value))},d(s){s&&z(e)}}}function Ga(t){let e,n,r=t[38].process+"",i,a,s,l,o,u,f,c,h;function d(...m){return t[19](t[31],t[35],t[40],...m)}function g(...m){return t[20](t[29],...m)}function w(...m){return t[21](t[35],t[31],t[40],...m)}var y=Kt[t[38].process].component;function _(m,v){return{props:{paramsStart:m[38].parameters,typeTime:{type:m[2][m[2].findIndex(g)].data[m[29].chartvalues[m[35]].field].type,tocheck:{tableID:m[29].tableID,key:m[35]}}}}}return y&&(u=Jt(y,_(t)),u.$on("update",w)),{c(){e=O("details"),n=O("summary"),i=Me(r),a=Z(),s=O("div"),s.textContent="",l=Z(),o=O("div"),u&&re(u.$$.fragment),p(s,"class","deleteProcess hoverbutton svelte-tzfpl2"),p(n,"class","svelte-tzfpl2"),p(o,"class","processDetails svelte-tzfpl2"),e.open=!0,p(e,"class","process svelte-tzfpl2")},m(m,v){I(m,e,v),T(e,n),T(n,i),T(n,a),T(n,s),T(e,l),T(e,o),u&&te(u,o,null),f=!0,c||(h=ie(s,"click",d),c=!0)},p(m,v){if(t=m,(!f||v[0]&3)&&r!==(r=t[38].process+"")&&He(i,r),v[0]&3&&y!==(y=Kt[t[38].process].component)){if(u){Ie();const D=u;R(D.$$.fragment,1,0,()=>{ne(D,1)}),Re()}y?(u=Jt(y,_(t)),u.$on("update",w),re(u.$$.fragment),C(u.$$.fragment,1),te(u,o,null)):u=null}else if(y){const D={};v[0]&3&&(D.paramsStart=t[38].parameters),v[0]&7&&(D.typeTime={type:t[2][t[2].findIndex(g)].data[t[29].chartvalues[t[35]].field].type,tocheck:{tableID:t[29].tableID,key:t[35]}}),u.$set(D)}},i(m){f||(u&&C(u.$$.fragment,m),f=!0)},o(m){u&&R(u.$$.fragment,m),f=!1},d(m){m&&z(e),u&&ne(u),c=!1,h()}}}function Ja(t){let e,n,r=t[35]+"",i,a,s,l,o,u,f,c,h,d,g,w;function y(...H){return t[15](t[31],t[35],...H)}let _=me(t[6](t[29])),m=[];for(let H=0;H<_.length;H+=1)m[H]=Ba(Ya(t,_,H));function v(){t[17].call(u,t[35],t[30],t[31])}function D(...H){return t[18](t[31],t[35],...H)}let M=me(t[29].chartvalues[t[35]].processSteps),A=[];for(let H=0;H<M.length;H+=1)A[H]=Ga(Za(t,M,H));const k=H=>R(A[H],1,1,()=>{A[H]=null});return{c(){e=O("details"),n=O("summary"),i=Me(r),a=Me(`:
              `),s=O("span"),s.textContent="+",l=Z(),o=O("span"),u=O("select");for(let H=0;H<m.length;H+=1)m[H].c();f=Z();for(let H=0;H<A.length;H+=1)A[H].c();c=Z(),p(s,"class","addbutton hoverbutton showContextMenu svelte-tzfpl2"),p(u,"class","selectField"),t[29].chartvalues[t[35]].field===void 0&&qn(v),p(n,"class","svelte-tzfpl2"),e.open=!0,p(e,"class",h="field "+(t[29].chartvalues[t[35]].processSteps.length>0?"":"no-arrow")+" svelte-tzfpl2")},m(H,q){I(H,e,q),T(e,n),T(n,i),T(n,a),T(n,s),T(n,l),T(n,o),T(o,u);for(let P=0;P<m.length;P+=1)m[P]&&m[P].m(u,null);Sr(u,t[29].chartvalues[t[35]].field,!0),T(e,f);for(let P=0;P<A.length;P+=1)A[P]&&A[P].m(e,null);T(e,c),d=!0,g||(w=[ie(s,"click",y),ie(u,"change",v),ie(u,"change",D)],g=!0)},p(H,q){if(t=H,(!d||q[0]&3)&&r!==(r=t[35]+"")&&He(i,r),q[0]&71){_=me(t[6](t[29]));let P;for(P=0;P<_.length;P+=1){const F=Ya(t,_,P);m[P]?m[P].p(F,q):(m[P]=Ba(F),m[P].c(),m[P].m(u,null))}for(;P<m.length;P+=1)m[P].d(1);m.length=_.length}if(q[0]&67&&Sr(u,t[29].chartvalues[t[35]].field),q[0]&55){M=me(t[29].chartvalues[t[35]].processSteps);let P;for(P=0;P<M.length;P+=1){const F=Za(t,M,P);A[P]?(A[P].p(F,q),C(A[P],1)):(A[P]=Ga(F),A[P].c(),C(A[P],1),A[P].m(e,c))}for(Ie(),P=M.length;P<A.length;P+=1)k(P);Re()}(!d||q[0]&67&&h!==(h="field "+(t[29].chartvalues[t[35]].processSteps.length>0?"":"no-arrow")+" svelte-tzfpl2"))&&p(e,"class",h)},i(H){if(!d){for(let q=0;q<M.length;q+=1)C(A[q]);d=!0}},o(H){A=A.filter(Boolean);for(let q=0;q<A.length;q+=1)R(A[q]);d=!1},d(H){H&&z(e),je(m,H),je(A,H),g=!1,st(w)}}}function Ka(t){let e,n,r,i,a,s,l,o,u;function f(){t[22].call(n,t[31],t[32])}function c(d){t[23](d,t[31],t[32])}let h={min:"0",max:"1",step:"0.01",limits:[0,1],label:"Alpha: "};return t[1][t[0]].sourceData[t[31]][t[32]].alpha!==void 0&&(h.value=t[1][t[0]].sourceData[t[31]][t[32]].alpha),a=new et({props:h}),Fe.push(()=>Ye(a,"value",c)),{c(){e=O("div"),n=O("input"),r=Z(),i=O("div"),re(a.$$.fragment),p(n,"class","colourPicker svelte-tzfpl2"),p(n,"id",t[31]),p(n,"type","color"),ue(n,"background",t[1][t[0]].sourceData[t[31]][t[32]].hex),p(i,"class","sliderContainer svelte-tzfpl2"),p(e,"class","colour svelte-tzfpl2")},m(d,g){I(d,e,g),T(e,n),it(n,t[1][t[0]].sourceData[t[31]][t[32]].hex),T(e,r),T(e,i),te(a,i,null),l=!0,o||(u=ie(n,"input",f),o=!0)},p(d,g){t=d,(!l||g[0]&3)&&ue(n,"background",t[1][t[0]].sourceData[t[31]][t[32]].hex),g[0]&67&&it(n,t[1][t[0]].sourceData[t[31]][t[32]].hex);const w={};!s&&g[0]&3&&(s=!0,w.value=t[1][t[0]].sourceData[t[31]][t[32]].alpha,Ze(()=>s=!1)),a.$set(w)},i(d){l||(C(a.$$.fragment,d),l=!0)},o(d){R(a.$$.fragment,d),l=!1},d(d){d&&z(e),ne(a),o=!1,u()}}}function ja(t){let e,n,r,i;function a(l){t[24](l,t[31],t[32])}let s={min:"0.5",max:"10",step:"0.5",label:t[32].charAt(0).toUpperCase()+t[32].slice(1)+":"};return t[1][t[0]].sourceData[t[31]][t[32]]!==void 0&&(s.value=t[1][t[0]].sourceData[t[31]][t[32]]),n=new et({props:s}),Fe.push(()=>Ye(n,"value",a)),{c(){e=O("div"),re(n.$$.fragment),p(e,"class","itemsliderContainer svelte-tzfpl2")},m(l,o){I(l,e,o),te(n,e,null),i=!0},p(l,o){t=l;const u={};o[0]&3&&(u.label=t[32].charAt(0).toUpperCase()+t[32].slice(1)+":"),!r&&o[0]&3&&(r=!0,u.value=t[1][t[0]].sourceData[t[31]][t[32]],Ze(()=>r=!1)),n.$set(u)},i(l){i||(C(n.$$.fragment,l),i=!0)},o(l){R(n.$$.fragment,l),i=!1},d(l){l&&z(e),ne(n)}}}function xa(t){let e,n,r=t[32].charAt(0).toUpperCase()+t[32].slice(1)+":",i,a,s,l,o;function u(){t[25].call(s,t[31],t[32])}return{c(){e=O("div"),n=O("a"),i=Me(r),a=Z(),s=O("input"),p(s,"type","checkbox"),p(e,"class","itemsliderContainer svelte-tzfpl2")},m(f,c){I(f,e,c),T(e,n),T(n,i),T(e,a),T(e,s),s.checked=t[1][t[0]].sourceData[t[31]][t[32]],l||(o=ie(s,"change",u),l=!0)},p(f,c){t=f,c[0]&3&&r!==(r=t[32].charAt(0).toUpperCase()+t[32].slice(1)+":")&&He(i,r),c[0]&67&&(s.checked=t[1][t[0]].sourceData[t[31]][t[32]])},d(f){f&&z(e),l=!1,o()}}}function Xa(t){let e,n,r,i,a=nt[t[1][t[0]].graph].othertypes[t[34]]==="colour"&&Ka(t),s=nt[t[1][t[0]].graph].othertypes[t[34]]==="slider"&&ja(t),l=nt[t[1][t[0]].graph].othertypes[t[34]]==="checkbox"&&xa(t);return{c(){a&&a.c(),e=Z(),s&&s.c(),n=Z(),l&&l.c(),r=ze()},m(o,u){a&&a.m(o,u),I(o,e,u),s&&s.m(o,u),I(o,n,u),l&&l.m(o,u),I(o,r,u),i=!0},p(o,u){nt[o[1][o[0]].graph].othertypes[o[34]]==="colour"?a?(a.p(o,u),u[0]&3&&C(a,1)):(a=Ka(o),a.c(),C(a,1),a.m(e.parentNode,e)):a&&(Ie(),R(a,1,1,()=>{a=null}),Re()),nt[o[1][o[0]].graph].othertypes[o[34]]==="slider"?s?(s.p(o,u),u[0]&3&&C(s,1)):(s=ja(o),s.c(),C(s,1),s.m(n.parentNode,n)):s&&(Ie(),R(s,1,1,()=>{s=null}),Re()),nt[o[1][o[0]].graph].othertypes[o[34]]==="checkbox"?l?l.p(o,u):(l=xa(o),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},i(o){i||(C(a),C(s),i=!0)},o(o){R(a),R(s),i=!1},d(o){o&&(z(e),z(n),z(r)),a&&a.d(o),s&&s.d(o),l&&l.d(o)}}}function Qa(t){let e,n,r,i,a,s,l,o,u,f=t[2].find(M).displayName+"",c,h,d,g,w,y,_;function m(U){t[12](U,t[29])}let v={};t[29].name!==void 0&&(v.value=t[29].name),r=new er({props:v}),Fe.push(()=>Ye(r,"value",m));function D(...U){return t[13](t[31],...U)}function M(...U){return t[14](t[29],...U)}let A=me(Object.keys(t[29].chartvalues)),k=[];for(let U=0;U<A.length;U+=1)k[U]=Ja(Ua(t,A,U));const H=U=>R(k[U],1,1,()=>{k[U]=null});let q=me(Object.keys(nt[t[1][t[0]].graph].prototypeother)),P=[];for(let U=0;U<q.length;U+=1)P[U]=Xa(qa(t,q,U));const F=U=>R(P[U],1,1,()=>{P[U]=null});return{c(){e=O("details"),n=O("summary"),re(r.$$.fragment),a=Z(),s=O("div"),s.textContent="",l=Z(),o=O("div"),u=Me("Table: "),c=Me(f),h=Z();for(let U=0;U<k.length;U+=1)k[U].c();d=Z();for(let U=0;U<P.length;U+=1)P[U].c();g=Z(),p(s,"class","deleteTable hoverbutton svelte-tzfpl2"),p(n,"class","svelte-tzfpl2"),p(o,"class","tableLabel svelte-tzfpl2"),e.open=!0,p(e,"class","dataTable svelte-tzfpl2")},m(U,B){I(U,e,B),T(e,n),te(r,n,null),T(n,a),T(n,s),T(e,l),T(e,o),T(o,u),T(o,c),T(e,h);for(let S=0;S<k.length;S+=1)k[S]&&k[S].m(e,null);T(e,d);for(let S=0;S<P.length;S+=1)P[S]&&P[S].m(e,null);T(e,g),w=!0,y||(_=ie(s,"click",D),y=!0)},p(U,B){t=U;const S={};if(!i&&B[0]&3&&(i=!0,S.value=t[29].name,Ze(()=>i=!1)),r.$set(S),(!w||B[0]&7)&&f!==(f=t[2].find(M).displayName+"")&&He(c,f),B[0]&375){A=me(Object.keys(t[29].chartvalues));let b;for(b=0;b<A.length;b+=1){const E=Ua(t,A,b);k[b]?(k[b].p(E,B),C(k[b],1)):(k[b]=Ja(E),k[b].c(),C(k[b],1),k[b].m(e,d))}for(Ie(),b=A.length;b<k.length;b+=1)H(b);Re()}if(B[0]&3){q=me(Object.keys(nt[t[1][t[0]].graph].prototypeother));let b;for(b=0;b<q.length;b+=1){const E=qa(t,q,b);P[b]?(P[b].p(E,B),C(P[b],1)):(P[b]=Xa(E),P[b].c(),C(P[b],1),P[b].m(e,g))}for(Ie(),b=q.length;b<P.length;b+=1)F(b);Re()}},i(U){if(!w){C(r.$$.fragment,U);for(let B=0;B<A.length;B+=1)C(k[B]);for(let B=0;B<q.length;B+=1)C(P[B]);w=!0}},o(U){R(r.$$.fragment,U),k=k.filter(Boolean);for(let B=0;B<k.length;B+=1)R(k[B]);P=P.filter(Boolean);for(let B=0;B<P.length;B+=1)R(P[B]);w=!1},d(U){U&&z(e),ne(r),je(k,U),je(P,U),y=!1,_()}}}function F1(t){let e,n,r,i;const a=[$1,N1],s=[];function l(o,u){return o[0]<0?0:1}return e=l(t),n=s[e]=a[e](t),{c(){n.c(),r=ze()},m(o,u){s[e].m(o,u),I(o,r,u),i=!0},p(o,u){let f=e;e=l(o),e===f?s[e].p(o,u):(Ie(),R(s[f],1,1,()=>{s[f]=null}),Re(),n=s[e],n?n.p(o,u):(n=s[e]=a[e](o),n.c()),C(n,1),n.m(r.parentNode,r))},i(o){i||(C(n),i=!0)},o(o){R(n),i=!1},d(o){o&&z(r),s[e].d(o)}}}function z1(t){return JSON.parse(JSON.stringify(t))}function P1(t,e,n){let r,i,a,s,l;ye(t,rt,E=>n(2,r=E)),ye(t,Lt,E=>n(28,i=E)),ye(t,_t,E=>n(0,a=E)),ye(t,pe,E=>n(1,s=E)),ye(t,Bt,E=>n(3,l=E)),An(()=>{Qt(a,0,"time"),Qt(a,1,"time"),$e(pe,s[a].params.dayHeight=15,s)});let o={},u={};function f(E,W,G,N){$e(pe,s[a].sourceData[W].chartvalues[E].processSteps[G].parameters=N,s),Qt(a,W,E)}function c(E,W,G){s[a].sourceData[E].chartvalues[W].processSteps.splice(G,1),Qt(a,E,W)}function h(E){return Object.keys(r[r.findIndex(W=>W.id===E.tableID)].data)}function d(E){let W={};Object.keys(o).forEach((G,N)=>{W[G]={field:Object.keys(r[r.findIndex(V=>V.id===E)].data)[N],processSteps:[],processedData:[]}}),s[a].sourceData.push({tableID:E,name:"Data "+(1+s[a].sourceData.length),chartvalues:W,...z1(u)}),pe.set(s)}function g(E){pe.update(W=>{const G=[...W],N=G[a].id,V=G.find(J=>J.id===N);return V&&V.sourceData&&V.sourceData.splice(E,1),G})}function w(E,W,G){$e(Lt,i.labels=Object.keys(Kt),i);for(let N=0;N<i.labels.length;N++)$e(Lt,i.funcs[N]=()=>lu(i.labels[N],E,W,G),i)}function y(){$e(Lt,i.labels=[],i),$e(Lt,i.funcs=[],i);for(let E=0;E<r.length;E++)i.labels.push(r[E].displayName),i.funcs.push(()=>d(r[E].id))}const _=E=>{E.preventDefault(),y()};function m(E,W){t.$$.not_equal(W.name,E)&&(W.name=E,pe.set(s))}const v=(E,W)=>{W.preventDefault(),g(E)},D=(E,W)=>W.id===E.tableID,M=(E,W,G)=>{G.preventDefault(),w("graph",E,W)},A=(E,W)=>W.id===E.tableID;function k(E,W,G){W[G].chartvalues[E].field=Pl(this),pe.set(s),n(6,h)}const H=(E,W,G)=>{Qt(a,E,W)},q=(E,W,G,N)=>{N.preventDefault(),c(E,W,G)},P=(E,W)=>W.id===E.tableID,F=(E,W,G,N)=>{f(E,W,G,N.detail.params)};function U(E,W){s[a].sourceData[E][W].hex=this.value,pe.set(s),n(6,h)}function B(E,W,G){t.$$.not_equal(s[a].sourceData[W][G].alpha,E)&&(s[a].sourceData[W][G].alpha=E,pe.set(s))}function S(E,W,G){t.$$.not_equal(s[a].sourceData[W][G],E)&&(s[a].sourceData[W][G]=E,pe.set(s))}function b(E,W){s[a].sourceData[E][W]=this.checked,pe.set(s),n(6,h)}return t.$$.update=()=>{t.$$.dirty[0]&3&&a>=0&&(o=nt[s[a].graph].prototypechartvalues,u=nt[s[a].graph].prototypeother)},[a,s,r,l,f,c,h,g,w,y,d,_,m,v,D,M,A,k,H,q,P,F,U,B,S,b]}class I1 extends Ge{constructor(e){super(),Be(this,e,P1,F1,qe,{addDataToGraph:10},null,[-1,-1])}get addDataToGraph(){return this.$$.ctx[10]}}function R1(t){let e=t[1][t[0]].graph+"",n;return{c(){n=Me(e)},m(r,i){I(r,n,i)},p(r,i){i&3&&e!==(e=r[1][r[0]].graph+"")&&He(n,e)},i:he,o:he,d(r){r&&z(n)}}}function L1(t){let e,n,r;var i=nt[t[1][t[0]].graph].graph;function a(s,l){return{}}return i&&(e=Jt(i,a())),{c(){e&&re(e.$$.fragment),n=ze()},m(s,l){e&&te(e,s,l),I(s,n,l),r=!0},p(s,l){if(l&3&&i!==(i=nt[s[1][s[0]].graph].graph)){if(e){Ie();const o=e;R(o.$$.fragment,1,0,()=>{ne(o,1)}),Re()}i?(e=Jt(i,a()),re(e.$$.fragment),C(e.$$.fragment,1),te(e,n.parentNode,n)):e=null}},i(s){r||(e&&C(e.$$.fragment,s),r=!0)},o(s){e&&R(e.$$.fragment,s),r=!1},d(s){s&&z(n),e&&ne(e,s)}}}function H1(t){let e;return{c(){e=O("h3"),e.textContent="Need to add a graph"},m(n,r){I(n,e,r)},p:he,i:he,o:he,d(n){n&&z(e)}}}function W1(t){let e,n,r,i,a,s;e=new tm({});const l=[H1,L1,R1],o=[];function u(f,c){return f[0]<0?0:f[1][f[0]].graph in nt?1:2}return i=u(t),a=o[i]=l[i](t),{c(){re(e.$$.fragment),n=Z(),r=O("div"),a.c(),p(r,"id","thePlot"),ue(r,"height","calc(100% - 4em)"),ue(r,"overflow","auto"),ue(r,"width","auto")},m(f,c){te(e,f,c),I(f,n,c),I(f,r,c),o[i].m(r,null),s=!0},p(f,c){let h=i;i=u(f),i===h?o[i].p(f,c):(Ie(),R(o[h],1,1,()=>{o[h]=null}),Re(),a=o[i],a?a.p(f,c):(a=o[i]=l[i](f),a.c()),C(a,1),a.m(r,null))},i(f){s||(C(e.$$.fragment,f),C(a),s=!0)},o(f){R(e.$$.fragment,f),R(a),s=!1},d(f){f&&(z(n),z(r)),ne(e,f),o[i].d()}}}function V1(t){let e=JSON.stringify(t[1][t[0]].sourceData)+"",n;return{c(){n=Me(e)},m(r,i){I(r,n,i)},p(r,i){i&3&&e!==(e=JSON.stringify(r[1][r[0]].sourceData)+"")&&He(n,e)},i:he,o:he,d(r){r&&z(n)}}}function q1(t){let e,n,r,i,a,s,l;var o=nt[t[1][t[0]].graph].controls;function u(f,c){return{}}return o&&(i=Jt(o,u())),s=new I1({}),{c(){e=O("div"),n=O("div"),n.innerHTML='<h1 style="padding: 6px 6px 0px 6px; font-weight: bold; font-size: 1.2em; text-decoration: underline;">Controls</h1>',r=Z(),i&&re(i.$$.fragment),a=Z(),re(s.$$.fragment),ue(n,"display","flex"),ue(n,"min-width","200px"),p(e,"id","chartControlsTree"),ue(e,"height","100%"),ue(e,"width","auto"),ue(e,"overflow","auto")},m(f,c){I(f,e,c),T(e,n),T(e,r),i&&te(i,e,null),T(e,a),te(s,e,null),l=!0},p(f,c){if(c&3&&o!==(o=nt[f[1][f[0]].graph].controls)){if(i){Ie();const h=i;R(h.$$.fragment,1,0,()=>{ne(h,1)}),Re()}o?(i=Jt(o,u()),re(i.$$.fragment),C(i.$$.fragment,1),te(i,e,a)):i=null}},i(f){l||(i&&C(i.$$.fragment,f),C(s.$$.fragment,f),l=!0)},o(f){i&&R(i.$$.fragment,f),R(s.$$.fragment,f),l=!1},d(f){f&&z(e),i&&ne(i),ne(s)}}}function U1(t){let e;return{c(){e=O("h3"),e.textContent="Need to add a graph"},m(n,r){I(n,e,r)},p:he,i:he,o:he,d(n){n&&z(e)}}}function Z1(t){let e,n,r,i;const a=[U1,q1,V1],s=[];function l(o,u){return o[0]<0?0:o[1][o[0]].graph in nt?1:2}return e=l(t),n=s[e]=a[e](t),{c(){n.c(),r=ze()},m(o,u){s[e].m(o,u),I(o,r,u),i=!0},p(o,u){let f=e;e=l(o),e===f?s[e].p(o,u):(Ie(),R(s[f],1,1,()=>{s[f]=null}),Re(),n=s[e],n?n.p(o,u):(n=s[e]=a[e](o),n.c()),C(n,1),n.m(r.parentNode,r))},i(o){i||(C(n),i=!0)},o(o){R(n),i=!1},d(o){o&&z(r),s[e].d(o)}}}function Y1(t){let e,n,r,i;return e=new Rt({props:{$$slots:{default:[W1]},$$scope:{ctx:t}}}),r=new Rt({props:{size:25,$$slots:{default:[Z1]},$$scope:{ctx:t}}}),{c(){re(e.$$.fragment),n=Z(),re(r.$$.fragment)},m(a,s){te(e,a,s),I(a,n,s),te(r,a,s),i=!0},p(a,s){const l={};s&7&&(l.$$scope={dirty:s,ctx:a}),e.$set(l);const o={};s&7&&(o.$$scope={dirty:s,ctx:a}),r.$set(o)},i(a){i||(C(e.$$.fragment,a),C(r.$$.fragment,a),i=!0)},o(a){R(e.$$.fragment,a),R(r.$$.fragment,a),i=!1},d(a){a&&z(n),ne(e,a),ne(r,a)}}}function B1(t){let e,n;return e=new Jn({props:{theme:"modern-theme",style:"height: 100%;",pushOtherPanes:!1,dblClickSplitter:!1,$$slots:{default:[Y1]},$$scope:{ctx:t}}}),{c(){re(e.$$.fragment)},m(r,i){te(e,r,i),n=!0},p(r,i){const a={};i&7&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){ne(e,r)}}}function G1(t){let e,n;return e=new Rt({props:{size:80,$$slots:{default:[B1]},$$scope:{ctx:t}}}),{c(){re(e.$$.fragment)},m(r,i){te(e,r,i),n=!0},p(r,[i]){const a={};i&7&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){ne(e,r)}}}function J1(t,e,n){let r,i;return ye(t,_t,a=>n(0,r=a)),ye(t,pe,a=>n(1,i=a)),[r,i]}class K1 extends Ge{constructor(e){super(),Be(this,e,J1,G1,qe,{})}}function el(t,e,n){const r=t.slice();return r[16]=e[n],r[18]=n,r}function tl(t,e,n){const r=t.slice();return r[22]=e[n],r[20]=n,r}function nl(t,e,n){const r=t.slice();return r[16]=e[n],r[18]=n,r}function rl(t,e,n){const r=t.slice();return r[16]=e[n],r[20]=n,r}function il(t,e,n){const r=t.slice();return r[24]=e[n],r[26]=n,r}function sl(t,e,n){const r=t.slice();return r[27]=e[n],r[28]=e,r[29]=n,r}function j1(t){let e,n,r,i=me(t[5]),a=[];for(let l=0;l<i.length;l+=1)a[l]=al(sl(t,i,l));const s=l=>R(a[l],1,1,()=>{a[l]=null});return{c(){e=O("nav"),n=O("ul");for(let l=0;l<a.length;l+=1)a[l].c();p(n,"class","svelte-nulfcf"),p(e,"class","svelte-nulfcf")},m(l,o){I(l,e,o),T(e,n);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(n,null);r=!0},p(l,o){if(o&422){i=me(l[5]);let u;for(u=0;u<i.length;u+=1){const f=sl(l,i,u);a[u]?(a[u].p(f,o),C(a[u],1)):(a[u]=al(f),a[u].c(),C(a[u],1),a[u].m(n,null))}for(Ie(),u=i.length;u<a.length;u+=1)s(u);Re()}},i(l){if(!r){for(let o=0;o<i.length;o+=1)C(a[o]);r=!0}},o(l){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)R(a[o]);r=!1},d(l){l&&z(e),je(a,l)}}}function x1(t){let e;return{c(){e=O("h3"),e.textContent="Need to add a table"},m(n,r){I(n,e,r)},p:he,i:he,o:he,d(n){n&&z(e)}}}function al(t){let e,n,r,i,a,s,l,o,u,f,c;function h(..._){return t[10](t[27],..._)}function d(_){t[9](_,t[27])}let g={};t[1][t[1].findIndex(h)].displayName!==void 0&&(g.value=t[1][t[1].findIndex(h)].displayName),r=new er({props:g}),Fe.push(()=>Ye(r,"value",d));function w(){return t[11](t[29])}function y(){return t[12](t[29])}return{c(){e=O("li"),n=O("span"),re(r.$$.fragment),a=Z(),s=O("button"),s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 svelte-nulfcf"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg>',l=Z(),p(n,"class","tabname svelte-nulfcf"),p(s,"class","closeButton svelte-nulfcf"),p(e,"class",o=wn(t[2]===t[29]?"active":"")+" svelte-nulfcf")},m(_,m){I(_,e,m),T(e,n),te(r,n,null),T(e,a),T(e,s),T(e,l),u=!0,f||(c=[ie(s,"click",w),ie(e,"click",y)],f=!0)},p(_,m){t=_;const v={};!i&&m&34&&(i=!0,v.value=t[1][t[1].findIndex(h)].displayName,Ze(()=>i=!1)),r.$set(v),(!u||m&4&&o!==(o=wn(t[2]===t[29]?"active":"")+" svelte-nulfcf"))&&p(e,"class",o)},i(_){u||(C(r.$$.fragment,_),u=!0)},o(_){R(r.$$.fragment,_),u=!1},d(_){_&&z(e),ne(r),f=!1,st(c)}}}function ll(t){let e,n,r,i,a,s,l,o,u,f=me(t[3].headings),c=[];for(let y=0;y<f.length;y+=1)c[y]=ol(il(t,f,y));function h(y,_){return y[4][y[2]]?tg:eg}let d=h(t),g=d(t),w=!t[4][t[2]]&&hl(t);return{c(){e=O("main"),n=O("table"),r=O("thead"),i=O("tr");for(let y=0;y<c.length;y+=1)c[y].c();a=Z(),s=O("tbody"),g.c(),l=Z(),w&&w.c(),o=ze(),p(r,"class","svelte-nulfcf"),p(n,"class","svelte-nulfcf")},m(y,_){I(y,e,_),T(e,n),T(n,r),T(r,i);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(i,null);T(n,a),T(n,s),g.m(s,null),I(y,l,_),w&&w.m(y,_),I(y,o,_),u=!0},p(y,_){if(_&8){f=me(y[3].headings);let m;for(m=0;m<f.length;m+=1){const v=il(y,f,m);c[m]?c[m].p(v,_):(c[m]=ol(v),c[m].c(),c[m].m(i,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=f.length}d===(d=h(y))&&g?g.p(y,_):(g.d(1),g=d(y),g&&(g.c(),g.m(s,null))),y[4][y[2]]?w&&(Ie(),R(w,1,1,()=>{w=null}),Re()):w?(w.p(y,_),_&20&&C(w,1)):(w=hl(y),w.c(),C(w,1),w.m(o.parentNode,o))},i(y){u||(C(w),u=!0)},o(y){R(w),u=!1},d(y){y&&(z(e),z(l),z(o)),je(c,y),g.d(),w&&w.d(y)}}}function X1(t){let e,n=t[24]+"",r;return{c(){e=O("th"),r=Me(n),p(e,"class","svelte-nulfcf")},m(i,a){I(i,e,a),T(e,r)},p(i,a){a&8&&n!==(n=i[24]+"")&&He(r,n)},d(i){i&&z(e)}}}function Q1(t){let e,n,r=t[24]+"",i,a;return{c(){e=O("th"),n=O("i"),i=Me(r),a=Me("*"),p(e,"class","svelte-nulfcf")},m(s,l){I(s,e,l),T(e,n),T(n,i),T(n,a)},p(s,l){l&8&&r!==(r=s[24]+"")&&He(i,r)},d(s){s&&z(e)}}}function ol(t){let e;function n(a,s){return a[3].processed[a[26]]?Q1:X1}let r=n(t),i=r(t);return{c(){i.c(),e=ze()},m(a,s){i.m(a,s),I(a,e,s)},p(a,s){r===(r=n(a))&&i?i.p(a,s):(i.d(1),i=r(a),i&&(i.c(),i.m(e.parentNode,e)))},d(a){a&&z(e),i.d(a)}}}function eg(t){let e,n=me({length:Hr}),r=[];for(let i=0;i<n.length;i+=1)r[i]=fl(el(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=ze()},m(i,a){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,a);I(i,e,a)},p(i,a){if(a&9){n=me({length:Hr});let s;for(s=0;s<n.length;s+=1){const l=el(i,n,s);r[s]?r[s].p(l,a):(r[s]=fl(l),r[s].c(),r[s].m(e.parentNode,e))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){i&&z(e),je(r,i)}}}function tg(t){let e,n=me(t[0][0]),r=[];for(let i=0;i<n.length;i+=1)r[i]=dl(nl(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=ze()},m(i,a){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,a);I(i,e,a)},p(i,a){if(a&9){n=me(i[0][0]);let s;for(s=0;s<n.length;s+=1){const l=nl(i,n,s);r[s]?r[s].p(l,a):(r[s]=dl(l),r[s].c(),r[s].m(e.parentNode,e))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){i&&z(e),je(r,i)}}}function ng(t){let e,n=t[0][t[20]][t[18]]+"",r;return{c(){e=O("td"),r=Me(n),p(e,"class","svelte-nulfcf")},m(i,a){I(i,e,a),T(e,r)},p(i,a){a&1&&n!==(n=i[0][i[20]][i[18]]+"")&&He(r,n)},d(i){i&&z(e)}}}function rg(t){let e,n,r=t[0][t[20]][t[18]]+"",i;return{c(){e=O("td"),n=O("i"),i=Me(r),p(e,"class","svelte-nulfcf")},m(a,s){I(a,e,s),T(e,n),T(n,i)},p(a,s){s&1&&r!==(r=a[0][a[20]][a[18]]+"")&&He(i,r)},d(a){a&&z(e)}}}function ul(t){let e;function n(a,s){return a[3].processed[a[20]]?rg:ng}let r=n(t),i=r(t);return{c(){i.c(),e=ze()},m(a,s){i.m(a,s),I(a,e,s)},p(a,s){r===(r=n(a))&&i?i.p(a,s):(i.d(1),i=r(a),i&&(i.c(),i.m(e.parentNode,e)))},d(a){a&&z(e),i.d(a)}}}function fl(t){let e,n,r=me(t[0]),i=[];for(let a=0;a<r.length;a+=1)i[a]=ul(tl(t,r,a));return{c(){e=O("tr");for(let a=0;a<i.length;a+=1)i[a].c();n=Z()},m(a,s){I(a,e,s);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(e,null);T(e,n)},p(a,s){if(s&9){r=me(a[0]);let l;for(l=0;l<r.length;l+=1){const o=tl(a,r,l);i[l]?i[l].p(o,s):(i[l]=ul(o),i[l].c(),i[l].m(e,n))}for(;l<i.length;l+=1)i[l].d(1);i.length=r.length}},d(a){a&&z(e),je(i,a)}}}function ig(t){let e,n=t[0][t[20]][t[18]]+"",r;return{c(){e=O("td"),r=Me(n),p(e,"class","svelte-nulfcf")},m(i,a){I(i,e,a),T(e,r)},p(i,a){a&1&&n!==(n=i[0][i[20]][i[18]]+"")&&He(r,n)},d(i){i&&z(e)}}}function sg(t){let e,n,r=t[0][t[20]][t[18]]+"",i;return{c(){e=O("td"),n=O("i"),i=Me(r),p(e,"class","svelte-nulfcf")},m(a,s){I(a,e,s),T(e,n),T(n,i)},p(a,s){s&1&&r!==(r=a[0][a[20]][a[18]]+"")&&He(i,r)},d(a){a&&z(e)}}}function cl(t){let e;function n(a,s){return a[3].processed[a[20]]?sg:ig}let r=n(t),i=r(t);return{c(){i.c(),e=ze()},m(a,s){i.m(a,s),I(a,e,s)},p(a,s){r===(r=n(a))&&i?i.p(a,s):(i.d(1),i=r(a),i&&(i.c(),i.m(e.parentNode,e)))},d(a){a&&z(e),i.d(a)}}}function dl(t){let e,n,r=me(t[0]),i=[];for(let a=0;a<r.length;a+=1)i[a]=cl(rl(t,r,a));return{c(){e=O("tr");for(let a=0;a<i.length;a+=1)i[a].c();n=Z()},m(a,s){I(a,e,s);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(e,null);T(e,n)},p(a,s){if(s&9){r=me(a[0]);let l;for(l=0;l<r.length;l+=1){const o=rl(a,r,l);i[l]?i[l].p(o,s):(i[l]=cl(o),i[l].c(),i[l].m(e,n))}for(;l<i.length;l+=1)i[l].d(1);i.length=r.length}},d(a){a&&z(e),je(i,a)}}}function hl(t){let e,n;return e=new Tr({props:{tipcontent:"Show more data",$$slots:{default:[ag]},$$scope:{ctx:t}}}),{c(){re(e.$$.fragment)},m(r,i){te(e,r,i),n=!0},p(r,i){const a={};i&1073741844&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){ne(e,r)}}}function ag(t){let e,n,r,i;return{c(){e=O("button"),n=Me("..."),p(e,"class","showmorebutton svelte-nulfcf"),ue(e,"display",t[4][t[2]]?"none":"block")},m(a,s){I(a,e,s),T(e,n),r||(i=ie(e,"click",t[13]),r=!0)},p(a,s){s&20&&ue(e,"display",a[4][a[2]]?"none":"block")},d(a){a&&z(e),r=!1,i()}}}function lg(t){let e,n,r,i,a,s;const l=[x1,j1],o=[];function u(c,h){return c[2]<0?0:1}n=u(t),r=o[n]=l[n](t);let f=t[2]>=0&&t[0].length>0&&ll(t);return{c(){e=O("div"),r.c(),i=Z(),f&&f.c(),a=ze(),p(e,"id","tableTabs"),ue(e,"margin","0 1em"),p(e,"class","svelte-nulfcf")},m(c,h){I(c,e,h),o[n].m(e,null),I(c,i,h),f&&f.m(c,h),I(c,a,h),s=!0},p(c,[h]){let d=n;n=u(c),n===d?o[n].p(c,h):(Ie(),R(o[d],1,1,()=>{o[d]=null}),Re(),r=o[n],r?r.p(c,h):(r=o[n]=l[n](c),r.c()),C(r,1),r.m(e,null)),c[2]>=0&&c[0].length>0?f?(f.p(c,h),h&5&&C(f,1)):(f=ll(c),f.c(),C(f,1),f.m(a.parentNode,a)):f&&(Ie(),R(f,1,1,()=>{f=null}),Re())},i(c){s||(C(r),C(f),s=!0)},o(c){R(r),R(f),s=!1},d(c){c&&(z(e),z(i),z(a)),o[n].d(),f&&f.d(c)}}}let Hr=100;function og(t,e){let n=[];for(const r in t)n.push(t[r].data),t[r].type==="time"&&n.push(t[r].timeData),t[r].processSteps.length>0&&n.push(t[r].processedData);return n}function ug(t,e,n){let r,i,a,s,l;ye(t,rt,v=>n(1,i=v)),ye(t,Yt,v=>n(2,a=v)),ye(t,mn,v=>n(4,s=v)),ye(t,yn,v=>n(5,l=v));function o(){$e(mn,s[a]=!0,s)}function u(v){$e(Yt,a=v,a)}function f(v){l.splice(v,1),yn.set(l),s.splice(v,1),mn.set(s),$e(Yt,a=l.length>0?0:-1,a)}function c(v){return l.length>0?i.find(D=>D.id===l[v]):{data:-1,displayName:-1}}function h(v,D){if(l.length>0){var M=[],A=[];for(const k in v)M.push(v[k].name),A.push(!1),v[k].processSteps.length>0&&(M.push(v[k].name),A.push(!0)),v[k].type==="time"&&(M.push(v[k].name+" (hrs)"),A.push(!0));return{headings:M,processed:A}}else return{headings:[""],processed:[!1]}}let d;const g=(v,D)=>D.id===v;function w(v,D){t.$$.not_equal(i[i.findIndex(M=>M.id===D)].displayName,v)&&(i[i.findIndex(M=>M.id===D)].displayName=v,rt.set(i))}const y=v=>f(v),_=v=>u(v),m=v=>o();return t.$$.update=()=>{t.$$.dirty&7&&(n(0,d=og(c(a).data)),d.length>0&&d[0].length<=Hr&&(console.log(d[0].length),console.log(d[0].length<=Hr),$e(mn,s[a]=!0,s))),t.$$.dirty&6&&n(3,r=h(c(a).data))},[d,i,a,r,s,l,o,u,f,w,g,y,_,m]}class fg extends Ge{constructor(e){super(),Be(this,e,ug,lg,qe,{})}}function ml(t,e,n){const r=t.slice();return r[10]=e[n],r[11]=e,r[12]=n,r}function cg(t){let e,n,r;return n=new fg({}),{c(){e=O("div"),re(n.$$.fragment),p(e,"id","TableMain"),ue(e,"height","100%"),ue(e,"width","auto"),ue(e,"overflow","auto")},m(i,a){I(i,e,a),te(n,e,null),r=!0},p:he,i(i){r||(C(n.$$.fragment,i),r=!0)},o(i){R(n.$$.fragment,i),r=!1},d(i){i&&z(e),ne(n)}}}function pl(t){let e,n;return e=new Rt({props:{size:30,$$slots:{default:[dg]},$$scope:{ctx:t}}}),{c(){re(e.$$.fragment)},m(r,i){te(e,r,i),n=!0},p(r,i){const a={};i&8193&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){ne(e,r)}}}function gl(t){let e,n=t[0].data[t[10]].name+"",r,i,a,s,l,o,u,f,c=t[0].data[t[10]].recordPeriod.minDiff+"",h,d,g=t[0].data[t[10]].recordPeriod.constant?"equal":"unequal",w,y,_,m;function v(){t[7].call(a,t[10])}function D(...A){return t[8](t[10],...A)}function M(...A){return t[9](t[10],...A)}return{c(){e=O("div"),r=Me(n),i=Z(),a=O("input"),s=Z(),l=O("button"),l.textContent="",o=Z(),u=O("div"),f=Me("Sampling freq: "),h=Me(c),d=Me(`
                  hrs,
                  `),w=Me(g),y=Z(),p(a,"type","text"),p(l,"class","guessFmtBtn svelte-1wt1n0s"),ue(e,"display","flex"),ue(e,"margin","5px"),ue(u,"display","flex"),ue(u,"margin","5px"),ue(u,"margin-left","1em")},m(A,k){I(A,e,k),T(e,r),T(e,i),T(e,a),it(a,t[0].data[t[10]].timeFormat),T(e,s),T(e,l),I(A,o,k),I(A,u,k),T(u,f),T(u,h),T(u,d),T(u,w),T(u,y),_||(m=[ie(a,"input",v),ie(a,"input",D),ie(l,"click",M)],_=!0)},p(A,k){t=A,k&1&&n!==(n=t[0].data[t[10]].name+"")&&He(r,n),k&1&&a.value!==t[0].data[t[10]].timeFormat&&it(a,t[0].data[t[10]].timeFormat),k&1&&c!==(c=t[0].data[t[10]].recordPeriod.minDiff+"")&&He(h,c),k&1&&g!==(g=t[0].data[t[10]].recordPeriod.constant?"equal":"unequal")&&He(w,g)},d(A){A&&(z(e),z(o),z(u)),_=!1,st(m)}}}function _l(t){let e,n=t[0].data[t[10]].type==="time"&&gl(t);return{c(){n&&n.c(),e=ze()},m(r,i){n&&n.m(r,i),I(r,e,i)},p(r,i){r[0].data[r[10]].type==="time"?n?n.p(r,i):(n=gl(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(r){r&&z(e),n&&n.d(r)}}}function dg(t){let e,n,r,i,a=t[0].displayName+"",s,l,o,u,f=t[0].importedFrom+"",c,h,d=me(Object.keys(t[0].data)),g=[];for(let w=0;w<d.length;w+=1)g[w]=_l(ml(t,d,w));return{c(){e=O("div"),n=O("div"),r=O("div"),i=Me("Data: "),s=Me(a),l=Z(),o=O("div"),u=Me("Imported: "),c=Me(f),h=Z();for(let w=0;w<g.length;w+=1)g[w].c();p(n,"class","tableData"),p(e,"id","TableMeta"),ue(e,"height","100%"),ue(e,"width","auto"),ue(e,"overflow","auto")},m(w,y){I(w,e,y),T(e,n),T(n,r),T(r,i),T(r,s),T(n,l),T(n,o),T(o,u),T(o,c),T(n,h);for(let _=0;_<g.length;_+=1)g[_]&&g[_].m(n,null)},p(w,y){if(y&1&&a!==(a=w[0].displayName+"")&&He(s,a),y&1&&f!==(f=w[0].importedFrom+"")&&He(c,f),y&13){d=me(Object.keys(w[0].data));let _;for(_=0;_<d.length;_+=1){const m=ml(w,d,_);g[_]?g[_].p(m,y):(g[_]=_l(m),g[_].c(),g[_].m(n,null))}for(;_<g.length;_+=1)g[_].d(1);g.length=d.length}},d(w){w&&z(e),je(g,w)}}}function hg(t){let e,n,r,i;e=new Rt({props:{$$slots:{default:[cg]},$$scope:{ctx:t}}});let a=t[1]&&pl(t);return{c(){re(e.$$.fragment),n=Z(),a&&a.c(),r=ze()},m(s,l){te(e,s,l),I(s,n,l),a&&a.m(s,l),I(s,r,l),i=!0},p(s,l){const o={};l&8192&&(o.$$scope={dirty:l,ctx:s}),e.$set(o),s[1]?a?(a.p(s,l),l&2&&C(a,1)):(a=pl(s),a.c(),C(a,1),a.m(r.parentNode,r)):a&&(Ie(),R(a,1,1,()=>{a=null}),Re())},i(s){i||(C(e.$$.fragment,s),C(a),i=!0)},o(s){R(e.$$.fragment,s),R(a),i=!1},d(s){s&&(z(n),z(r)),ne(e,s),a&&a.d(s)}}}function mg(t){let e,n;return e=new Jn({props:{theme:"modern-theme",style:"height: 100%",pushOtherPanes:!1,dblClickSplitter:!1,$$slots:{default:[hg]},$$scope:{ctx:t}}}),{c(){re(e.$$.fragment)},m(r,i){te(e,r,i),n=!0},p(r,i){const a={};i&8195&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){ne(e,r)}}}function pg(t){let e,n;return e=new Rt({props:{$$slots:{default:[mg]},$$scope:{ctx:t}}}),{c(){re(e.$$.fragment)},m(r,i){te(e,r,i),n=!0},p(r,[i]){const a={};i&8195&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){ne(e,r)}}}function gg(t,e,n){let r,i,a,s,l;ye(t,Yt,d=>n(4,a=d)),ye(t,yn,d=>n(5,s=d)),ye(t,rt,d=>n(6,l=d));function o(d){$e(rt,l[l.findIndex(g=>g.id===s[a])].data[d].timeData=Zi(i.data[d].data,i.data[d].timeFormat),l),$e(rt,l[l.findIndex(g=>g.id===s[a])].data[d].recordPeriod=Ui(i.data[d].data,i.data[d].timeFormat),l),Nr(s[a],d)}function u(d){$e(rt,l[l.findIndex(g=>g.id===s[a])].data[d].timeFormat=uh(i.data[d].data),l),o(d)}function f(d){i.data[d].timeFormat=this.value,n(0,i),n(6,l),n(5,s),n(4,a)}const c=(d,g)=>{o(d)},h=(d,g)=>{u(d)};return t.$$.update=()=>{t.$$.dirty&16&&n(1,r=a>=0),t.$$.dirty&112&&n(0,i=l[l.findIndex(d=>d.id===s[a])])},[i,r,o,u,a,s,l,f,c,h]}class _g extends Ge{constructor(e){super(),Be(this,e,gg,pg,qe,{})}}function yg(t){let e,n,r;return{c(){e=ft("svg"),n=ft("circle"),p(n,"role","presentation"),p(n,"cx","16"),p(n,"cy","16"),p(n,"r",t[4]),p(n,"stroke",t[2]),p(n,"fill","none"),p(n,"stroke-width",t[3]),p(n,"stroke-dasharray",r=t[5]+",100"),p(n,"stroke-linecap","round"),p(e,"height",t[0]),p(e,"width",t[0]),ue(e,"animation-duration",t[1]+"ms"),p(e,"class","svelte-spinner svelte-ynopmf"),p(e,"viewBox","0 0 32 32")},m(i,a){I(i,e,a),T(e,n)},p(i,[a]){a&16&&p(n,"r",i[4]),a&4&&p(n,"stroke",i[2]),a&8&&p(n,"stroke-width",i[3]),a&32&&r!==(r=i[5]+",100")&&p(n,"stroke-dasharray",r),a&1&&p(e,"height",i[0]),a&1&&p(e,"width",i[0]),a&2&&ue(e,"animation-duration",i[1]+"ms")},i:he,o:he,d(i){i&&z(e)}}}function vg(t,e,n){let{size:r=25}=e,{speed:i=750}=e,{color:a="rgba(0,0,0,0.4)"}=e,{thickness:s=5}=e,{gap:l=30}=e,{radius:o=15}=e,u;return t.$$set=f=>{"size"in f&&n(0,r=f.size),"speed"in f&&n(1,i=f.speed),"color"in f&&n(2,a=f.color),"thickness"in f&&n(3,s=f.thickness),"gap"in f&&n(6,l=f.gap),"radius"in f&&n(4,o=f.radius)},t.$$.update=()=>{t.$$.dirty&80&&n(5,u=2*Math.PI*o*(100-l)/100)},[r,i,a,s,o,u,l]}class Tg extends Ge{constructor(e){super(),Be(this,e,vg,yg,qe,{size:0,speed:1,color:2,thickness:3,gap:6,radius:4})}}function yl(t,e,n){const r=t.slice();return r[4]=e[n],r}function vl(t){let e,n=t[4].display+"";return{c(){e=O("p")},m(r,i){I(r,e,i),e.innerHTML=n},p(r,i){i&2&&n!==(n=r[4].display+"")&&(e.innerHTML=n)},d(r){r&&z(e)}}}function bg(t){let e,n,r,i,a,s;i=new Tg({props:{size:"1em",color:"var(--primary-color)"}});let l=me(t[1]),o=[];for(let u=0;u<l.length;u+=1)o[u]=vl(yl(t,l,u));return{c(){e=O("div"),n=O("h3"),n.textContent="statusbar",r=Z(),re(i.$$.fragment),a=Z();for(let u=0;u<o.length;u+=1)o[u].c();ue(e,"height","100%"),ue(e,"overflow","auto")},m(u,f){I(u,e,f),T(e,n),T(e,r),te(i,e,null),T(e,a);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null);t[2](e),s=!0},p(u,[f]){if(f&2){l=me(u[1]);let c;for(c=0;c<l.length;c+=1){const h=yl(u,l,c);o[c]?o[c].p(h,f):(o[c]=vl(h),o[c].c(),o[c].m(e,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=l.length}},i(u){s||(C(i.$$.fragment,u),s=!0)},o(u){R(i.$$.fragment,u),s=!1},d(u){u&&z(e),ne(i),je(o,u),t[2](null)}}}function wg(t,e,n){let r;ye(t,Hn,l=>n(1,r=l));let i;zi(()=>{Hn&&a(i)});const a=async l=>{l.scroll({top:l.scrollHeight,behavior:"smooth"})};function s(l){Fe[l?"unshift":"push"](()=>{i=l,n(0,i)})}return[i,r,s]}class kg extends Ge{constructor(e){super(),Be(this,e,wg,bg,qe,{})}}function Tl(t,e,n){const r=t.slice();return r[18]=e[n],r[19]=e,r[20]=n,r}function bl(t,e,n){const r=t.slice();return r[21]=e[n],r[22]=e,r[23]=n,r}function wl(t,e,n){const r=t.slice();return r[24]=e[n],r}function kl(t){let e,n=me(t[18].items),r=[];for(let i=0;i<n.length;i+=1)r[i]=Ml(bl(t,n,i));return{c(){e=O("ul");for(let i=0;i<r.length;i+=1)r[i].c();p(e,"class","secondmenu dontclose svelte-osm4b5")},m(i,a){I(i,e,a);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(e,null)},p(i,a){if(a&11){n=me(i[18].items);let s;for(s=0;s<n.length;s+=1){const l=bl(i,n,s);r[s]?r[s].p(l,a):(r[s]=Ml(l),r[s].c(),r[s].m(e,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){i&&z(e),je(r,i)}}}function Sg(t){let e,n,r=t[21].displayText+"",i,a,s,l;function o(...u){return t[12](t[21],...u)}return{c(){e=O("li"),n=O("button"),i=Me(r),a=Z(),p(n,"class","svelte-osm4b5"),p(e,"class","svelte-osm4b5")},m(u,f){I(u,e,f),T(e,n),T(n,i),T(e,a),s||(l=ie(n,"click",o),s=!0)},p(u,f){t=u,f&2&&r!==(r=t[21].displayText+"")&&He(i,r)},d(u){u&&z(e),s=!1,l()}}}function Dg(t){let e,n,r=t[21].displayText+"",i,a,s,l,o,u,f;function c(){return t[7](t[21],t[22],t[23])}function h(){return t[8](t[21],t[22],t[23])}let d=(t[21].visibleState||t[0])&&Sl(t);return{c(){e=O("li"),n=O("button"),i=Me(r),a=Z(),s=O("span"),s.textContent="",l=Z(),d&&d.c(),o=Z(),ue(s,"float","right"),p(n,"class","svelte-osm4b5"),p(e,"class","svelte-osm4b5")},m(g,w){I(g,e,w),T(e,n),T(n,i),T(n,a),T(n,s),T(e,l),d&&d.m(e,null),T(e,o),u||(f=[ie(n,"mouseover",c),ie(n,"mouseleave",h)],u=!0)},p(g,w){t=g,w&2&&r!==(r=t[21].displayText+"")&&He(i,r),t[21].visibleState||t[0]?d?d.p(t,w):(d=Sl(t),d.c(),d.m(e,o)):d&&(d.d(1),d=null)},d(g){g&&z(e),d&&d.d(),u=!1,st(f)}}}function Mg(t){let e;return{c(){e=O("hr"),p(e,"class","svelte-osm4b5")},m(n,r){I(n,e,r)},p:he,d(n){n&&z(e)}}}function Sl(t){let e,n,r,i=me(t[21].items[0]),a=[];for(let s=0;s<i.length;s+=1)a[s]=Dl(wl(t,i,s));return{c(){e=O("ul");for(let s=0;s<a.length;s+=1)a[s].c();p(e,"class","thirdmenu dontclose svelte-osm4b5")},m(s,l){I(s,e,l);for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(e,null);n||(r=[ie(e,"mouseover",t[10]),ie(e,"mouseleave",t[11])],n=!0)},p(s,l){if(l&10){i=me(s[21].items[0]);let o;for(o=0;o<i.length;o+=1){const u=wl(s,i,o);a[o]?a[o].p(u,l):(a[o]=Dl(u),a[o].c(),a[o].m(e,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=i.length}},d(s){s&&z(e),je(a,s),n=!1,st(r)}}}function Dl(t){let e,n,r=t[24].displayText+"",i,a,s,l;function o(...u){return t[9](t[24],...u)}return{c(){e=O("li"),n=O("button"),i=Me(r),a=Z(),p(n,"class","svelte-osm4b5"),p(e,"class","svelte-osm4b5")},m(u,f){I(u,e,f),T(e,n),T(n,i),T(e,a),s||(l=ie(n,"click",o),s=!0)},p(u,f){t=u,f&2&&r!==(r=t[24].displayText+"")&&He(i,r)},d(u){u&&z(e),s=!1,l()}}}function Ml(t){let e;function n(a,s){return a[21].displayText==="--hr"?Mg:a[21].items?Dg:Sg}let r=n(t),i=r(t);return{c(){i.c(),e=ze()},m(a,s){i.m(a,s),I(a,e,s)},p(a,s){r===(r=n(a))&&i?i.p(a,s):(i.d(1),i=r(a),i&&(i.c(),i.m(e.parentNode,e)))},d(a){a&&z(e),i.d(a)}}}function Ol(t){let e,n,r=t[18].displayText+"",i,a,s,l,o;function u(){return t[5](t[18],t[19],t[20])}function f(){return t[6](t[18])}let c=t[18].visibleState&&kl(t);return{c(){e=O("li"),n=O("button"),i=Me(r),a=Z(),c&&c.c(),s=Z(),p(n,"class","dontclose svelte-osm4b5"),p(e,"class","svelte-osm4b5")},m(h,d){I(h,e,d),T(e,n),T(n,i),T(e,a),c&&c.m(e,null),T(e,s),l||(o=[ie(n,"click",u),ie(n,"mouseover",f)],l=!0)},p(h,d){t=h,d&2&&r!==(r=t[18].displayText+"")&&He(i,r),t[18].visibleState?c?c.p(t,d):(c=kl(t),c.c(),c.m(e,s)):c&&(c.d(1),c=null)},d(h){h&&z(e),c&&c.d(),l=!1,st(o)}}}function Og(t){let e,n,r,i,a,s,l,o=me(t[1]),u=[];for(let f=0;f<o.length;f+=1)u[f]=Ol(Tl(t,o,f));return{c(){e=O("nav"),n=O("div"),r=O("ul");for(let f=0;f<u.length;f+=1)u[f].c();i=Z(),a=O("input"),p(r,"class","topmenu svelte-osm4b5"),p(a,"type","checkbox"),p(a,"id","switchtheme"),p(a,"class","svelte-osm4b5"),p(n,"class","applicationmenu svelte-osm4b5"),p(e,"class","svelte-osm4b5")},m(f,c){I(f,e,c),T(e,n),T(n,r);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(r,null);T(n,i),T(n,a),s||(l=ie(a,"change",t[13]),s=!0)},p(f,[c]){if(c&31){o=me(f[1]);let h;for(h=0;h<o.length;h+=1){const d=Tl(f,o,h);u[h]?u[h].p(d,c):(u[h]=Ol(d),u[h].c(),u[h].m(r,null))}for(;h<u.length;h+=1)u[h].d(1);u.length=o.length}},i:he,o:he,d(f){f&&z(e),je(u,f),s=!1,l()}}}function Ag(t){t.target.checked?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.setAttribute("data-theme","light")}function dn(t,e){return{displayText:t,onClick:e,visibleState:!1}}function Eg(t,e,n){let r,i,a;ye(t,Gt,M=>n(14,r=M)),ye(t,Ln,M=>n(15,i=M)),ye(t,Dr,M=>n(16,a=M));let s=!1;function l(){return Object.keys(nt).map(A=>dn(A,()=>Ha(A.toString())))}let o=[{displayText:"Data",items:[dn("Import Data",()=>$e(Dr,a=!0,a)),dn("Simulate Data",()=>{$e(Ln,i="generateSim",i),$e(Gt,r=!0,r)}),{displayText:"--hr"},dn("Exit",()=>console.log("Exit"))]},{displayText:"Chart",items:[{displayText:"Insert Chart",items:[l()]},dn("Export current chart",()=>uu())]},{displayText:"Help",items:[dn("About",()=>{$e(Ln,i="about",i),$e(Gt,r=!0,r)})]}];function u(M){o.forEach(A=>{A!==M&&A.visibleState&&(A.visibleState=!1)}),n(1,o)}function f(){o.forEach(M=>{M.visibleState=!1}),n(1,o)}function c(M){o.forEach(A=>{A!==M&&A.visibleState?A.visibleState=!1:A===M&&(A.visibleState=!0)}),n(1,o)}return An(()=>{Ha("actigram");const M=A=>{try{A.srcElement&&A.srcElement.className.includes("dontclose")||f()}catch{f()}};return document.addEventListener("click",M),()=>{document.removeEventListener("click",M)}}),[s,o,u,f,c,(M,A,k)=>{n(1,A[k].visibleState=!M.visibleState,o),u(M)},M=>{o.some(A=>A.visibleState)&&c(M)},(M,A,k)=>n(1,A[k].visibleState=!0,o),(M,A,k)=>setTimeout(()=>{n(1,A[k].visibleState=!1,o)},50),(M,A)=>{M.onClick(),f()},()=>{n(0,s=!0)},()=>{setTimeout(()=>n(0,s=!1),50)},(M,A)=>{M.onClick(),f()},M=>Ag(M)]}class Cg extends Ge{constructor(e){super(),Be(this,e,Eg,Og,qe,{})}}const{window:Ng}=Lu;function Al(t,e,n){const r=t.slice();return r[9]=e[n],r[11]=n,r}function El(t){let e,n,r,i,a,s=me(t[2].labels),l=[];for(let o=0;o<s.length;o+=1)l[o]=Cl(Al(t,s,o));return{c(){e=O("nav"),n=O("div"),r=O("ul");for(let o=0;o<l.length;o+=1)l[o].c();p(r,"class","svelte-ouzgb9"),p(n,"class","navbar svelte-ouzgb9"),p(n,"id","navbar"),ue(e,"position","absolute"),ue(e,"top",t[0].y+"px"),ue(e,"left",t[0].x+"px"),ue(e,"z-index","999")},m(o,u){I(o,e,u),T(e,n),T(n,r);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(r,null);i||(a=Fi(t[4].call(null,e)),i=!0)},p(o,u){if(u&6){s=me(o[2].labels);let f;for(f=0;f<s.length;f+=1){const c=Al(o,s,f);l[f]?l[f].p(c,u):(l[f]=Cl(c),l[f].c(),l[f].m(r,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=s.length}u&1&&ue(e,"top",o[0].y+"px"),u&1&&ue(e,"left",o[0].x+"px")},d(o){o&&z(e),je(l,o),i=!1,a()}}}function Cl(t){let e,n,r=t[9]+"",i,a,s,l;function o(...u){return t[6](t[11],...u)}return{c(){e=O("li"),n=O("button"),i=Me(r),a=Z(),p(n,"class","svelte-ouzgb9"),p(e,"class","svelte-ouzgb9")},m(u,f){I(u,e,f),T(e,n),T(n,i),T(e,a),s||(l=ie(n,"click",o),s=!0)},p(u,f){t=u,f&4&&r!==(r=t[9]+"")&&He(i,r)},d(u){u&&z(e),s=!1,l()}}}function $g(t){let e,n,r,i=t[1]&&El(t);return{c(){i&&i.c(),e=ze()},m(a,s){i&&i.m(a,s),I(a,e,s),n||(r=ie(Ng,"click",t[3]),n=!0)},p(a,[s]){a[1]?i?i.p(a,s):(i=El(a),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},i:he,o:he,d(a){a&&z(e),i&&i.d(a),n=!1,r()}}}function Fg(t,e,n){let r;ye(t,Lt,h=>n(2,r=h));let i={x:0,y:0},a={h:100,w:76},s={h:0,w:0},l;function o(h){h.stopPropagation(),s={w:window.innerWidth,h:window.innerHeight},n(0,i={x:h.clientX,y:h.clientY}),s.h-i.y<a.h&&n(0,i.y=i.y-a.h,i),s.w-i.x<a.w&&n(0,i.x=i.x-a.w,i),n(1,l=!0)}function u(h){try{h.srcElement.className.includes("showContextMenu")?o(h):n(1,l=!1)}catch{n(1,l=!1)}}function f(h){let d=h.offsetHeight,g=h.offsetWidth;a={h:d,w:g}}return[i,l,r,u,f,o,(h,d)=>{r.funcs[h](),n(1,l=!1)}]}class zg extends Ge{constructor(e){super(),Be(this,e,Fg,$g,qe,{rightClickContextMenu:5})}get rightClickContextMenu(){return this.$$.ctx[5]}}var Pg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ig(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Rg(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var $u={exports:{}};const Lg={},Hg=Object.freeze(Object.defineProperty({__proto__:null,default:Lg},Symbol.toStringTag,{value:"Module"})),Wg=Rg(Hg);/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(n,r){t.exports=r()})(Pg,function n(){var r=function(){return typeof self<"u"?self:typeof window<"u"?window:typeof r<"u"?r:{}}();function i(){var S=r.URL||r.webkitURL||null,b=n.toString();return u.BLOB_URL||(u.BLOB_URL=S.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",b,")();"],{type:"text/javascript"})))}var a=!r.document&&!!r.postMessage,s=r.IS_PAPA_WORKER||!1,l={},o=0,u={};if(u.parse=c,u.unparse=h,u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!a&&!!r.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=1024*1024*10,u.RemoteChunkSize=1024*1024*5,u.DefaultDelimiter=",",u.Parser=M,u.ParserHandle=v,u.NetworkStreamer=g,u.FileStreamer=w,u.StringStreamer=y,u.ReadableStreamStreamer=_,typeof PAPA_BROWSER_CONTEXT>"u"&&(u.DuplexStreamStreamer=m),r.jQuery){var f=r.jQuery;f.fn.parse=function(S){var b=S.config||{},E=[];return this.each(function(V){var J=f(this).prop("tagName").toUpperCase()==="INPUT"&&f(this).attr("type").toLowerCase()==="file"&&r.FileReader;if(!J||!this.files||this.files.length===0)return!0;for(var $=0;$<this.files.length;$++)E.push({file:this.files[$],inputElem:this,instanceConfig:f.extend({},b)})}),W(),this;function W(){if(E.length===0){B(S.complete)&&S.complete();return}var V=E[0];if(B(S.before)){var J=S.before(V.file,V.inputElem);if(typeof J=="object")if(J.action==="abort"){G("AbortError",V.file,V.inputElem,J.reason);return}else if(J.action==="skip"){N();return}else typeof J.config=="object"&&(V.instanceConfig=f.extend(V.instanceConfig,J.config));else if(J==="skip"){N();return}}var $=V.instanceConfig.complete;V.instanceConfig.complete=function(K){B($)&&$(K,V.file,V.inputElem),N()},u.parse(V.file,V.instanceConfig)}function G(V,J,$,K){B(S.error)&&S.error({name:V},J,$,K)}function N(){E.splice(0,1),W()}}}s&&(r.onmessage=P);function c(S,b){b=b||{};var E=b.dynamicTyping||!1;if(B(E)&&(b.dynamicTypingFunction=E,E={}),b.dynamicTyping=E,b.transform=B(b.transform)?b.transform:!1,b.worker&&u.WORKERS_SUPPORTED){var W=A();W.userStep=b.step,W.userChunk=b.chunk,W.userComplete=b.complete,W.userError=b.error,b.step=B(b.step),b.chunk=B(b.chunk),b.complete=B(b.complete),b.error=B(b.error),delete b.worker,W.postMessage({input:S,config:b,workerId:W.id});return}var G=null;if(S===u.NODE_STREAM_INPUT&&typeof PAPA_BROWSER_CONTEXT>"u")return G=new m(b),G.getStream();return typeof S=="string"?(S=N(S),b.download?G=new g(b):G=new y(b)):S.readable===!0&&B(S.read)&&B(S.on)?G=new _(b):(r.File&&S instanceof File||S instanceof Object)&&(G=new w(b)),G.stream(S);function N(V){return V.charCodeAt(0)===65279?V.slice(1):V}}function h(S,b){var E=!1,W=!0,G=",",N=`\r
`,V='"',J=V+V,$=!1,K=null,x=!1;Te();var j=new RegExp(D(V),"g");if(typeof S=="string"&&(S=JSON.parse(S)),Array.isArray(S)){if(!S.length||Array.isArray(S[0]))return we(null,S,$);if(typeof S[0]=="object")return we(K||Object.keys(S[0]),S,$)}else if(typeof S=="object")return typeof S.data=="string"&&(S.data=JSON.parse(S.data)),Array.isArray(S.data)&&(S.fields||(S.fields=S.meta&&S.meta.fields||K),S.fields||(S.fields=Array.isArray(S.data[0])?S.fields:typeof S.data[0]=="object"?Object.keys(S.data[0]):[]),!Array.isArray(S.data[0])&&typeof S.data[0]!="object"&&(S.data=[S.data])),we(S.fields||[],S.data||[],$);throw new Error("Unable to serialize unrecognized input");function Te(){if(typeof b=="object"){if(typeof b.delimiter=="string"&&!u.BAD_DELIMITERS.filter(function(le){return b.delimiter.indexOf(le)!==-1}).length&&(G=b.delimiter),(typeof b.quotes=="boolean"||typeof b.quotes=="function"||Array.isArray(b.quotes))&&(E=b.quotes),(typeof b.skipEmptyLines=="boolean"||typeof b.skipEmptyLines=="string")&&($=b.skipEmptyLines),typeof b.newline=="string"&&(N=b.newline),typeof b.quoteChar=="string"&&(V=b.quoteChar),typeof b.header=="boolean"&&(W=b.header),Array.isArray(b.columns)){if(b.columns.length===0)throw new Error("Option columns is empty");K=b.columns}b.escapeChar!==void 0&&(J=b.escapeChar+V),(typeof b.escapeFormulae=="boolean"||b.escapeFormulae instanceof RegExp)&&(x=b.escapeFormulae instanceof RegExp?b.escapeFormulae:/^[=+\-@\t\r].*$/)}}function we(le,ve,De){var ge="";typeof le=="string"&&(le=JSON.parse(le)),typeof ve=="string"&&(ve=JSON.parse(ve));var ee=Array.isArray(le)&&le.length>0,Oe=!Array.isArray(ve[0]);if(ee&&W){for(var xe=0;xe<le.length;xe++)xe>0&&(ge+=G),ge+=Y(le[xe],xe);ve.length>0&&(ge+=N)}for(var ke=0;ke<ve.length;ke++){var Qe=ee?le.length:ve[ke].length,ot=!1,ce=ee?Object.keys(ve[ke]).length===0:ve[ke].length===0;if(De&&!ee&&(ot=De==="greedy"?ve[ke].join("").trim()==="":ve[ke].length===1&&ve[ke][0].length===0),De==="greedy"&&ee){for(var fe=[],Ae=0;Ae<Qe;Ae++){var tt=Oe?le[Ae]:Ae;fe.push(ve[ke][tt])}ot=fe.join("").trim()===""}if(!ot){for(var Pe=0;Pe<Qe;Pe++){Pe>0&&!ce&&(ge+=G);var Ue=ee&&Oe?le[Pe]:Pe;ge+=Y(ve[ke][Ue],Pe)}ke<ve.length-1&&(!De||Qe>0&&!ce)&&(ge+=N)}}return ge}function Y(le,ve){if(typeof le>"u"||le===null)return"";if(le.constructor===Date)return JSON.stringify(le).slice(1,25);var De=!1;x&&typeof le=="string"&&x.test(le)&&(le="'"+le,De=!0);var ge=le.toString().replace(j,J);return De=De||E===!0||typeof E=="function"&&E(le,ve)||Array.isArray(E)&&E[ve]||Ee(ge,u.BAD_DELIMITERS)||ge.indexOf(G)>-1||ge.charAt(0)===" "||ge.charAt(ge.length-1)===" ",De?V+ge+V:ge}function Ee(le,ve){for(var De=0;De<ve.length;De++)if(le.indexOf(ve[De])>-1)return!0;return!1}}function d(S){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},b.call(this,S),this.parseChunk=function(E,W){if(this.isFirstChunk&&B(this._config.beforeFirstChunk)){var G=this._config.beforeFirstChunk(E);G!==void 0&&(E=G)}this.isFirstChunk=!1,this._halted=!1;var N=this._partialLine+E;this._partialLine="";var V=this._handle.parse(N,this._baseIndex,!this._finished);if(this._handle.paused()||this._handle.aborted()){this._halted=!0;return}var J=V.meta.cursor;this._finished||(this._partialLine=N.substring(J-this._baseIndex),this._baseIndex=J),V&&V.data&&(this._rowCount+=V.data.length);var $=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(s)r.postMessage({results:V,workerId:u.WORKER_ID,finished:$});else if(B(this._config.chunk)&&!W){if(this._config.chunk(V,this._handle),this._handle.paused()||this._handle.aborted()){this._halted=!0;return}V=void 0,this._completeResults=void 0}return!this._config.step&&!this._config.chunk&&(this._completeResults.data=this._completeResults.data.concat(V.data),this._completeResults.errors=this._completeResults.errors.concat(V.errors),this._completeResults.meta=V.meta),!this._completed&&$&&B(this._config.complete)&&(!V||!V.meta.aborted)&&(this._config.complete(this._completeResults,this._input),this._completed=!0),!$&&(!V||!V.meta.paused)&&this._nextChunk(),V},this._sendError=function(E){B(this._config.error)?this._config.error(E):s&&this._config.error&&r.postMessage({workerId:u.WORKER_ID,error:E,finished:!1})};function b(E){var W=F(E);W.chunkSize=parseInt(W.chunkSize),!E.step&&!E.chunk&&(W.chunkSize=null),this._handle=new v(W),this._handle.streamer=this,this._config=W}}function g(S){S=S||{},S.chunkSize||(S.chunkSize=u.RemoteChunkSize),d.call(this,S);var b;a?this._nextChunk=function(){this._readChunk(),this._chunkLoaded()}:this._nextChunk=function(){this._readChunk()},this.stream=function(W){this._input=W,this._nextChunk()},this._readChunk=function(){if(this._finished){this._chunkLoaded();return}if(b=new XMLHttpRequest,this._config.withCredentials&&(b.withCredentials=this._config.withCredentials),a||(b.onload=U(this._chunkLoaded,this),b.onerror=U(this._chunkError,this)),b.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var W=this._config.downloadRequestHeaders;for(var G in W)b.setRequestHeader(G,W[G])}if(this._config.chunkSize){var N=this._start+this._config.chunkSize-1;b.setRequestHeader("Range","bytes="+this._start+"-"+N)}try{b.send(this._config.downloadRequestBody)}catch(V){this._chunkError(V.message)}a&&b.status===0&&this._chunkError()},this._chunkLoaded=function(){if(b.readyState===4){if(b.status<200||b.status>=400){this._chunkError();return}this._start+=this._config.chunkSize?this._config.chunkSize:b.responseText.length,this._finished=!this._config.chunkSize||this._start>=E(b),this.parseChunk(b.responseText)}},this._chunkError=function(W){var G=b.statusText||W;this._sendError(new Error(G))};function E(W){var G=W.getResponseHeader("Content-Range");return G===null?-1:parseInt(G.substring(G.lastIndexOf("/")+1))}}g.prototype=Object.create(d.prototype),g.prototype.constructor=g;function w(S){S=S||{},S.chunkSize||(S.chunkSize=u.LocalChunkSize),d.call(this,S);var b,E,W=typeof FileReader<"u";this.stream=function(G){this._input=G,E=G.slice||G.webkitSlice||G.mozSlice,W?(b=new FileReader,b.onload=U(this._chunkLoaded,this),b.onerror=U(this._chunkError,this)):b=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){!this._finished&&(!this._config.preview||this._rowCount<this._config.preview)&&this._readChunk()},this._readChunk=function(){var G=this._input;if(this._config.chunkSize){var N=Math.min(this._start+this._config.chunkSize,this._input.size);G=E.call(G,this._start,N)}var V=b.readAsText(G,this._config.encoding);W||this._chunkLoaded({target:{result:V}})},this._chunkLoaded=function(G){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(G.target.result)},this._chunkError=function(){this._sendError(b.error)}}w.prototype=Object.create(d.prototype),w.prototype.constructor=w;function y(S){S=S||{},d.call(this,S);var b;this.stream=function(E){return b=E,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var E=this._config.chunkSize,W;return E?(W=b.substring(0,E),b=b.substring(E)):(W=b,b=""),this._finished=!b,this.parseChunk(W)}}}y.prototype=Object.create(y.prototype),y.prototype.constructor=y;function _(S){S=S||{},d.call(this,S);var b=[],E=!0,W=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(G){this._input=G,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){W&&b.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),b.length?this.parseChunk(b.shift()):E=!0},this._streamData=U(function(G){try{b.push(typeof G=="string"?G:G.toString(this._config.encoding)),E&&(E=!1,this._checkIsFinished(),this.parseChunk(b.shift()))}catch(N){this._streamError(N)}},this),this._streamError=U(function(G){this._streamCleanUp(),this._sendError(G)},this),this._streamEnd=U(function(){this._streamCleanUp(),W=!0,this._streamData("")},this),this._streamCleanUp=U(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}_.prototype=Object.create(d.prototype),_.prototype.constructor=_;function m(S){var b=Wg.Duplex,E=F(S),W=!0,G=!1,N=[],V=null;this._onCsvData=function(J){var $=J.data;!V.push($)&&!this._handle.paused()&&this._handle.pause()},this._onCsvComplete=function(){V.push(null)},E.step=U(this._onCsvData,this),E.complete=U(this._onCsvComplete,this),d.call(this,E),this._nextChunk=function(){G&&N.length===1&&(this._finished=!0),N.length?N.shift()():W=!0},this._addToParseQueue=function(J,$){N.push(U(function(){if(this.parseChunk(typeof J=="string"?J:J.toString(E.encoding)),B($))return $()},this)),W&&(W=!1,this._nextChunk())},this._onRead=function(){this._handle.paused()&&this._handle.resume()},this._onWrite=function(J,$,K){this._addToParseQueue(J,K)},this._onWriteComplete=function(){G=!0,this._addToParseQueue("")},this.getStream=function(){return V},V=new b({readableObjectMode:!0,decodeStrings:!1,read:U(this._onRead,this),write:U(this._onWrite,this)}),V.once("finish",U(this._onWriteComplete,this))}typeof PAPA_BROWSER_CONTEXT>"u"&&(m.prototype=Object.create(d.prototype),m.prototype.constructor=m);function v(S){var b=Math.pow(2,53),E=-b,W=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,G=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,N=this,V=0,J=0,$,K,x=!1,j=!1,Te,we=[],Y={data:[],errors:[],meta:{}};if(B(S.step)){var Ee=S.step;S.step=function(fe){if(Y=fe,ge())De();else{if(De(),Y.data.length===0)return;V+=fe.data.length,S.preview&&V>S.preview?K.abort():(Y.data=Y.data[0],Ee(Y,N))}}}this.parse=function(fe,Ae,tt){var Pe=S.quoteChar||'"';if(S.newline||(S.newline=ot(fe,Pe)),Te=!1,S.delimiter)B(S.delimiter)&&(S.delimiter=S.delimiter(fe),Y.meta.delimiter=S.delimiter);else{var Ue=Qe(fe,S.newline,S.skipEmptyLines,S.comments,S.delimitersToGuess);Ue.successful?S.delimiter=Ue.bestDelimiter:(Te=!0,S.delimiter=u.DefaultDelimiter),Y.meta.delimiter=S.delimiter}var We=F(S);return S.preview&&S.header&&We.preview++,$=fe,K=new M(We),Y=K.parse($,Ae,tt),De(),x?{meta:{paused:!0}}:Y||{meta:{paused:!1}}},this.paused=function(){return x},this.pause=function(){x=!0,K.abort(),$=B(S.chunk)?"":$.substring(K.getCharIndex())},this.resume=function(){N.streamer._halted?(x=!1,N.streamer.parseChunk($,!0)):setTimeout(N.resume,3)},this.aborted=function(){return j},this.abort=function(){j=!0,K.abort(),Y.meta.aborted=!0,B(S.complete)&&S.complete(Y),$=""};function le(fe){return S.skipEmptyLines==="greedy"?fe.join("").trim()==="":fe.length===1&&fe[0].length===0}function ve(fe){if(W.test(fe)){var Ae=parseFloat(fe);if(Ae>E&&Ae<b)return!0}return!1}function De(){return Y&&Te&&(ce("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),Te=!1),S.skipEmptyLines&&(Y.data=Y.data.filter(function(fe){return!le(fe)})),ge()&&ee(),ke()}function ge(){return S.header&&we.length===0}function ee(){if(!Y)return;function fe(tt,Pe){B(S.transformHeader)&&(tt=S.transformHeader(tt,Pe)),we.push(tt)}if(Array.isArray(Y.data[0])){for(var Ae=0;ge()&&Ae<Y.data.length;Ae++)Y.data[Ae].forEach(fe);Y.data.splice(0,1)}else Y.data.forEach(fe)}function Oe(fe){return S.dynamicTypingFunction&&S.dynamicTyping[fe]===void 0&&(S.dynamicTyping[fe]=S.dynamicTypingFunction(fe)),(S.dynamicTyping[fe]||S.dynamicTyping)===!0}function xe(fe,Ae){return Oe(fe)?Ae==="true"||Ae==="TRUE"?!0:Ae==="false"||Ae==="FALSE"?!1:ve(Ae)?parseFloat(Ae):G.test(Ae)?new Date(Ae):Ae===""?null:Ae:Ae}function ke(){if(!Y||!S.header&&!S.dynamicTyping&&!S.transform)return Y;function fe(tt,Pe){var Ue=S.header?{}:[],We;for(We=0;We<tt.length;We++){var at=We,L=tt[We];S.header&&(at=We>=we.length?"__parsed_extra":we[We]),S.transform&&(L=S.transform(L,at)),L=xe(at,L),at==="__parsed_extra"?(Ue[at]=Ue[at]||[],Ue[at].push(L)):Ue[at]=L}return S.header&&(We>we.length?ce("FieldMismatch","TooManyFields","Too many fields: expected "+we.length+" fields but parsed "+We,J+Pe):We<we.length&&ce("FieldMismatch","TooFewFields","Too few fields: expected "+we.length+" fields but parsed "+We,J+Pe)),Ue}var Ae=1;return!Y.data.length||Array.isArray(Y.data[0])?(Y.data=Y.data.map(fe),Ae=Y.data.length):Y.data=fe(Y.data,0),S.header&&Y.meta&&(Y.meta.fields=we),J+=Ae,Y}function Qe(fe,Ae,tt,Pe,Ue){var We,at,L,se;Ue=Ue||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var oe=0;oe<Ue.length;oe++){var X=Ue[oe],be=0,Q=0,de=0;L=void 0;for(var _e=new M({comments:Pe,delimiter:X,newline:Ae,preview:10}).parse(fe),Ce=0;Ce<_e.data.length;Ce++){if(tt&&le(_e.data[Ce])){de++;continue}var Le=_e.data[Ce].length;if(Q+=Le,typeof L>"u"){L=Le;continue}else Le>0&&(be+=Math.abs(Le-L),L=Le)}_e.data.length>0&&(Q/=_e.data.length-de),(typeof at>"u"||be<=at)&&(typeof se>"u"||Q>se)&&Q>1.99&&(at=be,We=X,se=Q)}return S.delimiter=We,{successful:!!We,bestDelimiter:We}}function ot(fe,Ae){fe=fe.substring(0,1024*1024);var tt=new RegExp(D(Ae)+"([^]*?)"+D(Ae),"gm");fe=fe.replace(tt,"");var Pe=fe.split("\r"),Ue=fe.split(`
`),We=Ue.length>1&&Ue[0].length<Pe[0].length;if(Pe.length===1||We)return`
`;for(var at=0,L=0;L<Pe.length;L++)Pe[L][0]===`
`&&at++;return at>=Pe.length/2?`\r
`:"\r"}function ce(fe,Ae,tt,Pe){var Ue={type:fe,code:Ae,message:tt};Pe!==void 0&&(Ue.row=Pe),Y.errors.push(Ue)}}function D(S){return S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function M(S){S=S||{};var b=S.delimiter,E=S.newline,W=S.comments,G=S.step,N=S.preview,V=S.fastMode,J;S.quoteChar===void 0||S.quoteChar===null?J='"':J=S.quoteChar;var $=J;if(S.escapeChar!==void 0&&($=S.escapeChar),(typeof b!="string"||u.BAD_DELIMITERS.indexOf(b)>-1)&&(b=","),W===b)throw new Error("Comment character same as delimiter");W===!0?W="#":(typeof W!="string"||u.BAD_DELIMITERS.indexOf(W)>-1)&&(W=!1),E!==`
`&&E!=="\r"&&E!==`\r
`&&(E=`
`);var K=0,x=!1;this.parse=function(j,Te,we){if(typeof j!="string")throw new Error("Input must be a string");var Y=j.length,Ee=b.length,le=E.length,ve=W.length,De=B(G);K=0;var ge=[],ee=[],Oe=[],xe=0;if(!j)return mt();if(S.header&&!Te){var ke=j.split(E)[0],Qe=ke.split(b),ot="_",ce=[],fe={},Ae=!1;for(var tt in Qe){var Pe=Qe[tt];B(S.transformHeader)&&(Pe=S.transformHeader(Pe,tt));var Ue=Pe,We=fe[Pe]||0;for(We>0&&(Ae=!0,Ue=Pe+ot+We),fe[Pe]=We+1;ce.includes(Ue);)Ue=Ue+ot+We;ce.push(Ue)}if(Ae){var at=j.split(E);at[0]=ce.join(b),j=at.join(E)}}if(V||V!==!1&&j.indexOf(J)===-1){for(var L=j.split(E),se=0;se<L.length;se++){if(Oe=L[se],K+=Oe.length,se!==L.length-1)K+=E.length;else if(we)return mt();if(!(W&&Oe.substring(0,ve)===W)){if(De){if(ge=[],ht(Oe.split(b)),ln(),x)return mt()}else ht(Oe.split(b));if(N&&se>=N)return ge=ge.slice(0,N),mt(!0)}}return mt()}for(var oe=j.indexOf(b,K),X=j.indexOf(E,K),be=new RegExp(D($)+D(J),"g"),Q=j.indexOf(J,K);;){if(j[K]===J){for(Q=K,K++;;){if(Q=j.indexOf(J,Q+1),Q===-1)return we||ee.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ge.length,index:K}),Ke();if(Q===Y-1){var de=j.substring(K,Q).replace(be,J);return Ke(de)}if(J===$&&j[Q+1]===$){Q++;continue}if(!(J!==$&&Q!==0&&j[Q-1]===$)){oe!==-1&&oe<Q+1&&(oe=j.indexOf(b,Q+1)),X!==-1&&X<Q+1&&(X=j.indexOf(E,Q+1));var _e=X===-1?oe:Math.min(oe,X),Ce=yt(_e);if(j.substr(Q+1+Ce,Ee)===b){Oe.push(j.substring(K,Q).replace(be,J)),K=Q+1+Ce+Ee,j[Q+1+Ce+Ee]!==J&&(Q=j.indexOf(J,K)),oe=j.indexOf(b,K),X=j.indexOf(E,K);break}var Le=yt(X);if(j.substring(Q+1+Le,Q+1+Le+le)===E){if(Oe.push(j.substring(K,Q).replace(be,J)),kt(Q+1+Le+le),oe=j.indexOf(b,K),Q=j.indexOf(J,K),De&&(ln(),x))return mt();if(N&&ge.length>=N)return mt(!0);break}ee.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ge.length,index:K}),Q++}}continue}if(W&&Oe.length===0&&j.substring(K,K+ve)===W){if(X===-1)return mt();K=X+le,X=j.indexOf(E,K),oe=j.indexOf(b,K);continue}if(oe!==-1&&(oe<X||X===-1)){Oe.push(j.substring(K,oe)),K=oe+Ee,oe=j.indexOf(b,K);continue}if(X!==-1){if(Oe.push(j.substring(K,X)),kt(X+le),De&&(ln(),x))return mt();if(N&&ge.length>=N)return mt(!0);continue}break}return Ke();function ht(vt){ge.push(vt),xe=K}function yt(vt){var Xi=0;if(vt!==-1){var Br=j.substring(Q+1,vt);Br&&Br.trim()===""&&(Xi=Br.length)}return Xi}function Ke(vt){return we||(typeof vt>"u"&&(vt=j.substring(K)),Oe.push(vt),K=Y,ht(Oe),De&&ln()),mt()}function kt(vt){K=vt,ht(Oe),Oe=[],X=j.indexOf(E,K)}function mt(vt){return{data:ge,errors:ee,meta:{delimiter:b,linebreak:E,aborted:x,truncated:!!vt,cursor:xe+(Te||0)}}}function ln(){G(mt()),ge=[],ee=[]}},this.abort=function(){x=!0},this.getCharIndex=function(){return K}}function A(){if(!u.WORKERS_SUPPORTED)return!1;var S=i(),b=new r.Worker(S);return b.onmessage=k,b.id=o++,l[b.id]=b,b}function k(S){var b=S.data,E=l[b.workerId],W=!1;if(b.error)E.userError(b.error,b.file);else if(b.results&&b.results.data){var G=function(){W=!0,H(b.workerId,{data:[],errors:[],meta:{aborted:!0}})},N={abort:G,pause:q,resume:q};if(B(E.userStep)){for(var V=0;V<b.results.data.length&&(E.userStep({data:b.results.data[V],errors:b.results.errors,meta:b.results.meta},N),!W);V++);delete b.results}else B(E.userChunk)&&(E.userChunk(b.results,N,b.file),delete b.results)}b.finished&&!W&&H(b.workerId,b.results)}function H(S,b){var E=l[S];B(E.userComplete)&&E.userComplete(b),E.terminate(),delete l[S]}function q(){throw new Error("Not implemented.")}function P(S){var b=S.data;if(typeof u.WORKER_ID>"u"&&b&&(u.WORKER_ID=b.workerId),typeof b.input=="string")r.postMessage({workerId:u.WORKER_ID,results:u.parse(b.input,b.config),finished:!0});else if(r.File&&b.input instanceof File||b.input instanceof Object){var E=u.parse(b.input,b.config);E&&r.postMessage({workerId:u.WORKER_ID,results:E,finished:!0})}}function F(S){if(typeof S!="object"||S===null)return S;var b=Array.isArray(S)?[]:{};for(var E in S)b[E]=F(S[E]);return b}function U(S,b){return function(){S.apply(b,arguments)}}function B(S){return typeof S=="function"}return u})})($u);var Vg=$u.exports;const qg=Ig(Vg);function Ug(t){let e,n,r;return{c(){e=O("input"),p(e,"type","file"),p(e,"id","fileInput"),ue(e,"display","none"),p(e,"accept",".csv,.txt,.TXT")},m(i,a){I(i,e,a),n||(r=ie(e,"change",t[2]),n=!0)},p:he,i:he,o:he,d(i){i&&z(e),n=!1,r()}}}function Zg(t,e,n){let r,i;ye(t,rt,d=>n(4,r=d)),ye(t,Dr,d=>n(1,i=d));let a=["NaN","NA","null"],s,l;function o(d,g){const w=y=>Object.values(y).every(_=>_==null);d.data=d.data.filter(y=>!w(y)),u(g),l.datalength=d.data.length,d.meta.fields.forEach(y=>{const _=c(d.data,y);if(!isNaN(_))console.log(l.data),l.data[y]={name:y,type:"value",data:d.data.map(m=>m[y]),processSteps:[],processedData:[]};else if(Cr([_])!=-1){const m=Cr([_]);console.log("guessedformat = "+m),l.data[y]={name:y,type:"time",data:d.data.map(v=>v[y]),timeFormat:m,timeData:Zi(d.data.map(v=>v[y]),m),recordPeriod:Ui(_,m),processSteps:[],rocessedData:[]}}}),r.push(l),rt.set(r),console.log(l)}function u(d){l={id:f(),importedFrom:d,displayName:"data_"+f(),datalength:NaN,data:{}}}function f(){if(r.length===0)return 0;let d=[];return r.forEach(g=>d.push(g.id)),Math.max(...d)+1}function c(d,g){for(const w of d){const y=w[g];if(y!==null&&y!==""&&!a.includes(y))return y}return null}function h(){s=this.files,n(0,s)}return t.$$.update=()=>{t.$$.dirty&1&&s&&(console.log(`${s[0].name}: ${s[0].size} bytes`),qg.parse(s[0],{header:!0,dynamicTyping:!0,error(d,g,w,y){console.log("Error: "+d+" | "+y)},complete(d){console.log(s[0].name),console.log(d.meta),console.log(d.data),o(d,s[0].name)}})),t.$$.dirty&2&&i&&(document.getElementById("fileInput").click(),$e(Dr,i=!1,i))},[s,i,h]}class Yg extends Ge{constructor(e){super(),Be(this,e,Zg,Ug,qe,{})}}const Fu="2.20";function Nl(t){let e,n,r,i,a,s,l,o,u,f,c,h;return{c(){e=O("div"),n=Z(),r=O("dialog"),i=O("div"),a=O("h1"),a.textContent="ABOUT",s=Z(),l=O("div"),o=O("p"),o.textContent=`This is our 'AnCir' to the need for a simple-to-use (GUI; no coding)
          tool for analysis of circadian rhythms. Currently, the tool only
          allows for import of csv data and plotting of actigrams.`,u=Z(),f=O("button"),f.textContent="Close",p(e,"class","backdrop svelte-i6j1h"),p(i,"class","modal-box"),p(r,"id","modal_data"),p(r,"class","dialog svelte-i6j1h")},m(d,g){I(d,e,g),I(d,n,g),I(d,r,g),T(r,i),T(i,a),T(i,s),T(i,l),T(l,o),T(l,u),T(l,f),c||(h=ie(f,"click",t[2]),c=!0)},p:he,d(d){d&&(z(e),z(n),z(r)),c=!1,h()}}}function Bg(t){let e,n=t[0]&&t[1]==="about"&&Nl(t);return{c(){n&&n.c(),e=ze()},m(r,i){n&&n.m(r,i),I(r,e,i)},p(r,[i]){r[0]&&r[1]==="about"?n?n.p(r,i):(n=Nl(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:he,o:he,d(r){r&&z(e),n&&n.d(r)}}}function Gg(t,e,n){let r,i;return ye(t,Gt,s=>n(0,r=s)),ye(t,Ln,s=>n(1,i=s)),[r,i,()=>$e(Gt,r=!1,r)]}class Jg extends Ge{constructor(e){super(),Be(this,e,Gg,Bg,qe,{})}}function Kg(t){let e,n;return e=new qh({}),{c(){re(e.$$.fragment)},m(r,i){te(e,r,i),n=!0},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){ne(e,r)}}}function jg(t){let e,n,r,i;return e=new K1({}),r=new _g({}),{c(){re(e.$$.fragment),n=Z(),re(r.$$.fragment)},m(a,s){te(e,a,s),I(a,n,s),te(r,a,s),i=!0},i(a){i||(C(e.$$.fragment,a),C(r.$$.fragment,a),i=!0)},o(a){R(e.$$.fragment,a),R(r.$$.fragment,a),i=!1},d(a){a&&z(n),ne(e,a),ne(r,a)}}}function xg(t){let e,n;return e=new Jn({props:{theme:"modern-theme",horizontal:!0,style:"height: 100%;",pushOtherPanes:!1,dblClickSplitter:!1,$$slots:{default:[jg]},$$scope:{ctx:t}}}),{c(){re(e.$$.fragment)},m(r,i){te(e,r,i),n=!0},p(r,i){const a={};i&2&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){ne(e,r)}}}function Xg(t){let e,n,r,i;return e=new Rt({props:{size:18,$$slots:{default:[Kg]},$$scope:{ctx:t}}}),r=new Rt({props:{$$slots:{default:[xg]},$$scope:{ctx:t}}}),{c(){re(e.$$.fragment),n=Z(),re(r.$$.fragment)},m(a,s){te(e,a,s),I(a,n,s),te(r,a,s),i=!0},p(a,s){const l={};s&2&&(l.$$scope={dirty:s,ctx:a}),e.$set(l);const o={};s&2&&(o.$$scope={dirty:s,ctx:a}),r.$set(o)},i(a){i||(C(e.$$.fragment,a),C(r.$$.fragment,a),i=!0)},o(a){R(e.$$.fragment,a),R(r.$$.fragment,a),i=!1},d(a){a&&z(n),ne(e,a),ne(r,a)}}}function Qg(t){let e,n;return e=new Jn({props:{theme:"modern-theme",style:"height: 100%;",pushOtherPanes:!1,dblClickSplitter:!0,$$slots:{default:[Xg]},$$scope:{ctx:t}}}),{c(){re(e.$$.fragment)},m(r,i){te(e,r,i),n=!0},p(r,i){const a={};i&2&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){ne(e,r)}}}function e_(t){let e,n;return e=new kg({}),{c(){re(e.$$.fragment)},m(r,i){te(e,r,i),n=!0},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){ne(e,r)}}}function t_(t){let e,n,r,i;return e=new Rt({props:{minSize:30,$$slots:{default:[Qg]},$$scope:{ctx:t}}}),r=new Rt({props:{size:10,$$slots:{default:[e_]},$$scope:{ctx:t}}}),{c(){re(e.$$.fragment),n=Z(),re(r.$$.fragment)},m(a,s){te(e,a,s),I(a,n,s),te(r,a,s),i=!0},p(a,s){const l={};s&2&&(l.$$scope={dirty:s,ctx:a}),e.$set(l);const o={};s&2&&(o.$$scope={dirty:s,ctx:a}),r.$set(o)},i(a){i||(C(e.$$.fragment,a),C(r.$$.fragment,a),i=!0)},o(a){R(e.$$.fragment,a),R(r.$$.fragment,a),i=!1},d(a){a&&z(n),ne(e,a),ne(r,a)}}}function n_(t){let e,n,r,i,a,s,l,o,u,f,c,h,d,g,w,y,_;return document.title="AnCiR v ."+Fu,n=new zg({}),i=new mh({}),s=new Jg({}),o=new Yg({}),h=new Cg({}),g=new Jn({props:{theme:"modern-theme",horizontal:!0,style:"height: calc(100vh - 3.4em); width: calc(100vw - 1em);",pushOtherPanes:!1,$$slots:{default:[t_]},$$scope:{ctx:t}}}),y=new zh({}),{c(){e=Z(),re(n.$$.fragment),r=Z(),re(i.$$.fragment),a=Z(),re(s.$$.fragment),l=Z(),re(o.$$.fragment),u=Z(),f=O("div"),c=O("div"),re(h.$$.fragment),d=Z(),re(g.$$.fragment),w=Z(),re(y.$$.fragment),ue(c,"max-width","100vw"),p(f,"data-theme",t[0])},m(m,v){I(m,e,v),te(n,m,v),I(m,r,v),te(i,m,v),I(m,a,v),te(s,m,v),I(m,l,v),te(o,m,v),I(m,u,v),I(m,f,v),T(f,c),te(h,c,null),T(f,d),te(g,f,null),T(f,w),te(y,f,null),_=!0},p(m,[v]){const D={};v&2&&(D.$$scope={dirty:v,ctx:m}),g.$set(D),(!_||v&1)&&p(f,"data-theme",m[0])},i(m){_||(C(n.$$.fragment,m),C(i.$$.fragment,m),C(s.$$.fragment,m),C(o.$$.fragment,m),C(h.$$.fragment,m),C(g.$$.fragment,m),C(y.$$.fragment,m),_=!0)},o(m){R(n.$$.fragment,m),R(i.$$.fragment,m),R(s.$$.fragment,m),R(o.$$.fragment,m),R(h.$$.fragment,m),R(g.$$.fragment,m),R(y.$$.fragment,m),_=!1},d(m){m&&(z(e),z(r),z(a),z(l),z(u),z(f)),ne(n,m),ne(i,m),ne(s,m),ne(o,m),ne(h),ne(g),ne(y)}}}function r_(t,e,n){let r;return ye(t,xu,i=>n(0,r=i)),console.log(Fu),[r]}class i_ extends Ge{constructor(e){super(),Be(this,e,r_,n_,qe,{})}}new i_({target:document.getElementById("app")});

</script>
    <style>
:root{--bg-color: #fff;--font-color: #424242;--hover-color: #eee;--primary-color: lightblue;--secondary-color: #888888}[data-theme=dark]{--bg-color: #161625;--font-color: #e1e1ff;--hover-color: #888888;--primary-color: #9A97F3;--secondary-color: #888888}*{font-size:10pt;color:var(--font-color)}body{-webkit-tap-highlight-color:transparent;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;background:var(--bg-color)}h1{padding:6px 6px 0;font-weight:700;font-size:1.2em;text-decoration:underline}button{cursor:pointer}::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#f5f5f5}::-webkit-scrollbar{width:6px;height:6px;background-color:var(--bg-color)}::-webkit-scrollbar-thumb{background-color:var(--secondary-color)}.splitpanes.modern-theme .splitpanes__pane{background-color:hsl(var(--b1))}.splitpanes__splitter{position:relative;cursor:grab;padding:.2em;opacity:.6}.splitpanes--vertical>.splitpanes__splitter{cursor:col-resize}.splitpanes--horizontal>.splitpanes__splitter{cursor:row-resize}.splitpanes.modern-theme .splitpanes__splitter{background-color:var(--hover-color);position:relative}.splitpanes__splitter:before{content:"";position:absolute;left:0;top:0;transition:opacity .4s;background-color:var(--bg-color);opacity:0;z-index:1}.splitpanes__splitter:hover{opacity:.6}.splitpanes__splitter:hover:before{opacity:.6}.splitpanes--vertical>.splitpanes__splitter:before{left:-3px;right:-3px;height:100%}.splitpanes--horizontal>.splitpanes__splitter:before{top:-3px;bottom:-3px;width:100%}.chartControls{width:calc(100% - 28px);border-radius:0;min-width:184px;box-shadow:1px 1px 5px #888;padding:10px 8px;margin:10px 0 10px 6px}.sliderContainer{width:calc(100% - .5em);display:flex}.sliderContainer>label{line-height:1rem;align-self:center;display:flex;padding:15px 0}input[type=text],input[type=datetime-local]{height:1.4em;border-radius:.5rem;align-self:center;padding-left:4px;border-width:1px;display:flex;margin-left:auto;width:60%;background:var(--bg-color)}select{height:1.5rem;align-self:center;border-radius:.5rem;width:50%;float:right;margin-right:calc(.5em + 2px);margin-top:-2px;background-color:var(--bg-color)}.processItem{flex-basis:100%;flex-grow:0;flex-shrink:0}g.axis>path{font-size:10pt;stroke:var(--font-color)!important}#thePlot svg{border:1px solid var(--hover-color)}div.splitpanes--horizontal.splitpanes--dragging{cursor:row-resize}div.splitpanes--vertical.splitpanes--dragging{cursor:col-resize}.splitpanes{display:flex;width:100%;height:100%}.splitpanes--vertical{flex-direction:row}.splitpanes--horizontal{flex-direction:column}.splitpanes--dragging *{-webkit-user-select:none;-moz-user-select:none;user-select:none}.splitpanes__pane{width:100%;height:100%;overflow:hidden}.splitpanes--vertical .splitpanes__pane{transition:width .2s ease-out}.splitpanes--horizontal .splitpanes__pane{transition:height .2s ease-out}.splitpanes--vertical>.splitpanes__pane{transition:width .2s ease-out}.splitpanes--horizontal>.splitpanes__pane{transition:height .2s ease-out}.splitpanes--dragging .splitpanes__pane{transition:none;pointer-events:none}.splitpanes--freeze .splitpanes__pane{transition:none}.splitpanes__splitter{touch-action:none}.splitpanes--vertical>.splitpanes__splitter{min-width:1px}.splitpanes--horizontal>.splitpanes__splitter{min-height:1px}.splitpanes.default-theme .splitpanes__pane{background-color:#f2f2f2}.splitpanes.default-theme .splitpanes__splitter{background-color:#fff;box-sizing:border-box;position:relative;flex-shrink:0}.splitpanes.default-theme .splitpanes__splitter:before,.splitpanes.default-theme .splitpanes__splitter:after{content:"";position:absolute;top:50%;left:50%;background-color:#00000026;transition:background-color .3s}.splitpanes.default-theme .splitpanes__splitter:hover:before,.splitpanes.default-theme .splitpanes__splitter:hover:after{background-color:#00000040}.splitpanes.default-theme .splitpanes__splitter:first-child{cursor:auto}.default-theme.splitpanes .splitpanes .splitpanes__splitter{z-index:1}.default-theme.splitpanes--vertical>.splitpanes__splitter,.default-theme .splitpanes--vertical>.splitpanes__splitter{width:7px;border-left:1px solid #eee;cursor:col-resize}.default-theme.splitpanes--vertical>.splitpanes__splitter:before,.default-theme.splitpanes--vertical>.splitpanes__splitter:after,.default-theme .splitpanes--vertical>.splitpanes__splitter:before,.default-theme .splitpanes--vertical>.splitpanes__splitter:after{transform:translateY(-50%);width:1px;height:30px}.default-theme.splitpanes--vertical>.splitpanes__splitter:before,.default-theme .splitpanes--vertical>.splitpanes__splitter:before{margin-left:-2px}.default-theme.splitpanes--vertical>.splitpanes__splitter:after,.default-theme .splitpanes--vertical>.splitpanes__splitter:after{margin-left:1px}.default-theme.splitpanes--horizontal>.splitpanes__splitter,.default-theme .splitpanes--horizontal>.splitpanes__splitter{height:7px;border-top:1px solid #eee;cursor:row-resize}.default-theme.splitpanes--horizontal>.splitpanes__splitter:before,.default-theme.splitpanes--horizontal>.splitpanes__splitter:after,.default-theme .splitpanes--horizontal>.splitpanes__splitter:before,.default-theme .splitpanes--horizontal>.splitpanes__splitter:after{transform:translate(-50%);width:30px;height:1px}.default-theme.splitpanes--horizontal>.splitpanes__splitter:before,.default-theme .splitpanes--horizontal>.splitpanes__splitter:before{margin-top:-2px}.default-theme.splitpanes--horizontal>.splitpanes__splitter:after,.default-theme .splitpanes--horizontal>.splitpanes__splitter:after{margin-top:1px}.numberInput.svelte-1o4zp2p.svelte-1o4zp2p{width:40%;max-width:6em;float:right;height:1.1rem;border-radius:.5rem;margin-left:auto;align-self:center;padding-left:4px;border-width:1px;text-align:end;background:var(--bg-color)}.sliderInput.svelte-1o4zp2p.svelte-1o4zp2p{width:100%;accent-color:var(--primary-color);cursor:pointer;box-sizing:border-box;border-width:0;border-style:solid}.sliderLabel.svelte-1o4zp2p.svelte-1o4zp2p{line-height:1rem;display:flex}.sliderLabel.svelte-1o4zp2p>span.svelte-1o4zp2p{align-self:center}.processItem.svelte-1o4zp2p.svelte-1o4zp2p{padding:5px 0}.min.svelte-1o4zp2p.svelte-1o4zp2p{font-size:.7em;display:block;margin-top:-.7em;margin-left:.2em}.max.svelte-1o4zp2p.svelte-1o4zp2p{font-size:.7em;display:block;margin-top:-1.3em;margin-left:.2em;float:right}.stop.svelte-1o4zp2p.svelte-1o4zp2p{font-style:italic;text-decoration:underline}.backdrop.svelte-dciaze{position:absolute;top:0;left:0;height:100vh;width:100vw;background:#fffc;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);z-index:9998}dialog.svelte-dciaze{display:block;position:absolute;top:10vh;max-height:80vh;overflow:auto;background:var(--bg-color);z-index:9998;box-shadow:5px 5px 15px var(--secondary-color);border:none;border-radius:5px}.modal-box.svelte-dciaze{z-index:1000}.addSimDataButton.svelte-dciaze{float:right;margin-top:-2.2em}.addSimDataButton.svelte-dciaze:hover{background:var(--hover-color);padding:.2em .5em;margin:-2.4em -.5em;border-radius:20%;cursor:pointer}.dataTitle.svelte-dciaze{margin-top:10px}.datum.svelte-dciaze{box-shadow:1px 1px 5px var(--secondary-color);padding:2px 10px;margin:0 0 10px}.removeData.svelte-dciaze{display:inline-block;float:right;cursor:pointer;margin-top:-1.3em}.hoverbutton.svelte-dciaze:hover{background:var(--hover-color);padding:.2em .5em;margin:-1.5em -.5em;border-radius:20%;cursor:pointer}span.svelte-1tdrfqa{cursor:context-menu}form.svelte-1tdrfqa{display:inline}input.svelte-1tdrfqa{display:inherit;border:none;background:inherit;background-color:inherit;font-size:inherit;color:inherit;font-weight:inherit;text-align:inherit;box-shadow:none}.editing.svelte-1tdrfqa{font-style:italic}.dataTree.svelte-hshnm9.svelte-hshnm9{width:calc(100% - 6px);border-radius:0;margin-left:1px;min-width:200px}details.svelte-hshnm9.svelte-hshnm9{padding:0 10px}summary.svelte-hshnm9.svelte-hshnm9{padding:0 10px;cursor:pointer}.dataTable.svelte-hshnm9.svelte-hshnm9{box-shadow:1px 1px 5px #888;padding:10px 0;margin:8px 0 10px}.dataTable.svelte-hshnm9>summary.svelte-hshnm9{font-size:1.1em;font-weight:700}.field.svelte-hshnm9.svelte-hshnm9{margin-left:1.5em;padding:5px 0}.process[open].svelte-hshnm9.svelte-hshnm9{margin-bottom:15px;margin-top:5px;margin-right:10px;box-shadow:1px 1px 5px #888}.process.svelte-hshnm9.svelte-hshnm9{margin-left:1.5em;padding:5px 0}.processDetails.svelte-hshnm9.svelte-hshnm9{padding:.5em}.no-arrow.svelte-hshnm9 summary.svelte-hshnm9{list-style:none;cursor:default}.no-arrow.svelte-hshnm9 summary.svelte-hshnm9:before{content:"";margin-left:-2px}.addbutton.svelte-hshnm9.svelte-hshnm9{float:right;cursor:pointer;margin-right:0}.addbutton.svelte-hshnm9.svelte-hshnm9:hover{background:var(--hover-color);padding:.2em .5em;margin-right:-.5em;margin-top:-.2em;border-radius:20%}.deleteTable.svelte-hshnm9.svelte-hshnm9{display:inline-block;float:right;cursor:pointer;margin-right:0;z-index:2}.hoverbutton.svelte-hshnm9.svelte-hshnm9:hover{background:var(--hover-color);padding:.2em .5em;margin:-.2em -.5em;border-radius:20%;cursor:pointer}.viewTable.svelte-hshnm9.svelte-hshnm9{display:inline-block;float:right;cursor:pointer;margin-right:.5em}.viewTable.svelte-hshnm9.svelte-hshnm9:hover{margin-right:0;cursor:pointer}.deleteProcess.svelte-hshnm9.svelte-hshnm9{display:inline-block;float:right;cursor:pointer;margin-right:0}.tooltip.svelte-1926ilb{border:1px solid #ddd;box-shadow:1px 1px 1px #ddd;background:#fff;border-radius:4px;padding:4px;position:absolute;margin:0;z-index:9999}#chartTools.svelte-1289zmx{margin-top:-10px;background-color:var(--hover-color);-webkit-backdrop-filter:blur(1px);backdrop-filter:blur(1px);opacity:.4;position:absolute;margin-left:calc(100% - 10em);border-radius:5px;display:flex}.button.svelte-1289zmx{margin:5px;border:none;border-radius:20%;padding:.2em .5em;opacity:1;cursor:pointer;width:20px;height:20px}.button.svelte-1289zmx:hover{background:var(--hover-color)}#chartTools.svelte-1289zmx:hover{opacity:1;background:var(--bg-color)}#graphTabs.svelte-1gfrvzx.svelte-1gfrvzx{position:sticky;top:0;left:0;z-index:999;background:var(--bg-color);padding:0;margin:0!important;display:flow-root}nav.svelte-1gfrvzx.svelte-1gfrvzx{margin:0;background-color:var(--bg-color);z-index:9;width:100%}ul.svelte-1gfrvzx.svelte-1gfrvzx{display:flex;flex-wrap:wrap;list-style:none;border-bottom:3px solid var(--hover-color);margin-left:-2em;margin-top:2px}li.svelte-1gfrvzx.svelte-1gfrvzx{margin-bottom:-3px;margin-right:2px;border-top-left-radius:.25rem;border-top-right-radius:.25rem;background:var(--hover-color)}span.svelte-1gfrvzx.svelte-1gfrvzx{border:3px solid transparent;border-top-left-radius:.25rem;border-top-right-radius:.25rem;display:block;padding:.5rem 1rem;cursor:pointer}li.active.svelte-1gfrvzx>span.svelte-1gfrvzx,li.active.svelte-1gfrvzx>.closeButton.svelte-1gfrvzx,li.active.svelte-1gfrvzx:hover>span.svelte-1gfrvzx{border-color:var(--hover-color) var(--hover-color) var(--bg-color);background:var(--bg-color)}li.svelte-1gfrvzx.svelte-1gfrvzx:hover,li.svelte-1gfrvzx:hover>span.svelte-1gfrvzx,li.svelte-1gfrvzx:hover>.closeButton.svelte-1gfrvzx{border-color:var(--hover-color) var(--hover-color) var(--hover-color);background:var(--bg-color)}li.active.svelte-1gfrvzx:hover>span.svelte-1gfrvzx,li.active.svelte-1gfrvzx:hover>.closeButton.svelte-1gfrvzx{cursor:default;background:var(--bg-color)}.closeButton.svelte-1gfrvzx.svelte-1gfrvzx{width:15px;cursor:pointer;padding:0;float:right;margin-right:3px;margin-top:-32px;border:none;background-color:var(--hover-color)}svg.svelte-1gfrvzx.svelte-1gfrvzx:hover{stroke:red}.overlay.svelte-1hj8mph{position:absolute;cursor:pointer;z-index:10001;background:var(--hover-color);padding:5px;border-radius:10px;box-shadow:0 0 15px -5px var(--font-color)}.dateInput.svelte-1xir1xc{margin-right:2px;width:18px;padding-right:4px;margin-bottom:5px;margin-top:-3px;padding-top:2px;background:var(--primary-color);cursor:pointer}.datepicklabelshow.svelte-1xir1xc{display:inline-block}.datepicklabel.svelte-1xir1xc{display:none}.dateInput.svelte-1xir1xc:hover{background:#eee}.svelte-1xir1xc::-webkit-calendar-picker-indicator:hover{cursor:pointer}div.svelte-1wb4l5o{border:1px solid #ddd;box-shadow:1px 1px 1px #ddd;background:#fff;border-radius:4px;padding:4px;position:absolute}.graphDataTree.svelte-tzfpl2.svelte-tzfpl2{width:calc(100% - 12px);border-radius:0;margin-left:6px;min-width:200px}details.svelte-tzfpl2.svelte-tzfpl2{padding:0 10px}summary.svelte-tzfpl2.svelte-tzfpl2{padding:0 10px;cursor:pointer}.dataTable.svelte-tzfpl2.svelte-tzfpl2{box-shadow:1px 1px 5px #888;padding:10px 0;margin:8px 0 10px}.dataTable.svelte-tzfpl2>summary.svelte-tzfpl2{font-size:1.1em;font-weight:700}.tableLabel.svelte-tzfpl2.svelte-tzfpl2{margin:1em 1em .5em}.field.svelte-tzfpl2.svelte-tzfpl2{margin-left:1.5em;padding:5px 0}.process[open].svelte-tzfpl2.svelte-tzfpl2{margin-bottom:15px;margin-top:5px;margin-right:10px;box-shadow:1px 1px 5px #888}.process.svelte-tzfpl2.svelte-tzfpl2{margin-left:1.5em;padding:5px 0}.processDetails.svelte-tzfpl2.svelte-tzfpl2{padding:.5em}.no-arrow.svelte-tzfpl2 summary.svelte-tzfpl2{list-style:none;cursor:default}.no-arrow.svelte-tzfpl2 summary.svelte-tzfpl2:before{content:"";margin-left:-2px}.addbutton.svelte-tzfpl2.svelte-tzfpl2{float:right;cursor:pointer;margin-right:0}.addbutton.svelte-tzfpl2.svelte-tzfpl2:hover{background:var(--hover-color);padding:.2em .5em;margin-right:-.5em;margin-top:-.2em;border-radius:20%}.deleteTable.svelte-tzfpl2.svelte-tzfpl2{display:inline-block;float:right;cursor:pointer;margin-right:0;z-index:2}.hoverbutton.svelte-tzfpl2.svelte-tzfpl2:hover{background:var(--hover-color);padding:.2em .5em;margin:-.2em -.5em;border-radius:20%;cursor:pointer}.deleteProcess.svelte-tzfpl2.svelte-tzfpl2{display:inline-block;float:right;cursor:pointer;margin-right:0}.colour.svelte-tzfpl2.svelte-tzfpl2{display:flex;align-items:center;margin-left:1em;margin-right:1em}.colourPicker.svelte-tzfpl2.svelte-tzfpl2{border-radius:25px;height:2.5em;padding:0;width:2.5em;margin-right:1em}.colourPicker.svelte-tzfpl2.svelte-tzfpl2::-webkit-color-swatch{display:none}.colourPicker.svelte-tzfpl2.svelte-tzfpl2::-moz-color-swatch{display:none}.sliderContainer.svelte-tzfpl2.svelte-tzfpl2{width:calc(100% - 3.5em)}.itemsliderContainer.svelte-tzfpl2.svelte-tzfpl2{width:calc(100% - 2em);margin-left:1em}#tableTabs.svelte-nulfcf.svelte-nulfcf{position:sticky;top:0;left:0;z-index:999;padding:0;margin:0 2.2em 0 0!important}nav.svelte-nulfcf.svelte-nulfcf{margin:0;z-index:9;width:calc(100% + 2.2em);background-color:var(--bg-color)}ul.svelte-nulfcf.svelte-nulfcf{display:flex;flex-wrap:wrap;list-style:none;border-bottom:3px solid var(--hover-color);margin-top:2px}li.svelte-nulfcf.svelte-nulfcf{margin-bottom:-3px;margin-right:2px;border-top-left-radius:.25rem;border-top-right-radius:.25rem;background:var(--hover-color)}span.svelte-nulfcf.svelte-nulfcf{border:3px solid transparent;border-top-left-radius:.25rem;border-top-right-radius:.25rem;display:block;padding:.5rem 1rem;cursor:pointer}li.active.svelte-nulfcf>span.svelte-nulfcf,li.active.svelte-nulfcf>.closeButton.svelte-nulfcf,li.active.svelte-nulfcf:hover>span.svelte-nulfcf{border-color:var(--hover-color) var(--hover-color) var(--bg-color);background:var(--bg-color)}li.svelte-nulfcf.svelte-nulfcf:hover,li.svelte-nulfcf:hover>span.svelte-nulfcf,li.svelte-nulfcf:hover>.closeButton.svelte-nulfcf{border-color:var(--hover-color) var(--hover-color) var(--hover-color);background:var(--bg-color)}li.active.svelte-nulfcf:hover>span.svelte-nulfcf,li.active.svelte-nulfcf:hover>.closeButton.svelte-nulfcf{cursor:default;background:var(--bg-color)}.closeButton.svelte-nulfcf.svelte-nulfcf{width:15px;cursor:pointer;padding:0;float:right;margin-right:3px;margin-top:-32px;border:none;background-color:var(--hover-color)}svg.svelte-nulfcf.svelte-nulfcf:hover{stroke:red}table.svelte-nulfcf.svelte-nulfcf{border-collapse:collapse;width:-moz-max-content;width:max-content;margin-left:5px}th.svelte-nulfcf.svelte-nulfcf,td.svelte-nulfcf.svelte-nulfcf{border:1px solid var(--hover-color);text-align:left;padding:8px}thead.svelte-nulfcf th.svelte-nulfcf{background-color:var(--hover-color)}.showmorebutton.svelte-nulfcf.svelte-nulfcf{display:flex;padding:0 10px 5px;margin:10px auto;background-color:var(--bg-color)}.guessFmtBtn.svelte-1wt1n0s{margin-right:10px}.svelte-spinner.svelte-ynopmf{transition-property:transform;animation-name:svelte-ynopmf-svelte-spinner_infinite-spin;animation-iteration-count:infinite;animation-timing-function:linear}@keyframes svelte-ynopmf-svelte-spinner_infinite-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}nav.svelte-osm4b5.svelte-osm4b5{position:sticky;height:2em;background-color:var(--bg-color);z-index:1001}.applicationmenu.svelte-osm4b5.svelte-osm4b5{border-bottom:1px var(--hover-color) solid;height:2em;z-index:3;padding:3px;position:fixed;width:100%;margin:-8px}ul.svelte-osm4b5.svelte-osm4b5{padding:0}ul.topmenu.svelte-osm4b5.svelte-osm4b5{display:flex;flex-direction:row;margin-top:0}ul.topmenu.svelte-osm4b5 li.svelte-osm4b5{list-style-type:none}button.svelte-osm4b5.svelte-osm4b5{border:0px #000 solid;color:var(--font-color);height:30px;padding:0 10px;background:var(--bg-color)}ul.svelte-osm4b5 li button.svelte-osm4b5:hover{background-color:var(--hover-color);cursor:pointer}ul.svelte-osm4b5 li ul.secondmenu.svelte-osm4b5{display:flex;align-items:stretch;flex-direction:column;position:absolute;box-shadow:1px 1px 5px #888}ul.svelte-osm4b5 li ul.secondmenu li button.svelte-osm4b5{width:100%;min-width:150px;text-align:left}ul.svelte-osm4b5 li ul.thirdmenu.svelte-osm4b5{display:flex;align-items:stretch;flex-direction:column;position:absolute;box-shadow:1px 1px 5px #888;margin-left:calc(100% + 1px);margin-top:-30px}hr.svelte-osm4b5.svelte-osm4b5{border:none;border-bottom:1px solid var(--hover-color);margin:0}#switchtheme.svelte-osm4b5.svelte-osm4b5{float:right;margin-right:10px;margin-top:-3em}:root{--theme-toggle-width:3rem;--theme-toggle-height:1.5rem;--theme-toggle-circle-width:0;--theme-toggle-circle-dimensions:calc(var(--theme-toggle-height) - .5rem)}#switchtheme.svelte-osm4b5.svelte-osm4b5{-webkit-appearance:none;outline:none;cursor:pointer;height:var(--theme-toggle-height);width:var(--theme-toggle-width);box-shadow:#63636333 0 2px 8px;border:1px solid var(--hover-color);position:relative;border-radius:var(--theme-toggle-circle-dimensions);padding:.2rem;background-color:var(--bg-color);transition:background-color .5s}#switchtheme.svelte-osm4b5.svelte-osm4b5:before{content:"";width:var(--theme-toggle-circle-dimensions);height:var(--theme-toggle-circle-dimensions);background-color:var(--primary-color);position:absolute;border-radius:50%;top:50%;transform:translateY(-50%) translate(0);transition:transform .5s}#switchtheme.svelte-osm4b5.svelte-osm4b5:after{content:"Light mode";white-space:nowrap;color:var(--bg-color);position:absolute;left:calc(100% + 1.5rem);font-size:1.3rem;top:50%;transform:translateY(-50%);pointer-events:none}#switchtheme.svelte-osm4b5.svelte-osm4b5:checked{background-color:var(--primary-color);border:none}#switchtheme.svelte-osm4b5.svelte-osm4b5:checked:before{background-color:#fff;transform:translateY(-50%) translate(calc(var(--theme-toggle-width) - var(--theme-toggle-height)))}#switchtheme.svelte-osm4b5.svelte-osm4b5:checked:after{content:"Dark mode";color:var(--bg-color)}.navbar.svelte-ouzgb9.svelte-ouzgb9{display:inline-flex;border:1px #999 solid;width:-moz-fit-content;width:fit-content;background-color:var(--bg-color);border-radius:5px;overflow:hidden;flex-direction:column}.navbar.svelte-ouzgb9 ul.svelte-ouzgb9{margin:6px}ul.svelte-ouzgb9.svelte-ouzgb9{padding:0}ul.svelte-ouzgb9 li.svelte-ouzgb9{display:block;list-style-type:none;width:1fr}ul.svelte-ouzgb9 li button.svelte-ouzgb9{font-size:.75rem;width:100%;height:30px;text-align:left;border:0px;background-color:var(--bg-color)}ul.svelte-ouzgb9 li button.svelte-ouzgb9:hover{color:var(--bg-color);text-align:left;border-radius:5px;background-color:#eee}.backdrop.svelte-i6j1h{position:absolute;top:0;left:0;height:100vh;width:100vw;background:#fffc;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);z-index:9998}dialog.svelte-i6j1h{display:block;position:absolute;top:10vh;max-height:80vh;overflow:auto;background:var(--bg-color);z-index:9998;box-shadow:5px 5px 15px var(--secondary-color);border:none;border-radius:5px}

</style>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
