<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link
      rel="icon"
      type="image/svg+xml"
      href="data:image/svg+xml, %3Csvg data-v-6805eed4='' version='1.0' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='100%25' height='100%25' viewBox='0 0 70.000000 70.000000' preserveAspectRatio='xMidYMid meet' color-interpolation-filters='sRGB' style='margin: auto;'%3E%3Cg data-v-6805eed4='' fill='%23333' class='icon-text-wrapper icon-svg-group iconsvg' transform='translate(71.40499877929688,97.81155776977539)'%3E%3Cg class='iconsvg-imagesvg' transform='matrix(1,0,0,1,0,0)' opacity='1'%3E%3Cg%3E%3Crect fill='%23333' fill-opacity='0' stroke-width='2' x='0' y='0' width='60' height='54.37688619824' class='image-rect'%3E%3C/rect%3E%3Csvg x='-120' y='-95' width='160' height='54.37688619824' filtersec='colorsb2791788449' class='image-svg-svg primary' style='overflow: visible;'%3E%3Csvg xmlns='http://www.w3.org/2000/svg' xlink='http://www.w3.org/1999/xlink' viewBox='0 0 100 100'%3E%3Cdefs%3E%3ClinearGradient id='ae8194c03-b976-4110-a715-bc6a7dcd8efe' x1='127.09' y1='100.34' x2='11.24' y2='19.22' gradientUnits='userSpaceOnUse'%3E%3Cstop offset='0' stop-color='%23fad5a5'%3E%3C/stop%3E%3Cstop offset='1' stop-color='%23f06c68'%3E%3C/stop%3E%3C/linearGradient%3E%3ClinearGradient id='b74247629-084e-4695-a572-5323a7fe49da' x1='12.79' y1='-21.54' x2='83.81' y2='101.47' href='%23ae8194c03-b976-4110-a715-bc6a7dcd8efe'%3E%3C/linearGradient%3E%3C/defs%3E%3Cpath d='M108.13 58.27L88.82 91.72A16.56 16.56 0 0 1 74.49 100H35.86a16.54 16.54 0 0 1-8.72-2.49C86.56 97.51 82.65 50 82.65 50a8.59 8.59 0 0 0-2.52-6.09L61.26 25a8.62 8.62 0 0 0-12.18 0L30.22 43.91a8.51 8.51 0 0 0-2.41 4.69c-.06-8.11 2.5-46 55.56-46a16.43 16.43 0 0 1 5.43 5.68l19.31 33.45a16.51 16.51 0 0 1 .02 16.54z' fill='url(%23ae8194c03-b976-4110-a715-bc6a7dcd8efe)'%3E%3C/path%3E%3Cpath d='M27.81 48.6a8.61 8.61 0 0 0 2.41 7.49L49.08 75a8.62 8.62 0 0 0 12.18 0l18.87-18.91A8.59 8.59 0 0 0 82.65 50s3.91 47.51-55.51 47.51a16.48 16.48 0 0 1-5.61-5.79L2.22 58.27a16.51 16.51 0 0 1 0-16.54L21.53 8.28A16.56 16.56 0 0 1 35.86 0h38.63a16.54 16.54 0 0 1 8.9 2.6c-53.08 0-55.64 37.89-55.58 46z' fill='url(%23b74247629-084e-4695-a572-5323a7fe49da)'%3E%3C/path%3E%3C/svg%3E%3C/svg%3E%3C!----%3E%3C/g%3E%3C/g%3E%3C/g%3E%3Cdefs v-gra='od'%3E%3C/defs%3E%3C/svg%3E"
    />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script type="module" crossorigin>
var Ge=Object.defineProperty;var Ye=(e,t,r)=>t in e?Ge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Re=(e,t,r)=>(Ye(e,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();function noop(){}const identity$3=e=>e;function assign(e,t){for(const r in t)e[r]=t[r];return e}function run(e){return e()}function blank_object(){return Object.create(null)}function run_all(e){e.forEach(run)}function is_function(e){return typeof e=="function"}function safe_not_equal(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function is_empty(e){return Object.keys(e).length===0}function subscribe(e,...t){if(e==null){for(const a of t)a(void 0);return noop}const r=e.subscribe(...t);return r.unsubscribe?()=>r.unsubscribe():r}function get_store_value(e){let t;return subscribe(e,r=>t=r)(),t}function component_subscribe(e,t,r){e.$$.on_destroy.push(subscribe(t,r))}function create_slot(e,t,r,a){if(e){const i=get_slot_context(e,t,r,a);return e[0](i)}}function get_slot_context(e,t,r,a){return e[1]&&a?assign(r.ctx.slice(),e[1](a(t))):r.ctx}function get_slot_changes(e,t,r,a){if(e[2]&&a){const i=e[2](a(r));if(t.dirty===void 0)return i;if(typeof i=="object"){const o=[],u=Math.max(t.dirty.length,i.length);for(let c=0;c<u;c+=1)o[c]=t.dirty[c]|i[c];return o}return t.dirty|i}return t.dirty}function update_slot_base(e,t,r,a,i,o){if(i){const u=get_slot_context(t,r,a,o);e.p(u,i)}}function get_all_dirty_from_scope(e){if(e.ctx.length>32){const t=[],r=e.ctx.length/32;for(let a=0;a<r;a++)t[a]=-1;return t}return-1}function null_to_empty(e){return e??""}function set_store_value(e,t,r){return e.set(r),t}function action_destroyer(e){return e&&is_function(e.destroy)?e.destroy:noop}const is_client=typeof window<"u";let now$1=is_client?()=>window.performance.now():()=>Date.now(),raf=is_client?e=>requestAnimationFrame(e):noop;const tasks=new Set;function run_tasks(e){tasks.forEach(t=>{t.c(e)||(tasks.delete(t),t.f())}),tasks.size!==0&&raf(run_tasks)}function loop(e){let t;return tasks.size===0&&raf(run_tasks),{promise:new Promise(r=>{tasks.add(t={c:e,f:r})}),abort(){tasks.delete(t)}}}const globals=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function append(e,t){e.appendChild(t)}function get_root_for_style(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function append_empty_stylesheet(e){const t=element("style");return t.textContent="/* empty */",append_stylesheet(get_root_for_style(e),t),t.sheet}function append_stylesheet(e,t){return append(e.head||e,t),t.sheet}function insert(e,t,r){e.insertBefore(t,r||null)}function detach(e){e.parentNode&&e.parentNode.removeChild(e)}function destroy_each(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function element(e){return document.createElement(e)}function svg_element(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function text(e){return document.createTextNode(e)}function space(){return text(" ")}function empty$1(){return text("")}function listen(e,t,r,a){return e.addEventListener(t,r,a),()=>e.removeEventListener(t,r,a)}function prevent_default(e){return function(t){return t.preventDefault(),e.call(this,t)}}function attr(e,t,r){r==null?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function to_number(e){return e===""?null:+e}function children$1(e){return Array.from(e.childNodes)}function set_data(e,t){t=""+t,e.data!==t&&(e.data=t)}function set_input_value(e,t){e.value=t??""}function set_style(e,t,r,a){r==null?e.style.removeProperty(t):e.style.setProperty(t,r,a?"important":"")}function select_option(e,t,r){for(let a=0;a<e.options.length;a+=1){const i=e.options[a];if(i.__value===t){i.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function select_value(e){const t=e.querySelector(":checked");return t&&t.__value}function toggle_class(e,t,r){e.classList.toggle(t,!!r)}function custom_event(e,t,{bubbles:r=!1,cancelable:a=!1}={}){return new CustomEvent(e,{detail:t,bubbles:r,cancelable:a})}class HtmlTag{constructor(t=!1){Re(this,"is_svg",!1);Re(this,"e");Re(this,"n");Re(this,"t");Re(this,"a");this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,r,a=null){this.e||(this.is_svg?this.e=svg_element(r.nodeName):this.e=element(r.nodeType===11?"TEMPLATE":r.nodeName),this.t=r.tagName!=="TEMPLATE"?r:r.content,this.c(t)),this.i(a)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(t){for(let r=0;r<this.n.length;r+=1)insert(this.t,this.n[r],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(detach)}}function construct_svelte_component(e,t){return new e(t)}const managed_styles=new Map;let active=0;function hash$2(e){let t=5381,r=e.length;for(;r--;)t=(t<<5)-t^e.charCodeAt(r);return t>>>0}function create_style_information(e,t){const r={stylesheet:append_empty_stylesheet(t),rules:{}};return managed_styles.set(e,r),r}function create_rule(e,t,r,a,i,o,u,c=0){const f=16.666/a;let d=`{
`;for(let $=0;$<=1;$+=f){const g=t+(r-t)*o($);d+=$*100+`%{${u(g,1-g)}}
`}const p=d+`100% {${u(r,1-r)}}
}`,m=`__svelte_${hash$2(p)}_${c}`,h=get_root_for_style(e),{stylesheet:_,rules:v}=managed_styles.get(h)||create_style_information(h,e);v[m]||(v[m]=!0,_.insertRule(`@keyframes ${m} ${p}`,_.cssRules.length));const y=e.style.animation||"";return e.style.animation=`${y?`${y}, `:""}${m} ${a}ms linear ${i}ms 1 both`,active+=1,m}function delete_rule(e,t){const r=(e.style.animation||"").split(", "),a=r.filter(t?o=>o.indexOf(t)<0:o=>o.indexOf("__svelte")===-1),i=r.length-a.length;i&&(e.style.animation=a.join(", "),active-=i,active||clear_rules())}function clear_rules(){raf(()=>{active||(managed_styles.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&detach(t)}),managed_styles.clear())})}let current_component;function set_current_component(e){current_component=e}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(e){get_current_component().$$.on_mount.push(e)}function afterUpdate(e){get_current_component().$$.after_update.push(e)}function onDestroy(e){get_current_component().$$.on_destroy.push(e)}function createEventDispatcher(){const e=get_current_component();return(t,r,{cancelable:a=!1}={})=>{const i=e.$$.callbacks[t];if(i){const o=custom_event(t,r,{cancelable:a});return i.slice().forEach(u=>{u.call(e,o)}),!o.defaultPrevented}return!0}}function setContext(e,t){return get_current_component().$$.context.set(e,t),t}function getContext(e){return get_current_component().$$.context.get(e)}const dirty_components=[],binding_callbacks=[];let render_callbacks=[];const flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function tick(){return schedule_update(),resolved_promise}function add_render_callback(e){render_callbacks.push(e)}function add_flush_callback(e){flush_callbacks.push(e)}const seen_callbacks=new Set;let flushidx=0;function flush(){if(flushidx!==0)return;const e=current_component;do{try{for(;flushidx<dirty_components.length;){const t=dirty_components[flushidx];flushidx++,set_current_component(t),update(t.$$)}}catch(t){throw dirty_components.length=0,flushidx=0,t}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let t=0;t<render_callbacks.length;t+=1){const r=render_callbacks[t];seen_callbacks.has(r)||(seen_callbacks.add(r),r())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(e)}function update(e){if(e.fragment!==null){e.update(),run_all(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(add_render_callback)}}function flush_render_callbacks(e){const t=[],r=[];render_callbacks.forEach(a=>e.indexOf(a)===-1?t.push(a):r.push(a)),r.forEach(a=>a()),render_callbacks=t}let promise;function wait(){return promise||(promise=Promise.resolve(),promise.then(()=>{promise=null})),promise}function dispatch(e,t,r){e.dispatchEvent(custom_event(`${t?"intro":"outro"}${r}`))}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(e,t){e&&e.i&&(outroing.delete(e),e.i(t))}function transition_out(e,t,r,a){if(e&&e.o){if(outroing.has(e))return;outroing.add(e),outros.c.push(()=>{outroing.delete(e),a&&(r&&e.d(1),a())}),e.o(t)}else a&&a()}const null_transition={duration:0};function create_bidirectional_transition(e,t,r,a){let o=t(e,r,{direction:"both"}),u=a?0:1,c=null,f=null,d=null,p;function m(){d&&delete_rule(e,d)}function h(v,y){const $=v.b-u;return y*=Math.abs($),{a:u,b:v.b,d:$,duration:y,start:v.start,end:v.start+y,group:v.group}}function _(v){const{delay:y=0,duration:$=300,easing:g=identity$3,tick:D=noop,css:O}=o||null_transition,b={start:now$1()+y,b:v};v||(b.group=outros,outros.r+=1),"inert"in e&&(v?p!==void 0&&(e.inert=p):(p=e.inert,e.inert=!0)),c||f?f=b:(O&&(m(),d=create_rule(e,u,v,$,y,g,O)),v&&D(0,1),c=h(b,$),add_render_callback(()=>dispatch(e,v,"start")),loop(T=>{if(f&&T>f.start&&(c=h(f,$),f=null,dispatch(e,c.b,"start"),O&&(m(),d=create_rule(e,u,c.b,c.duration,0,g,o.css))),c){if(T>=c.end)D(u=c.b,1-u),dispatch(e,c.b,"end"),f||(c.b?m():--c.group.r||run_all(c.group.c)),c=null;else if(T>=c.start){const w=T-c.start;u=c.a+c.d*g(w/c.duration),D(u,1-u)}}return!!(c||f)}))}return{run(v){is_function(o)?wait().then(()=>{o=o({direction:v?"in":"out"}),_(v)}):_(v)},end(){m(),c=f=null}}}function ensure_array_like(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function outro_and_destroy_block(e,t){transition_out(e,1,1,()=>{t.delete(e.key)})}function update_keyed_each(e,t,r,a,i,o,u,c,f,d,p,m){let h=e.length,_=o.length,v=h;const y={};for(;v--;)y[e[v].key]=v;const $=[],g=new Map,D=new Map,O=[];for(v=_;v--;){const k=m(i,o,v),C=r(k);let S=u.get(C);S?a&&O.push(()=>S.p(k,t)):(S=d(C,k),S.c()),g.set(C,$[v]=S),C in y&&D.set(C,Math.abs(v-y[C]))}const b=new Set,T=new Set;function w(k){transition_in(k,1),k.m(c,p),u.set(k.key,k),p=k.first,_--}for(;h&&_;){const k=$[_-1],C=e[h-1],S=k.key,F=C.key;k===C?(p=k.first,h--,_--):g.has(F)?!u.has(S)||b.has(S)?w(k):T.has(F)?h--:D.get(S)>D.get(F)?(T.add(S),w(k)):(b.add(F),h--):(f(C,u),h--)}for(;h--;){const k=e[h];g.has(k.key)||f(k,u)}for(;_;)w($[_-1]);return run_all(O),$}function bind(e,t,r){const a=e.$$.props[t];a!==void 0&&(e.$$.bound[a]=r,r(e.$$.ctx[a]))}function create_component(e){e&&e.c()}function mount_component(e,t,r){const{fragment:a,after_update:i}=e.$$;a&&a.m(t,r),add_render_callback(()=>{const o=e.$$.on_mount.map(run).filter(is_function);e.$$.on_destroy?e.$$.on_destroy.push(...o):run_all(o),e.$$.on_mount=[]}),i.forEach(add_render_callback)}function destroy_component(e,t){const r=e.$$;r.fragment!==null&&(flush_render_callbacks(r.after_update),run_all(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function make_dirty(e,t){e.$$.dirty[0]===-1&&(dirty_components.push(e),schedule_update(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function init(e,t,r,a,i,o,u=null,c=[-1]){const f=current_component;set_current_component(e);const d=e.$$={fragment:null,ctx:[],props:o,update:noop,not_equal:i,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(f?f.$$.context:[])),callbacks:blank_object(),dirty:c,skip_bound:!1,root:t.target||f.$$.root};u&&u(d.root);let p=!1;if(d.ctx=r?r(e,t.props||{},(m,h,..._)=>{const v=_.length?_[0]:h;return d.ctx&&i(d.ctx[m],d.ctx[m]=v)&&(!d.skip_bound&&d.bound[m]&&d.bound[m](v),p&&make_dirty(e,m)),h}):[],d.update(),p=!0,run_all(d.before_update),d.fragment=a?a(d.ctx):!1,t.target){if(t.hydrate){const m=children$1(t.target);d.fragment&&d.fragment.l(m),m.forEach(detach)}else d.fragment&&d.fragment.c();t.intro&&transition_in(e.$$.fragment),mount_component(e,t.target,t.anchor),flush()}set_current_component(f)}class SvelteComponent{constructor(){Re(this,"$$");Re(this,"$$set")}$destroy(){destroy_component(this,1),this.$destroy=noop}$on(t,r){if(!is_function(r))return noop;const a=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return a.push(r),()=>{const i=a.indexOf(r);i!==-1&&a.splice(i,1)}}$set(t){this.$$set&&!is_empty(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const PUBLIC_VERSION="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(PUBLIC_VERSION);const subscriber_queue=[];function writable(e,t=noop){let r;const a=new Set;function i(c){if(safe_not_equal(e,c)&&(e=c,r)){const f=!subscriber_queue.length;for(const d of a)d[1](),subscriber_queue.push(d,e);if(f){for(let d=0;d<subscriber_queue.length;d+=2)subscriber_queue[d][0](subscriber_queue[d+1]);subscriber_queue.length=0}}}function o(c){i(c(e))}function u(c,f=noop){const d=[c,f];return a.add(d),a.size===1&&(r=t(i,o)||noop),c(e),()=>{a.delete(d),a.size===0&&r&&(r(),r=null)}}return{set:i,update:o,subscribe:u}}const BROWSER=!0;function pxToNumber(e){if(!e.endsWith("px"))return;const t=parseFloat(e.slice(0,e.length-2));return isNaN(t)?void 0:t}const getDimensionName=e=>e?"height":"width",calcComputedStyle=e=>window.getComputedStyle(e),getElementRect=e=>e.getBoundingClientRect(),getBordersSizeOffsets=(e,t=!0)=>{if(e.getPropertyValue("box-sizing")==="border-box")return;const r=pxToNumber(e.getPropertyValue("border-left-width"));if(r===void 0){console.error("Splitpanes Error: Fail to parse container `border-left-width`.");return}const a=pxToNumber(e.getPropertyValue("border-top-width"));if(a===void 0){console.error("Splitpanes Error: Fail to parse container `border-top-width`.");return}const i={left:r,top:a};if(t){const o=pxToNumber(e.getPropertyValue("border-right-width"));if(o===void 0){console.error("Splitpanes Error: Fail to parse container `border-right-width`.");return}const u=pxToNumber(e.getPropertyValue("border-bottom-width"));if(u===void 0){console.error("Splitpanes Error: Fail to parse container `border-bottom-width`.");return}const c=i;c.right=o,c.bottom=u}return i};function elementRectWithoutBorder(e,t){t||(t=calcComputedStyle(e));const r=getElementRect(e),a=getBordersSizeOffsets(t,!0)||{left:0,top:0,right:0,bottom:0};return{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,left:r.left+a.left,top:r.top+a.top}}const positionDiff=(e,t)=>({left:e.left-t.left,top:e.top-t.top});function getGlobalMousePosition(e){const t=e,r=e,{clientX:a,clientY:i}="ontouchstart"in window&&r.touches?r.touches[0]:t;return{left:a,top:i}}function sumPartial(e,t,r,a){let i=0;for(let o=t;o<r;o++)i+=a(e[o],o);return i}function forEachPartial(e,t,r,a){for(let i=t;i<r;i++)a(e[i],i)}function create_fragment$z(e){let t,r,a,i,o=!BROWSER;const u=e[16].default,c=create_slot(u,e,e[18],null);return{c(){t=element("div"),r=space(),c&&c.c(),attr(t,"id",e[0]),attr(t,"class",a=`splitpanes ${e[3]||""} ${e[4]||""}`),attr(t,"style",e[2]),toggle_class(t,"splitpanes--horizontal",e[1]),toggle_class(t,"splitpanes--vertical",!e[1]),toggle_class(t,"splitpanes--dragging",e[7]||e[8]),toggle_class(t,"splitpanes--freeze",!e[6])},m(f,d){insert(f,t,d),append(t,r),c&&c.m(t,null),e[17](t),i=!0},p(f,d){c&&c.p&&(!i||d[0]&262144)&&update_slot_base(c,u,f,f[18],i?get_slot_changes(u,f[18],d,null):get_all_dirty_from_scope(f[18]),null),(!i||d[0]&1)&&attr(t,"id",f[0]),(!i||d[0]&24&&a!==(a=`splitpanes ${f[3]||""} ${f[4]||""}`))&&attr(t,"class",a),(!i||d[0]&4)&&attr(t,"style",f[2]),(!i||d[0]&26)&&toggle_class(t,"splitpanes--horizontal",f[1]),(!i||d[0]&26)&&toggle_class(t,"splitpanes--vertical",!f[1]),(!i||d[0]&408)&&toggle_class(t,"splitpanes--dragging",f[7]||f[8]),(!i||d[0]&88)&&toggle_class(t,"splitpanes--freeze",!f[6])},i(f){i||(transition_in(o),transition_in(c,f),i=!0)},o(f){transition_out(o),transition_out(c,f),i=!1},d(f){f&&detach(t),c&&c.d(f),e[17](null)}}}const KEY={};function instance$z(e,t,r){let a,i,o,{$$slots:u={},$$scope:c}=t,{id:f=void 0}=t,{horizontal:d=!1}=t,{pushOtherPanes:p=!0}=t,{dblClickSplitter:m=!0}=t,{rtl:h="auto"}=t,{firstSplitter:_=!1}=t,{style:v=null}=t,{theme:y="default-theme"}=t,{class:$=""}=t;const g=createEventDispatcher();let D,O=!1,b=!1,T=!1,w=!1,k=!1,C=-1,S=-1,F,E=new Array,U=writable(d);component_subscribe(e,U,W=>r(31,o=W));const R=writable(_);component_subscribe(e,R,W=>r(30,i=W));const A=writable(void 0);component_subscribe(e,A,W=>r(29,a=W));let M=null,V=null;setContext(KEY,{showFirstSplitter:R,veryFirstPaneKey:A,isHorizontal:U,ssrRegisterPaneSize:void 0,onPaneInit:W=>(a===void 0&&set_store_value(A,a=W,a),{undefinedPaneInitSize:0}),clientOnly:{onPaneAdd:P,onPaneRemove:G}});function P(W){let fe=-1;Array.from(W.element.parentNode.children).some(oe=>(oe.className.includes("splitpanes__pane")&&fe++,oe===W.element)),fe===0&&set_store_value(A,a=W.key,a),E.splice(fe,0,W);for(let oe=0;oe<E.length;oe++)E[oe].index=oe;O&&_e().then(()=>{W.isReady=!0,g("pane-add",{index:fe,panes:me()})});const he=(oe,Te=!0)=>ue=>{(Te||W.index>0)&&oe(ue,W)};return{onSplitterDown:he(j,!1),onSplitterClick:he(ne,!1),onSplitterDblClick:he(ve),onPaneClick:he(I),reportGivenSizeChange:he(z)}}async function G(W){const fe=E.findIndex(he=>he.key===W);if(fe>=0){const he=E.splice(fe,1)[0];for(let oe=0;oe<E.length;oe++)E[oe].index=oe;fe===0&&set_store_value(A,a=E.length>0?E[0].key:void 0,a),O&&(await _e(),g("pane-remove",{removed:he,panes:me()}))}}function I(W,fe){g("pane-click",fe)}function z(W,fe){fe.setSz(W),_e()}onMount(()=>{$e(),be();for(let W=0;W<E.length;W++)E[W].isReady=!0;O=!0,g("ready"),setTimeout(()=>{r(6,T=!0)},0)}),onDestroy(()=>{O&&ie(),O=!1}),afterUpdate(()=>{$e()});function N(W){if(h==="auto")try{return(W??calcComputedStyle(D)).direction==="rtl"}catch{}return h===!0}function B(){document.body.style.cursor=U?"col-resize":"row-resize",document.addEventListener("mousemove",x,{passive:!1}),document.addEventListener("mouseup",J),"ontouchstart"in window&&(document.addEventListener("touchmove",x,{passive:!1}),document.addEventListener("touchend",J))}function ie(){document.body.style.cursor="",document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",J),"ontouchstart"in window&&(document.removeEventListener("touchmove",x),document.removeEventListener("touchend",J))}const L=W=>W.nodeType===Node.ELEMENT_NODE&&W.classList.contains("splitpanes__splitter");function X(W,fe,he){let oe=W[d?"top":"left"];return he&&!d&&(oe=fe-oe),oe}const Z=()=>getDimensionName(d);function j(W,fe){r(7,w=!0),C=fe.index,fe.setSplitterActive(!0);let oe=fe.element;for(;oe!=null&&(oe=oe.previousSibling,!L(oe)););if(oe==null){console.error("Splitpane Error: Active splitter wasn't found!");return}M=oe;const Te=getGlobalMousePosition(W),ue=getElementRect(M);V=X(positionDiff(Te,ue),ue[Z()],N()),B()}function x(W){if(w){W.preventDefault(),r(8,k=!0);const fe=getGlobalMousePosition(W),he=calcComputedStyle(D),oe=elementRectWithoutBorder(D,he),Te=oe[Z()],ue=N(he),q=positionDiff(fe,oe),K=X(q,Te,ue);se(K,Te),g("resize",me())}}function J(){k&&g("resized",me()),r(7,w=!1),E[C].setSplitterActive(!1),setTimeout(()=>{r(8,k=!1),ie()},100)}function ne(W,fe){if("ontouchstart"in window){W.preventDefault();const he=fe.index;m&&(S===he?(F&&clearTimeout(F),F=null,ve(W,fe),S=-1):(S=he,F=setTimeout(()=>{S=-1},500)))}k||g("splitter-click",fe)}function ve(W,fe){if(m){const he=fe.index;let oe=0;for(let q=0;q<E.length;q++){const K=E[q];q!==he&&(oe+=K.min())}const Te=Math.min(Math.max(0,100-oe),fe.max()),ue=oe+Te;if(ue>=100)for(let q=0;q<E.length;q++){const K=E[q];K!==fe?K.setSz(K.min()):K.setSz(100-oe)}else{let q=100-ue;fe.setSz(Te);const K=ae=>{const pe=ae.min(),we=ae.max(),Ae=Math.min(Math.max(0,q),we-pe);ae.setSz(pe+Ae),q-=Ae};for(let ae=he-1;ae>=0;ae--)K(E[ae]);for(let ae=he+1;ae<E.length;ae++)K(E[ae]);q!=0&&console.warn("Splitpanes: there is a left spare size after computation of splitter double click, which means there are issues on the size constains of the panes.")}g("pane-maximize",fe),g("resized",me())}r(7,w=!1)}const me=()=>E.map(W=>({min:W.min(),max:W.max(),size:W.sz(),snap:W.snap()}));function ke(W,fe){const he=we=>getElementRect(we)[Z()],oe=he(M);let Te=0,ue=M.previousSibling;for(;ue!=null;)L(ue)&&(Te+=he(ue)),ue=ue.previousSibling;let q=0,K=M.nextSibling;for(;K!=null;)L(K)&&(q+=he(K)),K=K.nextSibling;const ae=Te+V,pe=Te+oe+q;return(W-ae)/(fe-pe)*100}function se(W,fe){let he=C-1,oe=E[he],Te=C,ue=E[Te],q={prevPanesSize:de(he),nextPanesSize:ge(Te),prevReachedMinPanes:0,nextReachedMinPanes:0};const K=0+(p?0:q.prevPanesSize),ae=100-(p?0:q.nextPanesSize),pe=Math.max(Math.min(ke(W,fe),ae),K),we=q.prevPanesSize+oe.min()+oe.snap(),Ae=100-(q.nextPanesSize+ue.min()+ue.snap());let Oe=pe,Ee=!1;pe<=we?pe>q.prevPanesSize+oe.min()&&(Oe=Math.max(oe.min()+q.prevPanesSize,100-(ue.max()+q.nextPanesSize)),Ee=!0):pe>=Ae&&pe<100-q.nextPanesSize-ue.min()&&(Oe=Math.min(100-(ue.min()+q.nextPanesSize),oe.max()+q.prevPanesSize),Ee=!0);const Me=oe.max()<100&&Oe>=oe.max()+q.prevPanesSize,Ne=ue.max()<100&&Oe<=100-(ue.max()+q.nextPanesSize);if(Me||Ne)Me?(oe.setSz(oe.max()),ue.setSz(Math.max(100-oe.max()-q.prevPanesSize-q.nextPanesSize,0))):(oe.setSz(Math.max(100-ue.max()-q.prevPanesSize-q.nextPanesSize,0)),ue.setSz(ue.max()));else{if(p&&!Ee){const Ce=De(q,Oe);if(!Ce)return;({sums:q,paneBeforeIndex:he,paneAfterIndex:Te}=Ce),oe=E[he],ue=E[Te]}he!=null&&oe.setSz(Math.min(Math.max(Oe-q.prevPanesSize-q.prevReachedMinPanes,oe.min()),oe.max())),Te!=null&&ue.setSz(Math.min(Math.max(100-Oe-q.nextPanesSize-q.nextReachedMinPanes,ue.min()),ue.max()))}}function De(W,fe){var ue,q;const he=C-1;let oe=he,Te=he+1;if(fe<W.prevPanesSize+E[oe].min()&&(oe=(ue=te(he))==null?void 0:ue.index,W.prevReachedMinPanes=0,oe<he&&forEachPartial(E,oe+1,he+1,K=>{K.setSz(K.min()),W.prevReachedMinPanes+=K.min()}),W.prevPanesSize=de(oe),oe==null))return W.prevReachedMinPanes=0,E[0].setSz(E[0].min()),forEachPartial(E,1,he+1,K=>{K.setSz(K.min()),W.prevReachedMinPanes+=K.min()}),E[Te].setSz(100-W.prevReachedMinPanes-E[0].min()-W.prevPanesSize-W.nextPanesSize),null;if(fe>100-W.nextPanesSize-E[Te].min()){Te=(q=ee(he))==null?void 0:q.index,W.nextReachedMinPanes=0,Te>he+1&&forEachPartial(E,he+1,Te,ae=>{ae.setSz(ae.min()),W.nextReachedMinPanes+=ae.min()}),W.nextPanesSize=ge(Te);const K=E.length;if(Te==null)return W.nextReachedMinPanes=0,E[K-1].setSz(E[K-1].min()),forEachPartial(E,he+1,K-1,ae=>{ae.setSz(ae.min()),W.nextReachedMinPanes+=ae.min()}),E[oe].setSz(100-W.prevPanesSize-W.nextReachedMinPanes-E[K-1].min()-W.nextPanesSize),null}return{sums:W,paneBeforeIndex:oe,paneAfterIndex:Te}}const Q=W=>W.sz(),de=W=>sumPartial(E,0,W,Q),ge=W=>sumPartial(E,W+1,E.length,Q),te=W=>[...E].reverse().find(fe=>fe.index<W&&fe.sz()>fe.min()),ee=W=>E.find(fe=>fe.index>W+1&&fe.sz()>fe.min());async function _e(){b=!0,await tick(),b&&(be(),b=!1)}function be(){ye(),O&&g("resized",me())}function ye(){if(E.length===0)return;const W=E.length;let fe=100,he=0,oe=0,Te=0,ue=[],q=[];for(let Ae=0;Ae<W;Ae++){const Oe=E[Ae],Ee=Oe.sz();Oe.givenSize==null?Oe.isReady?(Te+=Ee,Ee>=Oe.max()&&ue.push(Oe),Ee<=Oe.min()&&q.push(Oe)):oe+=1:(fe-=Ee,he++,ue.push(Oe),q.push(Oe))}const K=W-he,ae=K-oe;let pe,we;if(ae>0?(pe=Te/ae,pe>.1&&fe>.1?(Te+=oe*pe,we=fe/Te):(pe=0,we=1)):(pe=fe/K,we=1),fe+Te>.1){fe=100;for(let Ae=0;Ae<W;Ae++){const Oe=E[Ae];if(Oe.givenSize==null){const Ee=Oe.isReady?Oe.sz():pe,Me=Math.max(Math.min(Ee*we,Oe.max()),Oe.min());Oe.setSz(Me)}fe-=Oe.sz()}Math.abs(fe)>.1&&(fe=ce(fe,ue,q))}isFinite(fe)?Math.abs(fe)>.1&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints."):console.warn("Splitpanes: Internal error, sizes might be NaN as a result.")}function ce(W,fe,he){const Te=E.length-(W>0?fe.length:he.length);if(Te<=0)return W;const ue=W/Te;if(E.length===1)E[0].setSz(100),W=0;else for(let q=0;q<E.length;q++){const K=E[q],ae=K.sz();if(W>0&&!fe.includes(K)){const pe=Math.max(Math.min(ae+ue,K.max()),K.min()),we=pe-ae;W-=we,K.setSz(pe)}else if(!he.includes(K)){const pe=Math.max(Math.min(ae+ue,K.max()),K.min()),we=pe-ae;W-=we,K.setSz(pe)}}return W}function $e(){var oe;const{children:W}=D;let fe=0,he=!1;for(let Te=0;Te<W.length;Te++){const ue=W.item(Te),q=ue.classList.contains("splitpanes__pane"),K=ue.classList.contains("splitpanes__splitter");if(!q&&!K){(oe=ue.parentNode)==null||oe.removeChild(ue),console.warn("Splitpanes: Only <Pane> elements are allowed at the root of <Splitpanes>. One of your DOM nodes was removed.");return}else q&&(!he&&E[fe].element!==ue&&(he=!0),fe++)}if(he){const Te=[];for(let ue=0;ue<W.length;ue++){const q=W.item(ue);if(q.classList.contains("splitpanes__pane")){const ae=E.find(pe=>pe.element===q);ae!=null?(ae.index=Te.length,Te.push(ae)):console.warn("Splitpanes: Internal error - found a <Pane> elements which isn't tracked.")}}E=Te,set_store_value(A,a=E.length>0?E[0].key:void 0,a)}}function Y(W){binding_callbacks[W?"unshift":"push"](()=>{D=W,r(5,D)})}return e.$$set=W=>{"id"in W&&r(0,f=W.id),"horizontal"in W&&r(1,d=W.horizontal),"pushOtherPanes"in W&&r(12,p=W.pushOtherPanes),"dblClickSplitter"in W&&r(13,m=W.dblClickSplitter),"rtl"in W&&r(14,h=W.rtl),"firstSplitter"in W&&r(15,_=W.firstSplitter),"style"in W&&r(2,v=W.style),"theme"in W&&r(3,y=W.theme),"class"in W&&r(4,$=W.class),"$$scope"in W&&r(18,c=W.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&2&&set_store_value(U,o=d,o),e.$$.dirty[0]&32768&&set_store_value(R,i=_,i)},[f,d,v,y,$,D,T,w,k,U,R,A,p,m,h,_,u,Y,c]}class Splitpanes extends SvelteComponent{constructor(t){super(),init(this,t,instance$z,create_fragment$z,safe_not_equal,{id:0,horizontal:1,pushOtherPanes:12,dblClickSplitter:13,rtl:14,firstSplitter:15,style:2,theme:3,class:4},null,[-1,-1,-1])}}const carefullCallbackGenerator=(e,t)=>r=>{const a=e();a!=null&&a[t](r)},carefullCallbackSource=e=>carefullCallbackGenerator.bind(null,e);function create_if_block$n(e){let t,r,a,i,o,u,c=(e[4]!==e[9]||e[5])&&create_if_block_1$c(e);const f=e[20].default,d=create_slot(f,e,e[19],null);return{c(){c&&c.c(),t=space(),r=element("div"),d&&d.c(),attr(r,"class",a=`splitpanes__pane ${e[0]||""}`),attr(r,"style",e[3])},m(p,m){c&&c.m(p,m),insert(p,t,m),insert(p,r,m),d&&d.m(r,null),e[21](r),i=!0,o||(u=listen(r,"click",e[11]("onPaneClick")),o=!0)},p(p,m){p[4]!==p[9]||p[5]?c?c.p(p,m):(c=create_if_block_1$c(p),c.c(),c.m(t.parentNode,t)):c&&(c.d(1),c=null),d&&d.p&&(!i||m&524288)&&update_slot_base(d,f,p,p[19],i?get_slot_changes(f,p[19],m,null):get_all_dirty_from_scope(p[19]),null),(!i||m&1&&a!==(a=`splitpanes__pane ${p[0]||""}`))&&attr(r,"class",a),(!i||m&8)&&attr(r,"style",p[3])},i(p){i||(transition_in(d,p),i=!0)},o(p){transition_out(d,p),i=!1},d(p){p&&(detach(t),detach(r)),c&&c.d(p),d&&d.d(p),e[21](null),o=!1,u()}}}function create_if_block_1$c(e){let t,r,a,i;return{c(){t=element("div"),attr(t,"class",r="splitpanes__splitter "+(e[2]?"splitpanes__splitter__active":""))},m(o,u){insert(o,t,u),a||(i=[listen(t,"mousedown",e[11]("onSplitterDown")),listen(t,"touchstart",e[11]("onSplitterDown")),listen(t,"click",e[11]("onSplitterClick")),listen(t,"dblclick",e[11]("onSplitterDblClick"))],a=!0)},p(o,u){u&4&&r!==(r="splitpanes__splitter "+(o[2]?"splitpanes__splitter__active":""))&&attr(t,"class",r)},d(o){o&&detach(t),a=!1,run_all(i)}}}function create_fragment$y(e){let t,r,a=!e[10]&&create_if_block$n(e);return{c(){a&&a.c(),t=empty$1()},m(i,o){a&&a.m(i,o),insert(i,t,o),r=!0},p(i,[o]){i[10]||a.p(i,o)},i(i){r||(transition_in(a),r=!0)},o(i){transition_out(a),r=!1},d(i){i&&detach(t),a&&a.d(i)}}}function instance$y(e,t,r){let a,i,o,u,c,{$$slots:f={},$$scope:d}=t;const{ssrRegisterPaneSize:p,onPaneInit:m,clientOnly:h,isHorizontal:_,showFirstSplitter:v,veryFirstPaneKey:y}=getContext(KEY);component_subscribe(e,_,M=>r(18,o=M)),component_subscribe(e,v,M=>r(5,c=M)),component_subscribe(e,y,M=>r(4,u=M));let{size:$=null}=t,{minSize:g=0}=t,{maxSize:D=100}=t,{snapSize:O=0}=t,{class:b=""}=t;const T={},w=!BROWSER,{undefinedPaneInitSize:k}=m(T);let C,S=$??k,F=!1,E;const U=carefullCallbackSource(()=>E),R=M=>{M!=S&&U("reportGivenSizeChange")(M)};onMount(()=>{const M={key:T,element:C,givenSize:$,sz:()=>S,setSz:V=>{r(16,S=V),$!=null&&$!=S&&r(12,$=S)},min:()=>g,max:()=>D,snap:()=>O,setSplitterActive:V=>{r(2,F=V)},isReady:!1};E=h.onPaneAdd(M)}),onDestroy(()=>{h.onPaneRemove(T)});function A(M){binding_callbacks[M?"unshift":"push"](()=>{C=M,r(1,C)})}return e.$$set=M=>{"size"in M&&r(12,$=M.size),"minSize"in M&&r(13,g=M.minSize),"maxSize"in M&&r(14,D=M.maxSize),"snapSize"in M&&r(15,O=M.snapSize),"class"in M&&r(0,b=M.class),"$$scope"in M&&r(19,d=M.$$scope)},e.$$.update=()=>{e.$$.dirty&4096&&$!=null&&R($),e.$$.dirty&262144&&r(17,a=getDimensionName(o)),e.$$.dirty&196608&&r(3,i=`${a}: ${S}%;`)},[b,C,F,i,u,c,_,v,y,T,w,U,$,g,D,O,S,a,o,d,f,A]}class Pane extends SvelteComponent{constructor(t){super(),init(this,t,instance$y,create_fragment$y,safe_not_equal,{size:12,minSize:13,maxSize:14,snapSize:15,class:0})}}var data=writable([]),graphTabs=writable([]),activeGraphTab=writable(-1),graphs=writable([]),addedNewChartData=writable(!1),dataIDsforTables=writable([]),showalldata=writable([]),activeTableTab=writable(-1),menuModalType=writable(null),contextMenu=writable({labels:[],funcs:[]}),selectedTheme=writable("light"),userStyle=writable({"--bg-color":"pink","--font-color":"blue","--hover-color":"green","--primary-color":"orange","--secondary-color":"lime"}),statusData=writable([]);function fade(e,{delay:t=0,duration:r=400,easing:a=identity$3}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:a,css:o=>`opacity: ${o*i}`}}function create_fragment$x(e){let t,r,a,i,o,u,c,f,d,p,m,h,_,v,y;const $=e[4].default,g=create_slot($,e,e[3],null);return{c(){t=element("div"),a=space(),i=element("dialog"),o=element("div"),u=element("button"),u.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="svelte-r5e5cj"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg>',c=space(),f=element("h1"),d=text(e[0]),p=space(),m=element("div"),g&&g.c(),attr(t,"class","backdrop svelte-r5e5cj"),attr(u,"class","closeDialogButton svelte-r5e5cj"),set_style(m,"margin-left","1em"),attr(o,"class","modal-box"),attr(i,"id","modal_data"),attr(i,"class","dialog svelte-r5e5cj")},m(D,O){insert(D,t,O),insert(D,a,O),insert(D,i,O),append(i,o),append(o,u),append(o,c),append(o,f),append(f,d),append(o,p),append(o,m),g&&g.m(m,null),_=!0,v||(y=[listen(window,"keydown",e[2]),listen(t,"click",e[1]),listen(u,"click",e[1])],v=!0)},p(D,[O]){e=D,(!_||O&1)&&set_data(d,e[0]),g&&g.p&&(!_||O&8)&&update_slot_base(g,$,e,e[3],_?get_slot_changes($,e[3],O,null):get_all_dirty_from_scope(e[3]),null)},i(D){_||(D&&add_render_callback(()=>{_&&(r||(r=create_bidirectional_transition(t,fade,{duration:fadeTime_ms},!0)),r.run(1))}),transition_in(g,D),D&&add_render_callback(()=>{_&&(h||(h=create_bidirectional_transition(i,fade,{duration:fadeTime_ms},!0)),h.run(1))}),_=!0)},o(D){D&&(r||(r=create_bidirectional_transition(t,fade,{duration:fadeTime_ms},!1)),r.run(0)),transition_out(g,D),D&&(h||(h=create_bidirectional_transition(i,fade,{duration:fadeTime_ms},!1)),h.run(0)),_=!1},d(D){D&&(detach(t),detach(a),detach(i)),D&&r&&r.end(),g&&g.d(D),D&&h&&h.end(),v=!1,run_all(y)}}}let fadeTime_ms=250;function instance$x(e,t,r){let a;component_subscribe(e,menuModalType,d=>r(5,a=d));let{$$slots:i={},$$scope:o}=t,{title:u=""}=t;function c(){set_store_value(menuModalType,a="",a)}function f(d){d.key,d.keyCode===27&&c()}return e.$$set=d=>{"title"in d&&r(0,u=d.title),"$$scope"in d&&r(3,o=d.$$scope)},[u,c,f,o,i]}class Dialog extends SvelteComponent{constructor(t){super(),init(this,t,instance$x,create_fragment$x,safe_not_equal,{title:0})}}function create_fragment$w(e){let t,r,a,i,o,u,c,f,d,p,m=truncateDecimalPlaces(e[0])+"",h,_,v,y,$=truncateDecimalPlaces(e[1])+"",g,D,O;return{c(){t=element("div"),r=element("label"),a=element("span"),i=text(e[5]),o=space(),u=element("input"),c=space(),f=element("input"),d=space(),p=element("span"),h=text(m),v=space(),y=element("span"),g=text($),attr(a,"class","svelte-19uihkg"),attr(u,"class","numberInput svelte-19uihkg"),attr(u,"type","number"),attr(u,"id","val"),attr(u,"min",e[0]),attr(u,"max",e[1]),attr(u,"step",e[3]),attr(r,"for","val"),attr(r,"class","sliderLabel svelte-19uihkg"),attr(f,"class","sliderInput svelte-19uihkg"),attr(f,"type","range"),attr(f,"min",e[0]),attr(f,"max",e[1]),attr(f,"step",e[3]),attr(p,"class",_="min "+(e[0]===e[4][0]?"stop":"")+" svelte-19uihkg"),attr(y,"class","max svelte-19uihkg"),attr(t,"class","processItem svelte-19uihkg")},m(b,T){insert(b,t,T),append(t,r),append(r,a),append(a,i),append(r,o),append(r,u),set_input_value(u,e[2]),append(t,c),append(t,f),set_input_value(f,e[2]),append(t,d),append(t,p),append(p,h),append(t,v),append(t,y),append(y,g),D||(O=[listen(u,"change",e[8]),listen(u,"input",e[9]),listen(u,"input",e[10]),listen(f,"change",e[11]),listen(f,"input",e[12]),listen(f,"change",e[13]),listen(f,"input",e[13])],D=!0)},p(b,[T]){T&32&&set_data(i,b[5]),T&1&&attr(u,"min",b[0]),T&2&&attr(u,"max",b[1]),T&8&&attr(u,"step",b[3]),T&4&&to_number(u.value)!==b[2]&&set_input_value(u,b[2]),T&1&&attr(f,"min",b[0]),T&2&&attr(f,"max",b[1]),T&8&&attr(f,"step",b[3]),T&4&&set_input_value(f,b[2]),T&1&&m!==(m=truncateDecimalPlaces(b[0])+"")&&set_data(h,m),T&17&&_!==(_="min "+(b[0]===b[4][0]?"stop":"")+" svelte-19uihkg")&&attr(p,"class",_),T&2&&$!==($=truncateDecimalPlaces(b[1])+"")&&set_data(g,$)},i:noop,o:noop,d(b){b&&detach(t),D=!1,run_all(O)}}}function truncateDecimalPlaces(e,t=2){const r=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);if(!r||!r[1])return e;const a=r[1].slice(0,t);return parseFloat(r[0].replace(r[1],a))}function instance$w(e,t,r){let{min:a=-100}=t,{max:i=100}=t,{step:o=1}=t,{limits:u=[-1/0,1/0]}=t,{value:c}=t,{label:f="Label:"}=t;function d(){a<u[0]&&r(0,a=u[0]),i>u[1]&&r(1,i=u[1]),c<u[0]&&(r(2,c=u[0]),r(0,a=c)),c>u[1]&&(r(2,c=u[1]),r(1,i=c))}function p(){const g=Math.abs(i-a),D=Math.max(u[0],a+g*.2),O=Math.min(u[1],i-g*.2);Number.isInteger(o)?(c>O||c<D)&&(r(1,i=Math.ceil(c+g/2)),r(0,a=Math.floor(c-g/2))):(c>O||c<D)&&(r(1,i=c+g/2),r(0,a=c-g/2)),d()}const m=()=>p(),h=()=>{d()};function _(){c=to_number(this.value),r(2,c)}const v=()=>p(),y=()=>{d()};function $(){c=to_number(this.value),r(2,c)}return e.$$set=g=>{"min"in g&&r(0,a=g.min),"max"in g&&r(1,i=g.max),"step"in g&&r(3,o=g.step),"limits"in g&&r(4,u=g.limits),"value"in g&&r(2,c=g.value),"label"in g&&r(5,f=g.label)},p(),[a,i,c,o,u,f,d,p,m,h,_,v,y,$]}class Slider extends SvelteComponent{constructor(t){super(),init(this,t,instance$w,create_fragment$w,safe_not_equal,{min:0,max:1,step:3,limits:4,value:2,label:5})}}class LuxonError extends Error{}class InvalidDateTimeError extends LuxonError{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class InvalidIntervalError extends LuxonError{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class InvalidDurationError extends LuxonError{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class ConflictingSpecificationError extends LuxonError{}class InvalidUnitError extends LuxonError{constructor(t){super(`Invalid unit ${t}`)}}class InvalidArgumentError extends LuxonError{}class ZoneIsAbstractError extends LuxonError{constructor(){super("Zone is an abstract class")}}const n="numeric",s="short",l="long",DATE_SHORT={year:n,month:n,day:n},DATE_MED={year:n,month:s,day:n},DATE_MED_WITH_WEEKDAY={year:n,month:s,day:n,weekday:s},DATE_FULL={year:n,month:l,day:n},DATE_HUGE={year:n,month:l,day:n,weekday:l},TIME_SIMPLE={hour:n,minute:n},TIME_WITH_SECONDS={hour:n,minute:n,second:n},TIME_WITH_SHORT_OFFSET={hour:n,minute:n,second:n,timeZoneName:s},TIME_WITH_LONG_OFFSET={hour:n,minute:n,second:n,timeZoneName:l},TIME_24_SIMPLE={hour:n,minute:n,hourCycle:"h23"},TIME_24_WITH_SECONDS={hour:n,minute:n,second:n,hourCycle:"h23"},TIME_24_WITH_SHORT_OFFSET={hour:n,minute:n,second:n,hourCycle:"h23",timeZoneName:s},TIME_24_WITH_LONG_OFFSET={hour:n,minute:n,second:n,hourCycle:"h23",timeZoneName:l},DATETIME_SHORT={year:n,month:n,day:n,hour:n,minute:n},DATETIME_SHORT_WITH_SECONDS={year:n,month:n,day:n,hour:n,minute:n,second:n},DATETIME_MED={year:n,month:s,day:n,hour:n,minute:n},DATETIME_MED_WITH_SECONDS={year:n,month:s,day:n,hour:n,minute:n,second:n},DATETIME_MED_WITH_WEEKDAY={year:n,month:s,day:n,weekday:s,hour:n,minute:n},DATETIME_FULL={year:n,month:l,day:n,hour:n,minute:n,timeZoneName:s},DATETIME_FULL_WITH_SECONDS={year:n,month:l,day:n,hour:n,minute:n,second:n,timeZoneName:s},DATETIME_HUGE={year:n,month:l,day:n,weekday:l,hour:n,minute:n,timeZoneName:l},DATETIME_HUGE_WITH_SECONDS={year:n,month:l,day:n,weekday:l,hour:n,minute:n,second:n,timeZoneName:l};class Zone{get type(){throw new ZoneIsAbstractError}get name(){throw new ZoneIsAbstractError}get ianaName(){return this.name}get isUniversal(){throw new ZoneIsAbstractError}offsetName(t,r){throw new ZoneIsAbstractError}formatOffset(t,r){throw new ZoneIsAbstractError}offset(t){throw new ZoneIsAbstractError}equals(t){throw new ZoneIsAbstractError}get isValid(){throw new ZoneIsAbstractError}}let singleton$1=null;class SystemZone extends Zone{static get instance(){return singleton$1===null&&(singleton$1=new SystemZone),singleton$1}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:r,locale:a}){return parseZoneInfo(t,r,a)}formatOffset(t,r){return formatOffset(this.offset(t),r)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let dtfCache={};function makeDTF(e){return dtfCache[e]||(dtfCache[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),dtfCache[e]}const typeToPos={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function hackyOffset(e,t){const r=e.format(t).replace(/\u200E/g,""),a=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,i,o,u,c,f,d,p]=a;return[u,i,o,c,f,d,p]}function partsOffset(e,t){const r=e.formatToParts(t),a=[];for(let i=0;i<r.length;i++){const{type:o,value:u}=r[i],c=typeToPos[o];o==="era"?a[c]=u:isUndefined(c)||(a[c]=parseInt(u,10))}return a}let ianaZoneCache={};class IANAZone extends Zone{static create(t){return ianaZoneCache[t]||(ianaZoneCache[t]=new IANAZone(t)),ianaZoneCache[t]}static resetCache(){ianaZoneCache={},dtfCache={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=IANAZone.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:r,locale:a}){return parseZoneInfo(t,r,a,this.name)}formatOffset(t,r){return formatOffset(this.offset(t),r)}offset(t){const r=new Date(t);if(isNaN(r))return NaN;const a=makeDTF(this.name);let[i,o,u,c,f,d,p]=a.formatToParts?partsOffset(a,r):hackyOffset(a,r);c==="BC"&&(i=-Math.abs(i)+1);const h=objToLocalTS({year:i,month:o,day:u,hour:f===24?0:f,minute:d,second:p,millisecond:0});let _=+r;const v=_%1e3;return _-=v>=0?v:1e3+v,(h-_)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let intlLFCache={};function getCachedLF(e,t={}){const r=JSON.stringify([e,t]);let a=intlLFCache[r];return a||(a=new Intl.ListFormat(e,t),intlLFCache[r]=a),a}let intlDTCache={};function getCachedDTF(e,t={}){const r=JSON.stringify([e,t]);let a=intlDTCache[r];return a||(a=new Intl.DateTimeFormat(e,t),intlDTCache[r]=a),a}let intlNumCache={};function getCachedINF(e,t={}){const r=JSON.stringify([e,t]);let a=intlNumCache[r];return a||(a=new Intl.NumberFormat(e,t),intlNumCache[r]=a),a}let intlRelCache={};function getCachedRTF(e,t={}){const{base:r,...a}=t,i=JSON.stringify([e,a]);let o=intlRelCache[i];return o||(o=new Intl.RelativeTimeFormat(e,t),intlRelCache[i]=o),o}let sysLocaleCache=null;function systemLocale(){return sysLocaleCache||(sysLocaleCache=new Intl.DateTimeFormat().resolvedOptions().locale,sysLocaleCache)}let weekInfoCache={};function getCachedWeekInfo(e){let t=weekInfoCache[e];if(!t){const r=new Intl.Locale(e);t="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,weekInfoCache[e]=t}return t}function parseLocaleString(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const r=e.indexOf("-u-");if(r===-1)return[e];{let a,i;try{a=getCachedDTF(e).resolvedOptions(),i=e}catch{const f=e.substring(0,r);a=getCachedDTF(f).resolvedOptions(),i=f}const{numberingSystem:o,calendar:u}=a;return[i,o,u]}}function intlConfigString(e,t,r){return(r||t)&&(e.includes("-u-")||(e+="-u"),r&&(e+=`-ca-${r}`),t&&(e+=`-nu-${t}`)),e}function mapMonths(e){const t=[];for(let r=1;r<=12;r++){const a=DateTime.utc(2009,r,1);t.push(e(a))}return t}function mapWeekdays(e){const t=[];for(let r=1;r<=7;r++){const a=DateTime.utc(2016,11,13+r);t.push(e(a))}return t}function listStuff(e,t,r,a){const i=e.listingMode();return i==="error"?null:i==="en"?r(t):a(t)}function supportsFastNumbers(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class PolyNumberFormatter{constructor(t,r,a){this.padTo=a.padTo||0,this.floor=a.floor||!1;const{padTo:i,floor:o,...u}=a;if(!r||Object.keys(u).length>0){const c={useGrouping:!1,...a};a.padTo>0&&(c.minimumIntegerDigits=a.padTo),this.inf=getCachedINF(t,c)}}format(t){if(this.inf){const r=this.floor?Math.floor(t):t;return this.inf.format(r)}else{const r=this.floor?Math.floor(t):roundTo(t,3);return padStart(r,this.padTo)}}}class PolyDateFormatter{constructor(t,r,a){this.opts=a,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const u=-1*(t.offset/60),c=u>=0?`Etc/GMT+${u}`:`Etc/GMT${u}`;t.offset!==0&&IANAZone.create(c).valid?(i=c,this.dt=t):(i="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,i=t.zone.name):(i="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const o={...this.opts};o.timeZone=o.timeZone||i,this.dtf=getCachedDTF(r,o)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(r=>{if(r.type==="timeZoneName"){const a=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:a}}else return r}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class PolyRelFormatter{constructor(t,r,a){this.opts={style:"long",...a},!r&&hasRelative()&&(this.rtf=getCachedRTF(t,a))}format(t,r){return this.rtf?this.rtf.format(t,r):formatRelativeTime(r,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,r){return this.rtf?this.rtf.formatToParts(t,r):[]}}const fallbackWeekSettings={firstDay:1,minimalDays:4,weekend:[6,7]};class Locale{static fromOpts(t){return Locale.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,r,a,i,o=!1){const u=t||Settings.defaultLocale,c=u||(o?"en-US":systemLocale()),f=r||Settings.defaultNumberingSystem,d=a||Settings.defaultOutputCalendar,p=validateWeekSettings(i)||Settings.defaultWeekSettings;return new Locale(c,f,d,p,u)}static resetCache(){sysLocaleCache=null,intlDTCache={},intlNumCache={},intlRelCache={}}static fromObject({locale:t,numberingSystem:r,outputCalendar:a,weekSettings:i}={}){return Locale.create(t,r,a,i)}constructor(t,r,a,i,o){const[u,c,f]=parseLocaleString(t);this.locale=u,this.numberingSystem=r||c||null,this.outputCalendar=a||f||null,this.weekSettings=i,this.intl=intlConfigString(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=supportsFastNumbers(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&r?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:Locale.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,validateWeekSettings(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,r=!1){return listStuff(this,t,months,()=>{const a=r?{month:t,day:"numeric"}:{month:t},i=r?"format":"standalone";return this.monthsCache[i][t]||(this.monthsCache[i][t]=mapMonths(o=>this.extract(o,a,"month"))),this.monthsCache[i][t]})}weekdays(t,r=!1){return listStuff(this,t,weekdays,()=>{const a=r?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},i=r?"format":"standalone";return this.weekdaysCache[i][t]||(this.weekdaysCache[i][t]=mapWeekdays(o=>this.extract(o,a,"weekday"))),this.weekdaysCache[i][t]})}meridiems(){return listStuff(this,void 0,()=>meridiems,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[DateTime.utc(2016,11,13,9),DateTime.utc(2016,11,13,19)].map(r=>this.extract(r,t,"dayperiod"))}return this.meridiemCache})}eras(t){return listStuff(this,t,eras,()=>{const r={era:t};return this.eraCache[t]||(this.eraCache[t]=[DateTime.utc(-40,1,1),DateTime.utc(2017,1,1)].map(a=>this.extract(a,r,"era"))),this.eraCache[t]})}extract(t,r,a){const i=this.dtFormatter(t,r),o=i.formatToParts(),u=o.find(c=>c.type.toLowerCase()===a);return u?u.value:null}numberFormatter(t={}){return new PolyNumberFormatter(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,r={}){return new PolyDateFormatter(t,this.intl,r)}relFormatter(t={}){return new PolyRelFormatter(this.intl,this.isEnglish(),t)}listFormatter(t={}){return getCachedLF(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:hasLocaleWeekInfo()?getCachedWeekInfo(this.locale):fallbackWeekSettings}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}let singleton=null;class FixedOffsetZone extends Zone{static get utcInstance(){return singleton===null&&(singleton=new FixedOffsetZone(0)),singleton}static instance(t){return t===0?FixedOffsetZone.utcInstance:new FixedOffsetZone(t)}static parseSpecifier(t){if(t){const r=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new FixedOffsetZone(signedOffset(r[1],r[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${formatOffset(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${formatOffset(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,r){return formatOffset(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class InvalidZone extends Zone{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function normalizeZone(e,t){if(isUndefined(e)||e===null)return t;if(e instanceof Zone)return e;if(isString(e)){const r=e.toLowerCase();return r==="default"?t:r==="local"||r==="system"?SystemZone.instance:r==="utc"||r==="gmt"?FixedOffsetZone.utcInstance:FixedOffsetZone.parseSpecifier(r)||IANAZone.create(e)}else return isNumber(e)?FixedOffsetZone.instance(e):typeof e=="object"&&"offset"in e&&typeof e.offset=="function"?e:new InvalidZone(e)}let now=()=>Date.now(),defaultZone="system",defaultLocale$1=null,defaultNumberingSystem=null,defaultOutputCalendar=null,twoDigitCutoffYear=60,throwOnInvalid,defaultWeekSettings=null;class Settings{static get now(){return now}static set now(t){now=t}static set defaultZone(t){defaultZone=t}static get defaultZone(){return normalizeZone(defaultZone,SystemZone.instance)}static get defaultLocale(){return defaultLocale$1}static set defaultLocale(t){defaultLocale$1=t}static get defaultNumberingSystem(){return defaultNumberingSystem}static set defaultNumberingSystem(t){defaultNumberingSystem=t}static get defaultOutputCalendar(){return defaultOutputCalendar}static set defaultOutputCalendar(t){defaultOutputCalendar=t}static get defaultWeekSettings(){return defaultWeekSettings}static set defaultWeekSettings(t){defaultWeekSettings=validateWeekSettings(t)}static get twoDigitCutoffYear(){return twoDigitCutoffYear}static set twoDigitCutoffYear(t){twoDigitCutoffYear=t%100}static get throwOnInvalid(){return throwOnInvalid}static set throwOnInvalid(t){throwOnInvalid=t}static resetCaches(){Locale.resetCache(),IANAZone.resetCache()}}class Invalid{constructor(t,r){this.reason=t,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const nonLeapLadder=[0,31,59,90,120,151,181,212,243,273,304,334],leapLadder=[0,31,60,91,121,152,182,213,244,274,305,335];function unitOutOfRange(e,t){return new Invalid("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function dayOfWeek(e,t,r){const a=new Date(Date.UTC(e,t-1,r));e<100&&e>=0&&a.setUTCFullYear(a.getUTCFullYear()-1900);const i=a.getUTCDay();return i===0?7:i}function computeOrdinal(e,t,r){return r+(isLeapYear(e)?leapLadder:nonLeapLadder)[t-1]}function uncomputeOrdinal(e,t){const r=isLeapYear(e)?leapLadder:nonLeapLadder,a=r.findIndex(o=>o<t),i=t-r[a];return{month:a+1,day:i}}function isoWeekdayToLocal(e,t){return(e-t+7)%7+1}function gregorianToWeek(e,t=4,r=1){const{year:a,month:i,day:o}=e,u=computeOrdinal(a,i,o),c=isoWeekdayToLocal(dayOfWeek(a,i,o),r);let f=Math.floor((u-c+14-t)/7),d;return f<1?(d=a-1,f=weeksInWeekYear(d,t,r)):f>weeksInWeekYear(a,t,r)?(d=a+1,f=1):d=a,{weekYear:d,weekNumber:f,weekday:c,...timeObject(e)}}function weekToGregorian(e,t=4,r=1){const{weekYear:a,weekNumber:i,weekday:o}=e,u=isoWeekdayToLocal(dayOfWeek(a,1,t),r),c=daysInYear(a);let f=i*7+o-u-7+t,d;f<1?(d=a-1,f+=daysInYear(d)):f>c?(d=a+1,f-=daysInYear(a)):d=a;const{month:p,day:m}=uncomputeOrdinal(d,f);return{year:d,month:p,day:m,...timeObject(e)}}function gregorianToOrdinal(e){const{year:t,month:r,day:a}=e,i=computeOrdinal(t,r,a);return{year:t,ordinal:i,...timeObject(e)}}function ordinalToGregorian(e){const{year:t,ordinal:r}=e,{month:a,day:i}=uncomputeOrdinal(t,r);return{year:t,month:a,day:i,...timeObject(e)}}function usesLocalWeekValues(e,t){if(!isUndefined(e.localWeekday)||!isUndefined(e.localWeekNumber)||!isUndefined(e.localWeekYear)){if(!isUndefined(e.weekday)||!isUndefined(e.weekNumber)||!isUndefined(e.weekYear))throw new ConflictingSpecificationError("Cannot mix locale-based week fields with ISO-based week fields");return isUndefined(e.localWeekday)||(e.weekday=e.localWeekday),isUndefined(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),isUndefined(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function hasInvalidWeekData(e,t=4,r=1){const a=isInteger(e.weekYear),i=integerBetween(e.weekNumber,1,weeksInWeekYear(e.weekYear,t,r)),o=integerBetween(e.weekday,1,7);return a?i?o?!1:unitOutOfRange("weekday",e.weekday):unitOutOfRange("week",e.weekNumber):unitOutOfRange("weekYear",e.weekYear)}function hasInvalidOrdinalData(e){const t=isInteger(e.year),r=integerBetween(e.ordinal,1,daysInYear(e.year));return t?r?!1:unitOutOfRange("ordinal",e.ordinal):unitOutOfRange("year",e.year)}function hasInvalidGregorianData(e){const t=isInteger(e.year),r=integerBetween(e.month,1,12),a=integerBetween(e.day,1,daysInMonth(e.year,e.month));return t?r?a?!1:unitOutOfRange("day",e.day):unitOutOfRange("month",e.month):unitOutOfRange("year",e.year)}function hasInvalidTimeData(e){const{hour:t,minute:r,second:a,millisecond:i}=e,o=integerBetween(t,0,23)||t===24&&r===0&&a===0&&i===0,u=integerBetween(r,0,59),c=integerBetween(a,0,59),f=integerBetween(i,0,999);return o?u?c?f?!1:unitOutOfRange("millisecond",i):unitOutOfRange("second",a):unitOutOfRange("minute",r):unitOutOfRange("hour",t)}function isUndefined(e){return typeof e>"u"}function isNumber(e){return typeof e=="number"}function isInteger(e){return typeof e=="number"&&e%1===0}function isString(e){return typeof e=="string"}function isDate(e){return Object.prototype.toString.call(e)==="[object Date]"}function hasRelative(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function hasLocaleWeekInfo(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function maybeArray(e){return Array.isArray(e)?e:[e]}function bestBy(e,t,r){if(e.length!==0)return e.reduce((a,i)=>{const o=[t(i),i];return a&&r(a[0],o[0])===a[0]?a:o},null)[1]}function pick(e,t){return t.reduce((r,a)=>(r[a]=e[a],r),{})}function hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function validateWeekSettings(e){if(e==null)return null;if(typeof e!="object")throw new InvalidArgumentError("Week settings must be an object");if(!integerBetween(e.firstDay,1,7)||!integerBetween(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(t=>!integerBetween(t,1,7)))throw new InvalidArgumentError("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function integerBetween(e,t,r){return isInteger(e)&&e>=t&&e<=r}function floorMod(e,t){return e-t*Math.floor(e/t)}function padStart(e,t=2){const r=e<0;let a;return r?a="-"+(""+-e).padStart(t,"0"):a=(""+e).padStart(t,"0"),a}function parseInteger(e){if(!(isUndefined(e)||e===null||e===""))return parseInt(e,10)}function parseFloating(e){if(!(isUndefined(e)||e===null||e===""))return parseFloat(e)}function parseMillis(e){if(!(isUndefined(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function roundTo(e,t,r=!1){const a=10**t;return(r?Math.trunc:Math.round)(e*a)/a}function isLeapYear(e){return e%4===0&&(e%100!==0||e%400===0)}function daysInYear(e){return isLeapYear(e)?366:365}function daysInMonth(e,t){const r=floorMod(t-1,12)+1,a=e+(t-r)/12;return r===2?isLeapYear(a)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function objToLocalTS(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function firstWeekOffset(e,t,r){return-isoWeekdayToLocal(dayOfWeek(e,1,t),r)+t-1}function weeksInWeekYear(e,t=4,r=1){const a=firstWeekOffset(e,t,r),i=firstWeekOffset(e+1,t,r);return(daysInYear(e)-a+i)/7}function untruncateYear(e){return e>99?e:e>Settings.twoDigitCutoffYear?1900+e:2e3+e}function parseZoneInfo(e,t,r,a=null){const i=new Date(e),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};a&&(o.timeZone=a);const u={timeZoneName:t,...o},c=new Intl.DateTimeFormat(r,u).formatToParts(i).find(f=>f.type.toLowerCase()==="timezonename");return c?c.value:null}function signedOffset(e,t){let r=parseInt(e,10);Number.isNaN(r)&&(r=0);const a=parseInt(t,10)||0,i=r<0||Object.is(r,-0)?-a:a;return r*60+i}function asNumber(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new InvalidArgumentError(`Invalid unit value ${e}`);return t}function normalizeObject(e,t){const r={};for(const a in e)if(hasOwnProperty(e,a)){const i=e[a];if(i==null)continue;r[t(a)]=asNumber(i)}return r}function formatOffset(e,t){const r=Math.trunc(Math.abs(e/60)),a=Math.trunc(Math.abs(e%60)),i=e>=0?"+":"-";switch(t){case"short":return`${i}${padStart(r,2)}:${padStart(a,2)}`;case"narrow":return`${i}${r}${a>0?`:${a}`:""}`;case"techie":return`${i}${padStart(r,2)}${padStart(a,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function timeObject(e){return pick(e,["hour","minute","second","millisecond"])}const monthsLong=["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthsNarrow=["J","F","M","A","M","J","J","A","S","O","N","D"];function months(e){switch(e){case"narrow":return[...monthsNarrow];case"short":return[...monthsShort];case"long":return[...monthsLong];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const weekdaysLong=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],weekdaysShort=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],weekdaysNarrow=["M","T","W","T","F","S","S"];function weekdays(e){switch(e){case"narrow":return[...weekdaysNarrow];case"short":return[...weekdaysShort];case"long":return[...weekdaysLong];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const meridiems=["AM","PM"],erasLong=["Before Christ","Anno Domini"],erasShort=["BC","AD"],erasNarrow=["B","A"];function eras(e){switch(e){case"narrow":return[...erasNarrow];case"short":return[...erasShort];case"long":return[...erasLong];default:return null}}function meridiemForDateTime(e){return meridiems[e.hour<12?0:1]}function weekdayForDateTime(e,t){return weekdays(t)[e.weekday-1]}function monthForDateTime(e,t){return months(t)[e.month-1]}function eraForDateTime(e,t){return eras(t)[e.year<0?0:1]}function formatRelativeTime(e,t,r="always",a=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=["hours","minutes","seconds"].indexOf(e)===-1;if(r==="auto"&&o){const m=e==="days";switch(t){case 1:return m?"tomorrow":`next ${i[e][0]}`;case-1:return m?"yesterday":`last ${i[e][0]}`;case 0:return m?"today":`this ${i[e][0]}`}}const u=Object.is(t,-0)||t<0,c=Math.abs(t),f=c===1,d=i[e],p=a?f?d[1]:d[2]||d[1]:f?i[e][0]:e;return u?`${c} ${p} ago`:`in ${c} ${p}`}function stringifyTokens(e,t){let r="";for(const a of e)a.literal?r+=a.val:r+=t(a.val);return r}const macroTokenToFormatOpts={D:DATE_SHORT,DD:DATE_MED,DDD:DATE_FULL,DDDD:DATE_HUGE,t:TIME_SIMPLE,tt:TIME_WITH_SECONDS,ttt:TIME_WITH_SHORT_OFFSET,tttt:TIME_WITH_LONG_OFFSET,T:TIME_24_SIMPLE,TT:TIME_24_WITH_SECONDS,TTT:TIME_24_WITH_SHORT_OFFSET,TTTT:TIME_24_WITH_LONG_OFFSET,f:DATETIME_SHORT,ff:DATETIME_MED,fff:DATETIME_FULL,ffff:DATETIME_HUGE,F:DATETIME_SHORT_WITH_SECONDS,FF:DATETIME_MED_WITH_SECONDS,FFF:DATETIME_FULL_WITH_SECONDS,FFFF:DATETIME_HUGE_WITH_SECONDS};class Formatter{static create(t,r={}){return new Formatter(t,r)}static parseFormat(t){let r=null,a="",i=!1;const o=[];for(let u=0;u<t.length;u++){const c=t.charAt(u);c==="'"?(a.length>0&&o.push({literal:i||/^\s+$/.test(a),val:a}),r=null,a="",i=!i):i||c===r?a+=c:(a.length>0&&o.push({literal:/^\s+$/.test(a),val:a}),a=c,r=c)}return a.length>0&&o.push({literal:i||/^\s+$/.test(a),val:a}),o}static macroTokenToFormatOpts(t){return macroTokenToFormatOpts[t]}constructor(t,r){this.opts=r,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...r}).format()}dtFormatter(t,r={}){return this.loc.dtFormatter(t,{...this.opts,...r})}formatDateTime(t,r){return this.dtFormatter(t,r).format()}formatDateTimeParts(t,r){return this.dtFormatter(t,r).formatToParts()}formatInterval(t,r){return this.dtFormatter(t.start,r).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,r){return this.dtFormatter(t,r).resolvedOptions()}num(t,r=0){if(this.opts.forceSimple)return padStart(t,r);const a={...this.opts};return r>0&&(a.padTo=r),this.loc.numberFormatter(a).format(t)}formatDateTimeFromString(t,r){const a=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",o=(_,v)=>this.loc.extract(t,_,v),u=_=>t.isOffsetFixed&&t.offset===0&&_.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,_.format):"",c=()=>a?meridiemForDateTime(t):o({hour:"numeric",hourCycle:"h12"},"dayperiod"),f=(_,v)=>a?monthForDateTime(t,_):o(v?{month:_}:{month:_,day:"numeric"},"month"),d=(_,v)=>a?weekdayForDateTime(t,_):o(v?{weekday:_}:{weekday:_,month:"long",day:"numeric"},"weekday"),p=_=>{const v=Formatter.macroTokenToFormatOpts(_);return v?this.formatWithSystemDefault(t,v):_},m=_=>a?eraForDateTime(t,_):o({era:_},"era"),h=_=>{switch(_){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return u({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return u({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return u({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return c();case"d":return i?o({day:"numeric"},"day"):this.num(t.day);case"dd":return i?o({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return d("short",!0);case"cccc":return d("long",!0);case"ccccc":return d("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return d("short",!1);case"EEEE":return d("long",!1);case"EEEEE":return d("narrow",!1);case"L":return i?o({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return i?o({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return f("short",!0);case"LLLL":return f("long",!0);case"LLLLL":return f("narrow",!0);case"M":return i?o({month:"numeric"},"month"):this.num(t.month);case"MM":return i?o({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return f("short",!1);case"MMMM":return f("long",!1);case"MMMMM":return f("narrow",!1);case"y":return i?o({year:"numeric"},"year"):this.num(t.year);case"yy":return i?o({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return i?o({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return i?o({year:"numeric"},"year"):this.num(t.year,6);case"G":return m("short");case"GG":return m("long");case"GGGGG":return m("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return p(_)}};return stringifyTokens(Formatter.parseFormat(r),h)}formatDurationFromString(t,r){const a=f=>{switch(f[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=f=>d=>{const p=a(d);return p?this.num(f.get(p),d.length):d},o=Formatter.parseFormat(r),u=o.reduce((f,{literal:d,val:p})=>d?f:f.concat(p),[]),c=t.shiftTo(...u.map(a).filter(f=>f));return stringifyTokens(o,i(c))}}const ianaRegex=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function combineRegexes(...e){const t=e.reduce((r,a)=>r+a.source,"");return RegExp(`^${t}$`)}function combineExtractors(...e){return t=>e.reduce(([r,a,i],o)=>{const[u,c,f]=o(t,i);return[{...r,...u},c||a,f]},[{},null,1]).slice(0,2)}function parse(e,...t){if(e==null)return[null,null];for(const[r,a]of t){const i=r.exec(e);if(i)return a(i)}return[null,null]}function simpleParse(...e){return(t,r)=>{const a={};let i;for(i=0;i<e.length;i++)a[e[i]]=parseInteger(t[r+i]);return[a,null,r+i]}}const offsetRegex=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,isoExtendedZone=`(?:${offsetRegex.source}?(?:\\[(${ianaRegex.source})\\])?)?`,isoTimeBaseRegex=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,isoTimeRegex=RegExp(`${isoTimeBaseRegex.source}${isoExtendedZone}`),isoTimeExtensionRegex=RegExp(`(?:T${isoTimeRegex.source})?`),isoYmdRegex=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,isoWeekRegex=/(\d{4})-?W(\d\d)(?:-?(\d))?/,isoOrdinalRegex=/(\d{4})-?(\d{3})/,extractISOWeekData=simpleParse("weekYear","weekNumber","weekDay"),extractISOOrdinalData=simpleParse("year","ordinal"),sqlYmdRegex=/(\d{4})-(\d\d)-(\d\d)/,sqlTimeRegex=RegExp(`${isoTimeBaseRegex.source} ?(?:${offsetRegex.source}|(${ianaRegex.source}))?`),sqlTimeExtensionRegex=RegExp(`(?: ${sqlTimeRegex.source})?`);function int(e,t,r){const a=e[t];return isUndefined(a)?r:parseInteger(a)}function extractISOYmd(e,t){return[{year:int(e,t),month:int(e,t+1,1),day:int(e,t+2,1)},null,t+3]}function extractISOTime(e,t){return[{hours:int(e,t,0),minutes:int(e,t+1,0),seconds:int(e,t+2,0),milliseconds:parseMillis(e[t+3])},null,t+4]}function extractISOOffset(e,t){const r=!e[t]&&!e[t+1],a=signedOffset(e[t+1],e[t+2]),i=r?null:FixedOffsetZone.instance(a);return[{},i,t+3]}function extractIANAZone(e,t){const r=e[t]?IANAZone.create(e[t]):null;return[{},r,t+1]}const isoTimeOnly=RegExp(`^T?${isoTimeBaseRegex.source}$`),isoDuration=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function extractISODuration(e){const[t,r,a,i,o,u,c,f,d]=e,p=t[0]==="-",m=f&&f[0]==="-",h=(_,v=!1)=>_!==void 0&&(v||_&&p)?-_:_;return[{years:h(parseFloating(r)),months:h(parseFloating(a)),weeks:h(parseFloating(i)),days:h(parseFloating(o)),hours:h(parseFloating(u)),minutes:h(parseFloating(c)),seconds:h(parseFloating(f),f==="-0"),milliseconds:h(parseMillis(d),m)}]}const obsOffsets={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function fromStrings(e,t,r,a,i,o,u){const c={year:t.length===2?untruncateYear(parseInteger(t)):parseInteger(t),month:monthsShort.indexOf(r)+1,day:parseInteger(a),hour:parseInteger(i),minute:parseInteger(o)};return u&&(c.second=parseInteger(u)),e&&(c.weekday=e.length>3?weekdaysLong.indexOf(e)+1:weekdaysShort.indexOf(e)+1),c}const rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function extractRFC2822(e){const[,t,r,a,i,o,u,c,f,d,p,m]=e,h=fromStrings(t,i,a,r,o,u,c);let _;return f?_=obsOffsets[f]:d?_=0:_=signedOffset(p,m),[h,new FixedOffsetZone(_)]}function preprocessRFC2822(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const rfc1123=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,rfc850=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,ascii=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function extractRFC1123Or850(e){const[,t,r,a,i,o,u,c]=e;return[fromStrings(t,i,a,r,o,u,c),FixedOffsetZone.utcInstance]}function extractASCII(e){const[,t,r,a,i,o,u,c]=e;return[fromStrings(t,c,r,a,i,o,u),FixedOffsetZone.utcInstance]}const isoYmdWithTimeExtensionRegex=combineRegexes(isoYmdRegex,isoTimeExtensionRegex),isoWeekWithTimeExtensionRegex=combineRegexes(isoWeekRegex,isoTimeExtensionRegex),isoOrdinalWithTimeExtensionRegex=combineRegexes(isoOrdinalRegex,isoTimeExtensionRegex),isoTimeCombinedRegex=combineRegexes(isoTimeRegex),extractISOYmdTimeAndOffset=combineExtractors(extractISOYmd,extractISOTime,extractISOOffset,extractIANAZone),extractISOWeekTimeAndOffset=combineExtractors(extractISOWeekData,extractISOTime,extractISOOffset,extractIANAZone),extractISOOrdinalDateAndTime=combineExtractors(extractISOOrdinalData,extractISOTime,extractISOOffset,extractIANAZone),extractISOTimeAndOffset=combineExtractors(extractISOTime,extractISOOffset,extractIANAZone);function parseISODate(e){return parse(e,[isoYmdWithTimeExtensionRegex,extractISOYmdTimeAndOffset],[isoWeekWithTimeExtensionRegex,extractISOWeekTimeAndOffset],[isoOrdinalWithTimeExtensionRegex,extractISOOrdinalDateAndTime],[isoTimeCombinedRegex,extractISOTimeAndOffset])}function parseRFC2822Date(e){return parse(preprocessRFC2822(e),[rfc2822,extractRFC2822])}function parseHTTPDate(e){return parse(e,[rfc1123,extractRFC1123Or850],[rfc850,extractRFC1123Or850],[ascii,extractASCII])}function parseISODuration(e){return parse(e,[isoDuration,extractISODuration])}const extractISOTimeOnly=combineExtractors(extractISOTime);function parseISOTimeOnly(e){return parse(e,[isoTimeOnly,extractISOTimeOnly])}const sqlYmdWithTimeExtensionRegex=combineRegexes(sqlYmdRegex,sqlTimeExtensionRegex),sqlTimeCombinedRegex=combineRegexes(sqlTimeRegex),extractISOTimeOffsetAndIANAZone=combineExtractors(extractISOTime,extractISOOffset,extractIANAZone);function parseSQL(e){return parse(e,[sqlYmdWithTimeExtensionRegex,extractISOYmdTimeAndOffset],[sqlTimeCombinedRegex,extractISOTimeOffsetAndIANAZone])}const INVALID$2="Invalid Duration",lowOrderMatrix={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},casualMatrix={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...lowOrderMatrix},daysInYearAccurate=146097/400,daysInMonthAccurate=146097/4800,accurateMatrix={years:{quarters:4,months:12,weeks:daysInYearAccurate/7,days:daysInYearAccurate,hours:daysInYearAccurate*24,minutes:daysInYearAccurate*24*60,seconds:daysInYearAccurate*24*60*60,milliseconds:daysInYearAccurate*24*60*60*1e3},quarters:{months:3,weeks:daysInYearAccurate/28,days:daysInYearAccurate/4,hours:daysInYearAccurate*24/4,minutes:daysInYearAccurate*24*60/4,seconds:daysInYearAccurate*24*60*60/4,milliseconds:daysInYearAccurate*24*60*60*1e3/4},months:{weeks:daysInMonthAccurate/7,days:daysInMonthAccurate,hours:daysInMonthAccurate*24,minutes:daysInMonthAccurate*24*60,seconds:daysInMonthAccurate*24*60*60,milliseconds:daysInMonthAccurate*24*60*60*1e3},...lowOrderMatrix},orderedUnits$1=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],reverseUnits=orderedUnits$1.slice(0).reverse();function clone$1(e,t,r=!1){const a={values:r?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new Duration(a)}function durationToMillis(e,t){let r=t.milliseconds??0;for(const a of reverseUnits.slice(1))t[a]&&(r+=t[a]*e[a].milliseconds);return r}function normalizeValues(e,t){const r=durationToMillis(e,t)<0?-1:1;orderedUnits$1.reduceRight((a,i)=>{if(isUndefined(t[i]))return a;if(a){const o=t[a]*r,u=e[i][a],c=Math.floor(o/u);t[i]+=c*r,t[a]-=c*u*r}return i},null),orderedUnits$1.reduce((a,i)=>{if(isUndefined(t[i]))return a;if(a){const o=t[a]%1;t[a]-=o,t[i]+=o*e[a][i]}return i},null)}function removeZeroes(e){const t={};for(const[r,a]of Object.entries(e))a!==0&&(t[r]=a);return t}class Duration{constructor(t){const r=t.conversionAccuracy==="longterm"||!1;let a=r?accurateMatrix:casualMatrix;t.matrix&&(a=t.matrix),this.values=t.values,this.loc=t.loc||Locale.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=a,this.isLuxonDuration=!0}static fromMillis(t,r){return Duration.fromObject({milliseconds:t},r)}static fromObject(t,r={}){if(t==null||typeof t!="object")throw new InvalidArgumentError(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new Duration({values:normalizeObject(t,Duration.normalizeUnit),loc:Locale.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(t){if(isNumber(t))return Duration.fromMillis(t);if(Duration.isDuration(t))return t;if(typeof t=="object")return Duration.fromObject(t);throw new InvalidArgumentError(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,r){const[a]=parseISODuration(t);return a?Duration.fromObject(a,r):Duration.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,r){const[a]=parseISOTimeOnly(t);return a?Duration.fromObject(a,r):Duration.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,r=null){if(!t)throw new InvalidArgumentError("need to specify a reason the Duration is invalid");const a=t instanceof Invalid?t:new Invalid(t,r);if(Settings.throwOnInvalid)throw new InvalidDurationError(a);return new Duration({invalid:a})}static normalizeUnit(t){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!r)throw new InvalidUnitError(t);return r}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,r={}){const a={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?Formatter.create(this.loc,a).formatDurationFromString(this,t):INVALID$2}toHuman(t={}){if(!this.isValid)return INVALID$2;const r=orderedUnits$1.map(a=>{const i=this.values[a];return isUndefined(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:a.slice(0,-1)}).format(i)}).filter(a=>a);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=roundTo(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},DateTime.fromMillis(r,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?durationToMillis(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const r=Duration.fromDurationLike(t),a={};for(const i of orderedUnits$1)(hasOwnProperty(r.values,i)||hasOwnProperty(this.values,i))&&(a[i]=r.get(i)+this.get(i));return clone$1(this,{values:a},!0)}minus(t){if(!this.isValid)return this;const r=Duration.fromDurationLike(t);return this.plus(r.negate())}mapUnits(t){if(!this.isValid)return this;const r={};for(const a of Object.keys(this.values))r[a]=asNumber(t(this.values[a],a));return clone$1(this,{values:r},!0)}get(t){return this[Duration.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const r={...this.values,...normalizeObject(t,Duration.normalizeUnit)};return clone$1(this,{values:r})}reconfigure({locale:t,numberingSystem:r,conversionAccuracy:a,matrix:i}={}){const u={loc:this.loc.clone({locale:t,numberingSystem:r}),matrix:i,conversionAccuracy:a};return clone$1(this,u)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return normalizeValues(this.matrix,t),clone$1(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=removeZeroes(this.normalize().shiftToAll().toObject());return clone$1(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(u=>Duration.normalizeUnit(u));const r={},a={},i=this.toObject();let o;for(const u of orderedUnits$1)if(t.indexOf(u)>=0){o=u;let c=0;for(const d in a)c+=this.matrix[d][u]*a[d],a[d]=0;isNumber(i[u])&&(c+=i[u]);const f=Math.trunc(c);r[u]=f,a[u]=(c*1e3-f*1e3)/1e3}else isNumber(i[u])&&(a[u]=i[u]);for(const u in a)a[u]!==0&&(r[o]+=u===o?a[u]:a[u]/this.matrix[o][u]);return normalizeValues(this.matrix,r),clone$1(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const r of Object.keys(this.values))t[r]=this.values[r]===0?0:-this.values[r];return clone$1(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function r(a,i){return a===void 0||a===0?i===void 0||i===0:a===i}for(const a of orderedUnits$1)if(!r(this.values[a],t.values[a]))return!1;return!0}}const INVALID$1="Invalid Interval";function validateStartEnd(e,t){return!e||!e.isValid?Interval.invalid("missing or invalid start"):!t||!t.isValid?Interval.invalid("missing or invalid end"):t<e?Interval.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class Interval{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,r=null){if(!t)throw new InvalidArgumentError("need to specify a reason the Interval is invalid");const a=t instanceof Invalid?t:new Invalid(t,r);if(Settings.throwOnInvalid)throw new InvalidIntervalError(a);return new Interval({invalid:a})}static fromDateTimes(t,r){const a=friendlyDateTime(t),i=friendlyDateTime(r),o=validateStartEnd(a,i);return o??new Interval({start:a,end:i})}static after(t,r){const a=Duration.fromDurationLike(r),i=friendlyDateTime(t);return Interval.fromDateTimes(i,i.plus(a))}static before(t,r){const a=Duration.fromDurationLike(r),i=friendlyDateTime(t);return Interval.fromDateTimes(i.minus(a),i)}static fromISO(t,r){const[a,i]=(t||"").split("/",2);if(a&&i){let o,u;try{o=DateTime.fromISO(a,r),u=o.isValid}catch{u=!1}let c,f;try{c=DateTime.fromISO(i,r),f=c.isValid}catch{f=!1}if(u&&f)return Interval.fromDateTimes(o,c);if(u){const d=Duration.fromISO(i,r);if(d.isValid)return Interval.after(o,d)}else if(f){const d=Duration.fromISO(a,r);if(d.isValid)return Interval.before(c,d)}}return Interval.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",r){if(!this.isValid)return NaN;const a=this.start.startOf(t,r);let i;return r!=null&&r.useLocaleWeeks?i=this.end.reconfigure({locale:a.locale}):i=this.end,i=i.startOf(t,r),Math.floor(i.diff(a,t).get(t))+(i.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:r}={}){return this.isValid?Interval.fromDateTimes(t||this.s,r||this.e):this}splitAt(...t){if(!this.isValid)return[];const r=t.map(friendlyDateTime).filter(u=>this.contains(u)).sort((u,c)=>u.toMillis()-c.toMillis()),a=[];let{s:i}=this,o=0;for(;i<this.e;){const u=r[o]||this.e,c=+u>+this.e?this.e:u;a.push(Interval.fromDateTimes(i,c)),i=c,o+=1}return a}splitBy(t){const r=Duration.fromDurationLike(t);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:a}=this,i=1,o;const u=[];for(;a<this.e;){const c=this.start.plus(r.mapUnits(f=>f*i));o=+c>+this.e?this.e:c,u.push(Interval.fromDateTimes(a,o)),a=o,i+=1}return u}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const r=this.s>t.s?this.s:t.s,a=this.e<t.e?this.e:t.e;return r>=a?null:Interval.fromDateTimes(r,a)}union(t){if(!this.isValid)return this;const r=this.s<t.s?this.s:t.s,a=this.e>t.e?this.e:t.e;return Interval.fromDateTimes(r,a)}static merge(t){const[r,a]=t.sort((i,o)=>i.s-o.s).reduce(([i,o],u)=>o?o.overlaps(u)||o.abutsStart(u)?[i,o.union(u)]:[i.concat([o]),u]:[i,u],[[],null]);return a&&r.push(a),r}static xor(t){let r=null,a=0;const i=[],o=t.map(f=>[{time:f.s,type:"s"},{time:f.e,type:"e"}]),u=Array.prototype.concat(...o),c=u.sort((f,d)=>f.time-d.time);for(const f of c)a+=f.type==="s"?1:-1,a===1?r=f.time:(r&&+r!=+f.time&&i.push(Interval.fromDateTimes(r,f.time)),r=null);return Interval.merge(i)}difference(...t){return Interval.xor([this].concat(t)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:INVALID$1}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=DATE_SHORT,r={}){return this.isValid?Formatter.create(this.s.loc.clone(r),t).formatInterval(this):INVALID$1}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:INVALID$1}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:INVALID$1}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:INVALID$1}toFormat(t,{separator:r="  "}={}){return this.isValid?`${this.s.toFormat(t)}${r}${this.e.toFormat(t)}`:INVALID$1}toDuration(t,r){return this.isValid?this.e.diff(this.s,t,r):Duration.invalid(this.invalidReason)}mapEndpoints(t){return Interval.fromDateTimes(t(this.s),t(this.e))}}class Info{static hasDST(t=Settings.defaultZone){const r=DateTime.now().setZone(t).set({month:12});return!t.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(t){return IANAZone.isValidZone(t)}static normalizeZone(t){return normalizeZone(t,Settings.defaultZone)}static getStartOfWeek({locale:t=null,locObj:r=null}={}){return(r||Locale.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:r=null}={}){return(r||Locale.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:r=null}={}){return(r||Locale.create(t)).getWeekendDays().slice()}static months(t="long",{locale:r=null,numberingSystem:a=null,locObj:i=null,outputCalendar:o="gregory"}={}){return(i||Locale.create(r,a,o)).months(t)}static monthsFormat(t="long",{locale:r=null,numberingSystem:a=null,locObj:i=null,outputCalendar:o="gregory"}={}){return(i||Locale.create(r,a,o)).months(t,!0)}static weekdays(t="long",{locale:r=null,numberingSystem:a=null,locObj:i=null}={}){return(i||Locale.create(r,a,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:r=null,numberingSystem:a=null,locObj:i=null}={}){return(i||Locale.create(r,a,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return Locale.create(t).meridiems()}static eras(t="short",{locale:r=null}={}){return Locale.create(r,null,"gregory").eras(t)}static features(){return{relative:hasRelative(),localeWeek:hasLocaleWeekInfo()}}}function dayDiff(e,t){const r=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),a=r(t)-r(e);return Math.floor(Duration.fromMillis(a).as("days"))}function highOrderDiffs(e,t,r){const a=[["years",(f,d)=>d.year-f.year],["quarters",(f,d)=>d.quarter-f.quarter+(d.year-f.year)*4],["months",(f,d)=>d.month-f.month+(d.year-f.year)*12],["weeks",(f,d)=>{const p=dayDiff(f,d);return(p-p%7)/7}],["days",dayDiff]],i={},o=e;let u,c;for(const[f,d]of a)r.indexOf(f)>=0&&(u=f,i[f]=d(e,t),c=o.plus(i),c>t?(i[f]--,e=o.plus(i),e>t&&(c=e,i[f]--,e=o.plus(i))):e=c);return[e,i,c,u]}function diff(e,t,r,a){let[i,o,u,c]=highOrderDiffs(e,t,r);const f=t-i,d=r.filter(m=>["hours","minutes","seconds","milliseconds"].indexOf(m)>=0);d.length===0&&(u<t&&(u=i.plus({[c]:1})),u!==i&&(o[c]=(o[c]||0)+f/(u-i)));const p=Duration.fromObject(o,a);return d.length>0?Duration.fromMillis(f,a).shiftTo(...d).plus(p):p}const numberingSystems={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},numberingSystemsUTF16={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},hanidecChars=numberingSystems.hanidec.replace(/[\[|\]]/g,"").split("");function parseDigits(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let r=0;r<e.length;r++){const a=e.charCodeAt(r);if(e[r].search(numberingSystems.hanidec)!==-1)t+=hanidecChars.indexOf(e[r]);else for(const i in numberingSystemsUTF16){const[o,u]=numberingSystemsUTF16[i];a>=o&&a<=u&&(t+=a-o)}}return parseInt(t,10)}else return t}function digitRegex({numberingSystem:e},t=""){return new RegExp(`${numberingSystems[e||"latn"]}${t}`)}const MISSING_FTP="missing Intl.DateTimeFormat.formatToParts support";function intUnit(e,t=r=>r){return{regex:e,deser:([r])=>t(parseDigits(r))}}const NBSP="",spaceOrNBSP=`[ ${NBSP}]`,spaceOrNBSPRegExp=new RegExp(spaceOrNBSP,"g");function fixListRegex(e){return e.replace(/\./g,"\\.?").replace(spaceOrNBSPRegExp,spaceOrNBSP)}function stripInsensitivities(e){return e.replace(/\./g,"").replace(spaceOrNBSPRegExp," ").toLowerCase()}function oneOf(e,t){return e===null?null:{regex:RegExp(e.map(fixListRegex).join("|")),deser:([r])=>e.findIndex(a=>stripInsensitivities(r)===stripInsensitivities(a))+t}}function offset$2(e,t){return{regex:e,deser:([,r,a])=>signedOffset(r,a),groups:t}}function simple(e){return{regex:e,deser:([t])=>t}}function escapeToken(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function unitForToken(e,t){const r=digitRegex(t),a=digitRegex(t,"{2}"),i=digitRegex(t,"{3}"),o=digitRegex(t,"{4}"),u=digitRegex(t,"{6}"),c=digitRegex(t,"{1,2}"),f=digitRegex(t,"{1,3}"),d=digitRegex(t,"{1,6}"),p=digitRegex(t,"{1,9}"),m=digitRegex(t,"{2,4}"),h=digitRegex(t,"{4,6}"),_=$=>({regex:RegExp(escapeToken($.val)),deser:([g])=>g,literal:!0}),y=($=>{if(e.literal)return _($);switch($.val){case"G":return oneOf(t.eras("short"),0);case"GG":return oneOf(t.eras("long"),0);case"y":return intUnit(d);case"yy":return intUnit(m,untruncateYear);case"yyyy":return intUnit(o);case"yyyyy":return intUnit(h);case"yyyyyy":return intUnit(u);case"M":return intUnit(c);case"MM":return intUnit(a);case"MMM":return oneOf(t.months("short",!0),1);case"MMMM":return oneOf(t.months("long",!0),1);case"L":return intUnit(c);case"LL":return intUnit(a);case"LLL":return oneOf(t.months("short",!1),1);case"LLLL":return oneOf(t.months("long",!1),1);case"d":return intUnit(c);case"dd":return intUnit(a);case"o":return intUnit(f);case"ooo":return intUnit(i);case"HH":return intUnit(a);case"H":return intUnit(c);case"hh":return intUnit(a);case"h":return intUnit(c);case"mm":return intUnit(a);case"m":return intUnit(c);case"q":return intUnit(c);case"qq":return intUnit(a);case"s":return intUnit(c);case"ss":return intUnit(a);case"S":return intUnit(f);case"SSS":return intUnit(i);case"u":return simple(p);case"uu":return simple(c);case"uuu":return intUnit(r);case"a":return oneOf(t.meridiems(),0);case"kkkk":return intUnit(o);case"kk":return intUnit(m,untruncateYear);case"W":return intUnit(c);case"WW":return intUnit(a);case"E":case"c":return intUnit(r);case"EEE":return oneOf(t.weekdays("short",!1),1);case"EEEE":return oneOf(t.weekdays("long",!1),1);case"ccc":return oneOf(t.weekdays("short",!0),1);case"cccc":return oneOf(t.weekdays("long",!0),1);case"Z":case"ZZ":return offset$2(new RegExp(`([+-]${c.source})(?::(${a.source}))?`),2);case"ZZZ":return offset$2(new RegExp(`([+-]${c.source})(${a.source})?`),2);case"z":return simple(/[a-z_+-/]{1,256}?/i);case" ":return simple(/[^\S\n\r]/);default:return _($)}})(e)||{invalidReason:MISSING_FTP};return y.token=e,y}const partTypeStyleToTokenVal={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function tokenForPart(e,t,r){const{type:a,value:i}=e;if(a==="literal"){const f=/^\s+$/.test(i);return{literal:!f,val:f?" ":i}}const o=t[a];let u=a;a==="hour"&&(t.hour12!=null?u=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?u="hour12":u="hour24":u=r.hour12?"hour12":"hour24");let c=partTypeStyleToTokenVal[u];if(typeof c=="object"&&(c=c[o]),c)return{literal:!1,val:c}}function buildRegex(e){return[`^${e.map(r=>r.regex).reduce((r,a)=>`${r}(${a.source})`,"")}$`,e]}function match(e,t,r){const a=e.match(t);if(a){const i={};let o=1;for(const u in r)if(hasOwnProperty(r,u)){const c=r[u],f=c.groups?c.groups+1:1;!c.literal&&c.token&&(i[c.token.val[0]]=c.deser(a.slice(o,o+f))),o+=f}return[a,i]}else return[a,{}]}function dateTimeFromMatches(e){const t=o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,a;return isUndefined(e.z)||(r=IANAZone.create(e.z)),isUndefined(e.Z)||(r||(r=new FixedOffsetZone(e.Z)),a=e.Z),isUndefined(e.q)||(e.M=(e.q-1)*3+1),isUndefined(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),isUndefined(e.u)||(e.S=parseMillis(e.u)),[Object.keys(e).reduce((o,u)=>{const c=t(u);return c&&(o[c]=e[u]),o},{}),r,a]}let dummyDateTimeCache=null;function getDummyDateTime(){return dummyDateTimeCache||(dummyDateTimeCache=DateTime.fromMillis(1555555555555)),dummyDateTimeCache}function maybeExpandMacroToken(e,t){if(e.literal)return e;const r=Formatter.macroTokenToFormatOpts(e.val),a=formatOptsToTokens(r,t);return a==null||a.includes(void 0)?e:a}function expandMacroTokens(e,t){return Array.prototype.concat(...e.map(r=>maybeExpandMacroToken(r,t)))}function explainFromTokens(e,t,r){const a=expandMacroTokens(Formatter.parseFormat(r),e),i=a.map(u=>unitForToken(u,e)),o=i.find(u=>u.invalidReason);if(o)return{input:t,tokens:a,invalidReason:o.invalidReason};{const[u,c]=buildRegex(i),f=RegExp(u,"i"),[d,p]=match(t,f,c),[m,h,_]=p?dateTimeFromMatches(p):[null,null,void 0];if(hasOwnProperty(p,"a")&&hasOwnProperty(p,"H"))throw new ConflictingSpecificationError("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:a,regex:f,rawMatches:d,matches:p,result:m,zone:h,specificOffset:_}}}function parseFromTokens(e,t,r){const{result:a,zone:i,specificOffset:o,invalidReason:u}=explainFromTokens(e,t,r);return[a,i,o,u]}function formatOptsToTokens(e,t){if(!e)return null;const a=Formatter.create(t,e).dtFormatter(getDummyDateTime()),i=a.formatToParts(),o=a.resolvedOptions();return i.map(u=>tokenForPart(u,e,o))}const INVALID="Invalid DateTime",MAX_DATE=864e13;function unsupportedZone(e){return new Invalid("unsupported zone",`the zone "${e.name}" is not supported`)}function possiblyCachedWeekData(e){return e.weekData===null&&(e.weekData=gregorianToWeek(e.c)),e.weekData}function possiblyCachedLocalWeekData(e){return e.localWeekData===null&&(e.localWeekData=gregorianToWeek(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function clone(e,t){const r={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new DateTime({...r,...t,old:r})}function fixOffset(e,t,r){let a=e-t*60*1e3;const i=r.offset(a);if(t===i)return[a,t];a-=(i-t)*60*1e3;const o=r.offset(a);return i===o?[a,i]:[e-Math.min(i,o)*60*1e3,Math.max(i,o)]}function tsToObj(e,t){e+=t*60*1e3;const r=new Date(e);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function objToTS(e,t,r){return fixOffset(objToLocalTS(e),t,r)}function adjustTime(e,t){const r=e.o,a=e.c.year+Math.trunc(t.years),i=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,o={...e.c,year:a,month:i,day:Math.min(e.c.day,daysInMonth(a,i))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},u=Duration.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),c=objToLocalTS(o);let[f,d]=fixOffset(c,r,e.zone);return u!==0&&(f+=u,d=e.zone.offset(f)),{ts:f,o:d}}function parseDataToDateTime(e,t,r,a,i,o){const{setZone:u,zone:c}=r;if(e&&Object.keys(e).length!==0||t){const f=t||c,d=DateTime.fromObject(e,{...r,zone:f,specificOffset:o});return u?d:d.setZone(c)}else return DateTime.invalid(new Invalid("unparsable",`the input "${i}" can't be parsed as ${a}`))}function toTechFormat(e,t,r=!0){return e.isValid?Formatter.create(Locale.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(e,t):null}function toISODate(e,t){const r=e.c.year>9999||e.c.year<0;let a="";return r&&e.c.year>=0&&(a+="+"),a+=padStart(e.c.year,r?6:4),t?(a+="-",a+=padStart(e.c.month),a+="-",a+=padStart(e.c.day)):(a+=padStart(e.c.month),a+=padStart(e.c.day)),a}function toISOTime(e,t,r,a,i,o){let u=padStart(e.c.hour);return t?(u+=":",u+=padStart(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!r)&&(u+=":")):u+=padStart(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!r)&&(u+=padStart(e.c.second),(e.c.millisecond!==0||!a)&&(u+=".",u+=padStart(e.c.millisecond,3))),i&&(e.isOffsetFixed&&e.offset===0&&!o?u+="Z":e.o<0?(u+="-",u+=padStart(Math.trunc(-e.o/60)),u+=":",u+=padStart(Math.trunc(-e.o%60))):(u+="+",u+=padStart(Math.trunc(e.o/60)),u+=":",u+=padStart(Math.trunc(e.o%60)))),o&&(u+="["+e.zone.ianaName+"]"),u}const defaultUnitValues={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},defaultWeekUnitValues={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},defaultOrdinalUnitValues={ordinal:1,hour:0,minute:0,second:0,millisecond:0},orderedUnits=["year","month","day","hour","minute","second","millisecond"],orderedWeekUnits=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],orderedOrdinalUnits=["year","ordinal","hour","minute","second","millisecond"];function normalizeUnit(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new InvalidUnitError(e);return t}function normalizeUnitWithLocalWeeks(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return normalizeUnit(e)}}function quickDT(e,t){const r=normalizeZone(t.zone,Settings.defaultZone),a=Locale.fromObject(t),i=Settings.now();let o,u;if(isUndefined(e.year))o=i;else{for(const d of orderedUnits)isUndefined(e[d])&&(e[d]=defaultUnitValues[d]);const c=hasInvalidGregorianData(e)||hasInvalidTimeData(e);if(c)return DateTime.invalid(c);const f=r.offset(i);[o,u]=objToTS(e,f,r)}return new DateTime({ts:o,zone:r,loc:a,o:u})}function diffRelative(e,t,r){const a=isUndefined(r.round)?!0:r.round,i=(u,c)=>(u=roundTo(u,a||r.calendary?0:2,!0),t.loc.clone(r).relFormatter(r).format(u,c)),o=u=>r.calendary?t.hasSame(e,u)?0:t.startOf(u).diff(e.startOf(u),u).get(u):t.diff(e,u).get(u);if(r.unit)return i(o(r.unit),r.unit);for(const u of r.units){const c=o(u);if(Math.abs(c)>=1)return i(c,u)}return i(e>t?-0:0,r.units[r.units.length-1])}function lastOpts(e){let t={},r;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],r=Array.from(e).slice(0,e.length-1)):r=Array.from(e),[t,r]}class DateTime{constructor(t){const r=t.zone||Settings.defaultZone;let a=t.invalid||(Number.isNaN(t.ts)?new Invalid("invalid input"):null)||(r.isValid?null:unsupportedZone(r));this.ts=isUndefined(t.ts)?Settings.now():t.ts;let i=null,o=null;if(!a)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(r))[i,o]=[t.old.c,t.old.o];else{const c=r.offset(this.ts);i=tsToObj(this.ts,c),a=Number.isNaN(i.year)?new Invalid("invalid input"):null,i=a?null:i,o=a?null:c}this._zone=r,this.loc=t.loc||Locale.create(),this.invalid=a,this.weekData=null,this.localWeekData=null,this.c=i,this.o=o,this.isLuxonDateTime=!0}static now(){return new DateTime({})}static local(){const[t,r]=lastOpts(arguments),[a,i,o,u,c,f,d]=r;return quickDT({year:a,month:i,day:o,hour:u,minute:c,second:f,millisecond:d},t)}static utc(){const[t,r]=lastOpts(arguments),[a,i,o,u,c,f,d]=r;return t.zone=FixedOffsetZone.utcInstance,quickDT({year:a,month:i,day:o,hour:u,minute:c,second:f,millisecond:d},t)}static fromJSDate(t,r={}){const a=isDate(t)?t.valueOf():NaN;if(Number.isNaN(a))return DateTime.invalid("invalid input");const i=normalizeZone(r.zone,Settings.defaultZone);return i.isValid?new DateTime({ts:a,zone:i,loc:Locale.fromObject(r)}):DateTime.invalid(unsupportedZone(i))}static fromMillis(t,r={}){if(isNumber(t))return t<-MAX_DATE||t>MAX_DATE?DateTime.invalid("Timestamp out of range"):new DateTime({ts:t,zone:normalizeZone(r.zone,Settings.defaultZone),loc:Locale.fromObject(r)});throw new InvalidArgumentError(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,r={}){if(isNumber(t))return new DateTime({ts:t*1e3,zone:normalizeZone(r.zone,Settings.defaultZone),loc:Locale.fromObject(r)});throw new InvalidArgumentError("fromSeconds requires a numerical input")}static fromObject(t,r={}){t=t||{};const a=normalizeZone(r.zone,Settings.defaultZone);if(!a.isValid)return DateTime.invalid(unsupportedZone(a));const i=Locale.fromObject(r),o=normalizeObject(t,normalizeUnitWithLocalWeeks),{minDaysInFirstWeek:u,startOfWeek:c}=usesLocalWeekValues(o,i),f=Settings.now(),d=isUndefined(r.specificOffset)?a.offset(f):r.specificOffset,p=!isUndefined(o.ordinal),m=!isUndefined(o.year),h=!isUndefined(o.month)||!isUndefined(o.day),_=m||h,v=o.weekYear||o.weekNumber;if((_||p)&&v)throw new ConflictingSpecificationError("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&p)throw new ConflictingSpecificationError("Can't mix ordinal dates with month/day");const y=v||o.weekday&&!_;let $,g,D=tsToObj(f,d);y?($=orderedWeekUnits,g=defaultWeekUnitValues,D=gregorianToWeek(D,u,c)):p?($=orderedOrdinalUnits,g=defaultOrdinalUnitValues,D=gregorianToOrdinal(D)):($=orderedUnits,g=defaultUnitValues);let O=!1;for(const F of $){const E=o[F];isUndefined(E)?O?o[F]=g[F]:o[F]=D[F]:O=!0}const b=y?hasInvalidWeekData(o,u,c):p?hasInvalidOrdinalData(o):hasInvalidGregorianData(o),T=b||hasInvalidTimeData(o);if(T)return DateTime.invalid(T);const w=y?weekToGregorian(o,u,c):p?ordinalToGregorian(o):o,[k,C]=objToTS(w,d,a),S=new DateTime({ts:k,zone:a,o:C,loc:i});return o.weekday&&_&&t.weekday!==S.weekday?DateTime.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${S.toISO()}`):S}static fromISO(t,r={}){const[a,i]=parseISODate(t);return parseDataToDateTime(a,i,r,"ISO 8601",t)}static fromRFC2822(t,r={}){const[a,i]=parseRFC2822Date(t);return parseDataToDateTime(a,i,r,"RFC 2822",t)}static fromHTTP(t,r={}){const[a,i]=parseHTTPDate(t);return parseDataToDateTime(a,i,r,"HTTP",r)}static fromFormat(t,r,a={}){if(isUndefined(t)||isUndefined(r))throw new InvalidArgumentError("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:o=null}=a,u=Locale.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0}),[c,f,d,p]=parseFromTokens(u,t,r);return p?DateTime.invalid(p):parseDataToDateTime(c,f,a,`format ${r}`,t,d)}static fromString(t,r,a={}){return DateTime.fromFormat(t,r,a)}static fromSQL(t,r={}){const[a,i]=parseSQL(t);return parseDataToDateTime(a,i,r,"SQL",t)}static invalid(t,r=null){if(!t)throw new InvalidArgumentError("need to specify a reason the DateTime is invalid");const a=t instanceof Invalid?t:new Invalid(t,r);if(Settings.throwOnInvalid)throw new InvalidDateTimeError(a);return new DateTime({invalid:a})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,r={}){const a=formatOptsToTokens(t,Locale.fromObject(r));return a?a.map(i=>i?i.val:null).join(""):null}static expandFormat(t,r={}){return expandMacroTokens(Formatter.parseFormat(t),Locale.fromObject(r)).map(i=>i.val).join("")}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?possiblyCachedWeekData(this).weekYear:NaN}get weekNumber(){return this.isValid?possiblyCachedWeekData(this).weekNumber:NaN}get weekday(){return this.isValid?possiblyCachedWeekData(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?possiblyCachedLocalWeekData(this).weekday:NaN}get localWeekNumber(){return this.isValid?possiblyCachedLocalWeekData(this).weekNumber:NaN}get localWeekYear(){return this.isValid?possiblyCachedLocalWeekData(this).weekYear:NaN}get ordinal(){return this.isValid?gregorianToOrdinal(this.c).ordinal:NaN}get monthShort(){return this.isValid?Info.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Info.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Info.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Info.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,r=6e4,a=objToLocalTS(this.c),i=this.zone.offset(a-t),o=this.zone.offset(a+t),u=this.zone.offset(a-i*r),c=this.zone.offset(a-o*r);if(u===c)return[this];const f=a-u*r,d=a-c*r,p=tsToObj(f,u),m=tsToObj(d,c);return p.hour===m.hour&&p.minute===m.minute&&p.second===m.second&&p.millisecond===m.millisecond?[clone(this,{ts:f}),clone(this,{ts:d})]:[this]}get isInLeapYear(){return isLeapYear(this.year)}get daysInMonth(){return daysInMonth(this.year,this.month)}get daysInYear(){return this.isValid?daysInYear(this.year):NaN}get weeksInWeekYear(){return this.isValid?weeksInWeekYear(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?weeksInWeekYear(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:r,numberingSystem:a,calendar:i}=Formatter.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:r,numberingSystem:a,outputCalendar:i}}toUTC(t=0,r={}){return this.setZone(FixedOffsetZone.instance(t),r)}toLocal(){return this.setZone(Settings.defaultZone)}setZone(t,{keepLocalTime:r=!1,keepCalendarTime:a=!1}={}){if(t=normalizeZone(t,Settings.defaultZone),t.equals(this.zone))return this;if(t.isValid){let i=this.ts;if(r||a){const o=t.offset(this.ts),u=this.toObject();[i]=objToTS(u,o,t)}return clone(this,{ts:i,zone:t})}else return DateTime.invalid(unsupportedZone(t))}reconfigure({locale:t,numberingSystem:r,outputCalendar:a}={}){const i=this.loc.clone({locale:t,numberingSystem:r,outputCalendar:a});return clone(this,{loc:i})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const r=normalizeObject(t,normalizeUnitWithLocalWeeks),{minDaysInFirstWeek:a,startOfWeek:i}=usesLocalWeekValues(r,this.loc),o=!isUndefined(r.weekYear)||!isUndefined(r.weekNumber)||!isUndefined(r.weekday),u=!isUndefined(r.ordinal),c=!isUndefined(r.year),f=!isUndefined(r.month)||!isUndefined(r.day),d=c||f,p=r.weekYear||r.weekNumber;if((d||u)&&p)throw new ConflictingSpecificationError("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&u)throw new ConflictingSpecificationError("Can't mix ordinal dates with month/day");let m;o?m=weekToGregorian({...gregorianToWeek(this.c,a,i),...r},a,i):isUndefined(r.ordinal)?(m={...this.toObject(),...r},isUndefined(r.day)&&(m.day=Math.min(daysInMonth(m.year,m.month),m.day))):m=ordinalToGregorian({...gregorianToOrdinal(this.c),...r});const[h,_]=objToTS(m,this.o,this.zone);return clone(this,{ts:h,o:_})}plus(t){if(!this.isValid)return this;const r=Duration.fromDurationLike(t);return clone(this,adjustTime(this,r))}minus(t){if(!this.isValid)return this;const r=Duration.fromDurationLike(t).negate();return clone(this,adjustTime(this,r))}startOf(t,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const a={},i=Duration.normalizeUnit(t);switch(i){case"years":a.month=1;case"quarters":case"months":a.day=1;case"weeks":case"days":a.hour=0;case"hours":a.minute=0;case"minutes":a.second=0;case"seconds":a.millisecond=0;break}if(i==="weeks")if(r){const o=this.loc.getStartOfWeek(),{weekday:u}=this;u<o&&(a.weekNumber=this.weekNumber-1),a.weekday=o}else a.weekday=1;if(i==="quarters"){const o=Math.ceil(this.month/3);a.month=(o-1)*3+1}return this.set(a)}endOf(t,r){return this.isValid?this.plus({[t]:1}).startOf(t,r).minus(1):this}toFormat(t,r={}){return this.isValid?Formatter.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,t):INVALID}toLocaleString(t=DATE_SHORT,r={}){return this.isValid?Formatter.create(this.loc.clone(r),t).formatDateTime(this):INVALID}toLocaleParts(t={}){return this.isValid?Formatter.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:r=!1,suppressMilliseconds:a=!1,includeOffset:i=!0,extendedZone:o=!1}={}){if(!this.isValid)return null;const u=t==="extended";let c=toISODate(this,u);return c+="T",c+=toISOTime(this,u,r,a,i,o),c}toISODate({format:t="extended"}={}){return this.isValid?toISODate(this,t==="extended"):null}toISOWeekDate(){return toTechFormat(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:r=!1,includeOffset:a=!0,includePrefix:i=!1,extendedZone:o=!1,format:u="extended"}={}){return this.isValid?(i?"T":"")+toISOTime(this,u==="extended",r,t,a,o):null}toRFC2822(){return toTechFormat(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return toTechFormat(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?toISODate(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:r=!1,includeOffsetSpace:a=!0}={}){let i="HH:mm:ss.SSS";return(r||t)&&(a&&(i+=" "),r?i+="z":t&&(i+="ZZ")),toTechFormat(this,i,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():INVALID}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const r={...this.c};return t.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,r="milliseconds",a={}){if(!this.isValid||!t.isValid)return Duration.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...a},o=maybeArray(r).map(Duration.normalizeUnit),u=t.valueOf()>this.valueOf(),c=u?this:t,f=u?t:this,d=diff(c,f,o,i);return u?d.negate():d}diffNow(t="milliseconds",r={}){return this.diff(DateTime.now(),t,r)}until(t){return this.isValid?Interval.fromDateTimes(this,t):this}hasSame(t,r,a){if(!this.isValid)return!1;const i=t.valueOf(),o=this.setZone(t.zone,{keepLocalTime:!0});return o.startOf(r,a)<=i&&i<=o.endOf(r,a)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const r=t.base||DateTime.fromObject({},{zone:this.zone}),a=t.padding?this<r?-t.padding:t.padding:0;let i=["years","months","days","hours","minutes","seconds"],o=t.unit;return Array.isArray(t.unit)&&(i=t.unit,o=void 0),diffRelative(r,this.plus(a),{...t,numeric:"always",units:i,unit:o})}toRelativeCalendar(t={}){return this.isValid?diffRelative(t.base||DateTime.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(DateTime.isDateTime))throw new InvalidArgumentError("min requires all arguments be DateTimes");return bestBy(t,r=>r.valueOf(),Math.min)}static max(...t){if(!t.every(DateTime.isDateTime))throw new InvalidArgumentError("max requires all arguments be DateTimes");return bestBy(t,r=>r.valueOf(),Math.max)}static fromFormatExplain(t,r,a={}){const{locale:i=null,numberingSystem:o=null}=a,u=Locale.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0});return explainFromTokens(u,t,r)}static fromStringExplain(t,r,a={}){return DateTime.fromFormatExplain(t,r,a)}static get DATE_SHORT(){return DATE_SHORT}static get DATE_MED(){return DATE_MED}static get DATE_MED_WITH_WEEKDAY(){return DATE_MED_WITH_WEEKDAY}static get DATE_FULL(){return DATE_FULL}static get DATE_HUGE(){return DATE_HUGE}static get TIME_SIMPLE(){return TIME_SIMPLE}static get TIME_WITH_SECONDS(){return TIME_WITH_SECONDS}static get TIME_WITH_SHORT_OFFSET(){return TIME_WITH_SHORT_OFFSET}static get TIME_WITH_LONG_OFFSET(){return TIME_WITH_LONG_OFFSET}static get TIME_24_SIMPLE(){return TIME_24_SIMPLE}static get TIME_24_WITH_SECONDS(){return TIME_24_WITH_SECONDS}static get TIME_24_WITH_SHORT_OFFSET(){return TIME_24_WITH_SHORT_OFFSET}static get TIME_24_WITH_LONG_OFFSET(){return TIME_24_WITH_LONG_OFFSET}static get DATETIME_SHORT(){return DATETIME_SHORT}static get DATETIME_SHORT_WITH_SECONDS(){return DATETIME_SHORT_WITH_SECONDS}static get DATETIME_MED(){return DATETIME_MED}static get DATETIME_MED_WITH_SECONDS(){return DATETIME_MED_WITH_SECONDS}static get DATETIME_MED_WITH_WEEKDAY(){return DATETIME_MED_WITH_WEEKDAY}static get DATETIME_FULL(){return DATETIME_FULL}static get DATETIME_FULL_WITH_SECONDS(){return DATETIME_FULL_WITH_SECONDS}static get DATETIME_HUGE(){return DATETIME_HUGE}static get DATETIME_HUGE_WITH_SECONDS(){return DATETIME_HUGE_WITH_SECONDS}}function friendlyDateTime(e){if(DateTime.isDateTime(e))return e;if(e&&e.valueOf&&isNumber(e.valueOf()))return DateTime.fromJSDate(e);if(e&&typeof e=="object")return DateTime.fromObject(e);throw new InvalidArgumentError(`Unknown datetime argument: ${e}, of type ${typeof e}`)}class Token{constructor(t,r){this._value=t,this._type=r,this._format=""}get value(){return this._value}set value(t){this._value=t}get type(){return this._type}set type(t){this._type=t}get format(){return this._format}set format(t){this._format=t}}class Parser{constructor(t,r){this.name=t,this.pattern=r}parse(t){const r=this.pattern.exec(t);if(!r||!r.groups)return;let a=[];for(const[i,o]of Object.entries(r.groups))o&&a.push(new Token(o,/delim\d+/.test(i)?"delimiter":i));return{tokens:a,index:r.index,parser:this.name}}}const abbreviatedTimezones="UT|CAT|CET|CVT|EAT|EET|GMT|MUT|RET|SAST|SCT|WAST|WAT|WEST|WET|WST|WT|ADT|AFT|ALMT|AMST|AMT|ANAST|ANAT|AQTT|AST|AZST|AZT|BNT|BST|BTT|CHOST|CHOT|CST|EEST|EET|GET|GST|HKT|HOVST|HOVT|ICT|IDT|IRDT|IRKST|IRKT|IST|JST|KGT|KRAST|KRAT|KST|MAGST|MAGT|MMT|MSK|MVT|NOVST|NOVT|NPT|OMSST|OMST|ORAT|PETST|PETT|PHT|PKT|PYT|QYZT|SAKT|SGT|SRET|TJT|TLT|TMT|TRT|ULAST|ULAT|UZT|VLAST|VLAT|WIB|WIT|YAKST|YAKT|YEKST|YEKT|ART|CAST|CEST|CLST|CLT|DAVT|DDUT|GMT|MAWT|NZDT|NZST|ROTT|SYOT|VOST|ADT|AST|AT|AZOST|AZOT|ACDT|ACST|ACT|ACWST|AEDT|AEST|AET|AWDT|AWST|CXT|LHDT|LHST|NFDT|NFT|AST|AT|CDT|CIDST|CIST|CST|EDT|EST|ET|CST|CT|EST|ET|BST|CEST|CET|EEST|EET|FET|GET|GMT|IST|KUYT|MSD|MSK|SAMT|TRT|WEST|WET|CCT|EAT|IOT|TFT|ADT|AKDT|AKST|AST|AT|CDT|CST|CT|EDT|EGST|EGT|ET|GMT|HDT|HST|MDT|MST|MT|NDT|NST|PDT|PMDT|PMST|PST|PT|WGST|WGT|AoE|BST|CHADT|CHAST|CHUT|CKT|ChST|EASST|EAST|FJST|FJT|GALT|GAMT|GILT|HST|KOST|LINT|MART|MHT|NCT|NRT|NUT|NZDT|NZST|PGT|PHOT|PONT|PST|PWT|SBT|SST|TAHT|TKT|TOST|TOT|TVT|VUT|WAKT|WFT|WST|YAPT|ACT|AMST|AMT|ART|BOT|BRST|BRT|CLST|CLT|COT|ECT|FKST|FKT|FNT|GFT|GST|GYT|PET|PYST|PYT|SRT|UYST|UYT|VET|WARST",dayOfMonthAndMonthNameDateFormatParser=new Parser("DayOfMonthAndMonthNameDateFormatParser",new RegExp(`^(?<dayOfWeek>(?:Sun?|Mon?|Tu(?:es)?|We(?:dnes)?|Th(?:urs)?|Fri?|Sa(?:tur)?)(?:day)?)?(?<delim1>,)?(?<delim2>\\s)?(?<dayOfMonth>(?:3[0-1]|[1-2]\\d|0?[1-9])(?:st|nd|rd|th)?)(?<delim3>\\s)(?<month>Jan(?:uary)?|Feb(?:ruary)?|Mar(?:ch)?|Apr(?:il)?|May|June?|July?|Aug(?:ust)?|Sep(?:tember)?|Oct(?:ober)?|Nov(?:ember)?|Dec(?:ember)?)(?<delim4>,)?(?<delim5>\\s)?(?<year>\\d{4}|\\d{2})?(?:(?<delim6>,)?(?<delim7>\\s)(?:(?<twentyFourHour>2[0-3]|0?\\d|1\\d)|(?<twelveHour>0?[1-9]|1[0-2]))(?:(?<delim8>[:.])(?<minute>[0-5]\\d))?(?:(?<delim9>[:.])(?<second>[0-5]\\d))?(?:(?<delim10>.)(?<millisecond>\\d{3}))?(?<delim11>\\s)?(?<meridiem>am|pm|AM|PM)?(?:(?<delim12>\\s)(?<timezone>[+-]\\d{2}(?::?\\d{2})?|Z|${abbreviatedTimezones}))?)?$`)),iSO8601BasicDateTimeFormatParser=new Parser("ISO8601BasicDateTimeFormatParser",new RegExp("^(?<year>[+-]\\d{6}|\\d{4})(?:(?<month>\\d{2})(?:(?<dayOfMonth>\\d{2}))?|(?<escapeText>W)(?<isoWeekOfYear>\\d{2})(?:(?<isoDayOfWeek>\\d))?|(?<dayOfYear>\\d{3}))?(?:(?<delim1>T| )(?:(?<twentyFourHour>\\d{2})(?:(?<minute>\\d{2})(?:(?<second>\\d{2})(?:(?<delim2>[.,])(?<millisecond>\\d{1,9}))?)?)?)(?<timezone>[+-]\\d{2}(?::?\\d{2})?|Z)?)?$")),iSO8601ExtendedDateTimeFormatParser=new Parser("ISO8601ExtendedDateTimeFormatParser",new RegExp("^(?<year>[+-]\\d{6}|\\d{4})(?<delim1>\\-)(?:(?<month>\\d{2})(?:(?<delim2>\\-)(?<dayOfMonth>\\d{2}))?|(?<escapeText>W)(?<isoWeekOfYear>\\d{2})(?:(?<delim3>\\-)(?<isoDayOfWeek>\\d))?|(?<dayOfYear>\\d{3}))(?:(?<delim4>T| )(?:(?<twentyFourHour>\\d{2})(?:(?<delim5>:)(?<minute>\\d{2})(?:(?<delim6>:)(?<second>\\d{2})(?:(?<delim7>[.,])(?<millisecond>\\d{1,9}))?)?)?)(?<timezone>[+-]\\d{2}(?::?\\d{2})?|Z)?)?$")),monthNameAndDayOfMonthDateFormatParser=new Parser("MonthNameAndDayOfMonthDateFormatParser",new RegExp(`^(?<dayOfWeek>(?:Sun?|Mon?|Tu(?:es)?|We(?:dnes)?|Th(?:urs)?|Fri?|Sa(?:tur)?)(?:day)?)?(?<delim1>,)?(?<delim2>\\s)?(?<month>Jan(?:uary)?|Feb(?:ruary)?|Mar(?:ch)?|Apr(?:il)?|May|June?|July?|Aug(?:ust)?|Sep(?:tember)?|Oct(?:ober)?|Nov(?:ember)?|Dec(?:ember)?)(?<delim3>\\s)(?<dayOfMonth>(?:3[0-1]|[1-2]\\d|0?[1-9])(?:st|nd|rd|th)?)(?<delim4>,)?(?<delim5>\\s)?(?<year>\\d{4}|\\d{2})?(?:(?:(?<delim6>,)?(?<delim7>\\s)(?:(?<twentyFourHour>2[0-3]|0?\\d|1\\d)|(?<twelveHour>0?[1-9]|1[0-2]))(?:(?<delim8>[:.])(?<minute>[0-5]\\d))?(?:(?<delim9>[:.])(?<second>[0-5]\\d))?(?:(?<delim10>.)(?<millisecond>\\d{3}))?(?<delim11>\\s)?(?<meridiem>am|pm|AM|PM)?(?:(?<delim12>\\s)(?<timezone>[+-]\\d{2}(?::?\\d{2})?|Z|${abbreviatedTimezones}))?)?)?$`)),rFC2822DateTimeFormatParser=new Parser("RFC2822DateTimeFormatParser",new RegExp("^(?:(?<dayOfWeek>Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?<delim1>,)?(?<delim2>\\s))?(?<dayOfMonth>\\d{1,2})(?<delim3>\\s)(?<month>Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)(?<delim4>\\s)(?<year>\\d{2,4})(?<delim5>\\s)(?<twentyFourHour>\\d{2})(?<delim6>:)(?<minute>\\d{2})(?:(?<delim7>:)(?<second>\\d{2}))?(?<delim8>\\s)(?<timezone>(?:(?:UT|GMT|[ECMP][SD]T)|[Zz]|[+-]\\d{4}))$")),slashDelimitedDateTimeFormatParser=new Parser("SlashDelimitedDateFormatParser",new RegExp(`^(?<year>\\d{4}|\\d{2})(?<delim1>[/.-])(?<month>0?[1-9]|1[0-2])(?:(?<delim2>[/.-])(?<dayOfMonth>0?[1-9]|[1-2]\\d|3[0-1]))?(?:(?:(?<delim3>,)?(?<delim4>\\s)(?:(?<twentyFourHour>2[0-3]|0?\\d|1\\d)|(?<twelveHour>0?[1-9]|1[0-2]))(?:(?<delim5>[:.])(?<minute>[0-5]\\d))?(?:(?<delim6>[:.])(?<second>[0-5]\\d))?(?:(?<delim7>.)(?<millisecond>\\d{3}))?(?<delim8>\\s)?(?<meridiem>am|pm|AM|PM)?(?:(?<delim9>\\s)(?<timezone>[+-]\\d{2}(?::?\\d{2})?|Z|${abbreviatedTimezones}))?)?)?$`)),twelveHourTimeFormatParser=new Parser("TwelveHourTimeFormatParser",new RegExp(`^(?<twelveHour>0?[1-9]|1[0-2])(?:(?<delim1>[:.])(?<minute>[0-5]\\d))?(?:(?<delim2>[:.])(?<second>[0-5]\\d))?(?:(?<delim3>.)(?<millisecond>\\d{3}))?(?<delim4>\\s)?(?<meridiem>am|pm|AM|PM)(?:(?<delim5>\\s)(?<timezone>[+-]\\d{2}(?::?\\d{2})?|Z|${abbreviatedTimezones}))?$`)),twentyFourHourTimeFormatParser=new Parser("TwentyFourHourTimeFormatParser",new RegExp(`^(?<twentyFourHour>2[0-3]|0?\\d|1\\d)(?<delim1>[:.])(?<minute>[0-5]\\d)(?:(?<delim2>[:.])(?<second>[0-5]\\d))?(?:(?<delim3>.)(?<millisecond>\\d{3}))?(?:(?<delim4>\\s)(?<timezone>[+-]\\d{2}(?::?\\d{2})?|Z|${abbreviatedTimezones}))?$`)),uKStyleSlashDelimitedDateTimeFormatParser=new Parser("UKStyleSlashDelimitedDateFormatParser",new RegExp(`^(?<dayOfMonth>0?[1-9]|[1-2]\\d|3[0-1])(?<delim1>[/.-])(?<month>0?[1-9]|1[0-2])(?:(?<delim2>[/.-])(?<year>\\d{4}|\\d{2}))?(?:(?:(?<delim3>,)?(?<delim4>\\s)(?:(?<twentyFourHour>2[0-3]|0?\\d|1\\d)|(?<twelveHour>0?[1-9]|1[0-2]))(?:(?<delim5>[:.])(?<minute>[0-5]\\d))?(?:(?<delim6>[:.])(?<second>[0-5]\\d))?(?:(?<delim7>.)(?<millisecond>\\d{3}))?(?<delim8>\\s)?(?<meridiem>am|pm|AM|PM)?(?:(?<delim9>\\s)(?<timezone>[+-]\\d{2}(?::?\\d{2})?|Z|${abbreviatedTimezones}))?)?)?$`)),uSStyleSlashDelimitedDateTimeFormatParser=new Parser("USStyleSlashDelimitedDateFormatParser",new RegExp(`^(?<month>0?[1-9]|1[0-2])(?<delim1>[/.-])(?<dayOfMonth>0?[1-9]|[1-2]\\d|3[0-1])(?:(?<delim2>[/.-])(?<year>\\d{4}|\\d{2}))?(?:(?:(?<delim3>,)?(?<delim4>\\s)(?:(?<twentyFourHour>2[0-3]|0?\\d|1\\d)|(?<twelveHour>0?[1-9]|1[0-2]))(?:(?<delim5>[:.])(?<minute>[0-5]\\d))?(?:(?<delim6>[:.])(?<second>[0-5]\\d))?(?:(?<delim7>.)(?<millisecond>\\d{3}))?(?<delim8>\\s)?(?<meridiem>am|pm|AM|PM)?(?:(?<delim9>\\s)(?<timezone>[+-]\\d{2}(?::?\\d{2})?|Z|${abbreviatedTimezones}))?)?)?$`)),dashDelimitedWithMonthNameDateTimeFormatParser=new Parser("DashDelimitedWithMonthNameDateTimeFormatParser",new RegExp(`^(?<dayOfMonth>0?[1-9]|[1-2]\\d|3[0-1])(?<delim1>-)(?<month>Jan(?:uary)?|Feb(?:ruary)?|Mar(?:ch)?|Apr(?:il)?|May|June?|July?|Aug(?:ust)?|Sep(?:tember)?|Oct(?:ober)?|Nov(?:ember)?|Dec(?:ember)?)(?<delim2>-)?(?<year>\\d{4}|\\d{2})?(?:(?:(?<delim3>,)?(?<delim4>\\s)(?:(?<twentyFourHour>2[0-3]|0?\\d|1\\d)|(?<twelveHour>0?[1-9]|1[0-2]))(?:(?<delim5>[:.])(?<minute>[0-5]\\d))?(?:(?<delim6>[:.])(?<second>[0-5]\\d))?(?:(?<delim7>.)(?<millisecond>\\d{3}))?(?<delim8>\\s)?(?<meridiem>am|pm|AM|PM)?(?:(?<delim9>\\s)(?<timezone>[+-]\\d{2}(?::?\\d{2})?|Z|${abbreviatedTimezones}))?)?)?$`)),parsers=[iSO8601ExtendedDateTimeFormatParser,iSO8601BasicDateTimeFormatParser,rFC2822DateTimeFormatParser,slashDelimitedDateTimeFormatParser,uKStyleSlashDelimitedDateTimeFormatParser,uSStyleSlashDelimitedDateTimeFormatParser,monthNameAndDayOfMonthDateFormatParser,dayOfMonthAndMonthNameDateFormatParser,twentyFourHourTimeFormatParser,twelveHourTimeFormatParser,dashDelimitedWithMonthNameDateTimeFormatParser];class StandardFormatParsersRefiner{constructor(t){this.name=t}refine(t){const r=t.filter(a=>a.parser==="ISO8601ExtendedDateTimeFormatParser"||a.parser==="ISO8601BasicDateTimeFormatParser"||a.parser==="RFC2822DateTimeFormatParser");return r.length===0?t:r}}class TimeFormatRefiner{constructor(t){this.name=t}refine(t){return t.forEach(r=>{let a=!1;r.tokens.forEach(i=>{i.type==="meridiem"&&(a=!0)}),a&&r.tokens.forEach(i=>{i.type==="twentyFourHour"&&(i.type="twelveHour")})}),t}}const timeFormatRefiner=new TimeFormatRefiner("TimeFormatRefiner"),standardFormatParsersRefiner=new StandardFormatParsersRefiner("StandardFormatParsersRefiner"),refiners=[standardFormatParsersRefiner,timeFormatRefiner];class YearFormatTokenAssigner{constructor(t,r,a){this.name=t,this.type=r,this.format=a,this._map=new Map,!a||a==="default"?(this._map.set(/\d{2}/,"YY"),this._map.set(/\d{4}/,"YYYY"),this._map.set(/[+-]\d{6}/,"YYYYYY")):(this._map.set(/\d{2}/,"%y"),this._map.set(/\d{4}/,"%Y"),this._map.set(/[+-]\d{6}/,"NA"))}_testTokenType(t){return t.type===this.type}assign(t){this._map.forEach((r,a)=>{this._testTokenType(t)&&a.test(t.value)&&(t.format=r)})}}class MonthFormatTokenAssigner{constructor(t,r,a){this.name=t,this.type=r,this.format=a,this._map=new Map,!a||a==="default"?(this._map.set(/\d{1,2}/,"M"),this._map.set(/\d{2}/,"MM"),this._map.set(/\d{1,2}(?:st|nd|rd|th)/,"Mo"),this._map.set(/^(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)$/,"MMM"),this._map.set(/^(January|February|March|April|May|June|July|August|September|October|November|December)$/,"MMMM")):(this._map.set(/\d{1,2}/,"NA"),this._map.set(/\d{2}/,"%m"),this._map.set(/\d{1,2}(?:st|nd|rd|th)/,"NA"),this._map.set(/^(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)$/,"%b"),this._map.set(/^(January|February|March|April|May|June|July|August|September|October|November|December)$/,"%B"))}_testTokenType(t){return t.type===this.type}assign(t){this._map.forEach((r,a)=>{this._testTokenType(t)&&a.test(t.value)&&(t.format=r)})}}class DayOfMonthFormatTokenAssigner{constructor(t,r,a){this.name=t,this.type=r,this.format=a,this._map=new Map,!a||a==="default"?(this._map.set(/\d{1,2}/,"D"),this._map.set(/\d{2}/,"DD"),this._map.set(/\d{1,2}(?:st|nd|rd|th)/,"Do")):(this._map.set(/\d{1,2}/,"%-e"),this._map.set(/\d{2}/,"%d"),this._map.set(/\d{1,2}(?:st|nd|rd|th)/,"%o"))}_testTokenType(t){return t.type===this.type}assign(t){this._map.forEach((r,a)=>{this._testTokenType(t)&&a.test(t.value)&&(t.format=r)})}}class DelimiterFormatTokenAssigner{constructor(t,r,a){this.name=t,this.format=a,this.type=r}assign(t){}}class MinuteFormatTokenAssigner{constructor(t,r,a){this.name=t,this.type=r,this.format=a,this._map=new Map,!a||a==="default"?(this._map.set(/\d{1,2}/,"m"),this._map.set(/\d{2}/,"mm")):(this._map.set(/\d{1,2}/,"NA"),this._map.set(/\d{2}/,"%M"))}_testTokenType(t){return t.type===this.type}assign(t){this._map.forEach((r,a)=>{this._testTokenType(t)&&a.test(t.value)&&(t.format=r)})}}class SecondFormatTokenAssigner{constructor(t,r,a){this.name=t,this.type=r,this.format=a,this._map=new Map,!a||a==="default"?(this._map.set(/\d{2}/,"ss"),this._map.set(/\d{1,2}/,"s")):(this._map.set(/\d{1,2}/,"NA"),this._map.set(/\d{2}/,"%S"))}_testTokenType(t){return t.type===this.type}assign(t){this._map.forEach((r,a)=>{this._testTokenType(t)&&a.test(t.value)&&(t.format=r)})}}class MillisecondFormatTokenAssigner{constructor(t,r,a){this.name=t,this.type=r,this.format=a,this._map=new Map,!a||a==="default"?(this._map.set(/\d/,"S"),this._map.set(/\d{2}/,"SS"),this._map.set(/\d{3}/,"SSS")):(this._map.set(/\d/,"NA"),this._map.set(/\d{2}/,"NA"),this._map.set(/\d{3}/,"%L"))}_testTokenType(t){return t.type===this.type}assign(t){this._map.forEach((r,a)=>{this._testTokenType(t)&&a.test(t.value)&&(t.format=r)})}}class TimezoneFormatTokenAssigner{constructor(t,r,a){this.name=t,this.type=r,this.format=a,this._map=new Map;const i=new RegExp("UT|CAT|CET|CVT|EAT|EET|GMT|MUT|RET|SAST|SCT|WAST|WAT|WEST|WET|WST|WT|ADT|AFT|ALMT|AMST|AMT|ANAST|ANAT|AQTT|AST|AZST|AZT|BNT|BST|BTT|CHOST|CHOT|CST|EEST|EET|GET|GST|HKT|HOVST|HOVT|ICT|IDT|IRDT|IRKST|IRKT|IST|JST|KGT|KRAST|KRAT|KST|MAGST|MAGT|MMT|MSK|MVT|NOVST|NOVT|NPT|OMSST|OMST|ORAT|PETST|PETT|PHT|PKT|PYT|QYZT|SAKT|SGT|SRET|TJT|TLT|TMT|TRT|ULAST|ULAT|UZT|VLAST|VLAT|WIB|WIT|YAKST|YAKT|YEKST|YEKT|ART|CAST|CEST|CLST|CLT|DAVT|DDUT|GMT|MAWT|NZDT|NZST|ROTT|SYOT|VOST|ADT|AST|AT|AZOST|AZOT|ACDT|ACST|ACT|ACWST|AEDT|AEST|AET|AWDT|AWST|CXT|LHDT|LHST|NFDT|NFT|AST|AT|CDT|CIDST|CIST|CST|EDT|EST|ET|CST|CT|EST|ET|BST|CEST|CET|EEST|EET|FET|GET|GMT|IST|KUYT|MSD|MSK|SAMT|TRT|WEST|WET|CCT|EAT|IOT|TFT|ADT|AKDT|AKST|AST|AT|CDT|CST|CT|EDT|EGST|EGT|ET|GMT|HDT|HST|MDT|MST|MT|NDT|NST|PDT|PMDT|PMST|PST|PT|WGST|WGT|AoE|BST|CHADT|CHAST|CHUT|CKT|ChST|EASST|EAST|FJST|FJT|GALT|GAMT|GILT|HST|KOST|LINT|MART|MHT|NCT|NRT|NUT|NZDT|NZST|PGT|PHOT|PONT|PST|PWT|SBT|SST|TAHT|TKT|TOST|TOT|TVT|VUT|WAKT|WFT|WST|YAPT|ACT|AMST|AMT|ART|BOT|BRST|BRT|CLST|CLT|COT|ECT|FKST|FKT|FNT|GFT|GST|GYT|PET|PYST|PYT|SRT|UYST|UYT|VET|WARST");!a||a==="default"?(this._map.set(/[+-]\d{2}(?::\d{2})?/,"Z"),this._map.set(/[+-]\d{4}/,"ZZ"),this._map.set(/Z/,"[Z]"),this._map.set(/z/,"[z]"),this._map.set(i,"z")):(this._map.set(/[+-]\d{2}(?::\d{2})?/,"%:z"),this._map.set(/[+-]\d{4}/,"%z"),this._map.set(/Z/,"Z"),this._map.set(/z/,"z"),this._map.set(i,"%Z"))}_testTokenType(t){return t.type===this.type}assign(t){this._map.forEach((r,a)=>{this._testTokenType(t)&&a.test(t.value)&&(t.format=r)})}}class DayOfYearFormatTokenAssigner{constructor(t,r,a){this.name=t,this.type=r,this.format=a,this._map=new Map,!a||a==="default"?(this._map.set(/\d{1,3}/,"DDD"),this._map.set(/\d{3}/,"DDDD"),this._map.set(/\d{1,3}(?:st|nd|rd|th)/,"DDDo")):(this._map.set(/\d{1,3}/,"NA"),this._map.set(/\d{3}/,"%j"),this._map.set(/\d{1,3}(?:st|nd|rd|th)/,"NA"))}_testTokenType(t){return t.type===this.type}assign(t){this._map.forEach((r,a)=>{this._testTokenType(t)&&a.test(t.value)&&(t.format=r)})}}class EscapeTextFormatTokenAssigner{constructor(t,r,a){this.name=t,this.type=r,this.format=a}_testTokenType(t){return t.type===this.type}assign(t){this._testTokenType(t)&&(t.format=!this.format||this.format==="default"?`[${t.value}]`:t.value)}}class ISODayOfWeekFormatTokenAssigner{constructor(t,r,a){this.name=t,this.type=r,this.format=a,this._map=new Map,!a||a==="default"?this._map.set(/[1-7]/,"E"):this._map.set(/[1-7]/,"%u")}_testTokenType(t){return t.type===this.type}assign(t){this._map.forEach((r,a)=>{this._testTokenType(t)&&a.test(t.value)&&(t.format=r)})}}class ISOWeekOfYearFormatTokenAssigner{constructor(t,r,a){this.name=t,this.type=r,this.format=a,this._map=new Map,!a||a==="default"?(this._map.set(/\d{1,2}/,"W"),this._map.set(/\d{2}/,"WW"),this._map.set(/\d{1,2}(?:st|nd|rd|th)/,"Wo")):(this._map.set(/\d{1,2}/,"NA"),this._map.set(/\d{2}/,"%U"),this._map.set(/\d{1,2}(?:st|nd|rd|th)/,"NA"))}_testTokenType(t){return t.type===this.type}assign(t){this._map.forEach((r,a)=>{this._testTokenType(t)&&a.test(t.value)&&(t.format=r)})}}class TwentyFourHourFormatTokenAssigner{constructor(t,r,a){this.name=t,this.type=r,this.format=a,this._map=new Map,!a||a==="default"?(this._map.set(/^([0-1]\d|2[0-3])$/,"HH"),this._map.set(/^(\d|1\d|2[0-3])$/,"H")):(this._map.set(/^(\d|1\d|2[0-3])$/,"%-k"),this._map.set(/^([0-1]\d|2[0-3])$/,"%H"))}_testTokenType(t){return t.type===this.type}assign(t){this._map.forEach((r,a)=>{this._testTokenType(t)&&a.test(t.value)&&(t.format=r)})}}class TwelveHourFormatTokenAssigner{constructor(t,r,a){this.name=t,this.type=r,this.format=a,this._map=new Map,!a||a==="default"?(this._map.set(/^(0\d|1[0-2])$/,"hh"),this._map.set(/^([1-9]|1[0-9])$/,"h")):(this._map.set(/^([1-9]|1[0-2])$/,"%-l"),this._map.set(/^(0\d|1[0-2])$/,"%I"))}_testTokenType(t){return t.type===this.type}assign(t){this._map.forEach((r,a)=>{this._testTokenType(t)&&a.test(t.value)&&(t.format=r)})}}class DayOfWeekFormatTokenAssigner{constructor(t,r,a){this.name=t,this.type=r,this.format=a,this._map=new Map,!a||a==="default"?(this._map.set(/[0-6](?:st|nd|rd|th)/,"do"),this._map.set(/(?:Su|Mo|Tu|We|Th|Fr|Sa)/,"dd"),this._map.set(/(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)/,"ddd"),this._map.set(/(?:Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday)/,"dddd")):(this._map.set(/[0-6]/,"%w"),this._map.set(/[0-6](?:st|nd|rd|th)/,"NA"),this._map.set(/(?:Su|Mo|Tu|We|Th|Fr|Sa)/,"NA"),this._map.set(/(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)/,"%a"),this._map.set(/(?:Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday)/,"%A"))}_testTokenType(t){return t.type===this.type}assign(t){this._map.forEach((r,a)=>{this._testTokenType(t)&&a.test(t.value)&&(t.format=r)})}}class MeridiemFormatTokenAssigner{constructor(t,r,a){this.name=t,this.type=r,this.format=a,this._map=new Map,!a||a==="default"?(this._map.set(/am|pm/,"a"),this._map.set(/AM|PM/,"A")):(this._map.set(/am|pm/,"%P"),this._map.set(/AM|PM/,"%p"))}_testTokenType(t){return t.type===this.type}assign(t){this._map.forEach((r,a)=>{this._testTokenType(t)&&a.test(t.value)&&(t.format=r)})}}const dayOfMonthFormatTokenAssigner=new DayOfMonthFormatTokenAssigner("DelimiterFormatTokenAssigner","dayOfMonth"),dayOfWeekFormatTokenAssigner=new DayOfWeekFormatTokenAssigner("DayOfWeekFormatTokenAssigner","dayOfWeek"),dayOfYearFormatTokenAssigner=new DayOfYearFormatTokenAssigner("DayOfYearFormatTokenAssigner","dayOfYear"),delimiterFormatTokenAssigner=new DelimiterFormatTokenAssigner("DelimiterFormatTokenAssigner","delimiter"),escapeTextFormatTokenAssigner=new EscapeTextFormatTokenAssigner("EscapeTextFormatTokenAssigner","escapeText"),iSODayOfWeekFormatTokenAssigner=new ISODayOfWeekFormatTokenAssigner("ISODayOfWeekFormatTokenAssigner","isoDayOfWeek"),iSOWeekOfYearFormatTokenAssigner=new ISOWeekOfYearFormatTokenAssigner("ISOWeekOfYearFormatTokenAssigner","isoWeekOfYear"),meridiemFormatTokenAssigner=new MeridiemFormatTokenAssigner("MeridiemFormatTokenAssigner","meridiem"),millisecondFormatTokenAssigner=new MillisecondFormatTokenAssigner("MillisecondFormatTokenAssigner","millisecond"),minuteFormatTokenAssigner=new MinuteFormatTokenAssigner("MinuteFormatTokenAssigner","minute"),monthFormatTokenAssigner=new MonthFormatTokenAssigner("MonthFormatTokenAssigner","month"),secondFormatTokenAssigner=new SecondFormatTokenAssigner("SecondFormatTokenAssigner","second"),timezoneFormatTokenAssigner=new TimezoneFormatTokenAssigner("TimezoneFormatTokenAssigner","timezone"),twelveHourFormatTokenAssigner=new TwelveHourFormatTokenAssigner("TwelveHourFormatTokenAssigner","twelveHour"),twentyFourHourFormatTokenAssigner=new TwentyFourHourFormatTokenAssigner("TwentyFourHourFormatTokenAssigner","twentyFourHour"),yearFormatTokenAssigner=new YearFormatTokenAssigner("YearFormatTokenAssigner","year"),strftimeDayOfMonthFormatTokenAssigner=new DayOfMonthFormatTokenAssigner("DelimiterFormatTokenAssigner","dayOfMonth","strftime"),strftimeDayOfWeekFormatTokenAssigner=new DayOfWeekFormatTokenAssigner("DayOfWeekFormatTokenAssigner","dayOfWeek","strftime"),strftimeDayOfYearFormatTokenAssigner=new DayOfYearFormatTokenAssigner("DayOfYearFormatTokenAssigner","dayOfYear","strftime"),strftimeDelimiterFormatTokenAssigner=new DelimiterFormatTokenAssigner("DelimiterFormatTokenAssigner","delimiter","strftime"),strftimeEscapeTextFormatTokenAssigner=new EscapeTextFormatTokenAssigner("EscapeTextFormatTokenAssigner","escapeText","strftime"),strftimeISODayOfWeekFormatTokenAssigner=new ISODayOfWeekFormatTokenAssigner("ISODayOfWeekFormatTokenAssigner","isoDayOfWeek","strftime"),strftimeISOWeekOfYearFormatTokenAssigner=new ISOWeekOfYearFormatTokenAssigner("ISOWeekOfYearFormatTokenAssigner","isoWeekOfYear","strftime"),strftimeMeridiemFormatTokenAssigner=new MeridiemFormatTokenAssigner("MeridiemFormatTokenAssigner","meridiem","strftime"),strftimeMillisecondFormatTokenAssigner=new MillisecondFormatTokenAssigner("MillisecondFormatTokenAssigner","millisecond","strftime"),strftimeMinuteFormatTokenAssigner=new MinuteFormatTokenAssigner("MinuteFormatTokenAssigner","minute","strftime"),strftimeMonthFormatTokenAssigner=new MonthFormatTokenAssigner("MonthFormatTokenAssigner","month","strftime"),strftimeSecondFormatTokenAssigner=new SecondFormatTokenAssigner("SecondFormatTokenAssigner","second","strftime"),strftimeTimezoneFormatTokenAssigner=new TimezoneFormatTokenAssigner("TimezoneFormatTokenAssigner","timezone","strftime"),strftimeTwelveHourFormatTokenAssigner=new TwelveHourFormatTokenAssigner("TwelveHourFormatTokenAssigner","twelveHour","strftime"),strftimeTwentyFourHourFormatTokenAssigner=new TwentyFourHourFormatTokenAssigner("TwentyFourHourFormatTokenAssigner","twentyFourHour","strftime"),strftimeYearFormatTokenAssigner=new YearFormatTokenAssigner("YearFormatTokenAssigner","year","strftime"),defaultAssigners=[yearFormatTokenAssigner,monthFormatTokenAssigner,dayOfMonthFormatTokenAssigner,delimiterFormatTokenAssigner,minuteFormatTokenAssigner,secondFormatTokenAssigner,millisecondFormatTokenAssigner,timezoneFormatTokenAssigner,dayOfYearFormatTokenAssigner,escapeTextFormatTokenAssigner,iSODayOfWeekFormatTokenAssigner,iSOWeekOfYearFormatTokenAssigner,twentyFourHourFormatTokenAssigner,twelveHourFormatTokenAssigner,dayOfWeekFormatTokenAssigner,meridiemFormatTokenAssigner],strftimeAssigners=[strftimeDayOfMonthFormatTokenAssigner,strftimeDayOfWeekFormatTokenAssigner,strftimeDayOfYearFormatTokenAssigner,strftimeDelimiterFormatTokenAssigner,strftimeEscapeTextFormatTokenAssigner,strftimeISODayOfWeekFormatTokenAssigner,strftimeISOWeekOfYearFormatTokenAssigner,strftimeMeridiemFormatTokenAssigner,strftimeMillisecondFormatTokenAssigner,strftimeMinuteFormatTokenAssigner,strftimeMonthFormatTokenAssigner,strftimeSecondFormatTokenAssigner,strftimeTimezoneFormatTokenAssigner,strftimeTwelveHourFormatTokenAssigner,strftimeTwentyFourHourFormatTokenAssigner,strftimeYearFormatTokenAssigner];class Guesser{constructor(){}static parse(t){const r=[];return parsers.forEach(a=>{const i=a.parse(t);i&&r.push(Object.assign({},i))}),r}static refine(t){let r=[...t];return refiners.forEach(a=>{r=[...a.refine(r)]}),r}static assign(t,r){(!r||r==="default"?defaultAssigners:strftimeAssigners).forEach(i=>{t.forEach(o=>{i.assign(o)})})}static getFormatString(t){let r="";return t.forEach(a=>{if(a.format==="NA")throw Error(`Couldn't find strftime modifier for "${a.value}"`);r+=a.format?a.format:a.value}),r}}function guessFormat(e,t){const r=Guesser.parse(e),a=Guesser.refine(r);if(a.length===0)throw Error("Couldn't parse date");a.forEach(o=>Guesser.assign(o.tokens,t));let i=[];return a.forEach(o=>i.push(Guesser.getFormatString(o.tokens))),i.length===1?i[0]:i}function createSequenceArray(e,t,r=1){const a=[];for(let i=e;i<=t;i+=r)a.push(i);return a}function mean(e){return e.reduce((t,r)=>t+r,0)/e.length}function max$1(e){let t=Number.NEGATIVE_INFINITY;for(let r=0;r<e.length;r++){let a=safeParse(e[r]);a>t&&(t=a)}return t>Number.NEGATIVE_INFINITY?t:NaN}function min$1(e){let t=Number.POSITIVE_INFINITY;for(let r=0;r<e.length;r++){let a=safeParse(e[r]);a<t&&(t=a)}return t<Number.POSITIVE_INFINITY?t:NaN}function safeParse(e,t=NaN){const r=parseFloat(e);return r===void 0||Number.isNaN(r)?t:r}const decimalPlaces=4;function formatDate(e){return e=DateTime.fromISO(e),e.toLocaleString(DateTime.DATETIME_MED)}function convertFormat(e){const t={from:["A","D","DD","M","MM","YY","YYYY"],to:["a","d","dd","L","LL","yy","yyyy"]};let r=e;return t.from.forEach((a,i)=>{const o=t.to[i],u=new RegExp(`\\b${a}\\b`,"g");r=r.replace(u,o)}),r}function guessDateFormat(e){const t=guessFormat(e);return typeof t=="string"?[t]:t}function guessDateofArray(e){try{let t=guessDateFormat(e[0]);if(t.length===0)return t;let r=new Array(t.length),a=e;e.length>1e5&&(a=createSequenceArray(0,e.length-1,parseInt((e.length-1)/5e3)).map(u=>e[u]));for(let o=0;o<t.length;o++)r[o]=a.filter(u=>DateTime.fromFormat(u,convertFormat(t[o])).invalid===null).length;const i=r.reduce((o,u,c,f)=>u>f[o]?c:o,0);return t[i]}catch{return-1}}function calculateTimeDifference(e,t,r){if(e===null||t===null||e===void 0||t===void 0)return null;e=DateTime.fromFormat(e,r),t=DateTime.fromFormat(t,r);var a=t.diff(e,"hours");return a.hours.toFixed(decimalPlaces)}function getPeriod(e,t){let r=new Array(e.length-1);for(let a=1;a<e.length;a++)r[a-1]=calculateTimeDifference(e[a-1],e[a],convertFormat(t));return{minDiff:min$1(r),constant:min$1(r)===max$1(r)}}function getGuessedFormat(e){return guessDateofArray(e)}function forceFormat(e,t){return e.map(a=>calculateTimeDifference(e[0],a,convertFormat(t)))}function formatTimeFromISO(e){if(e){const[t,r]=e.split("T"),[a,i,o]=t.split("-"),[u,c]=r.split(":"),d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][+i-1];return`${o} ${d} ${a} ${u}:${c}`}else return""}function getISODate(e,t){return DateTime.fromFormat(e,convertFormat(t)).toISO()}function addTime(e,t){return formatTimeFromISO(DateTime.fromISO(e).plus({hours:t}).toISO())}function create_fragment$v(e){let t,r,a,i,o,u=formatDate(e[0])+"",c,f,d,p,m,h,_;return{c(){t=element("div"),r=element("label"),a=text(e[1]),i=space(),o=element("span"),c=text(u),f=space(),d=element("input"),p=space(),m=element("span"),m.textContent="",attr(d,"class","selection svelte-1eqdivs"),attr(d,"type","datetime-local"),d.value=e[3],attr(m,"class","icon svelte-1eqdivs"),attr(t,"class","datetimeselect svelte-1eqdivs")},m(v,y){insert(v,t,y),append(t,r),append(r,a),append(t,i),append(t,o),append(o,c),append(t,f),append(t,d),e[6](d),append(t,p),append(t,m),h||(_=[listen(o,"click",e[4]),listen(d,"input",e[5]),listen(m,"click",e[4])],h=!0)},p(v,[y]){y&2&&set_data(a,v[1]),y&1&&u!==(u=formatDate(v[0])+"")&&set_data(c,u),y&8&&(d.value=v[3])},i:noop,o:noop,d(v){v&&detach(t),e[6](null),h=!1,run_all(_)}}}function instance$v(e,t,r){let a,{thedatetime:i}=t,{label:o="Date and Time:"}=t,u;function c(){u.showPicker()}function f(m){r(0,i=DateTime.fromISO(m.target.value))}function d(m){return DateTime.fromISO(m).toFormat("yyyy-LL-dd'T'HH:mm")}function p(m){binding_callbacks[m?"unshift":"push"](()=>{u=m,r(2,u)})}return e.$$set=m=>{"thedatetime"in m&&r(0,i=m.thedatetime),"label"in m&&r(1,o=m.label)},e.$$.update=()=>{e.$$.dirty&1&&r(3,a=d(i))},[i,o,u,a,c,f,p]}class DateTimeSelect extends SvelteComponent{constructor(t){super(),init(this,t,instance$v,create_fragment$v,safe_not_equal,{thedatetime:0,label:1})}}function generateData(e,t,r,a,i,o){const u={id:o,importedFrom:`simulated(${e},${i[0]})`,displayName:`Simulated_${o}`,datalength:e*24*(60/t),data:{}},c=[];for(let m=0;m<u.datalength;m++){const h=new Date(r.getTime()+m*t*60*1e3).toLocaleString("en-US");c.push(h)}const f="M/D/YYYY, h:mm:s A",d=forceFormat(c,f),p=getPeriod(c,f);u.data.time={name:"time",type:"time",data:c,timeData:d,timeFormat:f,recordPeriod:p};for(let m=0;m<a.length;m++){const h=`generated_${m}`,_=[],v=i[m],$=a[m]*(60/t);for(let g=0;g<u.datalength;g++){const O=g%$<$/2?v*.05:v,b=Math.random()*O;_.push(Math.round(b))}u.data[h]={name:`value${m}`,type:"value",data:_}}return u}function get_each_context$e(e,t,r){const a=e.slice();return a[19]=t[r],a[20]=t,a[21]=r,a}function create_if_block$m(e){let t,r;return t=new Dialog({props:{title:"GENERATE SIMULATED DATA",$$slots:{default:[create_default_slot$7]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},m(a,i){mount_component(t,a,i),r=!0},p(a,i){const o={};i&4194367&&(o.$$scope={dirty:i,ctx:a}),t.$set(o)},i(a){r||(transition_in(t.$$.fragment,a),r=!0)},o(a){transition_out(t.$$.fragment,a),r=!1},d(a){destroy_component(t,a)}}}function create_each_block$e(e){let t,r,a,i,o,u,c,f,d,p,m,h,_,v,y,$,g;function D(){return e[14](e[21])}function O(k){e[15](k,e[21])}let b={min:21,max:26,limits:[6,72],step:"0.1",label:"Rhythm period (hours):"};e[4][e[21]]!==void 0&&(b.value=e[4][e[21]]),d=new Slider({props:b}),binding_callbacks.push(()=>bind(d,"value",O));function T(k){e[16](k,e[21])}let w={min:1,max:100,limits:[10,1e4],label:"Max values:"};return e[5][e[21]]!==void 0&&(w.value=e[5][e[21]]),_=new Slider({props:w}),binding_callbacks.push(()=>bind(_,"value",T)),{c(){t=element("div"),r=element("div"),a=element("div"),a.textContent=`value${e[21]}:`,i=space(),o=element("div"),o.textContent="",u=space(),c=element("div"),f=element("div"),create_component(d.$$.fragment),m=space(),h=element("div"),create_component(_.$$.fragment),attr(o,"class","removeData hoverbutton svelte-1n2ityv"),attr(r,"class","dataTitle svelte-1n2ityv"),attr(t,"class","datum svelte-1n2ityv")},m(k,C){insert(k,t,C),append(t,r),append(r,a),append(r,i),append(r,o),append(r,u),append(r,c),append(c,f),mount_component(d,f,null),append(c,m),append(c,h),mount_component(_,h,null),y=!0,$||(g=listen(o,"click",D),$=!0)},p(k,C){e=k;const S={};!p&&C&16&&(p=!0,S.value=e[4][e[21]],add_flush_callback(()=>p=!1)),d.$set(S);const F={};!v&&C&32&&(v=!0,F.value=e[5][e[21]],add_flush_callback(()=>v=!1)),_.$set(F)},i(k){y||(transition_in(d.$$.fragment,k),transition_in(_.$$.fragment,k),y=!0)},o(k){transition_out(d.$$.fragment,k),transition_out(_.$$.fragment,k),y=!1},d(k){k&&detach(t),destroy_component(d),destroy_component(_),$=!1,g()}}}function create_default_slot$7(e){let t,r,a,i,o,u,c,f,d,p,m,h,_,v,y,$,g,D,O,b,T,w,k,C,S,F;function E(I){e[10](I)}let U={min:5,max:30,limits:[1,1/0],label:"Days:"};e[0]!==void 0&&(U.value=e[0]),r=new Slider({props:U}),binding_callbacks.push(()=>bind(r,"value",E));function R(I){e[11](I)}let A={min:1,max:240,step:1,limits:[1,240],label:"Sampling period (minutes):"};e[1]!==void 0&&(A.value=e[1]),u=new Slider({props:A}),binding_callbacks.push(()=>bind(u,"value",R));function M(I){e[12](I)}let V={label:""};e[2]!==void 0&&(V.thedatetime=e[2]),_=new DateTimeSelect({props:V}),binding_callbacks.push(()=>bind(_,"thedatetime",M));let H=ensure_array_like(Array.from({length:e[3]})),P=[];for(let I=0;I<H.length;I+=1)P[I]=create_each_block$e(get_each_context$e(e,H,I));const G=I=>transition_out(P[I],1,1,()=>{P[I]=null});return{c(){t=element("div"),create_component(r.$$.fragment),i=space(),o=element("div"),create_component(u.$$.fragment),f=space(),d=element("div"),p=element("label"),p.textContent="Start time:",m=space(),h=element("div"),create_component(_.$$.fragment),y=space(),$=element("hr"),g=space(),D=element("h2"),D.textContent="Data:",O=space(),b=element("span"),b.textContent="",T=space();for(let I=0;I<P.length;I+=1)P[I].c();w=space(),k=element("button"),k.textContent="Generate",attr(p,"for","val"),set_style(h,"vertical-align","top"),set_style(h,"float","right"),attr(b,"class","addSimDataButton svelte-1n2ityv")},m(I,z){insert(I,t,z),mount_component(r,t,null),insert(I,i,z),insert(I,o,z),mount_component(u,o,null),insert(I,f,z),insert(I,d,z),append(d,p),append(d,m),append(d,h),mount_component(_,h,null),insert(I,y,z),insert(I,$,z),insert(I,g,z),insert(I,D,z),insert(I,O,z),insert(I,b,z),insert(I,T,z);for(let N=0;N<P.length;N+=1)P[N]&&P[N].m(I,z);insert(I,w,z),insert(I,k,z),C=!0,S||(F=[listen(b,"click",e[13]),listen(k,"click",e[17])],S=!0)},p(I,z){const N={};!a&&z&1&&(a=!0,N.value=I[0],add_flush_callback(()=>a=!1)),r.$set(N);const B={};!c&&z&2&&(c=!0,B.value=I[1],add_flush_callback(()=>c=!1)),u.$set(B);const ie={};if(!v&&z&4&&(v=!0,ie.thedatetime=I[2],add_flush_callback(()=>v=!1)),_.$set(ie),z&184){H=ensure_array_like(Array.from({length:I[3]}));let L;for(L=0;L<H.length;L+=1){const X=get_each_context$e(I,H,L);P[L]?(P[L].p(X,z),transition_in(P[L],1)):(P[L]=create_each_block$e(X),P[L].c(),transition_in(P[L],1),P[L].m(w.parentNode,w))}for(group_outros(),L=H.length;L<P.length;L+=1)G(L);check_outros()}},i(I){if(!C){transition_in(r.$$.fragment,I),transition_in(u.$$.fragment,I),transition_in(_.$$.fragment,I);for(let z=0;z<H.length;z+=1)transition_in(P[z]);C=!0}},o(I){transition_out(r.$$.fragment,I),transition_out(u.$$.fragment,I),transition_out(_.$$.fragment,I),P=P.filter(Boolean);for(let z=0;z<P.length;z+=1)transition_out(P[z]);C=!1},d(I){I&&(detach(t),detach(i),detach(o),detach(f),detach(d),detach(y),detach($),detach(g),detach(D),detach(O),detach(b),detach(T),detach(w),detach(k)),destroy_component(r),destroy_component(u),destroy_component(_),destroy_each(P,I),S=!1,run_all(F)}}}function create_fragment$u(e){let t,r,a=e[6]==="generateSim"&&create_if_block$m(e);return{c(){a&&a.c(),t=empty$1()},m(i,o){a&&a.m(i,o),insert(i,t,o),r=!0},p(i,[o]){i[6]==="generateSim"?a?(a.p(i,o),o&64&&transition_in(a,1)):(a=create_if_block$m(i),a.c(),transition_in(a,1),a.m(t.parentNode,t)):a&&(group_outros(),transition_out(a,1,1,()=>{a=null}),check_outros())},i(i){r||(transition_in(a),r=!0)},o(i){transition_out(a),r=!1},d(i){i&&detach(t),a&&a.d(i)}}}function instance$u(e,t,r){let a,i;component_subscribe(e,menuModalType,w=>r(6,a=w)),component_subscribe(e,data,w=>r(18,i=w));let o=28,u=15,c=DateTime.fromISO(DateTime.now().set({hour:0,minute:0,second:0,millisecond:0})),f=2,d=[24,25],p=[200,400];function m(w){r(3,f-=1),d.slice(w,1),p.slice(w,1)}function h(){r(3,f+=1),d.push(24),p.push(100)}function _(w,k,C,S,F){console.log(C),console.log(C.toJSDate());const E=generateData(w,k,C.toJSDate(),S,F,i.length);set_store_value(data,i=[...i,E],i),set_store_value(menuModalType,a=null,a)}function v(w){o=w,r(0,o)}function y(w){u=w,r(1,u)}function $(w){c=w,r(2,c)}const g=()=>h(),D=w=>m(w);function O(w,k){e.$$.not_equal(d[k],w)&&(d[k]=w,r(4,d))}function b(w,k){e.$$.not_equal(p[k],w)&&(p[k]=w,r(5,p))}return[o,u,c,f,d,p,a,m,h,_,v,y,$,g,D,O,b,()=>_(o,u,c,d,p)]}class GenerateSimulated extends SvelteComponent{constructor(t){super(),init(this,t,instance$u,create_fragment$u,safe_not_equal,{})}}const scriptRel="modulepreload",assetsURL=function(e){return"/"+e},seen={},__vitePreload=function(t,r,a){let i=Promise.resolve();if(r&&r.length>0){const o=document.getElementsByTagName("link");i=Promise.all(r.map(u=>{if(u=assetsURL(u),u in seen)return;seen[u]=!0;const c=u.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(!!a)for(let m=o.length-1;m>=0;m--){const h=o[m];if(h.href===u&&(!c||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":scriptRel,c||(p.as="script",p.crossOrigin=""),p.href=u,document.head.appendChild(p),c)return new Promise((m,h)=>{p.addEventListener("load",m),p.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${u}`)))})}))}return i.then(()=>t()).catch(o=>{const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o})},modules$1=Object.assign({"../processes/Add.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Add$1),void 0),"../processes/Filter.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Filter$1),void 0),"../processes/Replace.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Replace$1),void 0)});let componentMap={};async function loadProcessFiles(){for(const e in modules$1){const t=await modules$1[e](),r=e.split("/").pop().split(".").shift();componentMap[r]={component:t.default,startParams:t.startParams,func:t[r],forTypes:t.forTypes}}}loadProcessFiles().then(()=>{console.log("Process files loaded:",componentMap)});let selectedSettings=null;function addProcessToData(e,t,r){selectedSettings={process:e,parameters:componentMap[e].startParams},data.update(a=>{const i=[...a],o=i.find(u=>u.id===t);return o&&o.data[r]&&o.data[r].processSteps.push(selectedSettings),i}),updateDataProcess(t,r)}function processData(e,t){for(const r of e){const a=r.process,i=componentMap[a].func;typeof i=="function"?t=i(t,r.parameters):console.error(`Function '${a}' does not exist.`)}return t}function updateDataProcess(e,t){var i;let r=get_store_value(data)[get_store_value(data).findIndex(o=>o.id===e)].data[t].originalData,a=(i=get_store_value(data).find(o=>o.id===e).data[t])==null?void 0:i.processSteps;(a==null?void 0:a.length)>0&&(r=processData(a,r)),data.update(o=>{const u=[...o],c=u.find(f=>f.id===e);return c&&c.data[t]&&(c.data[t].data=r),u})}function updateGraphProcess(e,t,r,a,i){graphs.update(o=>{const u=[...o],c=u.find(f=>f.id===e);return c&&c.sourceData[t].chartvalues[r]&&(c.sourceData[t].chartvalues[r].processSteps[a].parameters=i),u})}function removeGraphProcess(e,t,r,a){graphs.update(i=>{const o=[...i],u=o.find(c=>c.id===e);return u&&u.sourceData[t].chartvalues[r]&&u.sourceData[t].chartvalues[r].processSteps.splice(a,1),o})}function addProcessToGraph(e,t,r,a){selectedSettings={process:e,parameters:componentMap[e].startParams},graphs.update(i=>{const o=[...i],u=o.find(c=>c.id===t);return u&&u.sourceData[r].chartvalues[a]&&u.sourceData[r].chartvalues[a].processSteps.push(selectedSettings),o})}class ProcessStep extends SvelteComponent{constructor(t){super(),init(this,t,null,null,safe_not_equal,{})}}function getRandomHexColour(){return"#"+Math.floor(Math.random()*16777215).toString(16).padStart(6,"0")}const modules=Object.assign({"./Actogram/Actogram.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Actogram$1),void 0),"./Actogram/Actogram_controls.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Actogram_controls$1),void 0),"./Actogram/Actogram_defaults.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Actogram_defaults$1),void 0),"./Actogram/Onset.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Onset$1),void 0),"./Axis.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Axis$1),void 0),"./Charttools.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Charttools$1),void 0),"./Periodogram/Periodogram.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Periodogram$1),void 0),"./Periodogram/Periodogram_controls.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Periodogram_controls$1),void 0),"./Periodogram/Periodogram_defaults.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Periodogram_defaults$1),void 0),"./Raw/Raw.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Raw$1),void 0),"./Raw/Raw_controls.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Raw_controls$1),void 0),"./Raw/Raw_defaults.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Raw_defaults$1),void 0),"./Raw/Raw_tools.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Raw_tools$1),void 0)});let graphMap={};async function loadGraphFiles(){for(const e in modules){const t=await modules[e](),r=e.split("/").pop().split(".").shift();if(e.split("/").slice(-2)[0]==r){console.log(r),console.log(t),console.log(t.defaultParams);const i=e.substring(0,e.lastIndexOf("."))+"_controls.svelte",o=await modules[i](),u=e.substring(0,e.lastIndexOf("."))+"_defaults.svelte",c=await modules[u]();graphMap[r]={graph:t.default,controls:o.default||{},params:c.defaultParams||{},prototypechartvalues:c.defaultchartvalues||{},prototypeother:c.defaultother||{},chartData:c.defaultChartData||{},extras:[]}}}}const graphFilesLoaded=loadGraphFiles().then(()=>{console.log("Graph files loaded:",graphMap),console.log(graphMap)});function makeNewChart(e){if(get_store_value(data).length===0)statusData.update(t=>(t.push({display:`There is no data to make a ${e} with.`}),t));else{let t={graph:e,id:getID(),zoom:1,sourceData:[],params:{...deepCopy$1(graphMap[e].params)},chartData:{...deepCopy$1(graphMap[e].chartData)},extras:{...deepCopy$1(graphMap[e].extras)}};get_store_value(graphs).push(t),get_store_value(graphTabs).push({name:"Chart "+getID()}),graphTabs.update(r=>[...r]),activeGraphTab.update(()=>get_store_value(graphTabs).length-1)}}function getID(){if(get_store_value(graphs).length===0)return 0;let e=[];return get_store_value(graphs).forEach(t=>e.push(t.id)),Math.max(...e)+1}function deepCopy$1(e){return JSON.parse(JSON.stringify(e))}function getDataFromTable(e,t){const r=get_store_value(data)[get_store_value(data).findIndex(a=>a.id===e)].data[t];return r.type==="time"?r.timeData:r.data}function getFieldName(e,t){return get_store_value(data)[get_store_value(data).findIndex(a=>a.id===e)].data[t].name}function getFieldNames(e){return Object.keys(get_store_value(data)[get_store_value(data).findIndex(t=>t.id===e.tableID)].data)}function getRawData(e,t){const a=get_store_value(graphs)[get_store_value(activeGraphTab)].sourceData[e].tableID;return getDataFromTable(a,t.field)}function getFirstTime(e,t){const a=get_store_value(graphs)[get_store_value(activeGraphTab)].sourceData[e].tableID,i=get_store_value(data)[get_store_value(data).findIndex(u=>u.id===a)].data[t.field].timeFormat,o=get_store_value(data)[get_store_value(data).findIndex(u=>u.id===a)].data[t.field].data[0];return getISODate(o,i)}function getDataFromSource(e,t){let r=getRawData(e,t);for(let a=0;a<t.processSteps.length;a++){const i=t.processSteps[a].process,o=componentMap[i].func;typeof o=="function"?r=o(r,t.processSteps[a].parameters):console.error(`Function '${i}' does not exist.`)}return r}function getFieldType(e,t){return get_store_value(data)[get_store_value(data).findIndex(a=>a.id===e)].data[t].type}function getFieldTypeFromGraph(e,t,r){const a=get_store_value(graphs)[get_store_value(graphs).findIndex(o=>o.id===e)];return get_store_value(data)[get_store_value(data).findIndex(o=>o.id===a.sourceData[t].tableID)].data[a.sourceData[t].chartvalues[r].field].type}function removeGraphData(e){graphs.update(t=>{const r=[...t],a=r[get_store_value(activeGraphTab)].id,i=r.find(o=>o.id===a);return i&&i.sourceData&&i.sourceData.splice(e,1),r}),console.log(get_store_value(graphs))}function createnewDataForGraph(e,t){contextMenu.update(r=>(r.labels=[],r.funcs=[],r));for(let r=0;r<get_store_value(data).length;r++)contextMenu.update(a=>(a.labels.push(get_store_value(data)[r].displayName),a.funcs.push(()=>addDataToGraph(get_store_value(data)[r].id,e,t)),a))}function addDataToGraph(e,t,r){let a={};Object.keys(t).forEach((i,o)=>{a[i]={field:Object.keys(get_store_value(data)[get_store_value(data).findIndex(u=>u.id===e)].data)[o],processSteps:[]}}),graphs.update(i=>{i[get_store_value(activeGraphTab)].sourceData.push({tableID:e,name:"Data "+(1+get_store_value(graphs)[get_store_value(activeGraphTab)].sourceData.length),chartvalues:a,...deepCopy(r)});const o=get_store_value(graphs)[get_store_value(activeGraphTab)].sourceData.length-1;return Object.keys(i[get_store_value(activeGraphTab)].sourceData[o]).forEach(u=>{Object.keys(i[get_store_value(activeGraphTab)].sourceData[o][u]).includes("hex")&&(i[get_store_value(activeGraphTab)].sourceData[o][u].hex=getRandomHexColour())}),i}),get_store_value(graphs)[get_store_value(activeGraphTab)].graph==="Raw"&&addedNewChartData.set(!0)}function deepCopy(e){return JSON.parse(JSON.stringify(e))}function averageBinnedValues(e,t,r,a=0){const i=Number(a)+1?a:min$1(e),o=max$1(e),u=Math.ceil((o-i)/r)||1,c=new Array(u),f=new Array(u),d=new Array(u);for(let m=0;m<u;m++)c[m]=i+(m*r+r/2),f[m]=0,d[m]=0;for(let m=0;m<e.length;m++){const h=min$1([u-1,Math.floor((e[m]-i)/r)]);Number(t[m])+1&&Number(e[m])+1&&(f[h]+=t[m],d[h]++)}f[f.length-1]+=t[t.length-1],d[d.length-1]++;const p=f.map((m,h)=>d[h]>0?m/d[h]:0);return{time:c,values:p}}function calculateMedian(e){const t=e.slice().sort((a,i)=>a-i),r=Math.floor(t.length/2);return t.length%2===0?(t[r-1]+t[r])/2:t[r]}function calculateMAD(e,t){const r=e.map(a=>Math.abs(a-t));return calculateMedian(r)}function removeNaNs(e){if(!Array.isArray(e)||e.length===0||!e.every(Array.isArray))throw new TypeError("Input must be an array of arrays.");const t=e.map(i=>[...i]),r=new Set;return t.forEach(i=>{i.forEach((o,u)=>{isNaN(o)&&r.add(u)})}),t.map(i=>i.filter((o,u)=>!r.has(u)))}function linearRegression(e,t){const r=e.length;if(r!==t.length||r===0)throw new Error("Input arrays must have the same non-zero length");let a=0,i=0,o=0,u=0;for(let y=0;y<r;y++)a+=e[y],i+=t[y],o+=e[y]*t[y],u+=e[y]*e[y];const c=(r*o-a*i)/(r*u-a*a),f=(i-c*a)/r;let d=0,p=0,m=0;const h=i/r;for(let y=0;y<r;y++){const $=c*e[y]+f;d+=(t[y]-h)**2,p+=(t[y]-$)**2,m+=(t[y]-$)**2}const _=1-p/d,v=Math.sqrt(m/r);return{slope:c,intercept:f,rSquared:_,rmse:v}}function addManualMarker(e){var r;console.log(e);const t=(r=get_store_value(graphs)[get_store_value(activeGraphTab)])==null?void 0:r.semaphore;(t==null?void 0:t.text)=="addingManualMarker"?graphs.update(a=>(a[get_store_value(activeGraphTab)].chartData.onsets[t.sourceIndex][t.o].onsetTimes.push(e),a[get_store_value(activeGraphTab)].semaphore=null,document.body.style.cursor="default",a)):(console.log("something wrong in addManualMarker"),console.log("time",e),console.log("semaphore",t))}function removeMarker(e,t,r){graphs.update(a=>(a[get_store_value(activeGraphTab)].chartData.onsets[e][t].onsetTimes.splice(r,1),a))}function create_else_block$8(e){let t,r,a,i;return{c(){t=element("span"),r=text(e[0]),attr(t,"class","svelte-1tdrfqa")},m(o,u){insert(o,t,u),append(t,r),a||(i=[listen(t,"dblclick",e[9]),listen(t,"click",click_handler)],a=!0)},p(o,u){u&1&&set_data(r,o[0])},d(o){o&&detach(t),a=!1,run_all(i)}}}function create_if_block$l(e){let t,r,a,i,o;return{c(){t=element("form"),r=element("input"),r.required=e[1],attr(r,"class",a=null_to_empty(e[2]?"editing":"")+" svelte-1tdrfqa"),attr(t,"class","svelte-1tdrfqa")},m(u,c){insert(u,t,c),append(t,r),set_input_value(r,e[0]),e[8](r),i||(o=[listen(r,"input",e[7]),listen(r,"blur",e[5]),listen(t,"submit",prevent_default(e[5])),listen(t,"keydown",e[6])],i=!0)},p(u,c){c&2&&(r.required=u[1]),c&4&&a!==(a=null_to_empty(u[2]?"editing":"")+" svelte-1tdrfqa")&&attr(r,"class",a),c&1&&r.value!==u[0]&&set_input_value(r,u[0])},d(u){u&&detach(t),e[8](null),i=!1,run_all(o)}}}function create_fragment$t(e){let t;function r(o,u){return o[2]?create_if_block$l:create_else_block$8}let a=r(e),i=a(e);return{c(){i.c(),t=empty$1()},m(o,u){i.m(o,u),insert(o,t,u)},p(o,[u]){a===(a=r(o))&&i?i.p(o,u):(i.d(1),i=a(o),i&&(i.c(),i.m(t.parentNode,t)))},i:noop,o:noop,d(o){o&&detach(t),i.d(o)}}}function containsNonSpaceCharacter(e){return/\S/.test(e)}const click_handler=e=>{e.target.parentElement.className.includes("tabname")||e.preventDefault()};function instance$t(e,t,r){let{value:a,required:i=!0}=t;const o=createEventDispatcher();let u=!1,c,f;onMount(()=>{c=a}),afterUpdate(()=>{u&&(f.focus(),f.click())});function d(y){r(2,u=!0)}function p(){a!=c&&containsNonSpaceCharacter(a)?o("submit",a):r(0,a=c),r(2,u=!1)}function m(y){y.key=="Escape"&&(y.preventDefault(),r(0,a=c),r(2,u=!1))}function h(){a=this.value,r(0,a)}function _(y){binding_callbacks[y?"unshift":"push"](()=>{f=y,r(3,f)})}const v=y=>{d()};return e.$$set=y=>{"value"in y&&r(0,a=y.value),"required"in y&&r(1,i=y.required)},[a,i,u,f,d,p,m,h,_,v]}class InPlaceEdit extends SvelteComponent{constructor(t){super(),init(this,t,instance$t,create_fragment$t,safe_not_equal,{value:0,required:1})}}var top$1="top",bottom$1="bottom",right$1="right",left$1="left",auto="auto",basePlacements=[top$1,bottom$1,right$1,left$1],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(e,t){return e.concat([t+"-"+start,t+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(e,t){return e.concat([t,t+"-"+start,t+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(e){return e?(e.nodeName||"").toLowerCase():null}function getWindow(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function isElement$1(e){var t=getWindow(e).Element;return e instanceof t||e instanceof Element}function isHTMLElement(e){var t=getWindow(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function isShadowRoot(e){if(typeof ShadowRoot>"u")return!1;var t=getWindow(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function applyStyles(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var a=t.styles[r]||{},i=t.attributes[r]||{},o=t.elements[r];!isHTMLElement(o)||!getNodeName(o)||(Object.assign(o.style,a),Object.keys(i).forEach(function(u){var c=i[u];c===!1?o.removeAttribute(u):o.setAttribute(u,c===!0?"":c)}))})}function effect$2(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(a){var i=t.elements[a],o=t.attributes[a]||{},u=Object.keys(t.styles.hasOwnProperty(a)?t.styles[a]:r[a]),c=u.reduce(function(f,d){return f[d]="",f},{});!isHTMLElement(i)||!getNodeName(i)||(Object.assign(i.style,c),Object.keys(o).forEach(function(f){i.removeAttribute(f)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement$1(e){return e.split("-")[0]}var max=Math.max,min=Math.min,round=Math.round;function getUAString(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var a=e.getBoundingClientRect(),i=1,o=1;t&&isHTMLElement(e)&&(i=e.offsetWidth>0&&round(a.width)/e.offsetWidth||1,o=e.offsetHeight>0&&round(a.height)/e.offsetHeight||1);var u=isElement$1(e)?getWindow(e):window,c=u.visualViewport,f=!isLayoutViewport()&&r,d=(a.left+(f&&c?c.offsetLeft:0))/i,p=(a.top+(f&&c?c.offsetTop:0))/o,m=a.width/i,h=a.height/o;return{width:m,height:h,top:p,right:d+m,bottom:p+h,left:d,x:d,y:p}}function getLayoutRect(e){var t=getBoundingClientRect(e),r=e.offsetWidth,a=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-a)<=1&&(a=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:a}}function contains(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&isShadowRoot(r)){var a=t;do{if(a&&e.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function getComputedStyle$1(e){return getWindow(e).getComputedStyle(e)}function isTableElement(e){return["table","td","th"].indexOf(getNodeName(e))>=0}function getDocumentElement(e){return((isElement$1(e)?e.ownerDocument:e.document)||window.document).documentElement}function getParentNode(e){return getNodeName(e)==="html"?e:e.assignedSlot||e.parentNode||(isShadowRoot(e)?e.host:null)||getDocumentElement(e)}function getTrueOffsetParent(e){return!isHTMLElement(e)||getComputedStyle$1(e).position==="fixed"?null:e.offsetParent}function getContainingBlock(e){var t=/firefox/i.test(getUAString()),r=/Trident/i.test(getUAString());if(r&&isHTMLElement(e)){var a=getComputedStyle$1(e);if(a.position==="fixed")return null}var i=getParentNode(e);for(isShadowRoot(i)&&(i=i.host);isHTMLElement(i)&&["html","body"].indexOf(getNodeName(i))<0;){var o=getComputedStyle$1(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function getOffsetParent(e){for(var t=getWindow(e),r=getTrueOffsetParent(e);r&&isTableElement(r)&&getComputedStyle$1(r).position==="static";)r=getTrueOffsetParent(r);return r&&(getNodeName(r)==="html"||getNodeName(r)==="body"&&getComputedStyle$1(r).position==="static")?t:r||getContainingBlock(e)||t}function getMainAxisFromPlacement(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function within(e,t,r){return max(e,min(t,r))}function withinMaxClamp(e,t,r){var a=within(e,t,r);return a>r?r:a}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(e){return Object.assign({},getFreshSideObject(),e)}function expandToHashMap(e,t){return t.reduce(function(r,a){return r[a]=e,r},{})}var toPaddingObject=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,mergePaddingObject(typeof t!="number"?t:expandToHashMap(t,basePlacements))};function arrow(e){var t,r=e.state,a=e.name,i=e.options,o=r.elements.arrow,u=r.modifiersData.popperOffsets,c=getBasePlacement$1(r.placement),f=getMainAxisFromPlacement(c),d=[left$1,right$1].indexOf(c)>=0,p=d?"height":"width";if(!(!o||!u)){var m=toPaddingObject(i.padding,r),h=getLayoutRect(o),_=f==="y"?top$1:left$1,v=f==="y"?bottom$1:right$1,y=r.rects.reference[p]+r.rects.reference[f]-u[f]-r.rects.popper[p],$=u[f]-r.rects.reference[f],g=getOffsetParent(o),D=g?f==="y"?g.clientHeight||0:g.clientWidth||0:0,O=y/2-$/2,b=m[_],T=D-h[p]-m[v],w=D/2-h[p]/2+O,k=within(b,w,T),C=f;r.modifiersData[a]=(t={},t[C]=k,t.centerOffset=k-w,t)}}function effect$1(e){var t=e.state,r=e.options,a=r.element,i=a===void 0?"[data-popper-arrow]":a;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||contains(t.elements.popper,i)&&(t.elements.arrow=i))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(e){return e.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(e,t){var r=e.x,a=e.y,i=t.devicePixelRatio||1;return{x:round(r*i)/i||0,y:round(a*i)/i||0}}function mapToStyles(e){var t,r=e.popper,a=e.popperRect,i=e.placement,o=e.variation,u=e.offsets,c=e.position,f=e.gpuAcceleration,d=e.adaptive,p=e.roundOffsets,m=e.isFixed,h=u.x,_=h===void 0?0:h,v=u.y,y=v===void 0?0:v,$=typeof p=="function"?p({x:_,y}):{x:_,y};_=$.x,y=$.y;var g=u.hasOwnProperty("x"),D=u.hasOwnProperty("y"),O=left$1,b=top$1,T=window;if(d){var w=getOffsetParent(r),k="clientHeight",C="clientWidth";if(w===getWindow(r)&&(w=getDocumentElement(r),getComputedStyle$1(w).position!=="static"&&c==="absolute"&&(k="scrollHeight",C="scrollWidth")),w=w,i===top$1||(i===left$1||i===right$1)&&o===end){b=bottom$1;var S=m&&w===T&&T.visualViewport?T.visualViewport.height:w[k];y-=S-a.height,y*=f?1:-1}if(i===left$1||(i===top$1||i===bottom$1)&&o===end){O=right$1;var F=m&&w===T&&T.visualViewport?T.visualViewport.width:w[C];_-=F-a.width,_*=f?1:-1}}var E=Object.assign({position:c},d&&unsetSides),U=p===!0?roundOffsetsByDPR({x:_,y},getWindow(r)):{x:_,y};if(_=U.x,y=U.y,f){var R;return Object.assign({},E,(R={},R[b]=D?"0":"",R[O]=g?"0":"",R.transform=(T.devicePixelRatio||1)<=1?"translate("+_+"px, "+y+"px)":"translate3d("+_+"px, "+y+"px, 0)",R))}return Object.assign({},E,(t={},t[b]=D?y+"px":"",t[O]=g?_+"px":"",t.transform="",t))}function computeStyles(e){var t=e.state,r=e.options,a=r.gpuAcceleration,i=a===void 0?!0:a,o=r.adaptive,u=o===void 0?!0:o,c=r.roundOffsets,f=c===void 0?!0:c,d={placement:getBasePlacement$1(t.placement),variation:getVariation(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,mapToStyles(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:u,roundOffsets:f})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,mapToStyles(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(e){var t=e.state,r=e.instance,a=e.options,i=a.scroll,o=i===void 0?!0:i,u=a.resize,c=u===void 0?!0:u,f=getWindow(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&d.forEach(function(p){p.addEventListener("scroll",r.update,passive)}),c&&f.addEventListener("resize",r.update,passive),function(){o&&d.forEach(function(p){p.removeEventListener("scroll",r.update,passive)}),c&&f.removeEventListener("resize",r.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(e){return e.replace(/left|right|bottom|top/g,function(t){return hash$1[t]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(e){return e.replace(/start|end/g,function(t){return hash[t]})}function getWindowScroll(e){var t=getWindow(e),r=t.pageXOffset,a=t.pageYOffset;return{scrollLeft:r,scrollTop:a}}function getWindowScrollBarX(e){return getBoundingClientRect(getDocumentElement(e)).left+getWindowScroll(e).scrollLeft}function getViewportRect(e,t){var r=getWindow(e),a=getDocumentElement(e),i=r.visualViewport,o=a.clientWidth,u=a.clientHeight,c=0,f=0;if(i){o=i.width,u=i.height;var d=isLayoutViewport();(d||!d&&t==="fixed")&&(c=i.offsetLeft,f=i.offsetTop)}return{width:o,height:u,x:c+getWindowScrollBarX(e),y:f}}function getDocumentRect(e){var t,r=getDocumentElement(e),a=getWindowScroll(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=max(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),u=max(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-a.scrollLeft+getWindowScrollBarX(e),f=-a.scrollTop;return getComputedStyle$1(i||r).direction==="rtl"&&(c+=max(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:u,x:c,y:f}}function isScrollParent(e){var t=getComputedStyle$1(e),r=t.overflow,a=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+a)}function getScrollParent(e){return["html","body","#document"].indexOf(getNodeName(e))>=0?e.ownerDocument.body:isHTMLElement(e)&&isScrollParent(e)?e:getScrollParent(getParentNode(e))}function listScrollParents(e,t){var r;t===void 0&&(t=[]);var a=getScrollParent(e),i=a===((r=e.ownerDocument)==null?void 0:r.body),o=getWindow(a),u=i?[o].concat(o.visualViewport||[],isScrollParent(a)?a:[]):a,c=t.concat(u);return i?c:c.concat(listScrollParents(getParentNode(u)))}function rectToClientRect(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function getInnerBoundingClientRect(e,t){var r=getBoundingClientRect(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function getClientRectFromMixedType(e,t,r){return t===viewport?rectToClientRect(getViewportRect(e,r)):isElement$1(t)?getInnerBoundingClientRect(t,r):rectToClientRect(getDocumentRect(getDocumentElement(e)))}function getClippingParents(e){var t=listScrollParents(getParentNode(e)),r=["absolute","fixed"].indexOf(getComputedStyle$1(e).position)>=0,a=r&&isHTMLElement(e)?getOffsetParent(e):e;return isElement$1(a)?t.filter(function(i){return isElement$1(i)&&contains(i,a)&&getNodeName(i)!=="body"}):[]}function getClippingRect(e,t,r,a){var i=t==="clippingParents"?getClippingParents(e):[].concat(t),o=[].concat(i,[r]),u=o[0],c=o.reduce(function(f,d){var p=getClientRectFromMixedType(e,d,a);return f.top=max(p.top,f.top),f.right=min(p.right,f.right),f.bottom=min(p.bottom,f.bottom),f.left=max(p.left,f.left),f},getClientRectFromMixedType(e,u,a));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function computeOffsets(e){var t=e.reference,r=e.element,a=e.placement,i=a?getBasePlacement$1(a):null,o=a?getVariation(a):null,u=t.x+t.width/2-r.width/2,c=t.y+t.height/2-r.height/2,f;switch(i){case top$1:f={x:u,y:t.y-r.height};break;case bottom$1:f={x:u,y:t.y+t.height};break;case right$1:f={x:t.x+t.width,y:c};break;case left$1:f={x:t.x-r.width,y:c};break;default:f={x:t.x,y:t.y}}var d=i?getMainAxisFromPlacement(i):null;if(d!=null){var p=d==="y"?"height":"width";switch(o){case start:f[d]=f[d]-(t[p]/2-r[p]/2);break;case end:f[d]=f[d]+(t[p]/2-r[p]/2);break}}return f}function detectOverflow(e,t){t===void 0&&(t={});var r=t,a=r.placement,i=a===void 0?e.placement:a,o=r.strategy,u=o===void 0?e.strategy:o,c=r.boundary,f=c===void 0?clippingParents:c,d=r.rootBoundary,p=d===void 0?viewport:d,m=r.elementContext,h=m===void 0?popper:m,_=r.altBoundary,v=_===void 0?!1:_,y=r.padding,$=y===void 0?0:y,g=mergePaddingObject(typeof $!="number"?$:expandToHashMap($,basePlacements)),D=h===popper?reference:popper,O=e.rects.popper,b=e.elements[v?D:h],T=getClippingRect(isElement$1(b)?b:b.contextElement||getDocumentElement(e.elements.popper),f,p,u),w=getBoundingClientRect(e.elements.reference),k=computeOffsets({reference:w,element:O,strategy:"absolute",placement:i}),C=rectToClientRect(Object.assign({},O,k)),S=h===popper?C:w,F={top:T.top-S.top+g.top,bottom:S.bottom-T.bottom+g.bottom,left:T.left-S.left+g.left,right:S.right-T.right+g.right},E=e.modifiersData.offset;if(h===popper&&E){var U=E[i];Object.keys(F).forEach(function(R){var A=[right$1,bottom$1].indexOf(R)>=0?1:-1,M=[top$1,bottom$1].indexOf(R)>=0?"y":"x";F[R]+=U[M]*A})}return F}function computeAutoPlacement(e,t){t===void 0&&(t={});var r=t,a=r.placement,i=r.boundary,o=r.rootBoundary,u=r.padding,c=r.flipVariations,f=r.allowedAutoPlacements,d=f===void 0?placements:f,p=getVariation(a),m=p?c?variationPlacements:variationPlacements.filter(function(v){return getVariation(v)===p}):basePlacements,h=m.filter(function(v){return d.indexOf(v)>=0});h.length===0&&(h=m);var _=h.reduce(function(v,y){return v[y]=detectOverflow(e,{placement:y,boundary:i,rootBoundary:o,padding:u})[getBasePlacement$1(y)],v},{});return Object.keys(_).sort(function(v,y){return _[v]-_[y]})}function getExpandedFallbackPlacements(e){if(getBasePlacement$1(e)===auto)return[];var t=getOppositePlacement(e);return[getOppositeVariationPlacement(e),t,getOppositeVariationPlacement(t)]}function flip(e){var t=e.state,r=e.options,a=e.name;if(!t.modifiersData[a]._skip){for(var i=r.mainAxis,o=i===void 0?!0:i,u=r.altAxis,c=u===void 0?!0:u,f=r.fallbackPlacements,d=r.padding,p=r.boundary,m=r.rootBoundary,h=r.altBoundary,_=r.flipVariations,v=_===void 0?!0:_,y=r.allowedAutoPlacements,$=t.options.placement,g=getBasePlacement$1($),D=g===$,O=f||(D||!v?[getOppositePlacement($)]:getExpandedFallbackPlacements($)),b=[$].concat(O).reduce(function(ie,L){return ie.concat(getBasePlacement$1(L)===auto?computeAutoPlacement(t,{placement:L,boundary:p,rootBoundary:m,padding:d,flipVariations:v,allowedAutoPlacements:y}):L)},[]),T=t.rects.reference,w=t.rects.popper,k=new Map,C=!0,S=b[0],F=0;F<b.length;F++){var E=b[F],U=getBasePlacement$1(E),R=getVariation(E)===start,A=[top$1,bottom$1].indexOf(U)>=0,M=A?"width":"height",V=detectOverflow(t,{placement:E,boundary:p,rootBoundary:m,altBoundary:h,padding:d}),H=A?R?right$1:left$1:R?bottom$1:top$1;T[M]>w[M]&&(H=getOppositePlacement(H));var P=getOppositePlacement(H),G=[];if(o&&G.push(V[U]<=0),c&&G.push(V[H]<=0,V[P]<=0),G.every(function(ie){return ie})){S=E,C=!1;break}k.set(E,G)}if(C)for(var I=v?3:1,z=function(L){var X=b.find(function(Z){var j=k.get(Z);if(j)return j.slice(0,L).every(function(x){return x})});if(X)return S=X,"break"},N=I;N>0;N--){var B=z(N);if(B==="break")break}t.placement!==S&&(t.modifiersData[a]._skip=!0,t.placement=S,t.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function isAnySideFullyClipped(e){return[top$1,right$1,bottom$1,left$1].some(function(t){return e[t]>=0})}function hide(e){var t=e.state,r=e.name,a=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,u=detectOverflow(t,{elementContext:"reference"}),c=detectOverflow(t,{altBoundary:!0}),f=getSideOffsets(u,a),d=getSideOffsets(c,i,o),p=isAnySideFullyClipped(f),m=isAnySideFullyClipped(d);t.modifiersData[r]={referenceClippingOffsets:f,popperEscapeOffsets:d,isReferenceHidden:p,hasPopperEscaped:m},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":m})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(e,t,r){var a=getBasePlacement$1(e),i=[left$1,top$1].indexOf(a)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,u=o[0],c=o[1];return u=u||0,c=(c||0)*i,[left$1,right$1].indexOf(a)>=0?{x:c,y:u}:{x:u,y:c}}function offset(e){var t=e.state,r=e.options,a=e.name,i=r.offset,o=i===void 0?[0,0]:i,u=placements.reduce(function(p,m){return p[m]=distanceAndSkiddingToXY(m,t.rects,o),p},{}),c=u[t.placement],f=c.x,d=c.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=f,t.modifiersData.popperOffsets.y+=d),t.modifiersData[a]=u}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(e){var t=e.state,r=e.name;t.modifiersData[r]=computeOffsets({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(e){return e==="x"?"y":"x"}function preventOverflow(e){var t=e.state,r=e.options,a=e.name,i=r.mainAxis,o=i===void 0?!0:i,u=r.altAxis,c=u===void 0?!1:u,f=r.boundary,d=r.rootBoundary,p=r.altBoundary,m=r.padding,h=r.tether,_=h===void 0?!0:h,v=r.tetherOffset,y=v===void 0?0:v,$=detectOverflow(t,{boundary:f,rootBoundary:d,padding:m,altBoundary:p}),g=getBasePlacement$1(t.placement),D=getVariation(t.placement),O=!D,b=getMainAxisFromPlacement(g),T=getAltAxis(b),w=t.modifiersData.popperOffsets,k=t.rects.reference,C=t.rects.popper,S=typeof y=="function"?y(Object.assign({},t.rects,{placement:t.placement})):y,F=typeof S=="number"?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),E=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,U={x:0,y:0};if(w){if(o){var R,A=b==="y"?top$1:left$1,M=b==="y"?bottom$1:right$1,V=b==="y"?"height":"width",H=w[b],P=H+$[A],G=H-$[M],I=_?-C[V]/2:0,z=D===start?k[V]:C[V],N=D===start?-C[V]:-k[V],B=t.elements.arrow,ie=_&&B?getLayoutRect(B):{width:0,height:0},L=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:getFreshSideObject(),X=L[A],Z=L[M],j=within(0,k[V],ie[V]),x=O?k[V]/2-I-j-X-F.mainAxis:z-j-X-F.mainAxis,J=O?-k[V]/2+I+j+Z+F.mainAxis:N+j+Z+F.mainAxis,ne=t.elements.arrow&&getOffsetParent(t.elements.arrow),ve=ne?b==="y"?ne.clientTop||0:ne.clientLeft||0:0,me=(R=E==null?void 0:E[b])!=null?R:0,ke=H+x-me-ve,se=H+J-me,De=within(_?min(P,ke):P,H,_?max(G,se):G);w[b]=De,U[b]=De-H}if(c){var Q,de=b==="x"?top$1:left$1,ge=b==="x"?bottom$1:right$1,te=w[T],ee=T==="y"?"height":"width",_e=te+$[de],be=te-$[ge],ye=[top$1,left$1].indexOf(g)!==-1,ce=(Q=E==null?void 0:E[T])!=null?Q:0,$e=ye?_e:te-k[ee]-C[ee]-ce+F.altAxis,Y=ye?te+k[ee]+C[ee]-ce-F.altAxis:be,W=_&&ye?withinMaxClamp($e,te,Y):within(_?$e:_e,te,_?Y:be);w[T]=W,U[T]=W-te}t.modifiersData[a]=U}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function getNodeScroll(e){return e===getWindow(e)||!isHTMLElement(e)?getWindowScroll(e):getHTMLElementScroll(e)}function isElementScaled(e){var t=e.getBoundingClientRect(),r=round(t.width)/e.offsetWidth||1,a=round(t.height)/e.offsetHeight||1;return r!==1||a!==1}function getCompositeRect(e,t,r){r===void 0&&(r=!1);var a=isHTMLElement(t),i=isHTMLElement(t)&&isElementScaled(t),o=getDocumentElement(t),u=getBoundingClientRect(e,i,r),c={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(a||!a&&!r)&&((getNodeName(t)!=="body"||isScrollParent(o))&&(c=getNodeScroll(t)),isHTMLElement(t)?(f=getBoundingClientRect(t,!0),f.x+=t.clientLeft,f.y+=t.clientTop):o&&(f.x=getWindowScrollBarX(o))),{x:u.left+c.scrollLeft-f.x,y:u.top+c.scrollTop-f.y,width:u.width,height:u.height}}function order(e){var t=new Map,r=new Set,a=[];e.forEach(function(o){t.set(o.name,o)});function i(o){r.add(o.name);var u=[].concat(o.requires||[],o.requiresIfExists||[]);u.forEach(function(c){if(!r.has(c)){var f=t.get(c);f&&i(f)}}),a.push(o)}return e.forEach(function(o){r.has(o.name)||i(o)}),a}function orderModifiers(e){var t=order(e);return modifierPhases.reduce(function(r,a){return r.concat(t.filter(function(i){return i.phase===a}))},[])}function debounce$1(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function mergeByName(e){var t=e.reduce(function(r,a){var i=r[a.name];return r[a.name]=i?Object.assign({},i,a,{options:Object.assign({},i.options,a.options),data:Object.assign({},i.data,a.data)}):a,r},{});return Object.keys(t).map(function(r){return t[r]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}function popperGenerator(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,a=r===void 0?[]:r,i=t.defaultOptions,o=i===void 0?DEFAULT_OPTIONS:i;return function(c,f,d){d===void 0&&(d=o);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,o),modifiersData:{},elements:{reference:c,popper:f},attributes:{},styles:{}},m=[],h=!1,_={state:p,setOptions:function(g){var D=typeof g=="function"?g(p.options):g;y(),p.options=Object.assign({},o,p.options,D),p.scrollParents={reference:isElement$1(c)?listScrollParents(c):c.contextElement?listScrollParents(c.contextElement):[],popper:listScrollParents(f)};var O=orderModifiers(mergeByName([].concat(a,p.options.modifiers)));return p.orderedModifiers=O.filter(function(b){return b.enabled}),v(),_.update()},forceUpdate:function(){if(!h){var g=p.elements,D=g.reference,O=g.popper;if(areValidElements(D,O)){p.rects={reference:getCompositeRect(D,getOffsetParent(O),p.options.strategy==="fixed"),popper:getLayoutRect(O)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(F){return p.modifiersData[F.name]=Object.assign({},F.data)});for(var b=0;b<p.orderedModifiers.length;b++){if(p.reset===!0){p.reset=!1,b=-1;continue}var T=p.orderedModifiers[b],w=T.fn,k=T.options,C=k===void 0?{}:k,S=T.name;typeof w=="function"&&(p=w({state:p,options:C,name:S,instance:_})||p)}}}},update:debounce$1(function(){return new Promise(function($){_.forceUpdate(),$(p)})}),destroy:function(){y(),h=!0}};if(!areValidElements(c,f))return _;_.setOptions(d).then(function($){!h&&d.onFirstUpdate&&d.onFirstUpdate($)});function v(){p.orderedModifiers.forEach(function($){var g=$.name,D=$.options,O=D===void 0?{}:D,b=$.effect;if(typeof b=="function"){var T=b({state:p,name:g,instance:_,options:O}),w=function(){};m.push(T||w)}})}function y(){m.forEach(function($){return $()}),m=[]}return _}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers}),BOX_CLASS="tippy-box",CONTENT_CLASS="tippy-content",BACKDROP_CLASS="tippy-backdrop",ARROW_CLASS="tippy-arrow",SVG_ARROW_CLASS="tippy-svg-arrow",TOUCH_OPTIONS={passive:!0,capture:!0},TIPPY_DEFAULT_APPEND_TO=function(){return document.body};function getValueAtIndexOrReturn(e,t,r){if(Array.isArray(e)){var a=e[t];return a??(Array.isArray(r)?r[t]:r)}return e}function isType(e,t){var r={}.toString.call(e);return r.indexOf("[object")===0&&r.indexOf(t+"]")>-1}function invokeWithArgsOrReturn(e,t){return typeof e=="function"?e.apply(void 0,t):e}function debounce(e,t){if(t===0)return e;var r;return function(a){clearTimeout(r),r=setTimeout(function(){e(a)},t)}}function splitBySpaces(e){return e.split(/\s+/).filter(Boolean)}function normalizeToArray(e){return[].concat(e)}function pushIfUnique(e,t){e.indexOf(t)===-1&&e.push(t)}function unique(e){return e.filter(function(t,r){return e.indexOf(t)===r})}function getBasePlacement(e){return e.split("-")[0]}function arrayFrom(e){return[].slice.call(e)}function removeUndefinedProps(e){return Object.keys(e).reduce(function(t,r){return e[r]!==void 0&&(t[r]=e[r]),t},{})}function div(){return document.createElement("div")}function isElement(e){return["Element","Fragment"].some(function(t){return isType(e,t)})}function isNodeList(e){return isType(e,"NodeList")}function isMouseEvent(e){return isType(e,"MouseEvent")}function isReferenceElement(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function getArrayOfElements(e){return isElement(e)?[e]:isNodeList(e)?arrayFrom(e):Array.isArray(e)?e:arrayFrom(document.querySelectorAll(e))}function setTransitionDuration(e,t){e.forEach(function(r){r&&(r.style.transitionDuration=t+"ms")})}function setVisibilityState(e,t){e.forEach(function(r){r&&r.setAttribute("data-state",t)})}function getOwnerDocument(e){var t,r=normalizeToArray(e),a=r[0];return a!=null&&(t=a.ownerDocument)!=null&&t.body?a.ownerDocument:document}function isCursorOutsideInteractiveBorder(e,t){var r=t.clientX,a=t.clientY;return e.every(function(i){var o=i.popperRect,u=i.popperState,c=i.props,f=c.interactiveBorder,d=getBasePlacement(u.placement),p=u.modifiersData.offset;if(!p)return!0;var m=d==="bottom"?p.top.y:0,h=d==="top"?p.bottom.y:0,_=d==="right"?p.left.x:0,v=d==="left"?p.right.x:0,y=o.top-a+m>f,$=a-o.bottom-h>f,g=o.left-r+_>f,D=r-o.right-v>f;return y||$||g||D})}function updateTransitionEndListener(e,t,r){var a=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){e[a](i,r)})}function actualContains(e,t){for(var r=t;r;){var a;if(e.contains(r))return!0;r=r.getRootNode==null||(a=r.getRootNode())==null?void 0:a.host}return!1}var currentInput={isTouch:!1},lastMouseMoveTime=0;function onDocumentTouchStart(){currentInput.isTouch||(currentInput.isTouch=!0,window.performance&&document.addEventListener("mousemove",onDocumentMouseMove))}function onDocumentMouseMove(){var e=performance.now();e-lastMouseMoveTime<20&&(currentInput.isTouch=!1,document.removeEventListener("mousemove",onDocumentMouseMove)),lastMouseMoveTime=e}function onWindowBlur(){var e=document.activeElement;if(isReferenceElement(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function bindGlobalEventListeners(){document.addEventListener("touchstart",onDocumentTouchStart,TOUCH_OPTIONS),window.addEventListener("blur",onWindowBlur)}var isBrowser=typeof window<"u"&&typeof document<"u",isIE11=isBrowser?!!window.msCrypto:!1,pluginProps={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},renderProps={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},defaultProps=Object.assign({appendTo:TIPPY_DEFAULT_APPEND_TO,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},pluginProps,renderProps),defaultKeys=Object.keys(defaultProps),setDefaultProps=function(t){var r=Object.keys(t);r.forEach(function(a){defaultProps[a]=t[a]})};function getExtendedPassedProps(e){var t=e.plugins||[],r=t.reduce(function(a,i){var o=i.name,u=i.defaultValue;if(o){var c;a[o]=e[o]!==void 0?e[o]:(c=defaultProps[o])!=null?c:u}return a},{});return Object.assign({},e,r)}function getDataAttributeProps(e,t){var r=t?Object.keys(getExtendedPassedProps(Object.assign({},defaultProps,{plugins:t}))):defaultKeys,a=r.reduce(function(i,o){var u=(e.getAttribute("data-tippy-"+o)||"").trim();if(!u)return i;if(o==="content")i[o]=u;else try{i[o]=JSON.parse(u)}catch{i[o]=u}return i},{});return a}function evaluateProps(e,t){var r=Object.assign({},t,{content:invokeWithArgsOrReturn(t.content,[e])},t.ignoreAttributes?{}:getDataAttributeProps(e,t.plugins));return r.aria=Object.assign({},defaultProps.aria,r.aria),r.aria={expanded:r.aria.expanded==="auto"?t.interactive:r.aria.expanded,content:r.aria.content==="auto"?t.interactive?null:"describedby":r.aria.content},r}var innerHTML=function(){return"innerHTML"};function dangerouslySetInnerHTML(e,t){e[innerHTML()]=t}function createArrowElement(e){var t=div();return e===!0?t.className=ARROW_CLASS:(t.className=SVG_ARROW_CLASS,isElement(e)?t.appendChild(e):dangerouslySetInnerHTML(t,e)),t}function setContent(e,t){isElement(t.content)?(dangerouslySetInnerHTML(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?dangerouslySetInnerHTML(e,t.content):e.textContent=t.content)}function getChildren(e){var t=e.firstElementChild,r=arrayFrom(t.children);return{box:t,content:r.find(function(a){return a.classList.contains(CONTENT_CLASS)}),arrow:r.find(function(a){return a.classList.contains(ARROW_CLASS)||a.classList.contains(SVG_ARROW_CLASS)}),backdrop:r.find(function(a){return a.classList.contains(BACKDROP_CLASS)})}}function render(e){var t=div(),r=div();r.className=BOX_CLASS,r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1");var a=div();a.className=CONTENT_CLASS,a.setAttribute("data-state","hidden"),setContent(a,e.props),t.appendChild(r),r.appendChild(a),i(e.props,e.props);function i(o,u){var c=getChildren(t),f=c.box,d=c.content,p=c.arrow;u.theme?f.setAttribute("data-theme",u.theme):f.removeAttribute("data-theme"),typeof u.animation=="string"?f.setAttribute("data-animation",u.animation):f.removeAttribute("data-animation"),u.inertia?f.setAttribute("data-inertia",""):f.removeAttribute("data-inertia"),f.style.maxWidth=typeof u.maxWidth=="number"?u.maxWidth+"px":u.maxWidth,u.role?f.setAttribute("role",u.role):f.removeAttribute("role"),(o.content!==u.content||o.allowHTML!==u.allowHTML)&&setContent(d,e.props),u.arrow?p?o.arrow!==u.arrow&&(f.removeChild(p),f.appendChild(createArrowElement(u.arrow))):f.appendChild(createArrowElement(u.arrow)):p&&f.removeChild(p)}return{popper:t,onUpdate:i}}render.$$tippy=!0;var idCounter=1,mouseMoveListeners=[],mountedInstances=[];function createTippy(e,t){var r=evaluateProps(e,Object.assign({},defaultProps,getExtendedPassedProps(removeUndefinedProps(t)))),a,i,o,u=!1,c=!1,f=!1,d=!1,p,m,h,_=[],v=debounce(ke,r.interactiveDebounce),y,$=idCounter++,g=null,D=unique(r.plugins),O={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},b={id:$,reference:e,popper:div(),popperInstance:g,props:r,state:O,plugins:D,clearDelayTimeouts:$e,setProps:Y,setContent:W,show:fe,hide:he,hideWithInteractivity:oe,enable:ye,disable:ce,unmount:Te,destroy:ue};if(!r.render)return b;var T=r.render(b),w=T.popper,k=T.onUpdate;w.setAttribute("data-tippy-root",""),w.id="tippy-"+b.id,b.popper=w,e._tippy=b,w._tippy=b;var C=D.map(function(q){return q.fn(b)}),S=e.hasAttribute("aria-expanded");return ne(),I(),H(),P("onCreate",[b]),r.showOnCreate&&_e(),w.addEventListener("mouseenter",function(){b.props.interactive&&b.state.isVisible&&b.clearDelayTimeouts()}),w.addEventListener("mouseleave",function(){b.props.interactive&&b.props.trigger.indexOf("mouseenter")>=0&&A().addEventListener("mousemove",v)}),b;function F(){var q=b.props.touch;return Array.isArray(q)?q:[q,0]}function E(){return F()[0]==="hold"}function U(){var q;return!!((q=b.props.render)!=null&&q.$$tippy)}function R(){return y||e}function A(){var q=R().parentNode;return q?getOwnerDocument(q):document}function M(){return getChildren(w)}function V(q){return b.state.isMounted&&!b.state.isVisible||currentInput.isTouch||p&&p.type==="focus"?0:getValueAtIndexOrReturn(b.props.delay,q?0:1,defaultProps.delay)}function H(q){q===void 0&&(q=!1),w.style.pointerEvents=b.props.interactive&&!q?"":"none",w.style.zIndex=""+b.props.zIndex}function P(q,K,ae){if(ae===void 0&&(ae=!0),C.forEach(function(we){we[q]&&we[q].apply(we,K)}),ae){var pe;(pe=b.props)[q].apply(pe,K)}}function G(){var q=b.props.aria;if(q.content){var K="aria-"+q.content,ae=w.id,pe=normalizeToArray(b.props.triggerTarget||e);pe.forEach(function(we){var Ae=we.getAttribute(K);if(b.state.isVisible)we.setAttribute(K,Ae?Ae+" "+ae:ae);else{var Oe=Ae&&Ae.replace(ae,"").trim();Oe?we.setAttribute(K,Oe):we.removeAttribute(K)}})}}function I(){if(!(S||!b.props.aria.expanded)){var q=normalizeToArray(b.props.triggerTarget||e);q.forEach(function(K){b.props.interactive?K.setAttribute("aria-expanded",b.state.isVisible&&K===R()?"true":"false"):K.removeAttribute("aria-expanded")})}}function z(){A().removeEventListener("mousemove",v),mouseMoveListeners=mouseMoveListeners.filter(function(q){return q!==v})}function N(q){if(!(currentInput.isTouch&&(f||q.type==="mousedown"))){var K=q.composedPath&&q.composedPath()[0]||q.target;if(!(b.props.interactive&&actualContains(w,K))){if(normalizeToArray(b.props.triggerTarget||e).some(function(ae){return actualContains(ae,K)})){if(currentInput.isTouch||b.state.isVisible&&b.props.trigger.indexOf("click")>=0)return}else P("onClickOutside",[b,q]);b.props.hideOnClick===!0&&(b.clearDelayTimeouts(),b.hide(),c=!0,setTimeout(function(){c=!1}),b.state.isMounted||X())}}}function B(){f=!0}function ie(){f=!1}function L(){var q=A();q.addEventListener("mousedown",N,!0),q.addEventListener("touchend",N,TOUCH_OPTIONS),q.addEventListener("touchstart",ie,TOUCH_OPTIONS),q.addEventListener("touchmove",B,TOUCH_OPTIONS)}function X(){var q=A();q.removeEventListener("mousedown",N,!0),q.removeEventListener("touchend",N,TOUCH_OPTIONS),q.removeEventListener("touchstart",ie,TOUCH_OPTIONS),q.removeEventListener("touchmove",B,TOUCH_OPTIONS)}function Z(q,K){x(q,function(){!b.state.isVisible&&w.parentNode&&w.parentNode.contains(w)&&K()})}function j(q,K){x(q,K)}function x(q,K){var ae=M().box;function pe(we){we.target===ae&&(updateTransitionEndListener(ae,"remove",pe),K())}if(q===0)return K();updateTransitionEndListener(ae,"remove",m),updateTransitionEndListener(ae,"add",pe),m=pe}function J(q,K,ae){ae===void 0&&(ae=!1);var pe=normalizeToArray(b.props.triggerTarget||e);pe.forEach(function(we){we.addEventListener(q,K,ae),_.push({node:we,eventType:q,handler:K,options:ae})})}function ne(){E()&&(J("touchstart",me,{passive:!0}),J("touchend",se,{passive:!0})),splitBySpaces(b.props.trigger).forEach(function(q){if(q!=="manual")switch(J(q,me),q){case"mouseenter":J("mouseleave",se);break;case"focus":J(isIE11?"focusout":"blur",De);break;case"focusin":J("focusout",De);break}})}function ve(){_.forEach(function(q){var K=q.node,ae=q.eventType,pe=q.handler,we=q.options;K.removeEventListener(ae,pe,we)}),_=[]}function me(q){var K,ae=!1;if(!(!b.state.isEnabled||Q(q)||c)){var pe=((K=p)==null?void 0:K.type)==="focus";p=q,y=q.currentTarget,I(),!b.state.isVisible&&isMouseEvent(q)&&mouseMoveListeners.forEach(function(we){return we(q)}),q.type==="click"&&(b.props.trigger.indexOf("mouseenter")<0||u)&&b.props.hideOnClick!==!1&&b.state.isVisible?ae=!0:_e(q),q.type==="click"&&(u=!ae),ae&&!pe&&be(q)}}function ke(q){var K=q.target,ae=R().contains(K)||w.contains(K);if(!(q.type==="mousemove"&&ae)){var pe=ee().concat(w).map(function(we){var Ae,Oe=we._tippy,Ee=(Ae=Oe.popperInstance)==null?void 0:Ae.state;return Ee?{popperRect:we.getBoundingClientRect(),popperState:Ee,props:r}:null}).filter(Boolean);isCursorOutsideInteractiveBorder(pe,q)&&(z(),be(q))}}function se(q){var K=Q(q)||b.props.trigger.indexOf("click")>=0&&u;if(!K){if(b.props.interactive){b.hideWithInteractivity(q);return}be(q)}}function De(q){b.props.trigger.indexOf("focusin")<0&&q.target!==R()||b.props.interactive&&q.relatedTarget&&w.contains(q.relatedTarget)||be(q)}function Q(q){return currentInput.isTouch?E()!==q.type.indexOf("touch")>=0:!1}function de(){ge();var q=b.props,K=q.popperOptions,ae=q.placement,pe=q.offset,we=q.getReferenceClientRect,Ae=q.moveTransition,Oe=U()?getChildren(w).arrow:null,Ee=we?{getBoundingClientRect:we,contextElement:we.contextElement||R()}:e,Me={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(le){var Se=le.state;if(U()){var Fe=M(),Le=Fe.box;["placement","reference-hidden","escaped"].forEach(function(Ie){Ie==="placement"?Le.setAttribute("data-placement",Se.placement):Se.attributes.popper["data-popper-"+Ie]?Le.setAttribute("data-"+Ie,""):Le.removeAttribute("data-"+Ie)}),Se.attributes.popper={}}}},Ne=[{name:"offset",options:{offset:pe}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Ae}},Me];U()&&Oe&&Ne.push({name:"arrow",options:{element:Oe,padding:3}}),Ne.push.apply(Ne,(K==null?void 0:K.modifiers)||[]),b.popperInstance=createPopper(Ee,w,Object.assign({},K,{placement:ae,onFirstUpdate:h,modifiers:Ne}))}function ge(){b.popperInstance&&(b.popperInstance.destroy(),b.popperInstance=null)}function te(){var q=b.props.appendTo,K,ae=R();b.props.interactive&&q===TIPPY_DEFAULT_APPEND_TO||q==="parent"?K=ae.parentNode:K=invokeWithArgsOrReturn(q,[ae]),K.contains(w)||K.appendChild(w),b.state.isMounted=!0,de()}function ee(){return arrayFrom(w.querySelectorAll("[data-tippy-root]"))}function _e(q){b.clearDelayTimeouts(),q&&P("onTrigger",[b,q]),L();var K=V(!0),ae=F(),pe=ae[0],we=ae[1];currentInput.isTouch&&pe==="hold"&&we&&(K=we),K?a=setTimeout(function(){b.show()},K):b.show()}function be(q){if(b.clearDelayTimeouts(),P("onUntrigger",[b,q]),!b.state.isVisible){X();return}if(!(b.props.trigger.indexOf("mouseenter")>=0&&b.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(q.type)>=0&&u)){var K=V(!1);K?i=setTimeout(function(){b.state.isVisible&&b.hide()},K):o=requestAnimationFrame(function(){b.hide()})}}function ye(){b.state.isEnabled=!0}function ce(){b.hide(),b.state.isEnabled=!1}function $e(){clearTimeout(a),clearTimeout(i),cancelAnimationFrame(o)}function Y(q){if(!b.state.isDestroyed){P("onBeforeUpdate",[b,q]),ve();var K=b.props,ae=evaluateProps(e,Object.assign({},K,removeUndefinedProps(q),{ignoreAttributes:!0}));b.props=ae,ne(),K.interactiveDebounce!==ae.interactiveDebounce&&(z(),v=debounce(ke,ae.interactiveDebounce)),K.triggerTarget&&!ae.triggerTarget?normalizeToArray(K.triggerTarget).forEach(function(pe){pe.removeAttribute("aria-expanded")}):ae.triggerTarget&&e.removeAttribute("aria-expanded"),I(),H(),k&&k(K,ae),b.popperInstance&&(de(),ee().forEach(function(pe){requestAnimationFrame(pe._tippy.popperInstance.forceUpdate)})),P("onAfterUpdate",[b,q])}}function W(q){b.setProps({content:q})}function fe(){var q=b.state.isVisible,K=b.state.isDestroyed,ae=!b.state.isEnabled,pe=currentInput.isTouch&&!b.props.touch,we=getValueAtIndexOrReturn(b.props.duration,0,defaultProps.duration);if(!(q||K||ae||pe)&&!R().hasAttribute("disabled")&&(P("onShow",[b],!1),b.props.onShow(b)!==!1)){if(b.state.isVisible=!0,U()&&(w.style.visibility="visible"),H(),L(),b.state.isMounted||(w.style.transition="none"),U()){var Ae=M(),Oe=Ae.box,Ee=Ae.content;setTransitionDuration([Oe,Ee],0)}h=function(){var Ne;if(!(!b.state.isVisible||d)){if(d=!0,w.offsetHeight,w.style.transition=b.props.moveTransition,U()&&b.props.animation){var Ce=M(),le=Ce.box,Se=Ce.content;setTransitionDuration([le,Se],we),setVisibilityState([le,Se],"visible")}G(),I(),pushIfUnique(mountedInstances,b),(Ne=b.popperInstance)==null||Ne.forceUpdate(),P("onMount",[b]),b.props.animation&&U()&&j(we,function(){b.state.isShown=!0,P("onShown",[b])})}},te()}}function he(){var q=!b.state.isVisible,K=b.state.isDestroyed,ae=!b.state.isEnabled,pe=getValueAtIndexOrReturn(b.props.duration,1,defaultProps.duration);if(!(q||K||ae)&&(P("onHide",[b],!1),b.props.onHide(b)!==!1)){if(b.state.isVisible=!1,b.state.isShown=!1,d=!1,u=!1,U()&&(w.style.visibility="hidden"),z(),X(),H(!0),U()){var we=M(),Ae=we.box,Oe=we.content;b.props.animation&&(setTransitionDuration([Ae,Oe],pe),setVisibilityState([Ae,Oe],"hidden"))}G(),I(),b.props.animation?U()&&Z(pe,b.unmount):b.unmount()}}function oe(q){A().addEventListener("mousemove",v),pushIfUnique(mouseMoveListeners,v),v(q)}function Te(){b.state.isVisible&&b.hide(),b.state.isMounted&&(ge(),ee().forEach(function(q){q._tippy.unmount()}),w.parentNode&&w.parentNode.removeChild(w),mountedInstances=mountedInstances.filter(function(q){return q!==b}),b.state.isMounted=!1,P("onHidden",[b]))}function ue(){b.state.isDestroyed||(b.clearDelayTimeouts(),b.unmount(),ve(),delete e._tippy,b.state.isDestroyed=!0,P("onDestroy",[b]))}}function tippy(e,t){t===void 0&&(t={});var r=defaultProps.plugins.concat(t.plugins||[]);bindGlobalEventListeners();var a=Object.assign({},t,{plugins:r}),i=getArrayOfElements(e),o=i.reduce(function(u,c){var f=c&&createTippy(c,a);return f&&u.push(f),u},[]);return isElement(e)?o[0]:o}tippy.defaultProps=defaultProps;tippy.setDefaultProps=setDefaultProps;tippy.currentInput=currentInput;Object.assign({},applyStyles$1,{effect:function(t){var r=t.state,a={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(r.elements.popper.style,a.popper),r.styles=a,r.elements.arrow&&Object.assign(r.elements.arrow.style,a.arrow)}});tippy.setDefaultProps({render});function get_each_context$d(e,t,r){const a=e.slice();return a[18]=t[r],a[19]=t,a[20]=r,a}function get_each_context_1$8(e,t,r){const a=e.slice();return a[21]=t[r][0],a[22]=t[r][1],a[23]=t,a[24]=r,a}function get_each_context_2$6(e,t,r){const a=e.slice();return a[25]=t[r],a[27]=r,a}function create_if_block_2$5(e){let t,r,a,i;function o(...u){return e[11](e[18],e[21],...u)}return{c(){t=element("span"),t.textContent="",attr(t,"class","addbutton hoverbutton showContextMenu svelte-1vynm26")},m(u,c){insert(u,t,c),a||(i=[listen(t,"click",o),action_destroyer(r=e[1].call(null,t,{content:"Edit the created column, "+e[18].data[e[21]].name,theme:"Ancir"}))],a=!0)},p(u,c){e=u,r&&is_function(r.update)&&c&1&&r.update.call(null,{content:"Edit the created column, "+e[18].data[e[21]].name,theme:"Ancir"})},d(u){u&&detach(t),a=!1,run_all(i)}}}function create_else_block$7(e){let t,r=e[18].data[e[21]].data[0]+"",a,i,o=e[18].data[e[21]].data[1]+"",u,c;return{c(){t=text("Data: "),a=text(r),i=text(","),u=text(o),c=text("...")},m(f,d){insert(f,t,d),insert(f,a,d),insert(f,i,d),insert(f,u,d),insert(f,c,d)},p(f,d){d&1&&r!==(r=f[18].data[f[21]].data[0]+"")&&set_data(a,r),d&1&&o!==(o=f[18].data[f[21]].data[1]+"")&&set_data(u,o)},i:noop,o:noop,d(f){f&&(detach(t),detach(a),detach(i),detach(u),detach(c))}}}function create_if_block_1$b(e){let t,r=e[18].data[e[21]].data[0]+"",a,i,o=e[18].data[e[21]].data[1]+"",u,c,f,d,p,m,h=ensure_array_like(e[18].data[e[21]].processSteps),_=[];for(let y=0;y<h.length;y+=1)_[y]=create_each_block_2$6(get_each_context_2$6(e,h,y));const v=y=>transition_out(_[y],1,1,()=>{_[y]=null});return{c(){t=text("Data: "),a=text(r),i=text(","),u=text(o),c=text(`...
              `),f=element("br"),d=space();for(let y=0;y<_.length;y+=1)_[y].c();p=empty$1()},m(y,$){insert(y,t,$),insert(y,a,$),insert(y,i,$),insert(y,u,$),insert(y,c,$),insert(y,f,$),insert(y,d,$);for(let g=0;g<_.length;g+=1)_[g]&&_[g].m(y,$);insert(y,p,$),m=!0},p(y,$){if((!m||$&1)&&r!==(r=y[18].data[y[21]].data[0]+"")&&set_data(a,r),(!m||$&1)&&o!==(o=y[18].data[y[21]].data[1]+"")&&set_data(u,o),$&49){h=ensure_array_like(y[18].data[y[21]].processSteps);let g;for(g=0;g<h.length;g+=1){const D=get_each_context_2$6(y,h,g);_[g]?(_[g].p(D,$),transition_in(_[g],1)):(_[g]=create_each_block_2$6(D),_[g].c(),transition_in(_[g],1),_[g].m(p.parentNode,p))}for(group_outros(),g=h.length;g<_.length;g+=1)v(g);check_outros()}},i(y){if(!m){for(let $=0;$<h.length;$+=1)transition_in(_[$]);m=!0}},o(y){_=_.filter(Boolean);for(let $=0;$<_.length;$+=1)transition_out(_[$]);m=!1},d(y){y&&(detach(t),detach(a),detach(i),detach(u),detach(c),detach(f),detach(d),detach(p)),destroy_each(_,y)}}}function create_if_block$k(e){let t,r=e[18].data[e[21]].timeFormat+"",a,i,o,u,c=e[18].data[e[21]].data[0]+"",f,d,p=e[18].data[e[21]].data[1]+"",m,h,_,v,y=e[18].data[e[21]].timeData[0]+"",$,g,D=e[18].data[e[21]].timeData[1]+"",O,b;return{c(){t=text("Format: "),a=text(r),i=space(),o=element("br"),u=text(`
              Data: `),f=text(c),d=text(","),m=text(p),h=text(`...
              `),_=element("br"),v=text(`
              Time: `),$=text(y),g=text(","),O=text(D),b=text("...")},m(T,w){insert(T,t,w),insert(T,a,w),insert(T,i,w),insert(T,o,w),insert(T,u,w),insert(T,f,w),insert(T,d,w),insert(T,m,w),insert(T,h,w),insert(T,_,w),insert(T,v,w),insert(T,$,w),insert(T,g,w),insert(T,O,w),insert(T,b,w)},p(T,w){w&1&&r!==(r=T[18].data[T[21]].timeFormat+"")&&set_data(a,r),w&1&&c!==(c=T[18].data[T[21]].data[0]+"")&&set_data(f,c),w&1&&p!==(p=T[18].data[T[21]].data[1]+"")&&set_data(m,p),w&1&&y!==(y=T[18].data[T[21]].timeData[0]+"")&&set_data($,y),w&1&&D!==(D=T[18].data[T[21]].timeData[1]+"")&&set_data(O,D)},i:noop,o:noop,d(T){T&&(detach(t),detach(a),detach(i),detach(o),detach(u),detach(f),detach(d),detach(m),detach(h),detach(_),detach(v),detach($),detach(g),detach(O),detach(b))}}}function create_each_block_2$6(e){let t,r,a=e[25].process+"",i,o,u,c,f,d,p,m,h;function _(...g){return e[12](e[18],e[21],e[27],...g)}function v(...g){return e[13](e[18],e[21],e[27],...g)}var y=componentMap[e[25].process].component;function $(g,D){return{props:{paramsStart:g[25].parameters,typeTime:{type:g[0][g[20]].data[g[21]].type},dataIN:g[0][g[20]].data[g[21]].data}}}return y&&(d=construct_svelte_component(y,$(e)),d.$on("update",v)),{c(){t=element("details"),r=element("summary"),i=text(a),o=space(),u=element("div"),u.textContent="",c=space(),f=element("div"),d&&create_component(d.$$.fragment),attr(u,"class","deleteProcess hoverbutton svelte-1vynm26"),attr(r,"class","svelte-1vynm26"),attr(f,"class","processDetails svelte-1vynm26"),t.open=!0,attr(t,"class","process svelte-1vynm26")},m(g,D){insert(g,t,D),append(t,r),append(r,i),append(r,o),append(r,u),append(t,c),append(t,f),d&&mount_component(d,f,null),p=!0,m||(h=listen(u,"click",_),m=!0)},p(g,D){if(e=g,(!p||D&1)&&a!==(a=e[25].process+"")&&set_data(i,a),D&1&&y!==(y=componentMap[e[25].process].component)){if(d){group_outros();const O=d;transition_out(O.$$.fragment,1,0,()=>{destroy_component(O,1)}),check_outros()}y?(d=construct_svelte_component(y,$(e)),d.$on("update",v),create_component(d.$$.fragment),transition_in(d.$$.fragment,1),mount_component(d,f,null)):d=null}else if(y){const O={};D&1&&(O.paramsStart=e[25].parameters),D&1&&(O.typeTime={type:e[0][e[20]].data[e[21]].type}),D&1&&(O.dataIN=e[0][e[20]].data[e[21]].data),d.$set(O)}},i(g){p||(d&&transition_in(d.$$.fragment,g),p=!0)},o(g){d&&transition_out(d.$$.fragment,g),p=!1},d(g){g&&detach(t),d&&destroy_component(d),m=!1,h()}}}function create_each_block_1$8(e,t){let r,a,i,o,u,c=t[21].includes("processed"),f,d,p,m,h;function _(O){t[10](O,t[18],t[21])}let v={};t[18].data[t[21]].name!==void 0&&(v.value=t[18].data[t[21]].name),i=new InPlaceEdit({props:v}),binding_callbacks.push(()=>bind(i,"value",_));let y=c&&create_if_block_2$5(t);const $=[create_if_block$k,create_if_block_1$b,create_else_block$7],g=[];function D(O,b){return b&1&&(d=null),O[18].data[O[21]].type=="time"?0:(d==null&&(d=!!O[21].includes("processed")),d?1:2)}return p=D(t,-1),m=g[p]=$[p](t),{key:e,first:null,c(){r=element("details"),a=element("summary"),create_component(i.$$.fragment),u=space(),y&&y.c(),f=space(),m.c(),attr(a,"class","svelte-1vynm26"),attr(r,"closed",""),attr(r,"class","field svelte-1vynm26"),this.first=r},m(O,b){insert(O,r,b),append(r,a),mount_component(i,a,null),append(a,u),y&&y.m(a,null),append(r,f),g[p].m(r,null),h=!0},p(O,b){t=O;const T={};!o&&b&1&&(o=!0,T.value=t[18].data[t[21]].name,add_flush_callback(()=>o=!1)),i.$set(T),b&1&&(c=t[21].includes("processed")),c?y?y.p(t,b):(y=create_if_block_2$5(t),y.c(),y.m(a,null)):y&&(y.d(1),y=null);let w=p;p=D(t,b),p===w?g[p].p(t,b):(group_outros(),transition_out(g[w],1,1,()=>{g[w]=null}),check_outros(),m=g[p],m?m.p(t,b):(m=g[p]=$[p](t),m.c()),transition_in(m,1),m.m(r,null))},i(O){h||(transition_in(i.$$.fragment,O),transition_in(m),h=!0)},o(O){transition_out(i.$$.fragment,O),transition_out(m),h=!1},d(O){O&&detach(r),destroy_component(i),y&&y.d(),g[p].d()}}}function create_each_block$d(e){let t,r,a,i,o,u,c,f,d,p,m,h=[],_=new Map,v,y,$,g;function D(C){e[7](C,e[18])}let O={};e[18].displayName!==void 0&&(O.value=e[18].displayName),a=new InPlaceEdit({props:O}),binding_callbacks.push(()=>bind(a,"value",D));function b(...C){return e[8](e[18],...C)}function T(...C){return e[9](e[18],...C)}let w=ensure_array_like(Object.entries(e[18].data));const k=C=>C[21];for(let C=0;C<w.length;C+=1){let S=get_each_context_1$8(e,w,C),F=k(S);_.set(F,h[C]=create_each_block_1$8(F,S))}return{c(){t=element("details"),r=element("summary"),create_component(a.$$.fragment),o=space(),u=element("div"),u.textContent="",f=space(),d=element("div"),d.textContent="",m=space();for(let C=0;C<h.length;C+=1)h[C].c();v=space(),attr(u,"class","deleteTable hoverbutton svelte-1vynm26"),attr(d,"class","viewTable hoverbutton svelte-1vynm26"),attr(r,"class","svelte-1vynm26"),t.open=!0,attr(t,"class","dataTable svelte-1vynm26")},m(C,S){insert(C,t,S),append(t,r),mount_component(a,r,null),append(r,o),append(r,u),append(r,f),append(r,d),append(t,m);for(let F=0;F<h.length;F+=1)h[F]&&h[F].m(t,null);append(t,v),y=!0,$||(g=[listen(u,"click",b),action_destroyer(c=e[1].call(null,u,{content:"Delete "+e[18].displayName,theme:"Ancir"})),listen(d,"click",T),action_destroyer(p=e[1].call(null,d,{content:"View/edit "+e[18].displayName+" as table",theme:"Ancir"}))],$=!0)},p(C,S){e=C;const F={};!i&&S&1&&(i=!0,F.value=e[18].displayName,add_flush_callback(()=>i=!1)),a.$set(F),c&&is_function(c.update)&&S&1&&c.update.call(null,{content:"Delete "+e[18].displayName,theme:"Ancir"}),p&&is_function(p.update)&&S&1&&p.update.call(null,{content:"View/edit "+e[18].displayName+" as table",theme:"Ancir"}),S&113&&(w=ensure_array_like(Object.entries(e[18].data)),group_outros(),h=update_keyed_each(h,S,k,1,e,w,_,t,outro_and_destroy_block,create_each_block_1$8,v,get_each_context_1$8),check_outros())},i(C){if(!y){transition_in(a.$$.fragment,C);for(let S=0;S<w.length;S+=1)transition_in(h[S]);y=!0}},o(C){transition_out(a.$$.fragment,C);for(let S=0;S<h.length;S+=1)transition_out(h[S]);y=!1},d(C){C&&detach(t),destroy_component(a);for(let S=0;S<h.length;S+=1)h[S].d();$=!1,run_all(g)}}}function create_fragment$s(e){let t,r,a,i,o,u=ensure_array_like(e[0]),c=[];for(let d=0;d<u.length;d+=1)c[d]=create_each_block$d(get_each_context$d(e,u,d));const f=d=>transition_out(c[d],1,1,()=>{c[d]=null});return{c(){t=element("div"),r=element("h1"),r.textContent="Data Tables",a=space(),i=element("div");for(let d=0;d<c.length;d+=1)c[d].c();attr(i,"class","dataTree scroll-shadows svelte-1vynm26"),attr(t,"id","dataTreeContainer"),set_style(t,"overflow","auto"),set_style(t,"height","100%"),set_style(t,"width","auto")},m(d,p){insert(d,t,p),append(t,r),append(t,a),append(t,i);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(i,null);o=!0},p(d,[p]){if(p&125){u=ensure_array_like(d[0]);let m;for(m=0;m<u.length;m+=1){const h=get_each_context$d(d,u,m);c[m]?(c[m].p(h,p),transition_in(c[m],1)):(c[m]=create_each_block$d(h),c[m].c(),transition_in(c[m],1),c[m].m(i,null))}for(group_outros(),m=u.length;m<c.length;m+=1)f(m);check_outros()}},i(d){if(!o){for(let p=0;p<u.length;p+=1)transition_in(c[p]);o=!0}},o(d){c=c.filter(Boolean);for(let p=0;p<c.length;p+=1)transition_out(c[p]);o=!1},d(d){d&&detach(t),destroy_each(c,d)}}}function instance$s(e,t,r){let a,i,o,u,c;component_subscribe(e,contextMenu,T=>r(14,a=T)),component_subscribe(e,data,T=>r(0,i=T)),component_subscribe(e,dataIDsforTables,T=>r(15,o=T)),component_subscribe(e,activeTableTab,T=>r(16,u=T)),component_subscribe(e,showalldata,T=>r(17,c=T));function f(T,w){let k=tippy(T,w);return{update:C=>{k.setProps(C)},destroy:()=>{k.destroy()}}}function d(T){const w=o.indexOf(T);w<0?(o.push(T),dataIDsforTables.set(o),c.push(!1),showalldata.set(c),set_store_value(activeTableTab,u=o.length-1,u)):set_store_value(activeTableTab,u=w,u)}function p(T){set_store_value(dataIDsforTables,o=o.filter(k=>k!==T),o),set_store_value(activeTableTab,u=o.length>0?0:-1,u),graphs.update(k=>k.map(C=>{const S=C.sourceData.filter(F=>F.tableID!==T);return{...C,sourceData:S}}));let w=i.findIndex(k=>k.id===T);data.update(k=>(k.splice(w,1),k))}function m(T,w,k,C){let S=i.findIndex(F=>F.id===T);set_store_value(data,i[S].data[w].processSteps[k].parameters=C,i),updateDataProcess(T,w)}function h(T,w,k){let C=i.findIndex(S=>S.id===T);i[C].data[w].processSteps.splice(k,1),updateDataProcess(T,w),i[C].data[w].processSteps.length===0&&set_store_value(data,i[C].data[w].processedData=[],i)}function _(T,w){set_store_value(contextMenu,a={labels:[],funcs:[]},a);const k=getFieldType(T,w),C=Object.keys(componentMap);for(let S=0;S<C.length;S++)componentMap[C[S]].forTypes.includes(k)&&(set_store_value(contextMenu,a.labels[S]=C[S],a),set_store_value(contextMenu,a.funcs[S]=()=>addProcessToData(C[S],T,w),a))}function v(T,w){e.$$.not_equal(w.displayName,T)&&(w.displayName=T,data.set(i))}const y=(T,w)=>{w.preventDefault(),p(T.id)},$=(T,w)=>{w.preventDefault(),d(T.id)};function g(T,w,k){e.$$.not_equal(w.data[k].name,T)&&(w.data[k].name=T,data.set(i))}return[i,f,d,p,m,h,_,v,y,$,g,(T,w,k)=>{k.preventDefault(),_(T.id,w)},(T,w,k,C)=>{C.preventDefault(),h(T.id,w,k)},(T,w,k,C)=>m(T.id,w,k,C.detail.params)]}class DataTree extends SvelteComponent{constructor(t){super(),init(this,t,instance$s,create_fragment$s,safe_not_equal,{})}}function exportSVG(){if(get_store_value(activeGraphTab)<0){console.log("Nothing to export");return}const e=document.getElementById("thePlot").querySelector("svg").outerHTML,t=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),r=URL.createObjectURL(t),a=document.createElement("a");a.href=r,a.download=get_store_value(graphTabs)[get_store_value(activeGraphTab)].name+".svg",document.body.appendChild(a),a.click(),URL.revokeObjectURL(r)}function create_fragment$r(e){let t,r,a;return{c(){t=element("div"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" stroke-width="1.5" stroke="currentColor"><path d="M2 2L2 18L18 18" stroke="#292929" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',attr(t,"class","button svelte-owaav"),attr(t,"id","scaleRaw")},m(i,o){insert(i,t,o),r||(a=[listen(t,"click",e[3]),action_destroyer(e[0].call(null,t,{content:"Auto scale axes",theme:"Ancir"}))],r=!0)},p:noop,i:noop,o:noop,d(i){i&&detach(t),r=!1,run_all(a)}}}function instance$r(e,t,r){let a,i,o,u;component_subscribe(e,addedNewChartData,m=>r(2,a=m)),component_subscribe(e,activeGraphTab,m=>r(4,i=m)),component_subscribe(e,graphs,m=>r(5,o=m)),component_subscribe(e,data,m=>r(6,u=m));function c(m,h){let _=tippy(m,h);return{update:v=>{_.setProps(v)},destroy:()=>{_.destroy()}}}function f(){var O;let m=1/0,h=-1/0,_=1/0,v=-1/0,y=[],$=[],g,D;if(((O=o[i])==null?void 0:O.graph)==="Raw"){o[i].sourceData.forEach((b,T)=>{u.findIndex(w=>w.id===b.tableID),b.chartvalues.x.field!=""&&(g=getDataFromSource(T,b.chartvalues.x)),b.chartvalues.y.field!=""&&(D=getDataFromSource(T,b.chartvalues.y)),y.push(g),$.push(D)});for(let b=0;b<y.length;b++){const T=y[b].filter(k=>!isNaN(k));min$1(T)<m&&(m=min$1(T)),max$1(T)>h&&(h=max$1(T));const w=$[b].filter(k=>!isNaN(k));min$1(w)<_&&(_=min$1(w)),max$1(w)>v&&(v=max$1(w))}set_store_value(graphs,o[i].params.xDomainMin=m,o),set_store_value(graphs,o[i].params.xDomainMax=h,o),set_store_value(graphs,o[i].params.yDomainMin=_,o),set_store_value(graphs,o[i].params.yDomainMax=v,o)}}function d(m){m&&(f(),set_store_value(addedNewChartData,a=!1,a))}const p=m=>f();return e.$$.update=()=>{e.$$.dirty&4&&d(a)},[c,f,a,p]}class Raw_tools extends SvelteComponent{constructor(t){super(),init(this,t,instance$r,create_fragment$r,safe_not_equal,{})}}const Raw_tools$1=Object.freeze(Object.defineProperty({__proto__:null,default:Raw_tools},Symbol.toStringTag,{value:"Module"}));function create_if_block$j(e){let t,r;return t=new Raw_tools({}),{c(){create_component(t.$$.fragment)},m(a,i){mount_component(t,a,i),r=!0},i(a){r||(transition_in(t.$$.fragment,a),r=!0)},o(a){transition_out(t.$$.fragment,a),r=!1},d(a){destroy_component(t,a)}}}function create_fragment$q(e){var h;let t,r,a,i,o,u,c,f,d,p,m=((h=e[1][e[0]])==null?void 0:h.graph)==="Raw"&&create_if_block$j();return{c(){t=element("div"),m&&m.c(),r=space(),a=element("div"),a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M304 192v32c0 6.6-5.4 12-12 12h-56v56c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-56h-56c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h56v-56c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v56h56c6.6 0 12 5.4 12 12zm201 284.7L476.7 505c-9.4 9.4-24.6 9.4-33.9 0L343 405.3c-4.5-4.5-7-10.6-7-17V372c-35.3 27.6-79.7 44-128 44C93.1 416 0 322.9 0 208S93.1 0 208 0s208 93.1 208 208c0 48.3-16.4 92.7-44 128h16.3c6.4 0 12.5 2.5 17 7l99.7 99.7c9.3 9.4 9.3 24.6 0 34zM344 208c0-75.2-60.8-136-136-136S72 132.8 72 208s60.8 136 136 136 136-60.8 136-136z" style="transform: scale(0.04); fill: var(--font-color); "></path></svg>',i=space(),o=element("div"),o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M304 192v32c0 6.6-5.4 12-12 12H124c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm201 284.7L476.7 505c-9.4 9.4-24.6 9.4-33.9 0L343 405.3c-4.5-4.5-7-10.6-7-17V372c-35.3 27.6-79.7 44-128 44C93.1 416 0 322.9 0 208S93.1 0 208 0s208 93.1 208 208c0 48.3-16.4 92.7-44 128h16.3c6.4 0 12.5 2.5 17 7l99.7 99.7c9.3 9.4 9.3 24.6 0 34zM344 208c0-75.2-60.8-136-136-136S72 132.8 72 208s60.8 136 136 136 136-60.8 136-136z" style="transform: scale(0.04); fill: var(--font-color); "></path></svg>',u=space(),c=element("div"),c.textContent="",attr(a,"class","button svelte-10g9qi8"),attr(a,"id","Zoom in"),attr(o,"class","button svelte-10g9qi8"),attr(o,"id","Zoom in"),attr(c,"class","button svelte-10g9qi8"),attr(c,"id","export"),attr(t,"id","chartTools"),attr(t,"class","svelte-10g9qi8")},m(_,v){insert(_,t,v),m&&m.m(t,null),append(t,r),append(t,a),append(t,i),append(t,o),append(t,u),append(t,c),f=!0,d||(p=[listen(a,"click",e[4]),action_destroyer(e[2].call(null,a,{content:"Zoom in",theme:"Ancir"})),listen(o,"click",e[5]),action_destroyer(e[2].call(null,o,{content:"Zoom out",theme:"Ancir"})),listen(c,"click",e[6]),action_destroyer(e[2].call(null,c,{content:"Save",theme:"Ancir"}))],d=!0)},p(_,[v]){var y;((y=_[1][_[0]])==null?void 0:y.graph)==="Raw"?m?v&3&&transition_in(m,1):(m=create_if_block$j(),m.c(),transition_in(m,1),m.m(t,r)):m&&(group_outros(),transition_out(m,1,1,()=>{m=null}),check_outros())},i(_){f||(transition_in(m),f=!0)},o(_){transition_out(m),f=!1},d(_){_&&detach(t),m&&m.d(),d=!1,run_all(p)}}}function instance$q(e,t,r){let a,i;component_subscribe(e,activeGraphTab,p=>r(0,a=p)),component_subscribe(e,graphs,p=>r(1,i=p));function o(p,m){let h=tippy(p,m);return{update:_=>{h.setProps(_)},destroy:()=>{h.destroy()}}}function u(p="in"){const m=document.getElementById("svgContainer");var _=parseFloat(m.style.transform.slice(m.style.transform.indexOf("scale")+6));p==="in"?_+=.1:_-=.1,set_store_value(graphs,i[a].zoom=_,i),m.style.transform="scale("+_+")",m.style.width=""}return[a,i,o,u,p=>u("in"),()=>u("out"),()=>exportSVG()]}class Charttools extends SvelteComponent{constructor(t){super(),init(this,t,instance$q,create_fragment$q,safe_not_equal,{})}}const Charttools$1=Object.freeze(Object.defineProperty({__proto__:null,default:Charttools},Symbol.toStringTag,{value:"Module"}));function get_each_context$c(e,t,r){const a=e.slice();return a[8]=t[r],a[9]=t,a[10]=r,a}function create_else_block$6(e){let t,r,a,i,o,u=ensure_array_like(e[0]),c=[];for(let d=0;d<u.length;d+=1)c[d]=create_each_block$c(get_each_context$c(e,u,d));const f=d=>transition_out(c[d],1,1,()=>{c[d]=null});return i=new Charttools({}),{c(){t=element("nav"),r=element("ul");for(let d=0;d<c.length;d+=1)c[d].c();a=space(),create_component(i.$$.fragment),attr(r,"class","svelte-1gfrvzx"),attr(t,"class","svelte-1gfrvzx")},m(d,p){insert(d,t,p),append(t,r);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(r,null);insert(d,a,p),mount_component(i,d,p),o=!0},p(d,p){if(p&15){u=ensure_array_like(d[0]);let m;for(m=0;m<u.length;m+=1){const h=get_each_context$c(d,u,m);c[m]?(c[m].p(h,p),transition_in(c[m],1)):(c[m]=create_each_block$c(h),c[m].c(),transition_in(c[m],1),c[m].m(r,null))}for(group_outros(),m=u.length;m<c.length;m+=1)f(m);check_outros()}},i(d){if(!o){for(let p=0;p<u.length;p+=1)transition_in(c[p]);transition_in(i.$$.fragment,d),o=!0}},o(d){c=c.filter(Boolean);for(let p=0;p<c.length;p+=1)transition_out(c[p]);transition_out(i.$$.fragment,d),o=!1},d(d){d&&(detach(t),detach(a)),destroy_each(c,d),destroy_component(i,d)}}}function create_if_block$i(e){let t;return{c(){t=element("h3"),t.textContent="Need to add a chart"},m(r,a){insert(r,t,a)},p:noop,i:noop,o:noop,d(r){r&&detach(t)}}}function create_each_block$c(e){let t,r,a,i,o,u,c,f,d,p,m;function h($){e[4]($,e[8])}let _={};e[8].name!==void 0&&(_.value=e[8].name),a=new InPlaceEdit({props:_}),binding_callbacks.push(()=>bind(a,"value",h));function v(){return e[5](e[10])}function y(){return e[6](e[10])}return{c(){t=element("li"),r=element("span"),create_component(a.$$.fragment),o=space(),u=element("button"),u.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="svelte-1gfrvzx"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg>',c=space(),attr(r,"class","tabname svelte-1gfrvzx"),attr(u,"class","closeButton svelte-1gfrvzx"),attr(t,"class",f=null_to_empty(e[1]===e[10]?"active":"")+" svelte-1gfrvzx")},m($,g){insert($,t,g),append(t,r),mount_component(a,r,null),append(t,o),append(t,u),append(t,c),d=!0,p||(m=[listen(r,"click",v),listen(u,"click",y)],p=!0)},p($,g){e=$;const D={};!i&&g&1&&(i=!0,D.value=e[8].name,add_flush_callback(()=>i=!1)),a.$set(D),(!d||g&2&&f!==(f=null_to_empty(e[1]===e[10]?"active":"")+" svelte-1gfrvzx"))&&attr(t,"class",f)},i($){d||(transition_in(a.$$.fragment,$),d=!0)},o($){transition_out(a.$$.fragment,$),d=!1},d($){$&&detach(t),destroy_component(a),p=!1,run_all(m)}}}function create_fragment$p(e){let t,r,a,i;const o=[create_if_block$i,create_else_block$6],u=[];function c(f,d){return f[1]<0?0:1}return r=c(e),a=u[r]=o[r](e),{c(){t=element("div"),a.c(),attr(t,"id","graphTabs"),set_style(t,"margin","0 1em"),attr(t,"class","svelte-1gfrvzx")},m(f,d){insert(f,t,d),u[r].m(t,null),i=!0},p(f,[d]){let p=r;r=c(f),r===p?u[r].p(f,d):(group_outros(),transition_out(u[p],1,1,()=>{u[p]=null}),check_outros(),a=u[r],a?a.p(f,d):(a=u[r]=o[r](f),a.c()),transition_in(a,1),a.m(t,null))},i(f){i||(transition_in(a),i=!0)},o(f){transition_out(a),i=!1},d(f){f&&detach(t),u[r].d()}}}function instance$p(e,t,r){let a,i,o;component_subscribe(e,graphTabs,m=>r(0,a=m)),component_subscribe(e,graphs,m=>r(7,i=m)),component_subscribe(e,activeGraphTab,m=>r(1,o=m));function u(m){set_store_value(activeGraphTab,o=m,o)}function c(m){i.splice(m,1),a.splice(m,1),set_store_value(activeGraphTab,o=i.length-1,o),console.log(o),graphs.set(i),graphTabs.set(a)}function f(m,h){e.$$.not_equal(h.name,m)&&(h.name=m,graphTabs.set(a))}return[a,o,u,c,f,m=>u(m),m=>c(m)]}class GraphTabs extends SvelteComponent{constructor(t){super(),init(this,t,instance$p,create_fragment$p,safe_not_equal,{})}}function create_else_block_1(e){let t=e[1][e[0]].graph+"",r;return{c(){r=text(t)},m(a,i){insert(a,r,i)},p(a,i){i&3&&t!==(t=a[1][a[0]].graph+"")&&set_data(r,t)},i:noop,o:noop,d(a){a&&detach(r)}}}function create_if_block_3$4(e){let t,r,a;var i=graphMap[e[1][e[0]].graph].graph;function o(u,c){return{}}return i&&(t=construct_svelte_component(i,o())),{c(){t&&create_component(t.$$.fragment),r=empty$1()},m(u,c){t&&mount_component(t,u,c),insert(u,r,c),a=!0},p(u,c){if(c&3&&i!==(i=graphMap[u[1][u[0]].graph].graph)){if(t){group_outros();const f=t;transition_out(f.$$.fragment,1,0,()=>{destroy_component(f,1)}),check_outros()}i?(t=construct_svelte_component(i,o()),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,r.parentNode,r)):t=null}},i(u){a||(t&&transition_in(t.$$.fragment,u),a=!0)},o(u){t&&transition_out(t.$$.fragment,u),a=!1},d(u){u&&detach(r),t&&destroy_component(t,u)}}}function create_if_block_2$4(e){return{c:noop,m:noop,p:noop,i:noop,o:noop,d:noop}}function create_default_slot_3$2(e){let t,r,a,i,o,u;t=new GraphTabs({});const c=[create_if_block_2$4,create_if_block_3$4,create_else_block_1],f=[];function d(p,m){return p[0]<0?0:p[1][p[0]].graph in graphMap?1:2}return i=d(e),o=f[i]=c[i](e),{c(){create_component(t.$$.fragment),r=space(),a=element("div"),o.c(),attr(a,"id","thePlot"),set_style(a,"height","calc(100% - 4em)"),set_style(a,"overflow","auto"),set_style(a,"width","auto")},m(p,m){mount_component(t,p,m),insert(p,r,m),insert(p,a,m),f[i].m(a,null),u=!0},p(p,m){let h=i;i=d(p),i===h?f[i].p(p,m):(group_outros(),transition_out(f[h],1,1,()=>{f[h]=null}),check_outros(),o=f[i],o?o.p(p,m):(o=f[i]=c[i](p),o.c()),transition_in(o,1),o.m(a,null))},i(p){u||(transition_in(t.$$.fragment,p),transition_in(o),u=!0)},o(p){transition_out(t.$$.fragment,p),transition_out(o),u=!1},d(p){p&&(detach(r),detach(a)),destroy_component(t,p),f[i].d()}}}function create_else_block$5(e){let t=JSON.stringify(e[1][e[0]].sourceData)+"",r;return{c(){r=text(t)},m(a,i){insert(a,r,i)},p(a,i){i&3&&t!==(t=JSON.stringify(a[1][a[0]].sourceData)+"")&&set_data(r,t)},i:noop,o:noop,d(a){a&&detach(r)}}}function create_if_block_1$a(e){let t,r,a,i,o;var u=graphMap[e[1][e[0]].graph].controls;function c(f,d){return{}}return u&&(i=construct_svelte_component(u,c())),{c(){t=element("div"),r=element("div"),r.innerHTML="<h1>Controls</h1>",a=space(),i&&create_component(i.$$.fragment),set_style(r,"display","flex"),set_style(r,"min-width","200px"),attr(t,"id","chartControlsTree"),set_style(t,"height","100%"),set_style(t,"width","auto"),set_style(t,"overflow","auto")},m(f,d){insert(f,t,d),append(t,r),append(t,a),i&&mount_component(i,t,null),o=!0},p(f,d){if(d&3&&u!==(u=graphMap[f[1][f[0]].graph].controls)){if(i){group_outros();const p=i;transition_out(p.$$.fragment,1,0,()=>{destroy_component(p,1)}),check_outros()}u?(i=construct_svelte_component(u,c()),create_component(i.$$.fragment),transition_in(i.$$.fragment,1),mount_component(i,t,null)):i=null}},i(f){o||(i&&transition_in(i.$$.fragment,f),o=!0)},o(f){i&&transition_out(i.$$.fragment,f),o=!1},d(f){f&&detach(t),i&&destroy_component(i)}}}function create_if_block$h(e){return{c:noop,m:noop,p:noop,i:noop,o:noop,d:noop}}function create_default_slot_2$2(e){let t,r,a,i;const o=[create_if_block$h,create_if_block_1$a,create_else_block$5],u=[];function c(f,d){return f[0]<0?0:f[1][f[0]].graph in graphMap?1:2}return t=c(e),r=u[t]=o[t](e),{c(){r.c(),a=empty$1()},m(f,d){u[t].m(f,d),insert(f,a,d),i=!0},p(f,d){let p=t;t=c(f),t===p?u[t].p(f,d):(group_outros(),transition_out(u[p],1,1,()=>{u[p]=null}),check_outros(),r=u[t],r?r.p(f,d):(r=u[t]=o[t](f),r.c()),transition_in(r,1),r.m(a.parentNode,a))},i(f){i||(transition_in(r),i=!0)},o(f){transition_out(r),i=!1},d(f){f&&detach(a),u[t].d(f)}}}function create_default_slot_1$2(e){let t,r,a,i;return t=new Pane({props:{$$slots:{default:[create_default_slot_3$2]},$$scope:{ctx:e}}}),a=new Pane({props:{size:25,$$slots:{default:[create_default_slot_2$2]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment),r=space(),create_component(a.$$.fragment)},m(o,u){mount_component(t,o,u),insert(o,r,u),mount_component(a,o,u),i=!0},p(o,u){const c={};u&7&&(c.$$scope={dirty:u,ctx:o}),t.$set(c);const f={};u&7&&(f.$$scope={dirty:u,ctx:o}),a.$set(f)},i(o){i||(transition_in(t.$$.fragment,o),transition_in(a.$$.fragment,o),i=!0)},o(o){transition_out(t.$$.fragment,o),transition_out(a.$$.fragment,o),i=!1},d(o){o&&detach(r),destroy_component(t,o),destroy_component(a,o)}}}function create_default_slot$6(e){let t,r;return t=new Splitpanes({props:{theme:"modern-theme",style:"height: 100%;",pushOtherPanes:!1,dblClickSplitter:!1,$$slots:{default:[create_default_slot_1$2]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},m(a,i){mount_component(t,a,i),r=!0},p(a,i){const o={};i&7&&(o.$$scope={dirty:i,ctx:a}),t.$set(o)},i(a){r||(transition_in(t.$$.fragment,a),r=!0)},o(a){transition_out(t.$$.fragment,a),r=!1},d(a){destroy_component(t,a)}}}function create_fragment$o(e){let t,r;return t=new Pane({props:{size:80,$$slots:{default:[create_default_slot$6]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},m(a,i){mount_component(t,a,i),r=!0},p(a,[i]){const o={};i&7&&(o.$$scope={dirty:i,ctx:a}),t.$set(o)},i(a){r||(transition_in(t.$$.fragment,a),r=!0)},o(a){transition_out(t.$$.fragment,a),r=!1},d(a){destroy_component(t,a)}}}function instance$o(e,t,r){let a,i;return component_subscribe(e,activeGraphTab,o=>r(0,a=o)),component_subscribe(e,graphs,o=>r(1,i=o)),[a,i]}class GraphMaster extends SvelteComponent{constructor(t){super(),init(this,t,instance$o,create_fragment$o,safe_not_equal,{})}}function get_each_context$b(e,t,r){const a=e.slice();return a[26]=t[r],a[27]=t,a[28]=r,a}function get_each_context_1$7(e,t,r){const a=e.slice();return a[29]=t[r],a[30]=t,a[31]=r,a}function get_each_context_2$5(e,t,r){const a=e.slice();return a[29]=t[r],a[32]=t,a[33]=r,a}function get_each_context_3$4(e,t,r){const a=e.slice();return a[34]=t[r],a[35]=t,a[36]=r,a}function create_else_block$4(e){let t,r,a,i=ensure_array_like(e[2]),o=[];for(let c=0;c<i.length;c+=1)o[c]=create_each_block_3$4(get_each_context_3$4(e,i,c));const u=c=>transition_out(o[c],1,1,()=>{o[c]=null});return{c(){t=element("nav"),r=element("ul");for(let c=0;c<o.length;c+=1)o[c].c();attr(r,"class","svelte-4dtisg"),attr(t,"class","svelte-4dtisg")},m(c,f){insert(c,t,f),append(t,r);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(r,null);a=!0},p(c,f){if(f[0]&3086){i=ensure_array_like(c[2]);let d;for(d=0;d<i.length;d+=1){const p=get_each_context_3$4(c,i,d);o[d]?(o[d].p(p,f),transition_in(o[d],1)):(o[d]=create_each_block_3$4(p),o[d].c(),transition_in(o[d],1),o[d].m(r,null))}for(group_outros(),d=i.length;d<o.length;d+=1)u(d);check_outros()}},i(c){if(!a){for(let f=0;f<i.length;f+=1)transition_in(o[f]);a=!0}},o(c){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)transition_out(o[f]);a=!1},d(c){c&&detach(t),destroy_each(o,c)}}}function create_if_block_3$3(e){let t;return{c(){t=element("h3"),t.textContent="Need to add a table"},m(r,a){insert(r,t,a)},p:noop,i:noop,o:noop,d(r){r&&detach(t)}}}function create_each_block_3$4(e){let t,r,a,i,o,u,c,f,d,p,m;function h(...g){return e[14](e[36],...g)}function _(g){e[13](g,e[36])}let v={};e[3][e[3].findIndex(h)].displayName!==void 0&&(v.value=e[3][e[3].findIndex(h)].displayName),a=new InPlaceEdit({props:v}),binding_callbacks.push(()=>bind(a,"value",_));function y(){return e[15](e[36])}function $(){return e[16](e[36])}return{c(){t=element("li"),r=element("span"),create_component(a.$$.fragment),o=space(),u=element("button"),u.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 svelte-4dtisg"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg>',c=space(),attr(r,"class","tabname svelte-4dtisg"),attr(u,"class","closeButton svelte-4dtisg"),attr(t,"class",f=null_to_empty(e[1]===e[36]?"active":"")+" svelte-4dtisg")},m(g,D){insert(g,t,D),append(t,r),mount_component(a,r,null),append(t,o),append(t,u),append(t,c),d=!0,p||(m=[listen(u,"click",y),listen(t,"click",$)],p=!0)},p(g,D){e=g;const O={};!i&&D[0]&12&&(i=!0,O.value=e[3][e[3].findIndex(h)].displayName,add_flush_callback(()=>i=!1)),a.$set(O),(!d||D[0]&2&&f!==(f=null_to_empty(e[1]===e[36]?"active":"")+" svelte-4dtisg"))&&attr(t,"class",f)},i(g){d||(transition_in(a.$$.fragment,g),d=!0)},o(g){transition_out(a.$$.fragment,g),d=!1},d(g){g&&detach(t),destroy_component(a),p=!1,run_all(m)}}}function create_if_block$g(e){let t,r,a,i,o,u,c,f,d,p,m,h,_,v,y,$,g,D,O,b,T,w,k,C,S,F,E,U,R,A=ensure_array_like(Object.keys(e[0].data)),M=[];for(let I=0;I<A.length;I+=1)M[I]=create_each_block_2$5(get_each_context_2$5(e,A,I));const V=I=>transition_out(M[I],1,1,()=>{M[I]=null});let H=ensure_array_like(range(Math.max(0,e[4]-1),Math.min(e[5]-1,e[6]))),P=[];for(let I=0;I<H.length;I+=1)P[I]=create_each_block$b(get_each_context$b(e,H,I));const G=I=>transition_out(P[I],1,1,()=>{P[I]=null});return{c(){t=element("main"),r=element("div"),a=text("Show rows "),i=element("input"),u=text(`
      to
      `),c=element("input"),d=text(`
      of `),p=text(e[6]),m=space(),h=element("span"),_=space(),v=element("div"),v.textContent="",$=space(),g=element("table"),D=element("thead"),O=element("tr"),b=element("td"),T=space();for(let I=0;I<M.length;I+=1)M[I].c();w=space(),k=element("td"),C=element("button"),C.textContent="+",S=space(),F=element("tbody");for(let I=0;I<P.length;I+=1)P[I].c();attr(i,"type","number"),attr(i,"id","min"),attr(i,"min","0"),attr(i,"max",o=e[5]-1),attr(c,"type","number"),attr(c,"id","min"),attr(c,"min",f=e[4]+1),attr(c,"max",e[6]),set_style(h,"margin","0px",1),set_style(h,"background","var(--bg-color)",1),set_style(h,"padding","5px",1),attr(h,"class","addbutton hoverbutton svelte-4dtisg"),attr(v,"class","hoverbutton"),set_style(v,"float","right"),attr(r,"id","editTablePagination"),attr(b,"class","svelte-4dtisg"),attr(k,"class","svelte-4dtisg"),attr(g,"class","svelte-4dtisg")},m(I,z){insert(I,t,z),append(t,r),append(r,a),append(r,i),set_input_value(i,e[4]),append(r,u),append(r,c),set_input_value(c,e[5]),append(r,d),append(r,p),append(r,m),append(r,h),append(r,_),append(r,v),append(t,$),append(t,g),append(g,D),append(D,O),append(O,b),append(O,T);for(let N=0;N<M.length;N+=1)M[N]&&M[N].m(O,null);append(O,w),append(O,k),append(k,C),append(g,S),append(g,F);for(let N=0;N<P.length;N+=1)P[N]&&P[N].m(F,null);E=!0,U||(R=[listen(i,"input",e[17]),listen(c,"input",e[18]),listen(v,"click",e[19]),action_destroyer(y=e[7].call(null,v,{content:"Save "+e[3][e[3].findIndex(e[20])].displayName+" as CSV",theme:"Ancir"})),listen(C,"click",e[8])],U=!0)},p(I,z){if((!E||z[0]&32&&o!==(o=I[5]-1))&&attr(i,"max",o),z[0]&16&&to_number(i.value)!==I[4]&&set_input_value(i,I[4]),(!E||z[0]&16&&f!==(f=I[4]+1))&&attr(c,"min",f),(!E||z[0]&64)&&attr(c,"max",I[6]),z[0]&32&&to_number(c.value)!==I[5]&&set_input_value(c,I[5]),(!E||z[0]&64)&&set_data(p,I[6]),y&&is_function(y.update)&&z[0]&14&&y.update.call(null,{content:"Save "+I[3][I[3].findIndex(I[20])].displayName+" as CSV",theme:"Ancir"}),z[0]&513){A=ensure_array_like(Object.keys(I[0].data));let N;for(N=0;N<A.length;N+=1){const B=get_each_context_2$5(I,A,N);M[N]?(M[N].p(B,z),transition_in(M[N],1)):(M[N]=create_each_block_2$5(B),M[N].c(),transition_in(M[N],1),M[N].m(O,w))}for(group_outros(),N=A.length;N<M.length;N+=1)V(N);check_outros()}if(z[0]&625){H=ensure_array_like(range(Math.max(0,I[4]-1),Math.min(I[5]-1,I[6])));let N;for(N=0;N<H.length;N+=1){const B=get_each_context$b(I,H,N);P[N]?(P[N].p(B,z),transition_in(P[N],1)):(P[N]=create_each_block$b(B),P[N].c(),transition_in(P[N],1),P[N].m(F,null))}for(group_outros(),N=H.length;N<P.length;N+=1)G(N);check_outros()}},i(I){if(!E){for(let z=0;z<A.length;z+=1)transition_in(M[z]);for(let z=0;z<H.length;z+=1)transition_in(P[z]);E=!0}},o(I){M=M.filter(Boolean);for(let z=0;z<M.length;z+=1)transition_out(M[z]);P=P.filter(Boolean);for(let z=0;z<P.length;z+=1)transition_out(P[z]);E=!1},d(I){I&&detach(t),destroy_each(M,I),destroy_each(P,I),U=!1,run_all(R)}}}function create_if_block_2$3(e){let t,r,a=e[0].data[e[29]].name+"",i,o;return{c(){t=element("td"),r=element("i"),i=text(a),o=text("*"),attr(t,"class","svelte-4dtisg")},m(u,c){insert(u,t,c),append(t,r),append(r,i),append(r,o)},p(u,c){c[0]&1&&a!==(a=u[0].data[u[29]].name+"")&&set_data(i,a)},d(u){u&&detach(t)}}}function create_each_block_2$5(e){let t,r,a,i,o,u;function c(m){e[21](m,e[29])}function f(...m){return e[22](e[29],...m)}let d={};e[0].data[e[29]].name!==void 0&&(d.value=e[0].data[e[29]].name),r=new InPlaceEdit({props:d}),binding_callbacks.push(()=>bind(r,"value",c)),r.$on("submit",f);let p=e[0].data[e[29]].type=="time"&&create_if_block_2$3(e);return{c(){t=element("td"),create_component(r.$$.fragment),i=space(),p&&p.c(),o=empty$1(),attr(t,"class","svelte-4dtisg")},m(m,h){insert(m,t,h),mount_component(r,t,null),insert(m,i,h),p&&p.m(m,h),insert(m,o,h),u=!0},p(m,h){e=m;const _={};!a&&h[0]&1&&(a=!0,_.value=e[0].data[e[29]].name,add_flush_callback(()=>a=!1)),r.$set(_),e[0].data[e[29]].type=="time"?p?p.p(e,h):(p=create_if_block_2$3(e),p.c(),p.m(o.parentNode,o)):p&&(p.d(1),p=null)},i(m){u||(transition_in(r.$$.fragment,m),u=!0)},o(m){transition_out(r.$$.fragment,m),u=!1},d(m){m&&(detach(t),detach(i),detach(o)),destroy_component(r),p&&p.d(m)}}}function create_if_block_1$9(e){let t,r,a=e[0].data[e[29]].timeData[e[26]]+"",i;return{c(){t=element("td"),r=element("i"),i=text(a),attr(t,"class","svelte-4dtisg")},m(o,u){insert(o,t,u),append(t,r),append(r,i)},p(o,u){u[0]&113&&a!==(a=o[0].data[o[29]].timeData[o[26]]+"")&&set_data(i,a)},d(o){o&&detach(t)}}}function create_each_block_1$7(e){let t,r,a,i,o,u;function c(m){e[23](m,e[29],e[26])}function f(...m){return e[24](e[26],e[31],...m)}let d={};e[0].data[e[29]].data[e[26]]!==void 0&&(d.value=e[0].data[e[29]].data[e[26]]),r=new InPlaceEdit({props:d}),binding_callbacks.push(()=>bind(r,"value",c)),r.$on("submit",f);let p=e[0].data[e[29]].type=="time"&&create_if_block_1$9(e);return{c(){t=element("td"),create_component(r.$$.fragment),i=space(),p&&p.c(),o=empty$1(),attr(t,"class","svelte-4dtisg")},m(m,h){insert(m,t,h),mount_component(r,t,null),insert(m,i,h),p&&p.m(m,h),insert(m,o,h),u=!0},p(m,h){e=m;const _={};!a&&h[0]&113&&(a=!0,_.value=e[0].data[e[29]].data[e[26]],add_flush_callback(()=>a=!1)),r.$set(_),e[0].data[e[29]].type=="time"?p?p.p(e,h):(p=create_if_block_1$9(e),p.c(),p.m(o.parentNode,o)):p&&(p.d(1),p=null)},i(m){u||(transition_in(r.$$.fragment,m),u=!0)},o(m){transition_out(r.$$.fragment,m),u=!1},d(m){m&&(detach(t),detach(i),detach(o)),destroy_component(r),p&&p.d(m)}}}function create_each_block$b(e){let t,r,a,i=e[26]+1+"",o,u,c,f,d=ensure_array_like(Object.keys(e[0].data)),p=[];for(let h=0;h<d.length;h+=1)p[h]=create_each_block_1$7(get_each_context_1$7(e,d,h));const m=h=>transition_out(p[h],1,1,()=>{p[h]=null});return{c(){t=element("tr"),r=element("td"),a=element("i"),o=text(i),u=space();for(let h=0;h<p.length;h+=1)p[h].c();c=space(),attr(r,"class","svelte-4dtisg")},m(h,_){insert(h,t,_),append(t,r),append(r,a),append(a,o),append(t,u);for(let v=0;v<p.length;v+=1)p[v]&&p[v].m(t,null);append(t,c),f=!0},p(h,_){if((!f||_[0]&112)&&i!==(i=h[26]+1+"")&&set_data(o,i),_[0]&625){d=ensure_array_like(Object.keys(h[0].data));let v;for(v=0;v<d.length;v+=1){const y=get_each_context_1$7(h,d,v);p[v]?(p[v].p(y,_),transition_in(p[v],1)):(p[v]=create_each_block_1$7(y),p[v].c(),transition_in(p[v],1),p[v].m(t,c))}for(group_outros(),v=d.length;v<p.length;v+=1)m(v);check_outros()}},i(h){if(!f){for(let _=0;_<d.length;_+=1)transition_in(p[_]);f=!0}},o(h){p=p.filter(Boolean);for(let _=0;_<p.length;_+=1)transition_out(p[_]);f=!1},d(h){h&&detach(t),destroy_each(p,h)}}}function create_fragment$n(e){let t,r,a,i,o,u;const c=[create_if_block_3$3,create_else_block$4],f=[];function d(m,h){return m[1]<0?0:1}r=d(e),a=f[r]=c[r](e);let p=e[1]>=0&&create_if_block$g(e);return{c(){t=element("div"),a.c(),i=space(),p&&p.c(),o=empty$1(),attr(t,"id","tableTabs"),set_style(t,"margin","0 1em"),attr(t,"class","svelte-4dtisg")},m(m,h){insert(m,t,h),f[r].m(t,null),insert(m,i,h),p&&p.m(m,h),insert(m,o,h),u=!0},p(m,h){let _=r;r=d(m),r===_?f[r].p(m,h):(group_outros(),transition_out(f[_],1,1,()=>{f[_]=null}),check_outros(),a=f[r],a?a.p(m,h):(a=f[r]=c[r](m),a.c()),transition_in(a,1),a.m(t,null)),m[1]>=0?p?(p.p(m,h),h[0]&2&&transition_in(p,1)):(p=create_if_block$g(m),p.c(),transition_in(p,1),p.m(o.parentNode,o)):p&&(group_outros(),transition_out(p,1,1,()=>{p=null}),check_outros())},i(m){u||(transition_in(a),transition_in(p),u=!0)},o(m){transition_out(a),transition_out(p),u=!1},d(m){m&&(detach(t),detach(i),detach(o)),f[r].d(),p&&p.d(m)}}}function range(e,t){const r=[];let a=e;for(;a<=t;)r.push(a),a+=1;return r}function instance$n(e,t,r){let a,i,o,u,c,f;component_subscribe(e,activeTableTab,R=>r(1,o=R)),component_subscribe(e,dataIDsforTables,R=>r(2,u=R)),component_subscribe(e,data,R=>r(3,c=R)),component_subscribe(e,showalldata,R=>r(25,f=R));function d(R,A){let M=tippy(R,A);return{update:V=>{M.setProps(V)},destroy:()=>{M.destroy()}}}function p(){const R=range(0,i),A={name:"test",type:"value",originalData:R,processSteps:[],data:R},M="processed_"+(Object.keys(c.find(V=>V.id===u[o]).data).length+1);c.find(V=>V.id===u[o]).data[M]=A,data.set(c),console.log(c)}function m(R,A,M){if(console.log(c.find(V=>V.id===u[o])),A=="heading")c.find(V=>V.id===u[o]).data[M].name=R.detail,data.set(c);else{let V=Object.keys(c.find(H=>H.id===u[o]).data)[M];c.find(H=>H.id===u[o]).data[V].data[A]=R.detail,data.set(c),c.find(H=>H.id===u[o]).data[V].type=="time"&&(console.log("updating the time data also"),c.find(H=>H.id===u[o]).data[V].timeData=forceFormat(c.find(H=>H.id===u[o]).data[V].data,c.find(H=>H.id===u[o]).data[V].timeFormat)),data.set(c)}}let h=1,_=10;function v(R){set_store_value(activeTableTab,o=R,o)}function y(R){u.splice(R,1),dataIDsforTables.set(u),f.splice(R,1),showalldata.set(f),set_store_value(activeTableTab,o=u.length>0?0:-1,o)}function $(){let R=[];R.push(...Object.keys(a.data).flatMap(I=>a.data[I].type==="time"?[a.data[I].name,`${a.data[I].name}_calculated`]:a.data[I].name));let A=[];const M=a.data.time.data.length;for(let I=0;I<M;I++){let z=[];Object.keys(a.data).forEach(N=>{a.data[N].type==="time"?z.push(`"${a.data[N].data[I]}"`,a.data[N].timeData[I]):z.push(a.data[N].data[I])}),A.push(z)}const V=[R.join(","),...A.map(I=>I.join(","))].join(`
`),H=new Blob([V],{type:"text/csv;charset=utf-8;"}),P=document.createElement("a"),G=URL.createObjectURL(H);P.setAttribute("href",G),P.setAttribute("download",`${a.displayName}.csv`),P.style.visibility="hidden",document.body.appendChild(P),P.click(),document.body.removeChild(P)}const g=(R,A)=>A.id===u[R];function D(R,A){e.$$.not_equal(c[c.findIndex(M=>M.id===u[A])].displayName,R)&&(c[c.findIndex(M=>M.id===u[A])].displayName=R,data.set(c))}const O=R=>y(R),b=R=>v(R);function T(){h=to_number(this.value),r(4,h)}function w(){_=to_number(this.value),r(5,_)}const k=()=>$(),C=R=>R.id===u[o];function S(R,A){e.$$.not_equal(a.data[A].name,R)&&(a.data[A].name=R,r(0,a),r(3,c),r(2,u),r(1,o))}const F=(R,A)=>m(A,"heading",R);function E(R,A,M){e.$$.not_equal(a.data[A].data[M],R)&&(a.data[A].data[M]=R,r(0,a),r(3,c),r(2,u),r(1,o))}const U=(R,A,M)=>m(M,R,A);return e.$$.update=()=>{e.$$.dirty[0]&14&&r(0,a=c.find(R=>R.id===u[o])||{data:{}}),e.$$.dirty[0]&1&&r(6,i=a.datalength)},[a,o,u,c,h,_,i,d,p,m,v,y,$,D,g,O,b,T,w,k,C,S,F,E,U]}class TableTabs extends SvelteComponent{constructor(t){super(),init(this,t,instance$n,create_fragment$n,safe_not_equal,{},null,[-1,-1])}}function get_each_context$a(e,t,r){const a=e.slice();return a[10]=t[r],a[11]=t,a[12]=r,a}function create_default_slot_3$1(e){let t,r,a;return r=new TableTabs({}),{c(){t=element("div"),create_component(r.$$.fragment),attr(t,"id","TableMain"),set_style(t,"height","100%"),set_style(t,"width","auto"),set_style(t,"overflow","auto")},m(i,o){insert(i,t,o),mount_component(r,t,null),a=!0},p:noop,i(i){a||(transition_in(r.$$.fragment,i),a=!0)},o(i){transition_out(r.$$.fragment,i),a=!1},d(i){i&&detach(t),destroy_component(r)}}}function create_if_block$f(e){let t,r;return t=new Pane({props:{size:30,$$slots:{default:[create_default_slot_2$1]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},m(a,i){mount_component(t,a,i),r=!0},p(a,i){const o={};i&8195&&(o.$$scope={dirty:i,ctx:a}),t.$set(o)},i(a){r||(transition_in(t.$$.fragment,a),r=!0)},o(a){transition_out(t.$$.fragment,a),r=!1},d(a){destroy_component(t,a)}}}function create_if_block_1$8(e){let t,r=e[1].data[e[10]].name+"",a,i,o,u,c,f,d,p,m=e[1].data[e[10]].recordPeriod.minDiff+"",h,_,v=e[1].data[e[10]].recordPeriod.constant?"equal":"unequal",y,$,g,D;function O(){e[7].call(o,e[10])}function b(...w){return e[8](e[10],...w)}function T(...w){return e[9](e[10],...w)}return{c(){t=element("div"),a=text(r),i=space(),o=element("input"),u=space(),c=element("button"),c.textContent="",f=space(),d=element("div"),p=text("Sampling freq: "),h=text(m),_=text(`
                  hrs,
                  `),y=text(v),$=space(),attr(o,"type","text"),attr(c,"class","guessFmtBtn svelte-1wt1n0s"),set_style(t,"display","flex"),set_style(t,"margin","5px"),set_style(d,"display","flex"),set_style(d,"margin","5px"),set_style(d,"margin-left","1em")},m(w,k){insert(w,t,k),append(t,a),append(t,i),append(t,o),set_input_value(o,e[1].data[e[10]].timeFormat),append(t,u),append(t,c),insert(w,f,k),insert(w,d,k),append(d,p),append(d,h),append(d,_),append(d,y),append(d,$),g||(D=[listen(o,"input",O),listen(o,"change",b),listen(c,"click",T)],g=!0)},p(w,k){e=w,k&2&&r!==(r=e[1].data[e[10]].name+"")&&set_data(a,r),k&2&&o.value!==e[1].data[e[10]].timeFormat&&set_input_value(o,e[1].data[e[10]].timeFormat),k&2&&m!==(m=e[1].data[e[10]].recordPeriod.minDiff+"")&&set_data(h,m),k&2&&v!==(v=e[1].data[e[10]].recordPeriod.constant?"equal":"unequal")&&set_data(y,v)},d(w){w&&(detach(t),detach(f),detach(d)),g=!1,run_all(D)}}}function create_each_block$a(e){let t,r=e[1].data[e[10]].type==="time"&&create_if_block_1$8(e);return{c(){r&&r.c(),t=empty$1()},m(a,i){r&&r.m(a,i),insert(a,t,i)},p(a,i){a[1].data[a[10]].type==="time"?r?r.p(a,i):(r=create_if_block_1$8(a),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(a){a&&detach(t),r&&r.d(a)}}}function create_default_slot_2$1(e){let t,r,a,i,o=e[1].displayName+"",u,c,f,d,p=e[1].importedFrom+"",m,h,_,v,y=e[1].data[Object.keys(e[1].data)[0]].data.length+"",$,g,D=ensure_array_like(Object.keys(e[1].data)),O=[];for(let b=0;b<D.length;b+=1)O[b]=create_each_block$a(get_each_context$a(e,D,b));return{c(){t=element("div"),r=element("div"),a=element("div"),i=text("Data: "),u=text(o),c=space(),f=element("div"),d=text("Imported: "),m=text(p),h=space(),_=element("div"),v=text("Data length: "),$=text(y),g=space();for(let b=0;b<O.length;b+=1)O[b].c();attr(r,"class","tableData"),attr(t,"id","TableMeta"),set_style(t,"height","100%"),set_style(t,"width","auto"),set_style(t,"overflow","auto")},m(b,T){insert(b,t,T),append(t,r),append(r,a),append(a,i),append(a,u),append(r,c),append(r,f),append(f,d),append(f,m),append(r,h),append(r,_),append(_,v),append(_,$),append(r,g);for(let w=0;w<O.length;w+=1)O[w]&&O[w].m(r,null)},p(b,T){if(T&2&&o!==(o=b[1].displayName+"")&&set_data(u,o),T&2&&p!==(p=b[1].importedFrom+"")&&set_data(m,p),T&2&&y!==(y=b[1].data[Object.keys(b[1].data)[0]].data.length+"")&&set_data($,y),T&27){D=ensure_array_like(Object.keys(b[1].data));let w;for(w=0;w<D.length;w+=1){const k=get_each_context$a(b,D,w);O[w]?O[w].p(k,T):(O[w]=create_each_block$a(k),O[w].c(),O[w].m(r,null))}for(;w<O.length;w+=1)O[w].d(1);O.length=D.length}},d(b){b&&detach(t),destroy_each(O,b)}}}function create_default_slot_1$1(e){let t,r,a,i;t=new Pane({props:{$$slots:{default:[create_default_slot_3$1]},$$scope:{ctx:e}}});let o=e[2]&&create_if_block$f(e);return{c(){create_component(t.$$.fragment),r=space(),o&&o.c(),a=empty$1()},m(u,c){mount_component(t,u,c),insert(u,r,c),o&&o.m(u,c),insert(u,a,c),i=!0},p(u,c){const f={};c&8192&&(f.$$scope={dirty:c,ctx:u}),t.$set(f),u[2]?o?(o.p(u,c),c&4&&transition_in(o,1)):(o=create_if_block$f(u),o.c(),transition_in(o,1),o.m(a.parentNode,a)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros())},i(u){i||(transition_in(t.$$.fragment,u),transition_in(o),i=!0)},o(u){transition_out(t.$$.fragment,u),transition_out(o),i=!1},d(u){u&&(detach(r),detach(a)),destroy_component(t,u),o&&o.d(u)}}}function create_default_slot$5(e){let t,r;return t=new Splitpanes({props:{theme:"modern-theme",style:"height: 100%",pushOtherPanes:!1,dblClickSplitter:!1,$$slots:{default:[create_default_slot_1$1]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},m(a,i){mount_component(t,a,i),r=!0},p(a,i){const o={};i&8199&&(o.$$scope={dirty:i,ctx:a}),t.$set(o)},i(a){r||(transition_in(t.$$.fragment,a),r=!0)},o(a){transition_out(t.$$.fragment,a),r=!1},d(a){destroy_component(t,a)}}}function create_fragment$m(e){let t,r;return t=new Pane({props:{$$slots:{default:[create_default_slot$5]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},m(a,i){mount_component(t,a,i),r=!0},p(a,[i]){const o={};i&8199&&(o.$$scope={dirty:i,ctx:a}),t.$set(o)},i(a){r||(transition_in(t.$$.fragment,a),r=!0)},o(a){transition_out(t.$$.fragment,a),r=!1},d(a){destroy_component(t,a)}}}function instance$m(e,t,r){let a,i,o,u,c;component_subscribe(e,activeTableTab,_=>r(5,o=_)),component_subscribe(e,dataIDsforTables,_=>r(6,u=_)),component_subscribe(e,data,_=>r(0,c=_));function f(_){console.log(c),console.log(i),set_store_value(data,c[c.findIndex(v=>v.id===u[o])].data[_].timeData=forceFormat(i.data[_].data,i.data[_].timeFormat),c),set_store_value(data,c[c.findIndex(v=>v.id===u[o])].data[_].recordPeriod=getPeriod(i.data[_].data,i.data[_].timeFormat),c)}function d(_){set_store_value(data,c[c.findIndex(v=>v.id===u[o])].data[_].timeFormat=getGuessedFormat(i.data[_].data),c),f(_)}function p(_){i.data[_].timeFormat=this.value,r(1,i),r(0,c),r(6,u),r(5,o)}const m=(_,v)=>{console.log(i),console.log(c),f(_)},h=(_,v)=>{d(_)};return e.$$.update=()=>{e.$$.dirty&32&&r(2,a=o>=0),e.$$.dirty&97&&r(1,i=c[c.findIndex(_=>_.id===u[o])])},[c,i,a,f,d,o,u,p,m,h]}class TableMaster extends SvelteComponent{constructor(t){super(),init(this,t,instance$m,create_fragment$m,safe_not_equal,{})}}function create_fragment$l(e){let t,r,a;return{c(){t=svg_element("svg"),r=svg_element("circle"),attr(r,"role","presentation"),attr(r,"cx","16"),attr(r,"cy","16"),attr(r,"r",e[4]),attr(r,"stroke",e[2]),attr(r,"fill","none"),attr(r,"stroke-width",e[3]),attr(r,"stroke-dasharray",a=e[5]+",100"),attr(r,"stroke-linecap","round"),attr(t,"height",e[0]),attr(t,"width",e[0]),set_style(t,"animation-duration",e[1]+"ms"),attr(t,"class","svelte-spinner svelte-ynopmf"),attr(t,"viewBox","0 0 32 32")},m(i,o){insert(i,t,o),append(t,r)},p(i,[o]){o&16&&attr(r,"r",i[4]),o&4&&attr(r,"stroke",i[2]),o&8&&attr(r,"stroke-width",i[3]),o&32&&a!==(a=i[5]+",100")&&attr(r,"stroke-dasharray",a),o&1&&attr(t,"height",i[0]),o&1&&attr(t,"width",i[0]),o&2&&set_style(t,"animation-duration",i[1]+"ms")},i:noop,o:noop,d(i){i&&detach(t)}}}function instance$l(e,t,r){let{size:a=25}=t,{speed:i=750}=t,{color:o="rgba(0,0,0,0.4)"}=t,{thickness:u=5}=t,{gap:c=30}=t,{radius:f=15}=t,d;return e.$$set=p=>{"size"in p&&r(0,a=p.size),"speed"in p&&r(1,i=p.speed),"color"in p&&r(2,o=p.color),"thickness"in p&&r(3,u=p.thickness),"gap"in p&&r(6,c=p.gap),"radius"in p&&r(4,f=p.radius)},e.$$.update=()=>{e.$$.dirty&80&&r(5,d=2*Math.PI*f*(100-c)/100)},[a,i,o,u,f,d,c]}class Spinner extends SvelteComponent{constructor(t){super(),init(this,t,instance$l,create_fragment$l,safe_not_equal,{size:0,speed:1,color:2,thickness:3,gap:6,radius:4})}}function get_each_context$9(e,t,r){const a=e.slice();return a[4]=t[r],a}function create_each_block$9(e){let t,r=e[4].display+"";return{c(){t=element("p")},m(a,i){insert(a,t,i),t.innerHTML=r},p(a,i){i&2&&r!==(r=a[4].display+"")&&(t.innerHTML=r)},d(a){a&&detach(t)}}}function create_fragment$k(e){let t,r,a,i,o,u;i=new Spinner({props:{size:"1em",color:"var(--primary-color)"}});let c=ensure_array_like(e[1]),f=[];for(let d=0;d<c.length;d+=1)f[d]=create_each_block$9(get_each_context$9(e,c,d));return{c(){t=element("div"),r=element("h3"),r.textContent="statusbar",a=space(),create_component(i.$$.fragment),o=space();for(let d=0;d<f.length;d+=1)f[d].c();set_style(t,"height","100%"),set_style(t,"overflow","auto")},m(d,p){insert(d,t,p),append(t,r),append(t,a),mount_component(i,t,null),append(t,o);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(t,null);e[2](t),u=!0},p(d,[p]){if(p&2){c=ensure_array_like(d[1]);let m;for(m=0;m<c.length;m+=1){const h=get_each_context$9(d,c,m);f[m]?f[m].p(h,p):(f[m]=create_each_block$9(h),f[m].c(),f[m].m(t,null))}for(;m<f.length;m+=1)f[m].d(1);f.length=c.length}},i(d){u||(transition_in(i.$$.fragment,d),u=!0)},o(d){transition_out(i.$$.fragment,d),u=!1},d(d){d&&detach(t),destroy_component(i),destroy_each(f,d),e[2](null)}}}function instance$k(e,t,r){let a;component_subscribe(e,statusData,c=>r(1,a=c));let i;afterUpdate(()=>{statusData&&o(i)});const o=async c=>{c.scroll({top:c.scrollHeight,behavior:"smooth"})};function u(c){binding_callbacks[c?"unshift":"push"](()=>{i=c,r(0,i)})}return[i,a,u]}class StatusMaster extends SvelteComponent{constructor(t){super(),init(this,t,instance$k,create_fragment$k,safe_not_equal,{})}}function saveStoreData(){const e=get_store_value(data),t=get_store_value(graphTabs),r=get_store_value(activeGraphTab),a=get_store_value(graphs),i=get_store_value(dataIDsforTables),o=get_store_value(showalldata),u=get_store_value(activeTableTab),c=get_store_value(selectedTheme),f=get_store_value(userStyle),d=get_store_value(statusData),p={_data:e,_graphTabs:t,_activeGraphTab:r,_graphs:a,_dataIDsforTables:i,_showalldata:o,_activeTableTab:u,_selectedTheme:c,_userStyle:f,_statusData:d},m="testStore.ancir",h=JSON.stringify(p),_=new Blob([h],{type:"application/json"}),v=URL.createObjectURL(_),y=document.createElement("a");y.href=v,y.download=m,document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(v)}function loadStoreData(){const e=document.createElement("input");e.type="file",e.id="fileInput",e.style.display="none",e.accept=".ancir",document.body.appendChild(e),e.addEventListener("change",handleFileSelect),e.click()}function loadTheData(jsonString){const loadedObject=JSON.parse(jsonString);console.log(JSON.stringify(loadedObject,null,2));for(const key in loadedObject)if(loadedObject.hasOwnProperty(key)){const modifiedKey=key.substring(1);loadedObject[key],console.log(key),console.log(loadedObject[key]),eval(`${modifiedKey}.set(structuredClone(loadedObject[key]));`)}}function handleFileSelect(e){const t=e.target.files[0];if(t){const r=new FileReader;r.onload=function(a){const i=a.target.result;loadTheData(i)},r.readAsText(t)}}function create_if_block$e(e){let t,r;return t=new Dialog({props:{title:"Change colours",$$slots:{default:[create_default_slot$4]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},m(a,i){mount_component(t,a,i),r=!0},p(a,i){const o={};i&2048&&(o.$$scope={dirty:i,ctx:a}),t.$set(o)},i(a){r||(transition_in(t.$$.fragment,a),r=!0)},o(a){transition_out(t.$$.fragment,a),r=!1},d(a){destroy_component(t,a)}}}function create_default_slot$4(e){let t,r,a,i,o,u,c,f,d,p,m,h,_,v,y,$,g,D,O,b,T,w,k,C;return{c(){t=element("label"),t.textContent="Background color",r=element("input"),a=space(),i=element("br"),o=space(),u=element("label"),u.textContent="Font color",c=element("input"),f=space(),d=element("br"),p=space(),m=element("label"),m.textContent="Hover color",h=element("input"),_=space(),v=element("br"),y=space(),$=element("label"),$.textContent="Primary color",g=element("input"),D=space(),O=element("br"),b=space(),T=element("label"),T.textContent="Secondary color",w=element("input"),set_style(r,"padding","0"),attr(r,"type","color"),set_style(c,"padding","0"),attr(c,"type","color"),set_style(h,"padding","0"),attr(h,"type","color"),set_style(g,"padding","0"),attr(g,"type","color"),set_style(w,"padding","0"),attr(w,"type","color")},m(S,F){insert(S,t,F),insert(S,r,F),set_input_value(r,userStyle["--bg-color"]),insert(S,a,F),insert(S,i,F),insert(S,o,F),insert(S,u,F),insert(S,c,F),set_input_value(c,userStyle["--font-color"]),insert(S,f,F),insert(S,d,F),insert(S,p,F),insert(S,m,F),insert(S,h,F),set_input_value(h,userStyle["--hover-color"]),insert(S,_,F),insert(S,v,F),insert(S,y,F),insert(S,$,F),insert(S,g,F),set_input_value(g,userStyle["--primary-color"]),insert(S,D,F),insert(S,O,F),insert(S,b,F),insert(S,T,F),insert(S,w,F),set_input_value(w,userStyle["--secondary-color"]),k||(C=[listen(r,"input",e[1]),listen(r,"input",e[2]),listen(c,"input",e[3]),listen(c,"input",e[4]),listen(h,"input",e[5]),listen(h,"input",e[6]),listen(g,"input",e[7]),listen(g,"input",e[8]),listen(w,"input",e[9]),listen(w,"input",e[10])],k=!0)},p(S,F){set_input_value(r,userStyle["--bg-color"]),F&0&&set_input_value(c,userStyle["--font-color"]),F&0&&set_input_value(h,userStyle["--hover-color"]),F&0&&set_input_value(g,userStyle["--primary-color"]),F&0&&set_input_value(w,userStyle["--secondary-color"])},d(S){S&&(detach(t),detach(r),detach(a),detach(i),detach(o),detach(u),detach(c),detach(f),detach(d),detach(p),detach(m),detach(h),detach(_),detach(v),detach(y),detach($),detach(g),detach(D),detach(O),detach(b),detach(T),detach(w)),k=!1,run_all(C)}}}function create_fragment$j(e){let t,r,a=e[0]==="styling"&&create_if_block$e(e);return{c(){a&&a.c(),t=empty$1()},m(i,o){a&&a.m(i,o),insert(i,t,o),r=!0},p(i,[o]){i[0]==="styling"?a?(a.p(i,o),o&1&&transition_in(a,1)):(a=create_if_block$e(i),a.c(),transition_in(a,1),a.m(t.parentNode,t)):a&&(group_outros(),transition_out(a,1,1,()=>{a=null}),check_outros())},i(i){r||(transition_in(a),r=!0)},o(i){transition_out(a),r=!1},d(i){i&&detach(t),a&&a.d(i)}}}const lightStyles={"--bg-color":"#fff","--font-color":"#424242","--hover-color":"#eee","--primary-color":"lightblue","--secondary-color":"#888888"},darkStyles={"--bg-color":"#161625","--font-color":"#e1e1ff","--hover-color":"#888888","--primary-color":"#9a97f3","--secondary-color":"#888888"};function changeStyle(e){console.log("changing "+e),e=="light"&&(selectedTheme.update(t=>"light"),Object.entries(lightStyles).forEach(([t,r])=>{document.documentElement.style.setProperty(t,r)})),e=="dark"&&(selectedTheme.update(t=>"dark"),Object.entries(darkStyles).forEach(([t,r])=>{document.documentElement.style.setProperty(t,r)})),e=="user"&&(selectedTheme.update(t=>"user"),Object.entries(userStyle).forEach(([t,r])=>{document.documentElement.style.setProperty(t,r)}))}function instance$j(e,t,r){let a;component_subscribe(e,menuModalType,v=>r(0,a=v));function i(){userStyle["--bg-color"]=this.value}const o=()=>changeStyle(get_store_value(selectedTheme));function u(){userStyle["--font-color"]=this.value}const c=()=>changeStyle(get_store_value(selectedTheme));function f(){userStyle["--hover-color"]=this.value}const d=()=>changeStyle(get_store_value(selectedTheme));function p(){userStyle["--primary-color"]=this.value}const m=()=>changeStyle(get_store_value(selectedTheme));function h(){userStyle["--secondary-color"]=this.value}return[a,i,o,u,c,f,d,p,m,h,()=>changeStyle(get_store_value(selectedTheme))]}class Styling extends SvelteComponent{constructor(t){super(),init(this,t,instance$j,create_fragment$j,safe_not_equal,{})}}function create_fragment$i(e){let t,r,a,i,o,u,c,f,d,p,m,h,_,v,y,$,g;return{c(){t=element("div"),r=element("div"),a=element("input"),i=space(),o=element("label"),o.innerHTML='<div class="inside svelte-16zhnuc"></div>',u=space(),c=element("input"),f=space(),d=element("label"),d.innerHTML='<div class="inside svelte-16zhnuc"></div>',p=space(),m=element("input"),h=space(),_=element("label"),_.innerHTML='<div class="inside svelte-16zhnuc"></div>',v=space(),y=element("span"),a.checked=!0,attr(a,"type","radio"),attr(a,"name","toggle"),a.value="light",attr(a,"class","svelte-16zhnuc"),attr(o,"class","toggle toggle-yes svelte-16zhnuc"),attr(c,"type","radio"),attr(c,"name","toggle"),c.value="user",attr(c,"class","svelte-16zhnuc"),attr(d,"class","toggle toggle-yes svelte-16zhnuc"),attr(m,"type","radio"),attr(m,"name","toggle"),m.value="dark",attr(m,"class","svelte-16zhnuc"),attr(_,"class","toggle toggle-yes svelte-16zhnuc"),attr(y,"class","svelte-16zhnuc"),attr(r,"class","tw-toggle svelte-16zhnuc"),attr(t,"class","flex-box")},m(D,O){insert(D,t,O),append(t,r),append(r,a),append(r,i),append(r,o),append(r,u),append(r,c),append(r,f),append(r,d),append(r,p),append(r,m),append(r,h),append(r,_),append(r,v),append(r,y),$||(g=[listen(a,"change",e[0]),listen(c,"change",e[1]),listen(m,"change",e[2])],$=!0)},p:noop,i:noop,o:noop,d(D){D&&detach(t),$=!1,run_all(g)}}}function instance$i(e){return onMount(()=>{changeStyle("light")}),[()=>changeStyle("light"),()=>changeStyle("user"),()=>changeStyle("dark")]}class ThemeChanger extends SvelteComponent{constructor(t){super(),init(this,t,instance$i,create_fragment$i,safe_not_equal,{})}}function get_each_context$8(e,t,r){const a=e.slice();return a[19]=t[r],a[20]=t,a[21]=r,a}function get_each_context_1$6(e,t,r){const a=e.slice();return a[22]=t[r],a[23]=t,a[24]=r,a}function get_each_context_2$4(e,t,r){const a=e.slice();return a[25]=t[r],a}function create_if_block$d(e){let t,r=ensure_array_like(e[19].items),a=[];for(let i=0;i<r.length;i+=1)a[i]=create_each_block_1$6(get_each_context_1$6(e,r,i));return{c(){t=element("ul");for(let i=0;i<a.length;i+=1)a[i].c();attr(t,"class","secondmenu dontclose svelte-n42nv6")},m(i,o){insert(i,t,o);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(t,null)},p(i,o){if(o&11){r=ensure_array_like(i[19].items);let u;for(u=0;u<r.length;u+=1){const c=get_each_context_1$6(i,r,u);a[u]?a[u].p(c,o):(a[u]=create_each_block_1$6(c),a[u].c(),a[u].m(t,null))}for(;u<a.length;u+=1)a[u].d(1);a.length=r.length}},d(i){i&&detach(t),destroy_each(a,i)}}}function create_else_block$3(e){let t,r,a=e[22].displayText+"",i,o;function u(...c){return e[12](e[22],...c)}return{c(){t=element("li"),r=element("button"),attr(r,"class","svelte-n42nv6"),attr(t,"class","svelte-n42nv6")},m(c,f){insert(c,t,f),append(t,r),r.innerHTML=a,i||(o=listen(r,"click",u),i=!0)},p(c,f){e=c,f&2&&a!==(a=e[22].displayText+"")&&(r.innerHTML=a)},d(c){c&&detach(t),i=!1,o()}}}function create_if_block_3$2(e){let t,r,a,i=e[22].displayText+"",o,u,c,f,d;function p(){return e[7](e[22],e[23],e[24])}function m(){return e[8](e[22],e[23],e[24])}let h=(e[22].visibleState||e[0])&&create_if_block_4$2(e);return{c(){t=element("li"),r=element("button"),a=new HtmlTag(!1),o=space(),u=element("span"),u.textContent="",c=space(),h&&h.c(),a.a=o,set_style(u,"float","right"),attr(r,"class","svelte-n42nv6"),attr(t,"class","svelte-n42nv6")},m(_,v){insert(_,t,v),append(t,r),a.m(i,r),append(r,o),append(r,u),append(t,c),h&&h.m(t,null),f||(d=[listen(r,"mouseover",p),listen(r,"mouseleave",m)],f=!0)},p(_,v){e=_,v&2&&i!==(i=e[22].displayText+"")&&a.p(i),e[22].visibleState||e[0]?h?h.p(e,v):(h=create_if_block_4$2(e),h.c(),h.m(t,null)):h&&(h.d(1),h=null)},d(_){_&&detach(t),h&&h.d(),f=!1,run_all(d)}}}function create_if_block_2$2(e){let t;return{c(){t=element("hr"),attr(t,"class","svelte-n42nv6")},m(r,a){insert(r,t,a)},p:noop,d(r){r&&detach(t)}}}function create_if_block_1$7(e){return{c:noop,m:noop,p:noop,d:noop}}function create_if_block_4$2(e){let t,r,a,i=ensure_array_like(e[22].items[0]),o=[];for(let u=0;u<i.length;u+=1)o[u]=create_each_block_2$4(get_each_context_2$4(e,i,u));return{c(){t=element("ul");for(let u=0;u<o.length;u+=1)o[u].c();attr(t,"class","thirdmenu dontclose svelte-n42nv6")},m(u,c){insert(u,t,c);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(t,null);r||(a=[listen(t,"mouseover",e[10]),listen(t,"mouseleave",e[11])],r=!0)},p(u,c){if(c&10){i=ensure_array_like(u[22].items[0]);let f;for(f=0;f<i.length;f+=1){const d=get_each_context_2$4(u,i,f);o[f]?o[f].p(d,c):(o[f]=create_each_block_2$4(d),o[f].c(),o[f].m(t,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=i.length}},d(u){u&&detach(t),destroy_each(o,u),r=!1,run_all(a)}}}function create_each_block_2$4(e){let t,r,a=e[25].displayText+"",i,o,u,c;function f(...d){return e[9](e[25],...d)}return{c(){t=element("li"),r=element("button"),i=text(a),o=space(),attr(r,"class","svelte-n42nv6"),attr(t,"class","svelte-n42nv6")},m(d,p){insert(d,t,p),append(t,r),append(r,i),append(t,o),u||(c=listen(r,"click",f),u=!0)},p(d,p){e=d,p&2&&a!==(a=e[25].displayText+"")&&set_data(i,a)},d(d){d&&detach(t),u=!1,c()}}}function create_each_block_1$6(e){let t;function r(o,u){return o[22]===null?create_if_block_1$7:o[22].displayText==="--hr"?create_if_block_2$2:o[22].items?create_if_block_3$2:create_else_block$3}let a=r(e),i=a(e);return{c(){i.c(),t=space()},m(o,u){i.m(o,u),insert(o,t,u)},p(o,u){a===(a=r(o))&&i?i.p(o,u):(i.d(1),i=a(o),i&&(i.c(),i.m(t.parentNode,t)))},d(o){o&&detach(t),i.d(o)}}}function create_each_block$8(e){let t,r,a=e[19].displayText+"",i,o,u,c;function f(){return e[5](e[19],e[20],e[21])}function d(){return e[6](e[19])}let p=e[19].visibleState&&create_if_block$d(e);return{c(){t=element("li"),r=element("button"),i=space(),p&&p.c(),o=space(),attr(r,"class","dontclose svelte-n42nv6"),attr(t,"class","svelte-n42nv6")},m(m,h){insert(m,t,h),append(t,r),r.innerHTML=a,append(t,i),p&&p.m(t,null),append(t,o),u||(c=[listen(r,"click",f),listen(r,"mouseover",d)],u=!0)},p(m,h){e=m,h&2&&a!==(a=e[19].displayText+"")&&(r.innerHTML=a),e[19].visibleState?p?p.p(e,h):(p=create_if_block$d(e),p.c(),p.m(t,o)):p&&(p.d(1),p=null)},d(m){m&&detach(t),p&&p.d(),u=!1,run_all(c)}}}function create_fragment$h(e){let t,r,a,i,o,u,c=ensure_array_like(e[1]),f=[];for(let d=0;d<c.length;d+=1)f[d]=create_each_block$8(get_each_context$8(e,c,d));return o=new ThemeChanger({}),{c(){t=element("nav"),r=element("div"),a=element("ul");for(let d=0;d<f.length;d+=1)f[d].c();i=space(),create_component(o.$$.fragment),attr(a,"class","topmenu svelte-n42nv6"),attr(r,"class","applicationmenu svelte-n42nv6"),attr(t,"class","svelte-n42nv6")},m(d,p){insert(d,t,p),append(t,r),append(r,a);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(a,null);append(r,i),mount_component(o,r,null),u=!0},p(d,[p]){if(p&31){c=ensure_array_like(d[1]);let m;for(m=0;m<c.length;m+=1){const h=get_each_context$8(d,c,m);f[m]?f[m].p(h,p):(f[m]=create_each_block$8(h),f[m].c(),f[m].m(a,null))}for(;m<f.length;m+=1)f[m].d(1);f.length=c.length}},i(d){u||(transition_in(o.$$.fragment,d),u=!0)},o(d){transition_out(o.$$.fragment,d),u=!1},d(d){d&&detach(t),destroy_each(f,d),destroy_component(o)}}}function createMenuItem(e,t,r=!1){return r?null:{displayText:e,onClick:t,visibleState:!1}}function instance$h(e,t,r){let a,i,o;component_subscribe(e,activeGraphTab,T=>r(13,a=T)),component_subscribe(e,menuModalType,T=>r(14,i=T)),component_subscribe(e,graphTabs,T=>r(15,o=T));let u=!1;function c(){return Object.keys(graphMap).map(w=>createMenuItem(w,()=>makeNewChart(w.toString())))}let f=d(a);function d(T){var w;return[{displayText:"Data",items:[createMenuItem("Import Data",()=>set_store_value(menuModalType,i="import",i)),createMenuItem("Simulate Data",()=>{set_store_value(menuModalType,i="generateSim",i)}),{displayText:"--hr"},createMenuItem("Save session",saveStoreData),createMenuItem("Load session",loadStoreData)]},{displayText:"Chart",items:[{displayText:"Insert Chart",items:[c()]},createMenuItem("Export <i>"+((w=o[T])==null?void 0:w.name)+"</i>",()=>exportSVG(),T<0)]},{displayText:"Help",items:[createMenuItem("About",()=>{set_store_value(menuModalType,i="about",i)}),createMenuItem("Style",()=>{set_store_value(menuModalType,i="styling",i)})]}]}function p(T){f.forEach(w=>{w!==T&&w.visibleState&&(w.visibleState=!1)}),r(1,f)}function m(){f.forEach(T=>{T.visibleState=!1}),r(1,f)}function h(T){f.forEach(w=>{w!==T&&w.visibleState?w.visibleState=!1:w===T&&(w.visibleState=!0)}),r(1,f)}return onMount(async()=>{const T=w=>{try{w.srcElement&&w.srcElement.className.includes("dontclose")||(m(),r(1,f=d(a)))}catch{m()}};return document.addEventListener("click",T),()=>{document.removeEventListener("click",T)}}),[u,f,p,m,h,(T,w,k)=>{r(1,w[k].visibleState=!T.visibleState,f),p(T)},T=>{f.some(w=>w.visibleState)&&h(T)},(T,w,k)=>r(1,w[k].visibleState=!0,f),(T,w,k)=>setTimeout(()=>{r(1,w[k].visibleState=!1,f)},50),(T,w)=>{T.onClick(),m()},()=>{r(0,u=!0)},()=>{setTimeout(()=>r(0,u=!1),50)},(T,w)=>{T.onClick(),m()}]}class MenuMaster extends SvelteComponent{constructor(t){super(),init(this,t,instance$h,create_fragment$h,safe_not_equal,{})}}const{window:window_1}=globals;function get_each_context$7(e,t,r){const a=e.slice();return a[9]=t[r],a[11]=r,a}function create_if_block$c(e){let t,r,a,i,o,u=ensure_array_like(e[2].labels),c=[];for(let f=0;f<u.length;f+=1)c[f]=create_each_block$7(get_each_context$7(e,u,f));return{c(){t=element("nav"),r=element("div"),a=element("ul");for(let f=0;f<c.length;f+=1)c[f].c();attr(a,"class","svelte-ouzgb9"),attr(r,"class","navbar svelte-ouzgb9"),attr(r,"id","navbar"),set_style(t,"position","absolute"),set_style(t,"top",e[0].y+"px"),set_style(t,"left",e[0].x+"px"),set_style(t,"z-index","999")},m(f,d){insert(f,t,d),append(t,r),append(r,a);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(a,null);i||(o=action_destroyer(e[4].call(null,t)),i=!0)},p(f,d){if(d&6){u=ensure_array_like(f[2].labels);let p;for(p=0;p<u.length;p+=1){const m=get_each_context$7(f,u,p);c[p]?c[p].p(m,d):(c[p]=create_each_block$7(m),c[p].c(),c[p].m(a,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=u.length}d&1&&set_style(t,"top",f[0].y+"px"),d&1&&set_style(t,"left",f[0].x+"px")},d(f){f&&detach(t),destroy_each(c,f),i=!1,o()}}}function create_each_block$7(e){let t,r,a=e[9]+"",i,o,u,c;function f(...d){return e[6](e[11],...d)}return{c(){t=element("li"),r=element("button"),i=text(a),o=space(),attr(r,"class","svelte-ouzgb9"),attr(t,"class","svelte-ouzgb9")},m(d,p){insert(d,t,p),append(t,r),append(r,i),append(t,o),u||(c=listen(r,"click",f),u=!0)},p(d,p){e=d,p&4&&a!==(a=e[9]+"")&&set_data(i,a)},d(d){d&&detach(t),u=!1,c()}}}function create_fragment$g(e){let t,r,a,i=e[1]&&create_if_block$c(e);return{c(){i&&i.c(),t=empty$1()},m(o,u){i&&i.m(o,u),insert(o,t,u),r||(a=listen(window_1,"click",e[3]),r=!0)},p(o,[u]){o[1]?i?i.p(o,u):(i=create_if_block$c(o),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},i:noop,o:noop,d(o){o&&detach(t),i&&i.d(o),r=!1,a()}}}function instance$g(e,t,r){let a;component_subscribe(e,contextMenu,h=>r(2,a=h));let i={x:0,y:0},o={h:100,w:76},u={h:0,w:0},c;function f(h){h.stopPropagation(),u={w:window.innerWidth,h:window.innerHeight},r(0,i={x:h.clientX,y:h.clientY}),u.h-i.y<o.h&&r(0,i.y=i.y-o.h,i),u.w-i.x<o.w&&r(0,i.x=i.x-o.w,i),r(1,c=!0)}function d(h){try{h.srcElement.className.includes("showContextMenu")?f(h):r(1,c=!1)}catch{r(1,c=!1)}}function p(h){let _=h.offsetHeight,v=h.offsetWidth;o={h:_,w:v}}return[i,c,a,d,p,f,(h,_)=>{a.funcs[h](),r(1,c=!1)}]}class ContextMenu extends SvelteComponent{constructor(t){super(),init(this,t,instance$g,create_fragment$g,safe_not_equal,{rightClickContextMenu:5})}get rightClickContextMenu(){return this.$$.ctx[5]}}function awdTocsv(e){let t=[];const r=Object.keys(e[0]),a=DateTime.fromFormat(e[0][r]+" "+e[1][r],"dd-LL-yyyy HH:mm:ss"),i=Number(e[2][r])/4;for(let o=6;o<e.length;o++)t[o-6]={time:a.plus({minutes:(o-6)*i}).toFormat("dd-LL-yyyy HH:mm:ss"),value:e[o][r]};return t}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var i=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(r,a,i.get?i:{enumerable:!0,get:function(){return e[a]}})}),r}var papaparse={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){(function(r,a){e.exports=a()})(commonjsGlobal,function r(){var a=function(){return typeof self<"u"?self:typeof window<"u"?window:typeof a<"u"?a:{}}();function i(){var A=a.URL||a.webkitURL||null,M=r.toString();return d.BLOB_URL||(d.BLOB_URL=A.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",M,")();"],{type:"text/javascript"})))}var o=!a.document&&!!a.postMessage,u=a.IS_PAPA_WORKER||!1,c={},f=0,d={};if(d.parse=m,d.unparse=h,d.RECORD_SEP="",d.UNIT_SEP="",d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!o&&!!a.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=1024*1024*10,d.RemoteChunkSize=1024*1024*5,d.DefaultDelimiter=",",d.Parser=T,d.ParserHandle=O,d.NetworkStreamer=v,d.FileStreamer=y,d.StringStreamer=$,d.ReadableStreamStreamer=g,typeof PAPA_BROWSER_CONTEXT>"u"&&(d.DuplexStreamStreamer=D),a.jQuery){var p=a.jQuery;p.fn.parse=function(A){var M=A.config||{},V=[];return this.each(function(I){var z=p(this).prop("tagName").toUpperCase()==="INPUT"&&p(this).attr("type").toLowerCase()==="file"&&a.FileReader;if(!z||!this.files||this.files.length===0)return!0;for(var N=0;N<this.files.length;N++)V.push({file:this.files[N],inputElem:this,instanceConfig:p.extend({},M)})}),H(),this;function H(){if(V.length===0){R(A.complete)&&A.complete();return}var I=V[0];if(R(A.before)){var z=A.before(I.file,I.inputElem);if(typeof z=="object")if(z.action==="abort"){P("AbortError",I.file,I.inputElem,z.reason);return}else if(z.action==="skip"){G();return}else typeof z.config=="object"&&(I.instanceConfig=p.extend(I.instanceConfig,z.config));else if(z==="skip"){G();return}}var N=I.instanceConfig.complete;I.instanceConfig.complete=function(B){R(N)&&N(B,I.file,I.inputElem),G()},d.parse(I.file,I.instanceConfig)}function P(I,z,N,B){R(A.error)&&A.error({name:I},z,N,B)}function G(){V.splice(0,1),H()}}}u&&(a.onmessage=F);function m(A,M){M=M||{};var V=M.dynamicTyping||!1;if(R(V)&&(M.dynamicTypingFunction=V,V={}),M.dynamicTyping=V,M.transform=R(M.transform)?M.transform:!1,M.worker&&d.WORKERS_SUPPORTED){var H=w();H.userStep=M.step,H.userChunk=M.chunk,H.userComplete=M.complete,H.userError=M.error,M.step=R(M.step),M.chunk=R(M.chunk),M.complete=R(M.complete),M.error=R(M.error),delete M.worker,H.postMessage({input:A,config:M,workerId:H.id});return}var P=null;if(A===d.NODE_STREAM_INPUT&&typeof PAPA_BROWSER_CONTEXT>"u")return P=new D(M),P.getStream();return typeof A=="string"?(A=G(A),M.download?P=new v(M):P=new $(M)):A.readable===!0&&R(A.read)&&R(A.on)?P=new g(M):(a.File&&A instanceof File||A instanceof Object)&&(P=new y(M)),P.stream(A);function G(I){return I.charCodeAt(0)===65279?I.slice(1):I}}function h(A,M){var V=!1,H=!0,P=",",G=`\r
`,I='"',z=I+I,N=!1,B=null,ie=!1;X();var L=new RegExp(b(I),"g");if(typeof A=="string"&&(A=JSON.parse(A)),Array.isArray(A)){if(!A.length||Array.isArray(A[0]))return Z(null,A,N);if(typeof A[0]=="object")return Z(B||Object.keys(A[0]),A,N)}else if(typeof A=="object")return typeof A.data=="string"&&(A.data=JSON.parse(A.data)),Array.isArray(A.data)&&(A.fields||(A.fields=A.meta&&A.meta.fields||B),A.fields||(A.fields=Array.isArray(A.data[0])?A.fields:typeof A.data[0]=="object"?Object.keys(A.data[0]):[]),!Array.isArray(A.data[0])&&typeof A.data[0]!="object"&&(A.data=[A.data])),Z(A.fields||[],A.data||[],N);throw new Error("Unable to serialize unrecognized input");function X(){if(typeof M=="object"){if(typeof M.delimiter=="string"&&!d.BAD_DELIMITERS.filter(function(J){return M.delimiter.indexOf(J)!==-1}).length&&(P=M.delimiter),(typeof M.quotes=="boolean"||typeof M.quotes=="function"||Array.isArray(M.quotes))&&(V=M.quotes),(typeof M.skipEmptyLines=="boolean"||typeof M.skipEmptyLines=="string")&&(N=M.skipEmptyLines),typeof M.newline=="string"&&(G=M.newline),typeof M.quoteChar=="string"&&(I=M.quoteChar),typeof M.header=="boolean"&&(H=M.header),Array.isArray(M.columns)){if(M.columns.length===0)throw new Error("Option columns is empty");B=M.columns}M.escapeChar!==void 0&&(z=M.escapeChar+I),(typeof M.escapeFormulae=="boolean"||M.escapeFormulae instanceof RegExp)&&(ie=M.escapeFormulae instanceof RegExp?M.escapeFormulae:/^[=+\-@\t\r].*$/)}}function Z(J,ne,ve){var me="";typeof J=="string"&&(J=JSON.parse(J)),typeof ne=="string"&&(ne=JSON.parse(ne));var ke=Array.isArray(J)&&J.length>0,se=!Array.isArray(ne[0]);if(ke&&H){for(var De=0;De<J.length;De++)De>0&&(me+=P),me+=j(J[De],De);ne.length>0&&(me+=G)}for(var Q=0;Q<ne.length;Q++){var de=ke?J.length:ne[Q].length,ge=!1,te=ke?Object.keys(ne[Q]).length===0:ne[Q].length===0;if(ve&&!ke&&(ge=ve==="greedy"?ne[Q].join("").trim()==="":ne[Q].length===1&&ne[Q][0].length===0),ve==="greedy"&&ke){for(var ee=[],_e=0;_e<de;_e++){var be=se?J[_e]:_e;ee.push(ne[Q][be])}ge=ee.join("").trim()===""}if(!ge){for(var ye=0;ye<de;ye++){ye>0&&!te&&(me+=P);var ce=ke&&se?J[ye]:ye;me+=j(ne[Q][ce],ye)}Q<ne.length-1&&(!ve||de>0&&!te)&&(me+=G)}}return me}function j(J,ne){if(typeof J>"u"||J===null)return"";if(J.constructor===Date)return JSON.stringify(J).slice(1,25);var ve=!1;ie&&typeof J=="string"&&ie.test(J)&&(J="'"+J,ve=!0);var me=J.toString().replace(L,z);return ve=ve||V===!0||typeof V=="function"&&V(J,ne)||Array.isArray(V)&&V[ne]||x(me,d.BAD_DELIMITERS)||me.indexOf(P)>-1||me.charAt(0)===" "||me.charAt(me.length-1)===" ",ve?I+me+I:me}function x(J,ne){for(var ve=0;ve<ne.length;ve++)if(J.indexOf(ne[ve])>-1)return!0;return!1}}function _(A){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},M.call(this,A),this.parseChunk=function(V,H){if(this.isFirstChunk&&R(this._config.beforeFirstChunk)){var P=this._config.beforeFirstChunk(V);P!==void 0&&(V=P)}this.isFirstChunk=!1,this._halted=!1;var G=this._partialLine+V;this._partialLine="";var I=this._handle.parse(G,this._baseIndex,!this._finished);if(this._handle.paused()||this._handle.aborted()){this._halted=!0;return}var z=I.meta.cursor;this._finished||(this._partialLine=G.substring(z-this._baseIndex),this._baseIndex=z),I&&I.data&&(this._rowCount+=I.data.length);var N=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(u)a.postMessage({results:I,workerId:d.WORKER_ID,finished:N});else if(R(this._config.chunk)&&!H){if(this._config.chunk(I,this._handle),this._handle.paused()||this._handle.aborted()){this._halted=!0;return}I=void 0,this._completeResults=void 0}return!this._config.step&&!this._config.chunk&&(this._completeResults.data=this._completeResults.data.concat(I.data),this._completeResults.errors=this._completeResults.errors.concat(I.errors),this._completeResults.meta=I.meta),!this._completed&&N&&R(this._config.complete)&&(!I||!I.meta.aborted)&&(this._config.complete(this._completeResults,this._input),this._completed=!0),!N&&(!I||!I.meta.paused)&&this._nextChunk(),I},this._sendError=function(V){R(this._config.error)?this._config.error(V):u&&this._config.error&&a.postMessage({workerId:d.WORKER_ID,error:V,finished:!1})};function M(V){var H=E(V);H.chunkSize=parseInt(H.chunkSize),!V.step&&!V.chunk&&(H.chunkSize=null),this._handle=new O(H),this._handle.streamer=this,this._config=H}}function v(A){A=A||{},A.chunkSize||(A.chunkSize=d.RemoteChunkSize),_.call(this,A);var M;o?this._nextChunk=function(){this._readChunk(),this._chunkLoaded()}:this._nextChunk=function(){this._readChunk()},this.stream=function(H){this._input=H,this._nextChunk()},this._readChunk=function(){if(this._finished){this._chunkLoaded();return}if(M=new XMLHttpRequest,this._config.withCredentials&&(M.withCredentials=this._config.withCredentials),o||(M.onload=U(this._chunkLoaded,this),M.onerror=U(this._chunkError,this)),M.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var H=this._config.downloadRequestHeaders;for(var P in H)M.setRequestHeader(P,H[P])}if(this._config.chunkSize){var G=this._start+this._config.chunkSize-1;M.setRequestHeader("Range","bytes="+this._start+"-"+G)}try{M.send(this._config.downloadRequestBody)}catch(I){this._chunkError(I.message)}o&&M.status===0&&this._chunkError()},this._chunkLoaded=function(){if(M.readyState===4){if(M.status<200||M.status>=400){this._chunkError();return}this._start+=this._config.chunkSize?this._config.chunkSize:M.responseText.length,this._finished=!this._config.chunkSize||this._start>=V(M),this.parseChunk(M.responseText)}},this._chunkError=function(H){var P=M.statusText||H;this._sendError(new Error(P))};function V(H){var P=H.getResponseHeader("Content-Range");return P===null?-1:parseInt(P.substring(P.lastIndexOf("/")+1))}}v.prototype=Object.create(_.prototype),v.prototype.constructor=v;function y(A){A=A||{},A.chunkSize||(A.chunkSize=d.LocalChunkSize),_.call(this,A);var M,V,H=typeof FileReader<"u";this.stream=function(P){this._input=P,V=P.slice||P.webkitSlice||P.mozSlice,H?(M=new FileReader,M.onload=U(this._chunkLoaded,this),M.onerror=U(this._chunkError,this)):M=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){!this._finished&&(!this._config.preview||this._rowCount<this._config.preview)&&this._readChunk()},this._readChunk=function(){var P=this._input;if(this._config.chunkSize){var G=Math.min(this._start+this._config.chunkSize,this._input.size);P=V.call(P,this._start,G)}var I=M.readAsText(P,this._config.encoding);H||this._chunkLoaded({target:{result:I}})},this._chunkLoaded=function(P){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(P.target.result)},this._chunkError=function(){this._sendError(M.error)}}y.prototype=Object.create(_.prototype),y.prototype.constructor=y;function $(A){A=A||{},_.call(this,A);var M;this.stream=function(V){return M=V,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var V=this._config.chunkSize,H;return V?(H=M.substring(0,V),M=M.substring(V)):(H=M,M=""),this._finished=!M,this.parseChunk(H)}}}$.prototype=Object.create($.prototype),$.prototype.constructor=$;function g(A){A=A||{},_.call(this,A);var M=[],V=!0,H=!1;this.pause=function(){_.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){_.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(P){this._input=P,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){H&&M.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),M.length?this.parseChunk(M.shift()):V=!0},this._streamData=U(function(P){try{M.push(typeof P=="string"?P:P.toString(this._config.encoding)),V&&(V=!1,this._checkIsFinished(),this.parseChunk(M.shift()))}catch(G){this._streamError(G)}},this),this._streamError=U(function(P){this._streamCleanUp(),this._sendError(P)},this),this._streamEnd=U(function(){this._streamCleanUp(),H=!0,this._streamData("")},this),this._streamCleanUp=U(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}g.prototype=Object.create(_.prototype),g.prototype.constructor=g;function D(A){var M=require$$0.Duplex,V=E(A),H=!0,P=!1,G=[],I=null;this._onCsvData=function(z){var N=z.data;!I.push(N)&&!this._handle.paused()&&this._handle.pause()},this._onCsvComplete=function(){I.push(null)},V.step=U(this._onCsvData,this),V.complete=U(this._onCsvComplete,this),_.call(this,V),this._nextChunk=function(){P&&G.length===1&&(this._finished=!0),G.length?G.shift()():H=!0},this._addToParseQueue=function(z,N){G.push(U(function(){if(this.parseChunk(typeof z=="string"?z:z.toString(V.encoding)),R(N))return N()},this)),H&&(H=!1,this._nextChunk())},this._onRead=function(){this._handle.paused()&&this._handle.resume()},this._onWrite=function(z,N,B){this._addToParseQueue(z,B)},this._onWriteComplete=function(){P=!0,this._addToParseQueue("")},this.getStream=function(){return I},I=new M({readableObjectMode:!0,decodeStrings:!1,read:U(this._onRead,this),write:U(this._onWrite,this)}),I.once("finish",U(this._onWriteComplete,this))}typeof PAPA_BROWSER_CONTEXT>"u"&&(D.prototype=Object.create(_.prototype),D.prototype.constructor=D);function O(A){var M=Math.pow(2,53),V=-M,H=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,P=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,G=this,I=0,z=0,N,B,ie=!1,L=!1,X,Z=[],j={data:[],errors:[],meta:{}};if(R(A.step)){var x=A.step;A.step=function(ee){if(j=ee,me())ve();else{if(ve(),j.data.length===0)return;I+=ee.data.length,A.preview&&I>A.preview?B.abort():(j.data=j.data[0],x(j,G))}}}this.parse=function(ee,_e,be){var ye=A.quoteChar||'"';if(A.newline||(A.newline=ge(ee,ye)),X=!1,A.delimiter)R(A.delimiter)&&(A.delimiter=A.delimiter(ee),j.meta.delimiter=A.delimiter);else{var ce=de(ee,A.newline,A.skipEmptyLines,A.comments,A.delimitersToGuess);ce.successful?A.delimiter=ce.bestDelimiter:(X=!0,A.delimiter=d.DefaultDelimiter),j.meta.delimiter=A.delimiter}var $e=E(A);return A.preview&&A.header&&$e.preview++,N=ee,B=new T($e),j=B.parse(N,_e,be),ve(),ie?{meta:{paused:!0}}:j||{meta:{paused:!1}}},this.paused=function(){return ie},this.pause=function(){ie=!0,B.abort(),N=R(A.chunk)?"":N.substring(B.getCharIndex())},this.resume=function(){G.streamer._halted?(ie=!1,G.streamer.parseChunk(N,!0)):setTimeout(G.resume,3)},this.aborted=function(){return L},this.abort=function(){L=!0,B.abort(),j.meta.aborted=!0,R(A.complete)&&A.complete(j),N=""};function J(ee){return A.skipEmptyLines==="greedy"?ee.join("").trim()==="":ee.length===1&&ee[0].length===0}function ne(ee){if(H.test(ee)){var _e=parseFloat(ee);if(_e>V&&_e<M)return!0}return!1}function ve(){return j&&X&&(te("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),X=!1),A.skipEmptyLines&&(j.data=j.data.filter(function(ee){return!J(ee)})),me()&&ke(),Q()}function me(){return A.header&&Z.length===0}function ke(){if(!j)return;function ee(be,ye){R(A.transformHeader)&&(be=A.transformHeader(be,ye)),Z.push(be)}if(Array.isArray(j.data[0])){for(var _e=0;me()&&_e<j.data.length;_e++)j.data[_e].forEach(ee);j.data.splice(0,1)}else j.data.forEach(ee)}function se(ee){return A.dynamicTypingFunction&&A.dynamicTyping[ee]===void 0&&(A.dynamicTyping[ee]=A.dynamicTypingFunction(ee)),(A.dynamicTyping[ee]||A.dynamicTyping)===!0}function De(ee,_e){return se(ee)?_e==="true"||_e==="TRUE"?!0:_e==="false"||_e==="FALSE"?!1:ne(_e)?parseFloat(_e):P.test(_e)?new Date(_e):_e===""?null:_e:_e}function Q(){if(!j||!A.header&&!A.dynamicTyping&&!A.transform)return j;function ee(be,ye){var ce=A.header?{}:[],$e;for($e=0;$e<be.length;$e++){var Y=$e,W=be[$e];A.header&&(Y=$e>=Z.length?"__parsed_extra":Z[$e]),A.transform&&(W=A.transform(W,Y)),W=De(Y,W),Y==="__parsed_extra"?(ce[Y]=ce[Y]||[],ce[Y].push(W)):ce[Y]=W}return A.header&&($e>Z.length?te("FieldMismatch","TooManyFields","Too many fields: expected "+Z.length+" fields but parsed "+$e,z+ye):$e<Z.length&&te("FieldMismatch","TooFewFields","Too few fields: expected "+Z.length+" fields but parsed "+$e,z+ye)),ce}var _e=1;return!j.data.length||Array.isArray(j.data[0])?(j.data=j.data.map(ee),_e=j.data.length):j.data=ee(j.data,0),A.header&&j.meta&&(j.meta.fields=Z),z+=_e,j}function de(ee,_e,be,ye,ce){var $e,Y,W,fe;ce=ce||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var he=0;he<ce.length;he++){var oe=ce[he],Te=0,ue=0,q=0;W=void 0;for(var K=new T({comments:ye,delimiter:oe,newline:_e,preview:10}).parse(ee),ae=0;ae<K.data.length;ae++){if(be&&J(K.data[ae])){q++;continue}var pe=K.data[ae].length;if(ue+=pe,typeof W>"u"){W=pe;continue}else pe>0&&(Te+=Math.abs(pe-W),W=pe)}K.data.length>0&&(ue/=K.data.length-q),(typeof Y>"u"||Te<=Y)&&(typeof fe>"u"||ue>fe)&&ue>1.99&&(Y=Te,$e=oe,fe=ue)}return A.delimiter=$e,{successful:!!$e,bestDelimiter:$e}}function ge(ee,_e){ee=ee.substring(0,1024*1024);var be=new RegExp(b(_e)+"([^]*?)"+b(_e),"gm");ee=ee.replace(be,"");var ye=ee.split("\r"),ce=ee.split(`
`),$e=ce.length>1&&ce[0].length<ye[0].length;if(ye.length===1||$e)return`
`;for(var Y=0,W=0;W<ye.length;W++)ye[W][0]===`
`&&Y++;return Y>=ye.length/2?`\r
`:"\r"}function te(ee,_e,be,ye){var ce={type:ee,code:_e,message:be};ye!==void 0&&(ce.row=ye),j.errors.push(ce)}}function b(A){return A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function T(A){A=A||{};var M=A.delimiter,V=A.newline,H=A.comments,P=A.step,G=A.preview,I=A.fastMode,z;A.quoteChar===void 0||A.quoteChar===null?z='"':z=A.quoteChar;var N=z;if(A.escapeChar!==void 0&&(N=A.escapeChar),(typeof M!="string"||d.BAD_DELIMITERS.indexOf(M)>-1)&&(M=","),H===M)throw new Error("Comment character same as delimiter");H===!0?H="#":(typeof H!="string"||d.BAD_DELIMITERS.indexOf(H)>-1)&&(H=!1),V!==`
`&&V!=="\r"&&V!==`\r
`&&(V=`
`);var B=0,ie=!1;this.parse=function(L,X,Z){if(typeof L!="string")throw new Error("Input must be a string");var j=L.length,x=M.length,J=V.length,ne=H.length,ve=R(P);B=0;var me=[],ke=[],se=[],De=0;if(!L)return Me();if(A.header&&!X){var Q=L.split(V)[0],de=Q.split(M),ge="_",te=[],ee={},_e=!1;for(var be in de){var ye=de[be];R(A.transformHeader)&&(ye=A.transformHeader(ye,be));var ce=ye,$e=ee[ye]||0;for($e>0&&(_e=!0,ce=ye+ge+$e),ee[ye]=$e+1;te.includes(ce);)ce=ce+ge+$e;te.push(ce)}if(_e){var Y=L.split(V);Y[0]=te.join(M),L=Y.join(V)}}if(I||I!==!1&&L.indexOf(z)===-1){for(var W=L.split(V),fe=0;fe<W.length;fe++){if(se=W[fe],B+=se.length,fe!==W.length-1)B+=V.length;else if(Z)return Me();if(!(H&&se.substring(0,ne)===H)){if(ve){if(me=[],we(se.split(M)),Ne(),ie)return Me()}else we(se.split(M));if(G&&fe>=G)return me=me.slice(0,G),Me(!0)}}return Me()}for(var he=L.indexOf(M,B),oe=L.indexOf(V,B),Te=new RegExp(b(N)+b(z),"g"),ue=L.indexOf(z,B);;){if(L[B]===z){for(ue=B,B++;;){if(ue=L.indexOf(z,ue+1),ue===-1)return Z||ke.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:me.length,index:B}),Oe();if(ue===j-1){var q=L.substring(B,ue).replace(Te,z);return Oe(q)}if(z===N&&L[ue+1]===N){ue++;continue}if(!(z!==N&&ue!==0&&L[ue-1]===N)){he!==-1&&he<ue+1&&(he=L.indexOf(M,ue+1)),oe!==-1&&oe<ue+1&&(oe=L.indexOf(V,ue+1));var K=oe===-1?he:Math.min(he,oe),ae=Ae(K);if(L.substr(ue+1+ae,x)===M){se.push(L.substring(B,ue).replace(Te,z)),B=ue+1+ae+x,L[ue+1+ae+x]!==z&&(ue=L.indexOf(z,B)),he=L.indexOf(M,B),oe=L.indexOf(V,B);break}var pe=Ae(oe);if(L.substring(ue+1+pe,ue+1+pe+J)===V){if(se.push(L.substring(B,ue).replace(Te,z)),Ee(ue+1+pe+J),he=L.indexOf(M,B),ue=L.indexOf(z,B),ve&&(Ne(),ie))return Me();if(G&&me.length>=G)return Me(!0);break}ke.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:me.length,index:B}),ue++}}continue}if(H&&se.length===0&&L.substring(B,B+ne)===H){if(oe===-1)return Me();B=oe+J,oe=L.indexOf(V,B),he=L.indexOf(M,B);continue}if(he!==-1&&(he<oe||oe===-1)){se.push(L.substring(B,he)),B=he+x,he=L.indexOf(M,B);continue}if(oe!==-1){if(se.push(L.substring(B,oe)),Ee(oe+J),ve&&(Ne(),ie))return Me();if(G&&me.length>=G)return Me(!0);continue}break}return Oe();function we(Ce){me.push(Ce),De=B}function Ae(Ce){var le=0;if(Ce!==-1){var Se=L.substring(ue+1,Ce);Se&&Se.trim()===""&&(le=Se.length)}return le}function Oe(Ce){return Z||(typeof Ce>"u"&&(Ce=L.substring(B)),se.push(Ce),B=j,we(se),ve&&Ne()),Me()}function Ee(Ce){B=Ce,we(se),se=[],oe=L.indexOf(V,B)}function Me(Ce){return{data:me,errors:ke,meta:{delimiter:M,linebreak:V,aborted:ie,truncated:!!Ce,cursor:De+(X||0)}}}function Ne(){P(Me()),me=[],ke=[]}},this.abort=function(){ie=!0},this.getCharIndex=function(){return B}}function w(){if(!d.WORKERS_SUPPORTED)return!1;var A=i(),M=new a.Worker(A);return M.onmessage=k,M.id=f++,c[M.id]=M,M}function k(A){var M=A.data,V=c[M.workerId],H=!1;if(M.error)V.userError(M.error,M.file);else if(M.results&&M.results.data){var P=function(){H=!0,C(M.workerId,{data:[],errors:[],meta:{aborted:!0}})},G={abort:P,pause:S,resume:S};if(R(V.userStep)){for(var I=0;I<M.results.data.length&&(V.userStep({data:M.results.data[I],errors:M.results.errors,meta:M.results.meta},G),!H);I++);delete M.results}else R(V.userChunk)&&(V.userChunk(M.results,G,M.file),delete M.results)}M.finished&&!H&&C(M.workerId,M.results)}function C(A,M){var V=c[A];R(V.userComplete)&&V.userComplete(M),V.terminate(),delete c[A]}function S(){throw new Error("Not implemented.")}function F(A){var M=A.data;if(typeof d.WORKER_ID>"u"&&M&&(d.WORKER_ID=M.workerId),typeof M.input=="string")a.postMessage({workerId:d.WORKER_ID,results:d.parse(M.input,M.config),finished:!0});else if(a.File&&M.input instanceof File||M.input instanceof Object){var V=d.parse(M.input,M.config);V&&a.postMessage({workerId:d.WORKER_ID,results:V,finished:!0})}}function E(A){if(typeof A!="object"||A===null)return A;var M=Array.isArray(A)?[]:{};for(var V in A)M[V]=E(A[V]);return M}function U(A,M){return function(){A.apply(M,arguments)}}function R(A){return typeof A=="function"}return d})})(papaparse);var papaparseExports=papaparse.exports;const Papa=getDefaultExportFromCjs(papaparseExports);function create_if_block$b(e){let t,r;return t=new Dialog({props:{title:"IMPORT DATA",$$slots:{default:[create_default_slot$3]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},m(a,i){mount_component(t,a,i),r=!0},p(a,i){const o={};i[0]&119|i[1]&1&&(o.$$scope={dirty:i,ctx:a}),t.$set(o)},i(a){r||(transition_in(t.$$.fragment,a),r=!0)},o(a){transition_out(t.$$.fragment,a),r=!1},d(a){destroy_component(t,a)}}}function create_if_block_4$1(e){let t,r,a,i,o,u,c,f,d;return{c(){t=element("button"),t.textContent="Choose file",r=space(),a=element("lable"),a.textContent="Skip lines:",i=element("input"),o=space(),u=element("lable"),u.textContent="Header:",c=element("input"),attr(i,"type","number"),attr(c,"type","checkbox"),attr(c,"label","headers")},m(p,m){insert(p,t,m),insert(p,r,m),insert(p,a,m),insert(p,i,m),set_input_value(i,e[1]),insert(p,o,m),insert(p,u,m),insert(p,c,m),c.checked=e[2],f||(d=[listen(t,"click",e[7]),listen(i,"input",e[12]),listen(c,"change",e[13])],f=!0)},p(p,m){m[0]&2&&to_number(i.value)!==p[1]&&set_input_value(i,p[1]),m[0]&4&&(c.checked=p[2])},d(p){p&&(detach(t),detach(r),detach(a),detach(i),detach(o),detach(u),detach(c)),f=!1,run_all(d)}}}function create_if_block_3$1(e){let t,r=JSON.stringify(e[5])+"",a;return{c(){t=element("div"),a=text(r),attr(t,"class","error")},m(i,o){insert(i,t,o),append(t,a)},p(i,o){o[0]&32&&r!==(r=JSON.stringify(i[5])+"")&&set_data(a,r)},d(i){i&&detach(t)}}}function create_if_block_2$1(e){let t,r=e[0][0].name+"",a,i,o,u,c,f,d,p,m,h,_,v,y,$,g,D=e[10](e[4])+"",O,b,T,w,k,C;return{c(){t=element("p"),a=text(r),i=space(),o=element("button"),o.textContent="Change file",u=space(),c=element("label"),c.textContent="Header:",f=element("input"),d=space(),p=element("label"),p.textContent="Skip lines:",m=element("input"),h=space(),_=element("p"),_.textContent="Preview of the data:",v=space(),y=element("hr"),$=space(),g=element("p"),O=space(),b=element("hr"),T=space(),w=element("button"),w.textContent="Import",attr(f,"type","checkbox"),attr(f,"label","headers"),attr(m,"type","number")},m(S,F){insert(S,t,F),append(t,a),insert(S,i,F),insert(S,o,F),insert(S,u,F),insert(S,c,F),insert(S,f,F),f.checked=e[2],insert(S,d,F),insert(S,p,F),insert(S,m,F),set_input_value(m,e[1]),insert(S,h,F),insert(S,_,F),insert(S,v,F),insert(S,y,F),insert(S,$,F),insert(S,g,F),g.innerHTML=D,insert(S,O,F),insert(S,b,F),insert(S,T,F),insert(S,w,F),k||(C=[listen(o,"click",e[7]),listen(f,"change",e[18]),listen(f,"change",e[19]),listen(m,"input",e[20]),listen(m,"input",e[21]),listen(w,"click",e[9])],k=!0)},p(S,F){F[0]&1&&r!==(r=S[0][0].name+"")&&set_data(a,r),F[0]&4&&(f.checked=S[2]),F[0]&2&&to_number(m.value)!==S[1]&&set_input_value(m,S[1]),F[0]&16&&D!==(D=S[10](S[4])+"")&&(g.innerHTML=D)},d(S){S&&(detach(t),detach(i),detach(o),detach(u),detach(c),detach(f),detach(d),detach(p),detach(m),detach(h),detach(_),detach(v),detach(y),detach($),detach(g),detach(O),detach(b),detach(T),detach(w)),k=!1,run_all(C)}}}function create_if_block_1$6(e){let t,r=e[0][0].name+"",a,i,o,u,c,f,d,p,m,h,_,v,y,$,g,D,O;return{c(){t=element("p"),a=text(r),i=space(),o=element("button"),o.textContent="Change file",u=space(),c=element("label"),c.textContent="Header:",f=element("input"),d=space(),p=element("label"),p.textContent="Skip lines:",m=element("input"),h=space(),_=element("hr"),v=space(),y=element("p"),y.textContent="There was an error reading the file.",$=space(),g=element("hr"),attr(f,"type","checkbox"),attr(f,"label","headers"),attr(m,"type","number")},m(b,T){insert(b,t,T),append(t,a),insert(b,i,T),insert(b,o,T),insert(b,u,T),insert(b,c,T),insert(b,f,T),f.checked=e[2],insert(b,d,T),insert(b,p,T),insert(b,m,T),set_input_value(m,e[1]),insert(b,h,T),insert(b,_,T),insert(b,v,T),insert(b,y,T),insert(b,$,T),insert(b,g,T),D||(O=[listen(o,"click",e[7]),listen(f,"change",e[14]),listen(f,"change",e[15]),listen(m,"input",e[16]),listen(m,"input",e[17])],D=!0)},p(b,T){T[0]&1&&r!==(r=b[0][0].name+"")&&set_data(a,r),T[0]&4&&(f.checked=b[2]),T[0]&2&&to_number(m.value)!==b[1]&&set_input_value(m,b[1])},d(b){b&&(detach(t),detach(i),detach(o),detach(u),detach(c),detach(f),detach(d),detach(p),detach(m),detach(h),detach(_),detach(v),detach(y),detach($),detach(g)),D=!1,run_all(O)}}}function create_default_slot$3(e){let t,r,a=Object.keys(e[4]).length===0,i,o=Object.keys(e[5]).length,u,c,f,d,p,m=a&&create_if_block_4$1(e),h=o&&create_if_block_3$1(e);function _($,g){if(g[0]&16&&(c=null),$[6])return create_if_block_1$6;if(c==null&&(c=!!Object.keys($[4]).length),c)return create_if_block_2$1}let v=_(e,[-1,-1]),y=v&&v(e);return{c(){t=element("input"),r=space(),m&&m.c(),i=space(),h&&h.c(),u=space(),y&&y.c(),f=empty$1(),attr(t,"type","file"),attr(t,"id","fileInput"),attr(t,"accept",".csv, .txt, .TXT, .awd"),set_style(t,"display","none")},m($,g){insert($,t,g),insert($,r,g),m&&m.m($,g),insert($,i,g),h&&h.m($,g),insert($,u,g),y&&y.m($,g),insert($,f,g),d||(p=listen(t,"change",e[11]),d=!0)},p($,g){g[0]&16&&(a=Object.keys($[4]).length===0),a?m?m.p($,g):(m=create_if_block_4$1($),m.c(),m.m(i.parentNode,i)):m&&(m.d(1),m=null),g[0]&32&&(o=Object.keys($[5]).length),o?h?h.p($,g):(h=create_if_block_3$1($),h.c(),h.m(u.parentNode,u)):h&&(h.d(1),h=null),v===(v=_($,g))&&y?y.p($,g):(y&&y.d(1),y=v&&v($),y&&(y.c(),y.m(f.parentNode,f)))},d($){$&&(detach(t),detach(r),detach(i),detach(u),detach(f)),m&&m.d($),h&&h.d($),y&&y.d($),d=!1,p()}}}function create_fragment$f(e){let t,r,a=e[3]==="import"&&create_if_block$b(e);return{c(){a&&a.c(),t=empty$1()},m(i,o){a&&a.m(i,o),insert(i,t,o),r=!0},p(i,o){i[3]==="import"?a?(a.p(i,o),o[0]&8&&transition_in(a,1)):(a=create_if_block$b(i),a.c(),transition_in(a,1),a.m(t.parentNode,t)):a&&(group_outros(),transition_out(a,1,1,()=>{a=null}),check_outros())},i(i){r||(transition_in(a),r=!0)},o(i){transition_out(a),r=!1},d(i){i&&detach(t),a&&a.d(i)}}}const previewTableNrows=6;function changeObjectKeys(e,t){console.log(e);const r={};return Object.keys(e).forEach((a,i)=>{const o=t[i]||a;e[a].splice(0,1),r[o]=e[a]}),r}function instance$f(e,t,r){let a,i;component_subscribe(e,data,P=>r(24,a=P)),component_subscribe(e,menuModalType,P=>r(3,i=P));const o=["NaN","NA","null"];let u,c={},f={},d=0,p=!0,m=!1,h=!1,_=!1;async function v(){r(4,c={}),r(5,f={}),r(2,p=!0),m=!1,r(6,h=!1),_=!1,await tick(),document.getElementById("fileInput").click()}function y(P=0){return r(6,h=!1),new Promise(G=>{console.log("doing papa previewIN= "+P+", useHeaders= "+p),Papa.parse(u[0],{preview:P,header:p,dynamicTyping:!0,skipEmptyLines:"greedy",error(I,z,N,B){console.log("Error: "+I+" | "+B),r(4,c={}),r(5,f={err:I,reason:B}),G()},beforeFirstChunk:I=>{var B;const z=I.split(/\r\n|\r|\n/);return(B=(d?z.splice(0,d):z[0].split(/[,;\t]/))[0])!=null&&B.includes("Actiware Export File")&&!_&&(console.log("ACTIWARE"),_="actiware",r(1,d=148),y(d+P+1)),z.join(`
`)},complete(I,z){console.log("Parsing complete:",I,z),z.name.toLowerCase().endsWith(".awd")&&(I.errors=[],P==d+previewTableNrows+p?y(14):I.data=awdTocsv(I.data)),console.log("RESULTS",I),I.errors.length>0&&r(6,h=!0),$(I.data),G()}})})}function $(P){if(r(4,c=g(P)),_==="actiware"){r(4,c.DateTime=[],c);for(let G=0;G<c.Date.length;G++)c.DateTime.push(c.Date[G]+" "+c.Time[G].replace(/\b([ap])\.m\./gi,(I,z)=>z.toUpperCase()+"M"))}}function g(P){try{let G={};return P.forEach(I=>{Object.keys(I).forEach(z=>{G[z]||(G[z]=[]),G[z].push(I[z])})}),m&&p&&(G=changeObjectKeys(G,P[0])),G}catch(G){return console.error("Error converting array to object:",G),{}}}async function D(){console.log("loading..."),await y(0),O(c,u[0].name),set_store_value(menuModalType,i="",i)}function O(P,G){let I={id:b(),importedFrom:G,displayName:"data_"+b(),datalength:NaN,data:{}};I.datalength=P[Object.keys(P)[0]].length,Object.keys(P).forEach((z,N)=>{const B=`imported_${N}`,ie=T(P[z]),L=guessDateofArray(P[z]);if(L!=-1){const X=L;I.data[B]={name:z,type:"time",data:P[z],timeFormat:X,timeData:forceFormat(P[z],X),recordPeriod:getPeriod(P[z],X)}}else isNaN(ie)?I.data[B]={name:z,type:"category",data:P[z]}:I.data[B]={name:z,type:"value",data:P[z]}}),a.push(I),data.set(a)}function b(){if(a.length===0)return 0;let P=[];return a.forEach(G=>P.push(G.id)),Math.max(...P)+1}function T(P){for(const G of P)if(G!==null&&G!==""&&!o.includes(G))return G;return null}function w(P){if(Object.keys(P).length===0)return"There was an error reading the file "+u[0].name;let G="<table><thead><tr>";Object.keys(P).forEach(I=>G+=`<th>${I}</th>`),G+="</tr></thead><tbody>";for(let I=0;I<previewTableNrows;I++){G+="<tr>";for(let z=0;z<Object.keys(P).length;z++)G+=`<td>${P[Object.keys(P)[z]][I]}</td>`;G+="</tr>"}return G+="</tbody></table>",G}function k(){u=this.files,r(0,u)}function C(){d=to_number(this.value),r(1,d)}function S(){p=this.checked,r(2,p)}function F(){p=this.checked,r(2,p)}const E=P=>y(d+previewTableNrows+p);function U(){d=to_number(this.value),r(1,d)}const R=()=>y(d+previewTableNrows+p);function A(){p=this.checked,r(2,p)}const M=()=>y(d+previewTableNrows+p);function V(){d=to_number(this.value),r(1,d)}const H=()=>y(d+previewTableNrows+p);return e.$$.update=()=>{e.$$.dirty[0]&8&&i==="import"&&v(),e.$$.dirty[0]&7&&u&&y(d+previewTableNrows+p)},[u,d,p,i,c,f,h,v,y,D,w,k,C,S,F,E,U,R,A,M,V,H]}class ImportData extends SvelteComponent{constructor(t){super(),init(this,t,instance$f,create_fragment$f,safe_not_equal,{},null,[-1,-1])}}const version="3.3.4";function create_if_block$a(e){let t,r;return t=new Dialog({props:{title:"ABOUT AnCiR",$$slots:{default:[create_default_slot$2]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},m(a,i){mount_component(t,a,i),r=!0},i(a){r||(transition_in(t.$$.fragment,a),r=!0)},o(a){transition_out(t.$$.fragment,a),r=!1},d(a){destroy_component(t,a)}}}function create_default_slot$2(e){let t,r,a,i,o,u,c,f,d,p,m,h,_,v,y,$,g,D,O,b,T,w,k,C,S;return{c(){t=element("h3"),t.textContent=`Analysis of Circadian Rhythms (AnCiR) v${version}`,r=space(),a=element("p"),a.textContent=`This is our 'AnCiR' to the need for a simple-to-use (GUI; no coding) tool
      for analysis of circadian rhythms. Currently, the tool only allows for
      import of csv data and plotting of actograms.`,i=space(),o=element("p"),o.innerHTML=`This is written in Svelte, using D3, with help from <a href="https://github.com/korur">@korur</a>
      and <a href="https://github.com/khromov">@khromov</a> - thank you!`,u=space(),c=element("h4"),c.textContent="For users",f=space(),d=element("p"),d.textContent=`If you want to generate sample data, just click on _Data_>_Create_ and a
      new Sample set should appear. Similarly, if you have your own .csv file,
      then you can import it and it should show up in the list.`,p=space(),m=element("p"),m.textContent=`Clicking on the icon next to the name of data table should display the
      contents in the bottom viewer, so you can see what the data look like.`,h=space(),_=element("p"),_.textContent=`To create an actogram, click on _Plot_>_Actogram_. You can change the data
      that is used by using the dropdown lists under _Data for this plot_ on the
      right hand panel. You can add multiple data sources and change their
      colours.`,v=space(),y=element("p"),y.textContent="The other controls for the actogram should be self-explanatory.",$=space(),g=element("p"),g.textContent=`The Periodogram plot is what it says it is, and raw is just a plot of the
      data - with similar controls to the actogram.`,D=space(),O=element("p"),O.textContent="Have fun.",b=space(),T=element("h4"),T.textContent="For developers",w=space(),k=element("p"),k.innerHTML='Any advice or offers of support will be welcommed - email <a href="mailto:d.cumin@auckland.ac.nz?subject=AnCiR">d.cumin@auckland.ac.nz</a>',C=text(`

    The following packages code was used in this project:
    `),S=element("ul"),S.innerHTML=`<li><a href="https://svelte.dev/">Svelte</a> is used as the framework/library/compiler
        of the code.</li> <li><a href="https://d3js.org/">D3</a> is used for plotting.</li> <li><a href="https://www.papaparse.com/">Papaparse</a> is used for importing
        the data.</li> <li><a href="https://svelte.dev/repl/79d35c3691cf4ed0924e7e98dc9af55e?version=4.2.8">In-place editing</a> for updating items.</li> <li><a href="https://www.npmjs.com/package/moment-guess">Moment-guess</a>
        was adapted to guess the time format of data.</li> <li><a href="https://atomiks.github.io/tippyjs/">Tippy</a> was used in this project.</li> <li><a href="https://github.com/ytliu0/p-value_calculators/blob/master/statFunctions.js">Stats functions from</a> @ytliu0.</li> <li><a href="https://github.com/EmilTholin/svelte-spinner/">Spinner</a> was taken
        to use for the spinner.</li> <li><a href="https://www.npmjs.com/package/luxon">Luxon</a> is used for date
        manipulation and caluclations.</li>`},m(F,E){insert(F,t,E),insert(F,r,E),insert(F,a,E),insert(F,i,E),insert(F,o,E),insert(F,u,E),insert(F,c,E),insert(F,f,E),insert(F,d,E),insert(F,p,E),insert(F,m,E),insert(F,h,E),insert(F,_,E),insert(F,v,E),insert(F,y,E),insert(F,$,E),insert(F,g,E),insert(F,D,E),insert(F,O,E),insert(F,b,E),insert(F,T,E),insert(F,w,E),insert(F,k,E),insert(F,C,E),insert(F,S,E)},p:noop,d(F){F&&(detach(t),detach(r),detach(a),detach(i),detach(o),detach(u),detach(c),detach(f),detach(d),detach(p),detach(m),detach(h),detach(_),detach(v),detach(y),detach($),detach(g),detach(D),detach(O),detach(b),detach(T),detach(w),detach(k),detach(C),detach(S))}}}function create_fragment$e(e){let t,r,a=e[0]==="about"&&create_if_block$a(e);return{c(){a&&a.c(),t=empty$1()},m(i,o){a&&a.m(i,o),insert(i,t,o),r=!0},p(i,[o]){i[0]==="about"?a?o&1&&transition_in(a,1):(a=create_if_block$a(i),a.c(),transition_in(a,1),a.m(t.parentNode,t)):a&&(group_outros(),transition_out(a,1,1,()=>{a=null}),check_outros())},i(i){r||(transition_in(a),r=!0)},o(i){transition_out(a),r=!1},d(i){i&&detach(t),a&&a.d(i)}}}function instance$e(e,t,r){let a;return component_subscribe(e,menuModalType,i=>r(0,a=i)),[a]}class About extends SvelteComponent{constructor(t){super(),init(this,t,instance$e,create_fragment$e,safe_not_equal,{})}}function create_if_block$9(e){let t,r;return t=new Dialog({props:{title:"Make new column",$$slots:{default:[create_default_slot$1]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},m(a,i){mount_component(t,a,i),r=!0},i(a){r||(transition_in(t.$$.fragment,a),r=!0)},o(a){transition_out(t.$$.fragment,a),r=!1},d(a){destroy_component(t,a)}}}function create_default_slot$1(e){let t;return{c(){t=text("Do stuff in here")},m(r,a){insert(r,t,a)},d(r){r&&detach(t)}}}function create_fragment$d(e){let t,r,a=e[0]==="createData"&&create_if_block$9(e);return{c(){a&&a.c(),t=empty$1()},m(i,o){a&&a.m(i,o),insert(i,t,o),r=!0},p(i,[o]){i[0]==="createData"?a?o&1&&transition_in(a,1):(a=create_if_block$9(i),a.c(),transition_in(a,1),a.m(t.parentNode,t)):a&&(group_outros(),transition_out(a,1,1,()=>{a=null}),check_outros())},i(i){r||(transition_in(a),r=!0)},o(i){transition_out(a),r=!1},d(i){i&&detach(t),a&&a.d(i)}}}function instance$d(e,t,r){let a;return component_subscribe(e,menuModalType,i=>r(0,a=i)),[a]}class CreateNewData extends SvelteComponent{constructor(t){super(),init(this,t,instance$d,create_fragment$d,safe_not_equal,{})}}function create_default_slot_6(e){let t,r;return t=new DataTree({}),{c(){create_component(t.$$.fragment)},m(a,i){mount_component(t,a,i),r=!0},i(a){r||(transition_in(t.$$.fragment,a),r=!0)},o(a){transition_out(t.$$.fragment,a),r=!1},d(a){destroy_component(t,a)}}}function create_default_slot_5(e){let t,r,a,i;return t=new GraphMaster({}),a=new TableMaster({}),{c(){create_component(t.$$.fragment),r=space(),create_component(a.$$.fragment)},m(o,u){mount_component(t,o,u),insert(o,r,u),mount_component(a,o,u),i=!0},i(o){i||(transition_in(t.$$.fragment,o),transition_in(a.$$.fragment,o),i=!0)},o(o){transition_out(t.$$.fragment,o),transition_out(a.$$.fragment,o),i=!1},d(o){o&&detach(r),destroy_component(t,o),destroy_component(a,o)}}}function create_default_slot_4(e){let t,r;return t=new Splitpanes({props:{theme:"modern-theme",horizontal:!0,style:"height: 100%;",pushOtherPanes:!1,dblClickSplitter:!1,$$slots:{default:[create_default_slot_5]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},m(a,i){mount_component(t,a,i),r=!0},p(a,i){const o={};i&16&&(o.$$scope={dirty:i,ctx:a}),t.$set(o)},i(a){r||(transition_in(t.$$.fragment,a),r=!0)},o(a){transition_out(t.$$.fragment,a),r=!1},d(a){destroy_component(t,a)}}}function create_default_slot_3(e){let t,r,a,i;return t=new Pane({props:{size:18,$$slots:{default:[create_default_slot_6]},$$scope:{ctx:e}}}),a=new Pane({props:{$$slots:{default:[create_default_slot_4]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment),r=space(),create_component(a.$$.fragment)},m(o,u){mount_component(t,o,u),insert(o,r,u),mount_component(a,o,u),i=!0},p(o,u){const c={};u&16&&(c.$$scope={dirty:u,ctx:o}),t.$set(c);const f={};u&16&&(f.$$scope={dirty:u,ctx:o}),a.$set(f)},i(o){i||(transition_in(t.$$.fragment,o),transition_in(a.$$.fragment,o),i=!0)},o(o){transition_out(t.$$.fragment,o),transition_out(a.$$.fragment,o),i=!1},d(o){o&&detach(r),destroy_component(t,o),destroy_component(a,o)}}}function create_default_slot_2(e){let t,r;return t=new Splitpanes({props:{theme:"modern-theme",style:"height: 100%;",pushOtherPanes:!1,dblClickSplitter:!0,$$slots:{default:[create_default_slot_3]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},m(a,i){mount_component(t,a,i),r=!0},p(a,i){const o={};i&16&&(o.$$scope={dirty:i,ctx:a}),t.$set(o)},i(a){r||(transition_in(t.$$.fragment,a),r=!0)},o(a){transition_out(t.$$.fragment,a),r=!1},d(a){destroy_component(t,a)}}}function create_default_slot_1(e){let t,r;return t=new StatusMaster({}),{c(){create_component(t.$$.fragment)},m(a,i){mount_component(t,a,i),r=!0},i(a){r||(transition_in(t.$$.fragment,a),r=!0)},o(a){transition_out(t.$$.fragment,a),r=!1},d(a){destroy_component(t,a)}}}function create_default_slot(e){let t,r,a,i;return t=new Pane({props:{minSize:30,$$slots:{default:[create_default_slot_2]},$$scope:{ctx:e}}}),a=new Pane({props:{size:10,$$slots:{default:[create_default_slot_1]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment),r=space(),create_component(a.$$.fragment)},m(o,u){mount_component(t,o,u),insert(o,r,u),mount_component(a,o,u),i=!0},p(o,u){const c={};u&16&&(c.$$scope={dirty:u,ctx:o}),t.$set(c);const f={};u&16&&(f.$$scope={dirty:u,ctx:o}),a.$set(f)},i(o){i||(transition_in(t.$$.fragment,o),transition_in(a.$$.fragment,o),i=!0)},o(o){transition_out(t.$$.fragment,o),transition_out(a.$$.fragment,o),i=!1},d(o){o&&detach(r),destroy_component(t,o),destroy_component(a,o)}}}function create_fragment$c(e){let t,r,a,i,o,u,c,f,d,p,m,h,_,v,y,$,g,D,O,b,T;return document.title="AnCiR v ."+version,r=new ContextMenu({}),i=new GenerateSimulated({}),u=new About({}),f=new Styling({}),p=new ImportData({}),h=new CreateNewData({}),$=new MenuMaster({}),D=new Splitpanes({props:{theme:"modern-theme",horizontal:!0,style:"height: calc(100vh - 3.4em); width: calc(100vw - 1em);",pushOtherPanes:!1,$$slots:{default:[create_default_slot]},$$scope:{ctx:e}}}),b=new ProcessStep({}),{c(){t=space(),create_component(r.$$.fragment),a=space(),create_component(i.$$.fragment),o=space(),create_component(u.$$.fragment),c=space(),create_component(f.$$.fragment),d=space(),create_component(p.$$.fragment),m=space(),create_component(h.$$.fragment),_=space(),v=element("div"),y=element("div"),create_component($.$$.fragment),g=space(),create_component(D.$$.fragment),O=space(),create_component(b.$$.fragment),set_style(y,"max-width","100vw")},m(w,k){insert(w,t,k),mount_component(r,w,k),insert(w,a,k),mount_component(i,w,k),insert(w,o,k),mount_component(u,w,k),insert(w,c,k),mount_component(f,w,k),insert(w,d,k),mount_component(p,w,k),insert(w,m,k),mount_component(h,w,k),insert(w,_,k),insert(w,v,k),append(v,y),mount_component($,y,null),append(v,g),mount_component(D,v,null),append(v,O),mount_component(b,v,null),T=!0},p(w,[k]){const C={};k&16&&(C.$$scope={dirty:k,ctx:w}),D.$set(C)},i(w){T||(transition_in(r.$$.fragment,w),transition_in(i.$$.fragment,w),transition_in(u.$$.fragment,w),transition_in(f.$$.fragment,w),transition_in(p.$$.fragment,w),transition_in(h.$$.fragment,w),transition_in($.$$.fragment,w),transition_in(D.$$.fragment,w),transition_in(b.$$.fragment,w),T=!0)},o(w){transition_out(r.$$.fragment,w),transition_out(i.$$.fragment,w),transition_out(u.$$.fragment,w),transition_out(f.$$.fragment,w),transition_out(p.$$.fragment,w),transition_out(h.$$.fragment,w),transition_out($.$$.fragment,w),transition_out(D.$$.fragment,w),transition_out(b.$$.fragment,w),T=!1},d(w){w&&(detach(t),detach(a),detach(o),detach(c),detach(d),detach(m),detach(_),detach(v)),destroy_component(r,w),destroy_component(i,w),destroy_component(u,w),destroy_component(f,w),destroy_component(p,w),destroy_component(h,w),destroy_component($),destroy_component(D),destroy_component(b)}}}function instance$c(e,t,r){let a,i,o;component_subscribe(e,activeGraphTab,c=>r(0,a=c)),component_subscribe(e,data,c=>r(1,i=c)),component_subscribe(e,graphs,c=>r(2,o=c)),console.log("VERSION: "+version),onMount(async()=>(await graphFilesLoaded,window.addEventListener("keydown",u),window.onerror=function(c,f,d){return console.log("THERE WAS AN ERROR. NEED TO HANDLE THIS BETTER. TODO_low"),console.log(c,f,d),!0},()=>{window.removeEventListener("keydown",u)}));function u(c){if(c.ctrlKey&&c.shiftKey&&c.key==="G"&&console.log(o),c.ctrlKey&&c.shiftKey&&c.key==="D"&&console.log(i),c.ctrlKey&&c.shiftKey&&c.key==="S"){c.preventDefault(),console.log("populate with example data and graphs");const f=generateData(28,15,DateTime.now().set({hour:0,minute:0,second:0,millisecond:0}).toJSDate(),[24,28],[100,150],i.length);console.log(f),set_store_value(data,i=[...i,f],i),console.log(i),makeNewChart("Raw"),addDataToGraph(0,{x:"any",y:"any"},{col:{hex:getRandomHexColour(),alpha:.5},size:2,strokeWidth:1,strokeCol:{hex:getRandomHexColour(),alpha:.9}}),makeNewChart("Periodogram"),addDataToGraph(0,{time:"any",values:"any"},{col:{hex:getRandomHexColour(),alpha:.5}}),makeNewChart("Actogram"),addDataToGraph(0,{time:"time",values:"values"},{col:{hex:getRandomHexColour(),alpha:.5},show:!0,onsets:[{type:"onset",showOnsets:!0,excludeOnsets:[],MAD:2,filterStart:1,filterEnd:28,centileThresh:80,M:3,N:3,lmFit:{slope:0,intercept:0,rSquared:0},col:{hex:getRandomHexColour(),alpha:.5},showLine:!0}]}),set_store_value(activeGraphTab,a=2,a)}}return[]}class App extends SvelteComponent{constructor(t){super(),init(this,t,instance$c,create_fragment$c,safe_not_equal,{})}}new App({target:document.getElementById("app")});function create_if_block_1$5(e){let t,r,a;function i(u){e[4](u)}let o={min:-20,max:20,step:.5,label:"Add (hrs):"};return e[0].val!==void 0&&(o.value=e[0].val),t=new Slider({props:o}),binding_callbacks.push(()=>bind(t,"value",i)),{c(){create_component(t.$$.fragment)},m(u,c){mount_component(t,u,c),a=!0},p(u,c){const f={};!r&&c&1&&(r=!0,f.value=u[0].val,add_flush_callback(()=>r=!1)),t.$set(f)},i(u){a||(transition_in(t.$$.fragment,u),a=!0)},o(u){transition_out(t.$$.fragment,u),a=!1},d(u){destroy_component(t,u)}}}function create_if_block$8(e){let t,r,a;function i(u){e[3](u)}let o={min:-20,max:20,label:"Add:"};return e[0].val!==void 0&&(o.value=e[0].val),t=new Slider({props:o}),binding_callbacks.push(()=>bind(t,"value",i)),{c(){create_component(t.$$.fragment)},m(u,c){mount_component(t,u,c),a=!0},p(u,c){const f={};!r&&c&1&&(r=!0,f.value=u[0].val,add_flush_callback(()=>r=!1)),t.$set(f)},i(u){a||(transition_in(t.$$.fragment,u),a=!0)},o(u){transition_out(t.$$.fragment,u),a=!1},d(u){destroy_component(t,u)}}}function create_fragment$b(e){let t,r,a,i;const o=[create_if_block$8,create_if_block_1$5],u=[];function c(f,d){return f[1].type==="value"?0:f[1].type==="time"?1:-1}return~(t=c(e))&&(r=u[t]=o[t](e)),{c(){r&&r.c(),a=empty$1()},m(f,d){~t&&u[t].m(f,d),insert(f,a,d),i=!0},p(f,[d]){let p=t;t=c(f),t===p?~t&&u[t].p(f,d):(r&&(group_outros(),transition_out(u[p],1,1,()=>{u[p]=null}),check_outros()),~t?(r=u[t],r?r.p(f,d):(r=u[t]=o[t](f),r.c()),transition_in(r,1),r.m(a.parentNode,a)):r=null)},i(f){i||(transition_in(r),i=!0)},o(f){transition_out(r),i=!1},d(f){f&&detach(a),~t&&u[t].d(f)}}}const forTypes$2=["value","time"],startParams$2={val:0};function Add(e=[1,2,3],t={val:0}){var r=[...e];for(let a=0;a<r.length;a++)r[a]=Number(r[a])+Number(t.val);return r}function instance$b(e,t,r){const a=createEventDispatcher();let{paramsStart:i}=t,{typeTime:o}=t,{params:u={val:0}}=t;Object.keys(i).length>0&&(u=Object.assign({},i));function c(d){e.$$.not_equal(u.val,d)&&(u.val=d,r(0,u))}function f(d){e.$$.not_equal(u.val,d)&&(u.val=d,r(0,u))}return e.$$set=d=>{"paramsStart"in d&&r(2,i=d.paramsStart),"typeTime"in d&&r(1,o=d.typeTime),"params"in d&&r(0,u=d.params)},e.$$.update=()=>{e.$$.dirty&1&&a("update",{params:u})},[u,o,i,c,f]}class Add_1 extends SvelteComponent{constructor(t){super(),init(this,t,instance$b,create_fragment$b,safe_not_equal,{paramsStart:2,typeTime:1,params:0})}}const Add$1=Object.freeze(Object.defineProperty({__proto__:null,Add,default:Add_1,forTypes:forTypes$2,startParams:startParams$2},Symbol.toStringTag,{value:"Module"}));function create_if_block_1$4(e){let t,r,a,i,o,u;function c(m){e[8](m)}let f={min:e[2],max:e[3],limits:[e[2],e[3]],label:"Min (hrs):"};e[0].min!==void 0&&(f.value=e[0].min),t=new Slider({props:f}),binding_callbacks.push(()=>bind(t,"value",c));function d(m){e[9](m)}let p={min:e[2],max:e[3],limits:[e[2],e[3]],label:"Max (hrs):"};return e[0].max!==void 0&&(p.value=e[0].max),i=new Slider({props:p}),binding_callbacks.push(()=>bind(i,"value",d)),{c(){create_component(t.$$.fragment),a=space(),create_component(i.$$.fragment)},m(m,h){mount_component(t,m,h),insert(m,a,h),mount_component(i,m,h),u=!0},p(m,h){const _={};!r&&h&1&&(r=!0,_.value=m[0].min,add_flush_callback(()=>r=!1)),t.$set(_);const v={};!o&&h&1&&(o=!0,v.value=m[0].max,add_flush_callback(()=>o=!1)),i.$set(v)},i(m){u||(transition_in(t.$$.fragment,m),transition_in(i.$$.fragment,m),u=!0)},o(m){transition_out(t.$$.fragment,m),transition_out(i.$$.fragment,m),u=!1},d(m){m&&detach(a),destroy_component(t,m),destroy_component(i,m)}}}function create_if_block$7(e){let t,r,a,i,o,u;function c(m){e[6](m)}let f={min:e[2],max:e[3],limits:[e[2],e[3]],label:"Min:"};e[0].min!==void 0&&(f.value=e[0].min),t=new Slider({props:f}),binding_callbacks.push(()=>bind(t,"value",c));function d(m){e[7](m)}let p={min:e[2],max:e[3],limits:[e[2],e[3]],label:"Max:"};return e[0].max!==void 0&&(p.value=e[0].max),i=new Slider({props:p}),binding_callbacks.push(()=>bind(i,"value",d)),{c(){create_component(t.$$.fragment),a=space(),create_component(i.$$.fragment)},m(m,h){mount_component(t,m,h),insert(m,a,h),mount_component(i,m,h),u=!0},p(m,h){const _={};!r&&h&1&&(r=!0,_.value=m[0].min,add_flush_callback(()=>r=!1)),t.$set(_);const v={};!o&&h&1&&(o=!0,v.value=m[0].max,add_flush_callback(()=>o=!1)),i.$set(v)},i(m){u||(transition_in(t.$$.fragment,m),transition_in(i.$$.fragment,m),u=!0)},o(m){transition_out(t.$$.fragment,m),transition_out(i.$$.fragment,m),u=!1},d(m){m&&detach(a),destroy_component(t,m),destroy_component(i,m)}}}function create_fragment$a(e){let t,r,a,i;const o=[create_if_block$7,create_if_block_1$4],u=[];function c(f,d){return f[1].type==="value"?0:f[1].type==="time"?1:-1}return~(t=c(e))&&(r=u[t]=o[t](e)),{c(){r&&r.c(),a=empty$1()},m(f,d){~t&&u[t].m(f,d),insert(f,a,d),i=!0},p(f,[d]){let p=t;t=c(f),t===p?~t&&u[t].p(f,d):(r&&(group_outros(),transition_out(u[p],1,1,()=>{u[p]=null}),check_outros()),~t?(r=u[t],r?r.p(f,d):(r=u[t]=o[t](f),r.c()),transition_in(r,1),r.m(a.parentNode,a)):r=null)},i(f){i||(transition_in(r),i=!0)},o(f){transition_out(r),i=!1},d(f){f&&detach(a),~t&&u[t].d(f)}}}const forTypes$1=["value","time"],startParams$1={min:-1/0,max:1/0};function Filter(e=[1,2,3],t={min:0,max:12}){min$1(e),max$1(e);var r=[...e];for(let a=0;a<r.length;a++)r[a]<t.min?r[a]=NaN:r[a]>t.max&&(r[a]=NaN);return r}function instance$a(e,t,r){const a=createEventDispatcher();let{paramsStart:i}=t,{typeTime:o}=t,{dataIN:u}=t;const c=min$1(u),f=max$1(u);let{params:d={min:c,max:f}}=t;Object.keys(i).length>0&&(d=Object.assign({},i));function p(v){e.$$.not_equal(d.min,v)&&(d.min=v,r(0,d))}function m(v){e.$$.not_equal(d.max,v)&&(d.max=v,r(0,d))}function h(v){e.$$.not_equal(d.min,v)&&(d.min=v,r(0,d))}function _(v){e.$$.not_equal(d.max,v)&&(d.max=v,r(0,d))}return e.$$set=v=>{"paramsStart"in v&&r(4,i=v.paramsStart),"typeTime"in v&&r(1,o=v.typeTime),"dataIN"in v&&r(5,u=v.dataIN),"params"in v&&r(0,d=v.params)},e.$$.update=()=>{e.$$.dirty&1&&d.max<d.min&&r(0,d.max=d.min,d),e.$$.dirty&1&&a("update",{params:d})},[d,o,c,f,i,u,p,m,h,_]}class Filter_1 extends SvelteComponent{constructor(t){super(),init(this,t,instance$a,create_fragment$a,safe_not_equal,{paramsStart:4,typeTime:1,dataIN:5,params:0})}}const Filter$1=Object.freeze(Object.defineProperty({__proto__:null,Filter,default:Filter_1,forTypes:forTypes$1,startParams:startParams$1},Symbol.toStringTag,{value:"Module"}));function create_fragment$9(e){let t,r,a,i,o,u,c;return{c(){t=element("label"),t.textContent="From:",r=element("input"),a=space(),i=element("label"),i.textContent="To:",o=element("input")},m(f,d){insert(f,t,d),insert(f,r,d),set_input_value(r,e[0].from),insert(f,a,d),insert(f,i,d),insert(f,o,d),set_input_value(o,e[0].to),u||(c=[listen(r,"input",e[3]),listen(o,"input",e[4])],u=!0)},p(f,[d]){d&1&&r.value!==f[0].from&&set_input_value(r,f[0].from),d&1&&o.value!==f[0].to&&set_input_value(o,f[0].to)},i:noop,o:noop,d(f){f&&(detach(t),detach(r),detach(a),detach(i),detach(o)),u=!1,run_all(c)}}}const forTypes=["value","time"],startParams={from:-999,to:NaN};function Replace(e=[1,2,3],t={from:0,to:100}){var r=[...e];for(let a=0;a<r.length;a++)r[a]==t.from&&(r[a]=t.to);return r}function instance$9(e,t,r){const a=createEventDispatcher();let{paramsStart:i}=t,{typeTime:o}=t,{params:u={from:0,to:100}}=t;Object.keys(i).length>0&&(u=Object.assign({},i));function c(){u.from=this.value,r(0,u)}function f(){u.to=this.value,r(0,u)}return e.$$set=d=>{"paramsStart"in d&&r(1,i=d.paramsStart),"typeTime"in d&&r(2,o=d.typeTime),"params"in d&&r(0,u=d.params)},e.$$.update=()=>{e.$$.dirty&1&&a("update",{params:u})},[u,i,o,c,f]}class Replace_1 extends SvelteComponent{constructor(t){super(),init(this,t,instance$9,create_fragment$9,safe_not_equal,{paramsStart:1,typeTime:2,params:0})}}const Replace$1=Object.freeze(Object.defineProperty({__proto__:null,Replace,default:Replace_1,forTypes,startParams},Symbol.toStringTag,{value:"Module"}));function ascending$1(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function descending(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bisector(e){let t,r,a;e.length!==2?(t=ascending$1,r=(c,f)=>ascending$1(e(c),f),a=(c,f)=>e(c)-f):(t=e===ascending$1||e===descending?e:zero$1,r=e,a=e);function i(c,f,d=0,p=c.length){if(d<p){if(t(f,f)!==0)return p;do{const m=d+p>>>1;r(c[m],f)<0?d=m+1:p=m}while(d<p)}return d}function o(c,f,d=0,p=c.length){if(d<p){if(t(f,f)!==0)return p;do{const m=d+p>>>1;r(c[m],f)<=0?d=m+1:p=m}while(d<p)}return d}function u(c,f,d=0,p=c.length){const m=i(c,f,d,p-1);return m>d&&a(c[m-1],f)>-a(c[m],f)?m-1:m}return{left:i,center:u,right:o}}function zero$1(){return 0}function number$2(e){return e===null?NaN:+e}const ascendingBisect=bisector(ascending$1),bisectRight=ascendingBisect.right;bisector(number$2).center;const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(e,t,r){const a=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(a)),o=a/Math.pow(10,i),u=o>=e10?10:o>=e5?5:o>=e2?2:1;let c,f,d;return i<0?(d=Math.pow(10,-i)/u,c=Math.round(e*d),f=Math.round(t*d),c/d<e&&++c,f/d>t&&--f,d=-d):(d=Math.pow(10,i)*u,c=Math.round(e/d),f=Math.round(t/d),c*d<e&&++c,f*d>t&&--f),f<c&&.5<=r&&r<2?tickSpec(e,t,r*2):[c,f,d]}function ticks(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[i,o,u]=a?tickSpec(t,e,r):tickSpec(e,t,r);if(!(o>=i))return[];const c=o-i+1,f=new Array(c);if(a)if(u<0)for(let d=0;d<c;++d)f[d]=(o-d)/-u;else for(let d=0;d<c;++d)f[d]=(o-d)*u;else if(u<0)for(let d=0;d<c;++d)f[d]=(i+d)/-u;else for(let d=0;d<c;++d)f[d]=(i+d)*u;return f}function tickIncrement(e,t,r){return t=+t,e=+e,r=+r,tickSpec(e,t,r)[2]}function tickStep(e,t,r){t=+t,e=+e,r=+r;const a=t<e,i=a?tickIncrement(t,e,r):tickIncrement(e,t,r);return(a?-1:1)*(i<0?1/-i:i)}function initRange(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function define(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function extend(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=reHex.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?rgbn(t):r===3?new Rgb(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?rgba(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?rgba(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=reRgbInteger.exec(e))?new Rgb(t[1],t[2],t[3],1):(t=reRgbPercent.exec(e))?new Rgb(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=reRgbaInteger.exec(e))?rgba(t[1],t[2],t[3],t[4]):(t=reRgbaPercent.exec(e))?rgba(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=reHslPercent.exec(e))?hsla(t[1],t[2]/100,t[3]/100,1):(t=reHslaPercent.exec(e))?hsla(t[1],t[2]/100,t[3]/100,t[4]):named.hasOwnProperty(e)?rgbn(named[e]):e==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(e){return new Rgb(e>>16&255,e>>8&255,e&255,1)}function rgba(e,t,r,a){return a<=0&&(e=t=r=NaN),new Rgb(e,t,r,a)}function rgbConvert(e){return e instanceof Color||(e=color(e)),e?(e=e.rgb(),new Rgb(e.r,e.g,e.b,e.opacity)):new Rgb}function rgb$1(e,t,r,a){return arguments.length===1?rgbConvert(e):new Rgb(e,t,r,a??1)}function Rgb(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}define(Rgb,rgb$1,extend(Color,{brighter(e){return e=e==null?brighter:Math.pow(brighter,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?darker:Math.pow(darker,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const e=clampa(this.opacity);return`${e===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${e===1?")":`, ${e})`}`}function clampa(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function clampi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function hex(e){return e=clampi(e),(e<16?"0":"")+e.toString(16)}function hsla(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Hsl(e,t,r,a)}function hslConvert(e){if(e instanceof Hsl)return new Hsl(e.h,e.s,e.l,e.opacity);if(e instanceof Color||(e=color(e)),!e)return new Hsl;if(e instanceof Hsl)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,i=Math.min(t,r,a),o=Math.max(t,r,a),u=NaN,c=o-i,f=(o+i)/2;return c?(t===o?u=(r-a)/c+(r<a)*6:r===o?u=(a-t)/c+2:u=(t-r)/c+4,c/=f<.5?o+i:2-o-i,u*=60):c=f>0&&f<1?0:u,new Hsl(u,c,f,e.opacity)}function hsl(e,t,r,a){return arguments.length===1?hslConvert(e):new Hsl(e,t,r,a??1)}function Hsl(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}define(Hsl,hsl,extend(Color,{brighter(e){return e=e==null?brighter:Math.pow(brighter,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?darker:Math.pow(darker,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,i=2*r-a;return new Rgb(hsl2rgb(e>=240?e-240:e+120,i,a),hsl2rgb(e,i,a),hsl2rgb(e<120?e+240:e-120,i,a),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=clampa(this.opacity);return`${e===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function clamph(e){return e=(e||0)%360,e<0?e+360:e}function clampt(e){return Math.max(0,Math.min(1,e||0))}function hsl2rgb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const constant$1=e=>()=>e;function linear$1(e,t){return function(r){return e+r*t}}function exponential(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function gamma(e){return(e=+e)==1?nogamma:function(t,r){return r-t?exponential(t,r,e):constant$1(isNaN(t)?r:t)}}function nogamma(e,t){var r=t-e;return r?linear$1(e,r):constant$1(isNaN(e)?t:e)}const rgb=function e(t){var r=gamma(t);function a(i,o){var u=r((i=rgb$1(i)).r,(o=rgb$1(o)).r),c=r(i.g,o.g),f=r(i.b,o.b),d=nogamma(i.opacity,o.opacity);return function(p){return i.r=u(p),i.g=c(p),i.b=f(p),i.opacity=d(p),i+""}}return a.gamma=e,a}(1);function numberArray(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),i;return function(o){for(i=0;i<r;++i)a[i]=e[i]*(1-o)+t[i]*o;return a}}function isNumberArray(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function genericArray(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,i=new Array(a),o=new Array(r),u;for(u=0;u<a;++u)i[u]=interpolate(e[u],t[u]);for(;u<r;++u)o[u]=t[u];return function(c){for(u=0;u<a;++u)o[u]=i[u](c);return o}}function date(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function interpolateNumber(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function object(e,t){var r={},a={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=interpolate(e[i],t[i]):a[i]=t[i];return function(o){for(i in r)a[i]=r[i](o);return a}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(e){return function(){return e}}function one(e){return function(t){return e(t)+""}}function string(e,t){var r=reA.lastIndex=reB.lastIndex=0,a,i,o,u=-1,c=[],f=[];for(e=e+"",t=t+"";(a=reA.exec(e))&&(i=reB.exec(t));)(o=i.index)>r&&(o=t.slice(r,o),c[u]?c[u]+=o:c[++u]=o),(a=a[0])===(i=i[0])?c[u]?c[u]+=i:c[++u]=i:(c[++u]=null,f.push({i:u,x:interpolateNumber(a,i)})),r=reB.lastIndex;return r<t.length&&(o=t.slice(r),c[u]?c[u]+=o:c[++u]=o),c.length<2?f[0]?one(f[0].x):zero(t):(t=f.length,function(d){for(var p=0,m;p<t;++p)c[(m=f[p]).i]=m.x(d);return c.join("")})}function interpolate(e,t){var r=typeof t,a;return t==null||r==="boolean"?constant$1(t):(r==="number"?interpolateNumber:r==="string"?(a=color(t))?(t=a,rgb):string:t instanceof color?rgb:t instanceof Date?date:isNumberArray(t)?numberArray:Array.isArray(t)?genericArray:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?object:interpolateNumber)(e,t)}function interpolateRound(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function constants(e){return function(){return e}}function number$1(e){return+e}var unit=[0,1];function identity$2(e){return e}function normalize(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:constants(isNaN(t)?NaN:.5)}function clamper(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function bimap(e,t,r){var a=e[0],i=e[1],o=t[0],u=t[1];return i<a?(a=normalize(i,a),o=r(u,o)):(a=normalize(a,i),o=r(o,u)),function(c){return o(a(c))}}function polymap(e,t,r){var a=Math.min(e.length,t.length)-1,i=new Array(a),o=new Array(a),u=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<a;)i[u]=normalize(e[u],e[u+1]),o[u]=r(t[u],t[u+1]);return function(c){var f=bisectRight(e,c,1,a)-1;return o[f](i[f](c))}}function copy(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function transformer(){var e=unit,t=unit,r=interpolate,a,i,o,u=identity$2,c,f,d;function p(){var h=Math.min(e.length,t.length);return u!==identity$2&&(u=clamper(e[0],e[h-1])),c=h>2?polymap:bimap,f=d=null,m}function m(h){return h==null||isNaN(h=+h)?o:(f||(f=c(e.map(a),t,r)))(a(u(h)))}return m.invert=function(h){return u(i((d||(d=c(t,e.map(a),interpolateNumber)))(h)))},m.domain=function(h){return arguments.length?(e=Array.from(h,number$1),p()):e.slice()},m.range=function(h){return arguments.length?(t=Array.from(h),p()):t.slice()},m.rangeRound=function(h){return t=Array.from(h),r=interpolateRound,p()},m.clamp=function(h){return arguments.length?(u=h?!0:identity$2,p()):u!==identity$2},m.interpolate=function(h){return arguments.length?(r=h,p()):r},m.unknown=function(h){return arguments.length?(o=h,m):o},function(h,_){return a=h,i=_,p()}}function continuous(){return transformer()(identity$2,identity$2)}function formatDecimal(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function formatDecimalParts(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function exponent(e){return e=formatDecimalParts(Math.abs(e)),e?e[1]:NaN}function formatGroup(e,t){return function(r,a){for(var i=r.length,o=[],u=0,c=e[0],f=0;i>0&&c>0&&(f+c+1>a&&(c=Math.max(1,a-f)),o.push(r.substring(i-=c,i+c)),!((f+=c+1)>a));)c=e[u=(u+1)%e.length];return o.reverse().join(t)}}function formatNumerals(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(e){if(!(t=re.exec(e)))throw new Error("invalid format: "+e);var t;return new FormatSpecifier({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(e){e:for(var t=e.length,r=1,a=-1,i;r<t;++r)switch(e[r]){case".":a=i=r;break;case"0":a===0&&(a=r),i=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(i+1):e}var prefixExponent;function formatPrefixAuto(e,t){var r=formatDecimalParts(e,t);if(!r)return e+"";var a=r[0],i=r[1],o=i-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,u=a.length;return o===u?a:o>u?a+new Array(o-u+1).join("0"):o>0?a.slice(0,o)+"."+a.slice(o):"0."+new Array(1-o).join("0")+formatDecimalParts(e,Math.max(0,t+o-1))[0]}function formatRounded(e,t){var r=formatDecimalParts(e,t);if(!r)return e+"";var a=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+a:a.length>i+1?a.slice(0,i+1)+"."+a.slice(i+1):a+new Array(i-a.length+2).join("0")}const formatTypes={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:formatDecimal,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>formatRounded(e*100,t),r:formatRounded,s:formatPrefixAuto,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function identity$1(e){return e}var map=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale(e){var t=e.grouping===void 0||e.thousands===void 0?identity$1:formatGroup(map.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?identity$1:formatNumerals(map.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function d(m){m=formatSpecifier(m);var h=m.fill,_=m.align,v=m.sign,y=m.symbol,$=m.zero,g=m.width,D=m.comma,O=m.precision,b=m.trim,T=m.type;T==="n"?(D=!0,T="g"):formatTypes[T]||(O===void 0&&(O=12),b=!0,T="g"),($||h==="0"&&_==="=")&&($=!0,h="0",_="=");var w=y==="$"?r:y==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",k=y==="$"?a:/[%p]/.test(T)?u:"",C=formatTypes[T],S=/[defgprs%]/.test(T);O=O===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function F(E){var U=w,R=k,A,M,V;if(T==="c")R=C(E)+R,E="";else{E=+E;var H=E<0||1/E<0;if(E=isNaN(E)?f:C(Math.abs(E),O),b&&(E=formatTrim(E)),H&&+E==0&&v!=="+"&&(H=!1),U=(H?v==="("?v:c:v==="-"||v==="("?"":v)+U,R=(T==="s"?prefixes[8+prefixExponent/3]:"")+R+(H&&v==="("?")":""),S){for(A=-1,M=E.length;++A<M;)if(V=E.charCodeAt(A),48>V||V>57){R=(V===46?i+E.slice(A+1):E.slice(A))+R,E=E.slice(0,A);break}}}D&&!$&&(E=t(E,1/0));var P=U.length+E.length+R.length,G=P<g?new Array(g-P+1).join(h):"";switch(D&&$&&(E=t(G+E,G.length?g-R.length:1/0),G=""),_){case"<":E=U+E+R+G;break;case"=":E=U+G+E+R;break;case"^":E=G.slice(0,P=G.length>>1)+U+E+R+G.slice(P);break;default:E=G+U+E+R;break}return o(E)}return F.toString=function(){return m+""},F}function p(m,h){var _=d((m=formatSpecifier(m),m.type="f",m)),v=Math.max(-8,Math.min(8,Math.floor(exponent(h)/3)))*3,y=Math.pow(10,-v),$=prefixes[8+v/3];return function(g){return _(y*g)+$}}return{format:d,formatPrefix:p}}var locale,format,formatPrefix;defaultLocale({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale(e){return locale=formatLocale(e),format=locale.format,formatPrefix=locale.formatPrefix,locale}function precisionFixed(e){return Math.max(0,-exponent(Math.abs(e)))}function precisionPrefix(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(t)/3)))*3-exponent(Math.abs(e)))}function precisionRound(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,exponent(t)-exponent(e))+1}function tickFormat(e,t,r,a){var i=tickStep(e,t,r),o;switch(a=formatSpecifier(a??",f"),a.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(o=precisionPrefix(i,u))&&(a.precision=o),formatPrefix(a,u)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(o=precisionRound(i,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=o-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(o=precisionFixed(i))&&(a.precision=o-(a.type==="%")*2);break}}return format(a)}function linearish(e){var t=e.domain;return e.ticks=function(r){var a=t();return ticks(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var i=t();return tickFormat(i[0],i[i.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),i=0,o=a.length-1,u=a[i],c=a[o],f,d,p=10;for(c<u&&(d=u,u=c,c=d,d=i,i=o,o=d);p-- >0;){if(d=tickIncrement(u,c,r),d===f)return a[i]=u,a[o]=c,t(a);if(d>0)u=Math.floor(u/d)*d,c=Math.ceil(c/d)*d;else if(d<0)u=Math.ceil(u*d)/d,c=Math.floor(c*d)/d;else break;f=d}return e},e}function linear(){var e=continuous();return e.copy=function(){return copy(e,linear())},initRange.apply(e,arguments),linearish(e)}var xhtml="http://www.w3.org/1999/xhtml";const namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),namespaces.hasOwnProperty(t)?{space:namespaces[t],local:e}:e}function creatorInherit(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===xhtml&&t.documentElement.namespaceURI===xhtml?t.createElement(e):t.createElementNS(r,e)}}function creatorFixed(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function creator(e){var t=namespace(e);return(t.local?creatorFixed:creatorInherit)(t)}function none(){}function selector(e){return e==null?none:function(){return this.querySelector(e)}}function selection_select(e){typeof e!="function"&&(e=selector(e));for(var t=this._groups,r=t.length,a=new Array(r),i=0;i<r;++i)for(var o=t[i],u=o.length,c=a[i]=new Array(u),f,d,p=0;p<u;++p)(f=o[p])&&(d=e.call(f,f.__data__,p,o))&&("__data__"in f&&(d.__data__=f.__data__),c[p]=d);return new Selection(a,this._parents)}function array(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function empty(){return[]}function selectorAll(e){return e==null?empty:function(){return this.querySelectorAll(e)}}function arrayAll(e){return function(){return array(e.apply(this,arguments))}}function selection_selectAll(e){typeof e=="function"?e=arrayAll(e):e=selectorAll(e);for(var t=this._groups,r=t.length,a=[],i=[],o=0;o<r;++o)for(var u=t[o],c=u.length,f,d=0;d<c;++d)(f=u[d])&&(a.push(e.call(f,f.__data__,d,u)),i.push(f));return new Selection(a,i)}function matcher(e){return function(){return this.matches(e)}}function childMatcher(e){return function(t){return t.matches(e)}}var find=Array.prototype.find;function childFind(e){return function(){return find.call(this.children,e)}}function childFirst(){return this.firstElementChild}function selection_selectChild(e){return this.select(e==null?childFirst:childFind(typeof e=="function"?e:childMatcher(e)))}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(e){return function(){return filter.call(this.children,e)}}function selection_selectChildren(e){return this.selectAll(e==null?children:childrenFilter(typeof e=="function"?e:childMatcher(e)))}function selection_filter(e){typeof e!="function"&&(e=matcher(e));for(var t=this._groups,r=t.length,a=new Array(r),i=0;i<r;++i)for(var o=t[i],u=o.length,c=a[i]=[],f,d=0;d<u;++d)(f=o[d])&&e.call(f,f.__data__,d,o)&&c.push(f);return new Selection(a,this._parents)}function sparse(e){return new Array(e.length)}function selection_enter(){return new Selection(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}EnterNode.prototype={constructor:EnterNode,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function constant(e){return function(){return e}}function bindIndex(e,t,r,a,i,o){for(var u=0,c,f=t.length,d=o.length;u<d;++u)(c=t[u])?(c.__data__=o[u],a[u]=c):r[u]=new EnterNode(e,o[u]);for(;u<f;++u)(c=t[u])&&(i[u]=c)}function bindKey(e,t,r,a,i,o,u){var c,f,d=new Map,p=t.length,m=o.length,h=new Array(p),_;for(c=0;c<p;++c)(f=t[c])&&(h[c]=_=u.call(f,f.__data__,c,t)+"",d.has(_)?i[c]=f:d.set(_,f));for(c=0;c<m;++c)_=u.call(e,o[c],c,o)+"",(f=d.get(_))?(a[c]=f,f.__data__=o[c],d.delete(_)):r[c]=new EnterNode(e,o[c]);for(c=0;c<p;++c)(f=t[c])&&d.get(h[c])===f&&(i[c]=f)}function datum(e){return e.__data__}function selection_data(e,t){if(!arguments.length)return Array.from(this,datum);var r=t?bindKey:bindIndex,a=this._parents,i=this._groups;typeof e!="function"&&(e=constant(e));for(var o=i.length,u=new Array(o),c=new Array(o),f=new Array(o),d=0;d<o;++d){var p=a[d],m=i[d],h=m.length,_=arraylike(e.call(p,p&&p.__data__,d,a)),v=_.length,y=c[d]=new Array(v),$=u[d]=new Array(v),g=f[d]=new Array(h);r(p,m,y,$,g,_,t);for(var D=0,O=0,b,T;D<v;++D)if(b=y[D]){for(D>=O&&(O=D+1);!(T=$[O])&&++O<v;);b._next=T||null}}return u=new Selection(u,a),u._enter=c,u._exit=f,u}function arraylike(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function selection_exit(){return new Selection(this._exit||this._groups.map(sparse),this._parents)}function selection_join(e,t,r){var a=this.enter(),i=this,o=this.exit();return typeof e=="function"?(a=e(a),a&&(a=a.selection())):a=a.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?o.remove():r(o),a&&i?a.merge(i).order():i}function selection_merge(e){for(var t=e.selection?e.selection():e,r=this._groups,a=t._groups,i=r.length,o=a.length,u=Math.min(i,o),c=new Array(i),f=0;f<u;++f)for(var d=r[f],p=a[f],m=d.length,h=c[f]=new Array(m),_,v=0;v<m;++v)(_=d[v]||p[v])&&(h[v]=_);for(;f<i;++f)c[f]=r[f];return new Selection(c,this._parents)}function selection_order(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var a=e[t],i=a.length-1,o=a[i],u;--i>=0;)(u=a[i])&&(o&&u.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(u,o),o=u);return this}function selection_sort(e){e||(e=ascending);function t(m,h){return m&&h?e(m.__data__,h.__data__):!m-!h}for(var r=this._groups,a=r.length,i=new Array(a),o=0;o<a;++o){for(var u=r[o],c=u.length,f=i[o]=new Array(c),d,p=0;p<c;++p)(d=u[p])&&(f[p]=d);f.sort(t)}return new Selection(i,this._parents).order()}function ascending(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function selection_call(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var a=e[t],i=0,o=a.length;i<o;++i){var u=a[i];if(u)return u}return null}function selection_size(){let e=0;for(const t of this)++e;return e}function selection_empty(){return!this.node()}function selection_each(e){for(var t=this._groups,r=0,a=t.length;r<a;++r)for(var i=t[r],o=0,u=i.length,c;o<u;++o)(c=i[o])&&e.call(c,c.__data__,o,i);return this}function attrRemove(e){return function(){this.removeAttribute(e)}}function attrRemoveNS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function attrConstant(e,t){return function(){this.setAttribute(e,t)}}function attrConstantNS(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function attrFunction(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function attrFunctionNS(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function selection_attr(e,t){var r=namespace(e);if(arguments.length<2){var a=this.node();return r.local?a.getAttributeNS(r.space,r.local):a.getAttribute(r)}return this.each((t==null?r.local?attrRemoveNS:attrRemove:typeof t=="function"?r.local?attrFunctionNS:attrFunction:r.local?attrConstantNS:attrConstant)(r,t))}function defaultView(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function styleRemove(e){return function(){this.style.removeProperty(e)}}function styleConstant(e,t,r){return function(){this.style.setProperty(e,t,r)}}function styleFunction(e,t,r){return function(){var a=t.apply(this,arguments);a==null?this.style.removeProperty(e):this.style.setProperty(e,a,r)}}function selection_style(e,t,r){return arguments.length>1?this.each((t==null?styleRemove:typeof t=="function"?styleFunction:styleConstant)(e,t,r??"")):styleValue(this.node(),e)}function styleValue(e,t){return e.style.getPropertyValue(t)||defaultView(e).getComputedStyle(e,null).getPropertyValue(t)}function propertyRemove(e){return function(){delete this[e]}}function propertyConstant(e,t){return function(){this[e]=t}}function propertyFunction(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function selection_property(e,t){return arguments.length>1?this.each((t==null?propertyRemove:typeof t=="function"?propertyFunction:propertyConstant)(e,t)):this.node()[e]}function classArray(e){return e.trim().split(/^|\s+/)}function classList(e){return e.classList||new ClassList(e)}function ClassList(e){this._node=e,this._names=classArray(e.getAttribute("class")||"")}ClassList.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function classedAdd(e,t){for(var r=classList(e),a=-1,i=t.length;++a<i;)r.add(t[a])}function classedRemove(e,t){for(var r=classList(e),a=-1,i=t.length;++a<i;)r.remove(t[a])}function classedTrue(e){return function(){classedAdd(this,e)}}function classedFalse(e){return function(){classedRemove(this,e)}}function classedFunction(e,t){return function(){(t.apply(this,arguments)?classedAdd:classedRemove)(this,e)}}function selection_classed(e,t){var r=classArray(e+"");if(arguments.length<2){for(var a=classList(this.node()),i=-1,o=r.length;++i<o;)if(!a.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?classedFunction:t?classedTrue:classedFalse)(r,t))}function textRemove(){this.textContent=""}function textConstant(e){return function(){this.textContent=e}}function textFunction(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function selection_text(e){return arguments.length?this.each(e==null?textRemove:(typeof e=="function"?textFunction:textConstant)(e)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(e){return function(){this.innerHTML=e}}function htmlFunction(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function selection_html(e){return arguments.length?this.each(e==null?htmlRemove:(typeof e=="function"?htmlFunction:htmlConstant)(e)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(e){var t=typeof e=="function"?e:creator(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function constantNull(){return null}function selection_insert(e,t){var r=typeof e=="function"?e:creator(e),a=t==null?constantNull:typeof t=="function"?t:selector(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),a.apply(this,arguments)||null)})}function remove(){var e=this.parentNode;e&&e.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function selection_cloneDeep(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function selection_clone(e){return this.select(e?selection_cloneDeep:selection_cloneShallow)}function selection_datum(e){return arguments.length?this.property("__data__",e):this.node().__data__}function contextListener(e){return function(t){e.call(this,t,this.__data__)}}function parseTypenames(e){return e.trim().split(/^|\s+/).map(function(t){var r="",a=t.indexOf(".");return a>=0&&(r=t.slice(a+1),t=t.slice(0,a)),{type:t,name:r}})}function onRemove(e){return function(){var t=this.__on;if(t){for(var r=0,a=-1,i=t.length,o;r<i;++r)o=t[r],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++a]=o;++a?t.length=a:delete this.__on}}}function onAdd(e,t,r){return function(){var a=this.__on,i,o=contextListener(t);if(a){for(var u=0,c=a.length;u<c;++u)if((i=a[u]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=r),i.value=t;return}}this.addEventListener(e.type,o,r),i={type:e.type,name:e.name,value:t,listener:o,options:r},a?a.push(i):this.__on=[i]}}function selection_on(e,t,r){var a=parseTypenames(e+""),i,o=a.length,u;if(arguments.length<2){var c=this.node().__on;if(c){for(var f=0,d=c.length,p;f<d;++f)for(i=0,p=c[f];i<o;++i)if((u=a[i]).type===p.type&&u.name===p.name)return p.value}return}for(c=t?onAdd:onRemove,i=0;i<o;++i)this.each(c(a[i],t,r));return this}function dispatchEvent(e,t,r){var a=defaultView(e),i=a.CustomEvent;typeof i=="function"?i=new i(t,r):(i=a.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function dispatchConstant(e,t){return function(){return dispatchEvent(this,e,t)}}function dispatchFunction(e,t){return function(){return dispatchEvent(this,e,t.apply(this,arguments))}}function selection_dispatch(e,t){return this.each((typeof t=="function"?dispatchFunction:dispatchConstant)(e,t))}function*selection_iterator(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var a=e[t],i=0,o=a.length,u;i<o;++i)(u=a[i])&&(yield u)}var root=[null];function Selection(e,t){this._groups=e,this._parents=t}function selection_selection(){return this}Selection.prototype={constructor:Selection,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};function select(e){return typeof e=="string"?new Selection([[document.querySelector(e)]],[document.documentElement]):new Selection([[e]],root)}function identity(e){return e}var top=1,right=2,bottom=3,left=4,epsilon=1e-6;function translateX(e){return"translate("+e+",0)"}function translateY(e){return"translate(0,"+e+")"}function number(e){return t=>+e(t)}function center(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function entering(){return!this.__axis}function axis(e,t){var r=[],a=null,i=null,o=6,u=6,c=3,f=typeof window<"u"&&window.devicePixelRatio>1?0:.5,d=e===top||e===left?-1:1,p=e===left||e===right?"x":"y",m=e===top||e===bottom?translateX:translateY;function h(_){var v=a??(t.ticks?t.ticks.apply(t,r):t.domain()),y=i??(t.tickFormat?t.tickFormat.apply(t,r):identity),$=Math.max(o,0)+c,g=t.range(),D=+g[0]+f,O=+g[g.length-1]+f,b=(t.bandwidth?center:number)(t.copy(),f),T=_.selection?_.selection():_,w=T.selectAll(".domain").data([null]),k=T.selectAll(".tick").data(v,t).order(),C=k.exit(),S=k.enter().append("g").attr("class","tick"),F=k.select("line"),E=k.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),k=k.merge(S),F=F.merge(S.append("line").attr("stroke","currentColor").attr(p+"2",d*o)),E=E.merge(S.append("text").attr("fill","currentColor").attr(p,d*$).attr("dy",e===top?"0em":e===bottom?"0.71em":"0.32em")),_!==T&&(w=w.transition(_),k=k.transition(_),F=F.transition(_),E=E.transition(_),C=C.transition(_).attr("opacity",epsilon).attr("transform",function(U){return isFinite(U=b(U))?m(U+f):this.getAttribute("transform")}),S.attr("opacity",epsilon).attr("transform",function(U){var R=this.parentNode.__axis;return m((R&&isFinite(R=R(U))?R:b(U))+f)})),C.remove(),w.attr("d",e===left||e===right?u?"M"+d*u+","+D+"H"+f+"V"+O+"H"+d*u:"M"+f+","+D+"V"+O:u?"M"+D+","+d*u+"V"+f+"H"+O+"V"+d*u:"M"+D+","+f+"H"+O),k.attr("opacity",1).attr("transform",function(U){return m(b(U)+f)}),F.attr(p+"2",d*o),E.attr(p,d*$).text(y),T.filter(entering).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===right?"start":e===left?"end":"middle"),T.each(function(){this.__axis=b})}return h.scale=function(_){return arguments.length?(t=_,h):t},h.ticks=function(){return r=Array.from(arguments),h},h.tickArguments=function(_){return arguments.length?(r=_==null?[]:Array.from(_),h):r.slice()},h.tickValues=function(_){return arguments.length?(a=_==null?null:Array.from(_),h):a&&a.slice()},h.tickFormat=function(_){return arguments.length?(i=_,h):i},h.tickSize=function(_){return arguments.length?(o=u=+_,h):o},h.tickSizeInner=function(_){return arguments.length?(o=+_,h):o},h.tickSizeOuter=function(_){return arguments.length?(u=+_,h):u},h.tickPadding=function(_){return arguments.length?(c=+_,h):c},h.offset=function(_){return arguments.length?(f=+_,h):f},h}function axisTop(e){return axis(top,e)}function axisRight(e){return axis(right,e)}function axisBottom(e){return axis(bottom,e)}function axisLeft(e){return axis(left,e)}function create_fragment$8(e){let t;return{c(){t=svg_element("g"),attr(t,"class","axis"),attr(t,"transform",e[1])},m(r,a){insert(r,t,a),e[10](t)},p(r,[a]){a&2&&attr(t,"transform",r[1])},i:noop,o:noop,d(r){r&&detach(t),e[10](null)}}}function instance$8(e,t,r){let{innerHeight:a=0}=t,{width:i=0}=t,{yoffset:o=0}=t,{xoffset:u=0}=t,{position:c="left"}=t,{scale:f}=t,{nticks:d=5}=t,{colour:p=""}=t,m,h;function _(v){binding_callbacks[v?"unshift":"push"](()=>{h=v,r(0,h)})}return e.$$set=v=>{"innerHeight"in v&&r(3,a=v.innerHeight),"width"in v&&r(4,i=v.width),"yoffset"in v&&r(5,o=v.yoffset),"xoffset"in v&&r(6,u=v.xoffset),"position"in v&&r(7,c=v.position),"scale"in v&&r(8,f=v.scale),"nticks"in v&&r(9,d=v.nticks),"colour"in v&&r(2,p=v.colour)},e.$$.update=()=>{if(e.$$.dirty&1021){select(h).selectAll("*").remove(),p===""&&r(2,p=getComputedStyle(document.documentElement).getPropertyValue("--font-color"));let v;switch(c){case"bottom":v=axisBottom(f).tickSizeOuter(0).ticks(d),r(1,m=`translate(0, ${a})`);break;case"top":v=axisTop(f).tickSizeOuter(0).ticks(d),r(1,m="translate(0, 0)");break;case"left":v=axisLeft(f).tickSizeOuter(0).ticks(d),r(1,m=`translate(${u}, ${o})`);break;case"right":v=axisRight(f).tickSizeOuter(0).ticks(d),r(1,m=`translate(${u+i}, ${o})`);break}select(h).call(v).selectAll("path").style("stroke",p),select(h).call(v).selectAll("text").style("fill",p)}},[h,m,p,a,i,o,u,c,f,d,_]}class Axis extends SvelteComponent{constructor(t){super(),init(this,t,instance$8,create_fragment$8,safe_not_equal,{innerHeight:3,width:4,yoffset:5,xoffset:6,position:7,scale:8,nticks:9,colour:2})}}const Axis$1=Object.freeze(Object.defineProperty({__proto__:null,default:Axis},Symbol.toStringTag,{value:"Module"})),defaultParams$2={startTime:"",periodHrs:24,binSizeHrs:.25,width:800,dayHeight:10,betweenHeight:2,doublePlot:2,scaleAxes:"byPlot",showAxes:!1},defaultchartvalues$2={time:"time",values:"values"},defaultother$2={col:{hex:getRandomHexColour(),alpha:.5},show:!0,onsets:[]},defaultChartData={data:[{time:[],values:[],day:[],scaleLimits:[]}],startOffsets:[],onsets:[]},defaultAnnotation={id:-1,name:"annotation",startTime:DateTime.fromISO(DateTime.now().set({hour:12,minute:30,second:0,millisecond:0}).toISO().slice(0,16)),lengthHrs:1,col:{hex:getRandomHexColour(),alpha:.5}};class Actogram_defaults extends SvelteComponent{constructor(t){super(),init(this,t,null,null,safe_not_equal,{})}}const Actogram_defaults$1=Object.freeze(Object.defineProperty({__proto__:null,default:Actogram_defaults,defaultAnnotation,defaultChartData,defaultParams:defaultParams$2,defaultchartvalues:defaultchartvalues$2,defaultother:defaultother$2},Symbol.toStringTag,{value:"Module"}));function get_each_context$6(e,t,r){const a=e.slice();return a[35]=t[r],a[37]=r,a}function get_each_context_1$5(e,t,r){const a=e.slice();return a[38]=t[r],a[40]=r,a}function get_each_context_2$3(e,t,r){const a=e.slice();return a[41]=t[r],a[43]=r,a}function get_each_context_3$3(e,t,r){const a=e.slice();return a[44]=t[r],a[46]=r,a}function get_each_context_4$1(e,t,r){const a=e.slice();return a[38]=t[r],a[40]=r,a}function get_each_context_5(e,t,r){const a=e.slice();return a[46]=t[r],a}function create_if_block$6(e){var C;let t,r,a,i,o,u,c,f,d,p,m,h,_,v,y,$;const g=[create_if_block_4,create_else_block$2],D=[];function O(S,F){return S[7].length>0?0:1}u=O(e),c=D[u]=g[u](e),d=new Axis({props:{innerHeight:e[10],yoffset:"0",scale:e[9],position:"top",nticks:e[4][e[3]].params.periodHrs}});let b=ensure_array_like(e[4][e[3]].chartData.onsets),T=[];for(let S=0;S<b.length;S+=1)T[S]=create_each_block_1$5(get_each_context_1$5(e,b,S));let w=ensure_array_like(((C=e[4][e[3]].extras)==null?void 0:C.annotations)??[]),k=[];for(let S=0;S<w.length;S+=1)k[S]=create_each_block$6(get_each_context$6(e,w,S));return{c(){t=element("div"),a=space(),i=svg_element("svg"),o=svg_element("g"),c.c(),f=empty$1(),create_component(d.$$.fragment);for(let S=0;S<T.length;S+=1)T[S].c();p=empty$1();for(let S=0;S<k.length;S+=1)k[S].c();attr(t,"class","overlay svelte-21xo6"),attr(t,"style",r=e[5]?"display:block; left:"+e[6].x+"px; top:"+e[6].y+"px;":"display:none;"),attr(o,"transform",m=`translate(${e[0].left},${e[0].top})`),attr(i,"id","svgContainer"),attr(i,"margin-lr",h=e[0].left+e[0].right),attr(i,"style",_="transform-origin: top left; transform:scale("+e[4][e[3]].zoom+");"),attr(i,"width",e[1]),attr(i,"height",e[2])},m(S,F){insert(S,t,F),insert(S,a,F),insert(S,i,F),append(i,o),D[u].m(o,null),append(o,f),mount_component(d,o,null);for(let E=0;E<T.length;E+=1)T[E]&&T[E].m(o,null);append(o,p);for(let E=0;E<k.length;E+=1)k[E]&&k[E].m(o,null);v=!0,y||($=[listen(i,"mousedown",e[19]),listen(i,"mousemove",e[20]),listen(i,"mouseup",e[21]),listen(i,"click",e[22]),listen(i,"dblclick",e[23])],y=!0)},p(S,F){var R;(!v||F[0]&96&&r!==(r=S[5]?"display:block; left:"+S[6].x+"px; top:"+S[6].y+"px;":"display:none;"))&&attr(t,"style",r);let E=u;u=O(S),u===E?D[u].p(S,F):(group_outros(),transition_out(D[E],1,1,()=>{D[E]=null}),check_outros(),c=D[u],c?c.p(S,F):(c=D[u]=g[u](S),c.c()),transition_in(c,1),c.m(o,f));const U={};if(F[0]&1024&&(U.innerHeight=S[10]),F[0]&512&&(U.scale=S[9]),F[0]&24&&(U.nticks=S[4][S[3]].params.periodHrs),d.$set(U),F[0]&6680){b=ensure_array_like(S[4][S[3]].chartData.onsets);let A;for(A=0;A<b.length;A+=1){const M=get_each_context_1$5(S,b,A);T[A]?T[A].p(M,F):(T[A]=create_each_block_1$5(M),T[A].c(),T[A].m(o,p))}for(;A<T.length;A+=1)T[A].d(1);T.length=b.length}if(F[0]&6680){w=ensure_array_like(((R=S[4][S[3]].extras)==null?void 0:R.annotations)??[]);let A;for(A=0;A<w.length;A+=1){const M=get_each_context$6(S,w,A);k[A]?k[A].p(M,F):(k[A]=create_each_block$6(M),k[A].c(),k[A].m(o,null))}for(;A<k.length;A+=1)k[A].d(1);k.length=w.length}(!v||F[0]&1&&m!==(m=`translate(${S[0].left},${S[0].top})`))&&attr(o,"transform",m),(!v||F[0]&1&&h!==(h=S[0].left+S[0].right))&&attr(i,"margin-lr",h),(!v||F[0]&24&&_!==(_="transform-origin: top left; transform:scale("+S[4][S[3]].zoom+");"))&&attr(i,"style",_),(!v||F[0]&2)&&attr(i,"width",S[1]),(!v||F[0]&4)&&attr(i,"height",S[2])},i(S){v||(transition_in(c),transition_in(d.$$.fragment,S),v=!0)},o(S){transition_out(c),transition_out(d.$$.fragment,S),v=!1},d(S){S&&(detach(t),detach(a),detach(i)),D[u].d(),destroy_component(d),destroy_each(T,S),destroy_each(k,S),y=!1,run_all($)}}}function create_else_block$2(e){let t,r;return{c(){t=svg_element("text"),r=text(`Error: no data.
        `),attr(t,"x","50%"),attr(t,"y","50%"),attr(t,"text-anchor","middle"),attr(t,"fill","red")},m(a,i){insert(a,t,i),append(t,r)},p:noop,i:noop,o:noop,d(a){a&&detach(t)}}}function create_if_block_4(e){let t,r,a=ensure_array_like(e[4][e[3]].sourceData),i=[];for(let u=0;u<a.length;u+=1)i[u]=create_each_block_4$1(get_each_context_4$1(e,a,u));const o=u=>transition_out(i[u],1,1,()=>{i[u]=null});return{c(){for(let u=0;u<i.length;u+=1)i[u].c();t=empty$1()},m(u,c){for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(u,c);insert(u,t,c),r=!0},p(u,c){if(c[0]&7579){a=ensure_array_like(u[4][u[3]].sourceData);let f;for(f=0;f<a.length;f+=1){const d=get_each_context_4$1(u,a,f);i[f]?(i[f].p(d,c),transition_in(i[f],1)):(i[f]=create_each_block_4$1(d),i[f].c(),transition_in(i[f],1),i[f].m(t.parentNode,t))}for(group_outros(),f=a.length;f<i.length;f+=1)o(f);check_outros()}},i(u){if(!r){for(let c=0;c<a.length;c+=1)transition_in(i[c]);r=!0}},o(u){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)transition_out(i[c]);r=!1},d(u){u&&detach(t),destroy_each(i,u)}}}function create_if_block_5(e){let t,r,a=ensure_array_like(createSequenceArray(0,e[7][e[40]].length-1)),i=[];for(let u=0;u<a.length;u+=1)i[u]=create_each_block_5(get_each_context_5(e,a,u));const o=u=>transition_out(i[u],1,1,()=>{i[u]=null});return{c(){for(let u=0;u<i.length;u+=1)i[u].c();t=empty$1()},m(u,c){for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(u,c);insert(u,t,c),r=!0},p(u,c){if(c[0]&7579){a=ensure_array_like(createSequenceArray(0,u[7][u[40]].length-1));let f;for(f=0;f<a.length;f+=1){const d=get_each_context_5(u,a,f);i[f]?(i[f].p(d,c),transition_in(i[f],1)):(i[f]=create_each_block_5(d),i[f].c(),transition_in(i[f],1),i[f].m(t.parentNode,t))}for(group_outros(),f=a.length;f<i.length;f+=1)o(f);check_outros()}},i(u){if(!r){for(let c=0;c<a.length;c+=1)transition_in(i[c]);r=!0}},o(u){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)transition_out(i[c]);r=!1},d(u){u&&detach(t),destroy_each(i,u)}}}function create_if_block_6(e){let t,r;return t=new Axis({props:{innerHeight:e[10],yoffset:e[46]*(e[12]+e[11]),xoffset:15*e[40],width:e[1]-e[0].left-e[0].right-15,scale:e[8][e[40]][e[46]],position:e[40]===0?"left":"right",nticks:e[12]/30+1,colour:e[4][e[3]].sourceData[e[40]].col.hex}}),{c(){create_component(t.$$.fragment)},m(a,i){mount_component(t,a,i),r=!0},p(a,i){const o={};i[0]&1024&&(o.innerHeight=a[10]),i[0]&6272&&(o.yoffset=a[46]*(a[12]+a[11])),i[0]&3&&(o.width=a[1]-a[0].left-a[0].right-15),i[0]&384&&(o.scale=a[8][a[40]][a[46]]),i[0]&4096&&(o.nticks=a[12]/30+1),i[0]&24&&(o.colour=a[4][a[3]].sourceData[a[40]].col.hex),t.$set(o)},i(a){r||(transition_in(t.$$.fragment,a),r=!0)},o(a){transition_out(t.$$.fragment,a),r=!1},d(a){destroy_component(t,a)}}}function create_each_block_5(e){let t,r,a,i,o,u,c=e[4][e[3]].params.showAxes&&create_if_block_6(e);return{c(){t=svg_element("path"),c&&c.c(),o=empty$1(),attr(t,"d",r=e[7][e[40]][e[46]]),attr(t,"fill",a=e[4][e[3]].sourceData[e[40]].col.hex),attr(t,"fill-opacity",i=e[4][e[3]].sourceData[e[40]].col.alpha)},m(f,d){insert(f,t,d),c&&c.m(f,d),insert(f,o,d),u=!0},p(f,d){(!u||d[0]&128&&r!==(r=f[7][f[40]][f[46]]))&&attr(t,"d",r),(!u||d[0]&24&&a!==(a=f[4][f[3]].sourceData[f[40]].col.hex))&&attr(t,"fill",a),(!u||d[0]&24&&i!==(i=f[4][f[3]].sourceData[f[40]].col.alpha))&&attr(t,"fill-opacity",i),f[4][f[3]].params.showAxes?c?(c.p(f,d),d[0]&24&&transition_in(c,1)):(c=create_if_block_6(f),c.c(),transition_in(c,1),c.m(o.parentNode,o)):c&&(group_outros(),transition_out(c,1,1,()=>{c=null}),check_outros())},i(f){u||(transition_in(c),u=!0)},o(f){transition_out(c),u=!1},d(f){f&&(detach(t),detach(o)),c&&c.d(f)}}}function create_each_block_4$1(e){let t,r,a=e[4][e[3]].sourceData[e[40]].show&&create_if_block_5(e);return{c(){a&&a.c(),t=empty$1()},m(i,o){a&&a.m(i,o),insert(i,t,o),r=!0},p(i,o){i[4][i[3]].sourceData[i[40]].show?a?(a.p(i,o),o[0]&24&&transition_in(a,1)):(a=create_if_block_5(i),a.c(),transition_in(a,1),a.m(t.parentNode,t)):a&&(group_outros(),transition_out(a,1,1,()=>{a=null}),check_outros())},i(i){r||(transition_in(a),r=!0)},o(i){transition_out(a),r=!1},d(i){i&&detach(t),a&&a.d(i)}}}function create_if_block_1$3(e){let t,r,a=ensure_array_like(e[41].onsetTimes),i=[];for(let u=0;u<a.length;u+=1)i[u]=create_each_block_3$3(get_each_context_3$3(e,a,u));let o=e[41].showLine&e[41].onsetTimes.length>1&&create_if_block_2(e);return{c(){for(let u=0;u<i.length;u+=1)i[u].c();t=empty$1(),o&&o.c(),r=empty$1()},m(u,c){for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(u,c);insert(u,t,c),o&&o.m(u,c),insert(u,r,c)},p(u,c){if(c[0]&6680){a=ensure_array_like(u[41].onsetTimes);let f;for(f=0;f<a.length;f+=1){const d=get_each_context_3$3(u,a,f);i[f]?i[f].p(d,c):(i[f]=create_each_block_3$3(d),i[f].c(),i[f].m(t.parentNode,t))}for(;f<i.length;f+=1)i[f].d(1);i.length=a.length}u[41].showLine&u[41].onsetTimes.length>1?o?o.p(u,c):(o=create_if_block_2(u),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},d(u){u&&(detach(t),detach(r)),destroy_each(i,u),o&&o.d(u)}}}function create_if_block_3(e){let t,r,a,i,o,u,c;function f(...d){return e[18](e[46],e[43],e[40],...d)}return{c(){t=svg_element("circle"),attr(t,"cx",r=e[9](e[44]%e[4][e[3]].params.periodHrs)),attr(t,"cy",a=Math.floor(e[44]/e[4][e[3]].params.periodHrs)*(e[12]+e[11])+e[12]),attr(t,"r","4"),attr(t,"fill",i=e[41].col.hex),attr(t,"fill-opacity",o=e[41].excludeOnsets.includes(e[46])?"0":"1"),attr(t,"stroke-width","0.5"),attr(t,"stroke","black")},m(d,p){insert(d,t,p),u||(c=listen(t,"dblclick",f),u=!0)},p(d,p){e=d,p[0]&536&&r!==(r=e[9](e[44]%e[4][e[3]].params.periodHrs))&&attr(t,"cx",r),p[0]&6168&&a!==(a=Math.floor(e[44]/e[4][e[3]].params.periodHrs)*(e[12]+e[11])+e[12])&&attr(t,"cy",a),p[0]&24&&i!==(i=e[41].col.hex)&&attr(t,"fill",i),p[0]&24&&o!==(o=e[41].excludeOnsets.includes(e[46])?"0":"1")&&attr(t,"fill-opacity",o)},d(d){d&&detach(t),u=!1,c()}}}function create_each_block_3$3(e){let t=e[46]>=e[41].filterStart-1&&e[46]<=e[41].filterEnd-1&&Number(e[44]),r,a=t&&create_if_block_3(e);return{c(){a&&a.c(),r=empty$1()},m(i,o){a&&a.m(i,o),insert(i,r,o)},p(i,o){o[0]&24&&(t=i[46]>=i[41].filterStart-1&&i[46]<=i[41].filterEnd-1&&Number(i[44])),t?a?a.p(i,o):(a=create_if_block_3(i),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},d(i){i&&detach(r),a&&a.d(i)}}}function create_if_block_2(e){let t,r,a,i,o;return{c(){var u,c,f,d;t=svg_element("line"),attr(t,"x1",r=e[9](e[41].lmFit.intercept)),attr(t,"y1",e[12]),attr(t,"x2",a=e[9](e[41].lmFit.intercept+((c=(u=e[4][e[3]].chartData)==null?void 0:u.data[0])==null?void 0:c.scaleLimits.length)*e[41].lmFit.slope*e[4][e[3]].params.periodHrs)),attr(t,"y2",i=((d=(f=e[4][e[3]].chartData)==null?void 0:f.data[0])==null?void 0:d.scaleLimits.length)*(e[12]+e[11])+e[12]),attr(t,"stroke",o=e[41].col.hex)},m(u,c){insert(u,t,c)},p(u,c){var f,d,p,m;c[0]&536&&r!==(r=u[9](u[41].lmFit.intercept))&&attr(t,"x1",r),c[0]&4096&&attr(t,"y1",u[12]),c[0]&536&&a!==(a=u[9](u[41].lmFit.intercept+((d=(f=u[4][u[3]].chartData)==null?void 0:f.data[0])==null?void 0:d.scaleLimits.length)*u[41].lmFit.slope*u[4][u[3]].params.periodHrs))&&attr(t,"x2",a),c[0]&6168&&i!==(i=((m=(p=u[4][u[3]].chartData)==null?void 0:p.data[0])==null?void 0:m.scaleLimits.length)*(u[12]+u[11])+u[12])&&attr(t,"y2",i),c[0]&24&&o!==(o=u[41].col.hex)&&attr(t,"stroke",o)},d(u){u&&detach(t)}}}function create_each_block_2$3(e){let t,r=e[41].show&&create_if_block_1$3(e);return{c(){r&&r.c(),t=empty$1()},m(a,i){r&&r.m(a,i),insert(a,t,i)},p(a,i){a[41].show?r?r.p(a,i):(r=create_if_block_1$3(a),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(a){a&&detach(t),r&&r.d(a)}}}function create_each_block_1$5(e){var i;let t,r=ensure_array_like((i=e[4][e[3]].chartData)==null?void 0:i.onsets[e[40]]),a=[];for(let o=0;o<r.length;o+=1)a[o]=create_each_block_2$3(get_each_context_2$3(e,r,o));return{c(){for(let o=0;o<a.length;o+=1)a[o].c();t=empty$1()},m(o,u){for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(o,u);insert(o,t,u)},p(o,u){var c;if(u[0]&6680){r=ensure_array_like((c=o[4][o[3]].chartData)==null?void 0:c.onsets[o[40]]);let f;for(f=0;f<r.length;f+=1){const d=get_each_context_2$3(o,r,f);a[f]?a[f].p(d,u):(a[f]=create_each_block_2$3(d),a[f].c(),a[f].m(t.parentNode,t))}for(;f<a.length;f+=1)a[f].d(1);a.length=r.length}},d(o){o&&detach(t),destroy_each(a,o)}}}function create_each_block$6(e){let t,r,a,i,o,u,c,f,d;return{c(){t=svg_element("rect"),attr(t,"x",r=e[9](DateTime.fromISO(e[35].startTime).diff(DateTime.fromISO(e[4][e[3]].params.startTime),"hours").hours.toFixed(4)%e[4][e[3]].params.periodHrs)),attr(t,"y",a=Math.floor(DateTime.fromISO(e[35].startTime).diff(DateTime.fromISO(e[4][e[3]].params.startTime),"hours").hours.toFixed(4)/e[4][e[3]].params.periodHrs)*(e[12]+e[11])),attr(t,"height",e[12]),attr(t,"width",i=e[9](e[35].lengthHrs)),attr(t,"fill",o=e[35].col.hex),attr(t,"fill-opacity",u=e[35].col.alpha)},m(p,m){insert(p,t,m),f||(d=action_destroyer(c=e[13].call(null,t,{content:e[35].name,theme:"Ancir"})),f=!0)},p(p,m){e=p,m[0]&536&&r!==(r=e[9](DateTime.fromISO(e[35].startTime).diff(DateTime.fromISO(e[4][e[3]].params.startTime),"hours").hours.toFixed(4)%e[4][e[3]].params.periodHrs))&&attr(t,"x",r),m[0]&6168&&a!==(a=Math.floor(DateTime.fromISO(e[35].startTime).diff(DateTime.fromISO(e[4][e[3]].params.startTime),"hours").hours.toFixed(4)/e[4][e[3]].params.periodHrs)*(e[12]+e[11]))&&attr(t,"y",a),m[0]&4096&&attr(t,"height",e[12]),m[0]&536&&i!==(i=e[9](e[35].lengthHrs))&&attr(t,"width",i),m[0]&24&&o!==(o=e[35].col.hex)&&attr(t,"fill",o),m[0]&24&&u!==(u=e[35].col.alpha)&&attr(t,"fill-opacity",u),c&&is_function(c.update)&&m[0]&24&&c.update.call(null,{content:e[35].name,theme:"Ancir"})},d(p){p&&detach(t),f=!1,d()}}}function create_fragment$7(e){var i;let t,r,a=((i=e[4][e[3]])==null?void 0:i.graph)==="Actogram"&&e[4][e[3]].sourceData.length>0&&create_if_block$6(e);return{c(){a&&a.c(),t=empty$1()},m(o,u){a&&a.m(o,u),insert(o,t,u),r=!0},p(o,u){var c;((c=o[4][o[3]])==null?void 0:c.graph)==="Actogram"&&o[4][o[3]].sourceData.length>0?a?(a.p(o,u),u[0]&24&&transition_in(a,1)):(a=create_if_block$6(o),a.c(),transition_in(a,1),a.m(t.parentNode,t)):a&&(group_outros(),transition_out(a,1,1,()=>{a=null}),check_outros())},i(o){r||(transition_in(a),r=!0)},o(o){transition_out(a),r=!1},d(o){o&&detach(t),a&&a.d(o)}}}function findCentileValue(e,t){const a=e.filter(u=>!isNaN(u)&&u!==0).slice().sort((u,c)=>u-c),i=Math.ceil(t/100*a.length)-1;return a[i]}function findBestMatchIndex(e,t){let r=-1,a=-1/0;for(let i=0;i<=e.length-t.length;i++){let o=0;for(let u=0;u<t.length;u++)o+=e[i+u]*t[u];o>a&&(a=o,r=i)}return r}function instance$7(e,t,r){let a,i,o,u,c,f,d,p,m,h;component_subscribe(e,activeGraphTab,N=>r(3,p=N)),component_subscribe(e,graphs,N=>r(4,m=N)),component_subscribe(e,statusData,N=>r(26,h=N));function _(N,B){let ie=tippy(N,B);return{update:L=>{ie.setProps(L)},destroy:()=>{ie.destroy()}}}let v={top:50,bottom:20,left:80,right:80},y=!1,$={x:0,y:0},g="",D=[],O=linear().domain([0,100]).range([0,d]);function b(N){N?r(0,v={top:50,bottom:20,left:80,right:80}):r(0,v={top:50,bottom:20,left:50,right:50})}function T(N,B,ie){var L,X,Z;if(((L=m[p])==null?void 0:L.graph)==="Actogram"){let j=(Z=m[p].chartData.data[0])==null?void 0:Z.day[((X=m[p].chartData.data[0])==null?void 0:X.day.length)-1];return r(2,a=N.top+N.bottom+(B+ie)*j-ie),a<N.top+N.bottom&&r(2,a=N.top+N.bottom),a}}function w(N,B,ie,L){var X;if(((X=m[p])==null?void 0:X.graph)==="Actogram"){let Z=structuredClone(defaultChartData);console.log("DEFAULT:",Z);let j,x;N.forEach((J,ne)=>{if(J.chartvalues.time.field!=""&&(j=getDataFromSource(ne,J.chartvalues.time)),J.chartvalues.values.field!=""&&(x=getDataFromSource(ne,J.chartvalues.values)),[j,x]=removeNaNs([j,x]),getFieldTypeFromGraph(m[p].id,ne,"time")==="time"){const De=DateTime.fromISO(getFirstTime(ne,J.chartvalues.time));L===""&&(L=DateTime.fromISO(De).set({hour:0,minute:0,second:0,millisecond:0}).toISO().slice(0,16),set_store_value(graphs,m[p].params.startTime=DateTime.fromISO(L),m));const Q=De.diff(DateTime.fromISO(L),"hours").hours;console.log("offset = ",Q),Z.startOffsets[ne]=Number(Q),j=j.map(de=>Number(de)+Z.startOffsets[ne])}else L===""&&(L=DateTime.now().set({hour:0,minute:0,second:0,millisecond:0}).toISO().slice(0,16),set_store_value(graphs,m[p].params.startTime=DateTime.fromISO(L),m)),Z.startOffsets[ne]=j[0],j=j.map(De=>Number(De)+Z.startOffsets[ne]);const ve=averageBinnedValues(j,x,B,j[0]);ne>0&&(Z.data[ne]={time:[],values:[],day:[],scaleLimits:[]}),Z.data[ne].time=ve.time,Z.data[ne].values=ve.values;const me=ve.time.map(De=>Math.floor(De/ie));Z.data[ne].day=me,console.log(Z);const ke={};Z.data[ne].day.forEach((De,Q)=>{ke[De]||(ke[De]=[]),ke[De].push(Z.data[ne].values[Q])});const se=Object.keys(ke).map(De=>{const Q=ke[De],de=Math.min(...Q),ge=Math.max(...Q);return{min:de,max:ge}});Z.data[ne].scaleLimits=se}),set_store_value(graphs,m[p].chartData.data=Z.data,m);for(let J=0;J<N.length;J++)S(J)}}function k(N,B,ie,L,X){if(N&&m[p].graph==="Actogram"){console.log("MAKING ACTIPATHS");const me=m[p].chartData.data.length;r(9,O=linear().domain([0,m[p].params.periodHrs*m[p].params.doublePlot]).range([0,d]));const ke=O(i/2);r(8,D=[]),r(7,g=[]);for(let se=0;se<me;se++){var Z=[],j=[];const De=min$1(m[p].chartData.data[se].values),Q=max$1(m[p].chartData.data[se].values);var x=!0,J=N.data[se].day[0];for(let de=0;de<N.data[se].day.length;de++){const ge=N.data[se].day[de],te=N.data[se].time[de],ee=N.data[se].values[de];ge!==J||x?(x=!1,Z[ge]=[te],j[ge]=[ee]):(Z[ge].push(te),j[ge].push(ee)),J=ge}r(8,D[se]=[],D),r(7,g[se]=[],g);for(let de=N.data[se].day[0];de<Z.length;de++){if(m[p].params.scaleAxes==="byPlot"){var ne=N.data[se].scaleLimits[de-N.data[se].day[0]].min,ve=N.data[se].scaleLimits[de-N.data[se].day[0]].max;for(let te=de;te<min$1([de+m[p].params.doublePlot,N.data[se].scaleLimits.length]);te++)ne=min$1([ne,N.data[se].scaleLimits[te].min]),ve=max$1([ve,N.data[se].scaleLimits[te].max]);r(8,D[se][de]=linear().domain([ne,ve]).range([B,0]),D)}else r(8,D[se][de]=linear().domain([De,Q]).range([B,0]),D);const ge=de*(B+c);r(7,g[se][de]=`M0,${de*(B+c)+B}`,g);for(let te=de;te<min$1([de+m[p].params.doublePlot,Z.length]);te++)for(let ee=0;ee<Z[te].length;ee++){const _e=O(Z[te][ee]-de*L),be=ge+D[se][de](j[te][ee]);_e!=null&&_e!=null&&!isNaN(_e)&&be!=null&&be!=null&&!isNaN(be)&&r(7,g[se][de]+=` ${_e-ke},${ge+B}  ${_e-ke},${be} ${_e+ke},${be} ${_e+ke},${ge+B} `,g)}r(7,g[se][de]+=`${O(L*ie)},${de*(B+c)+B} 0,${de*(B+c)+B} Z`,g)}}return g}}function C(N,B,ie){var Z,j,x,J;let L=[],X=[];for(let ne=N.filterStart-1;ne<N.filterEnd;ne++)ie[ne],B.includes(ne)||(X.push(Math.floor(ie[ne]/((Z=m[p])==null?void 0:Z.params.periodHrs))*((j=m[p])==null?void 0:j.params.periodHrs)),L.push((ie[ne]-ne*((x=m[p])==null?void 0:x.params.periodHrs))%((J=m[p])==null?void 0:J.params.periodHrs)));return[X,L]=removeNaNs([X,L]),console.log("x",X,"y",L),X.length?linearRegression(X,L):{slope:NaN,intercept:NaN,rSquared:NaN,rmse:NaN}}function S(N){var X,Z;console.log("sourceIndex: ",N),console.log("onsets: ",(X=m[p].chartData)==null?void 0:X.onsets[N]),(Z=m[p].chartData)!=null&&Z.onsets[N]||(console.log("clearing it"),set_store_value(graphs,m[p].chartData.onsets[N]=[],m));for(let j=0;j<m[p].sourceData[N].onsets.length;j++)if(m[p].sourceData[N].onsets[j].type=="manual")if(console.log(m[p].chartData.onsets[N]),console.log(m[p].chartData.onsets[N].length),m[p].chartData.onsets[N].length==0)console.log("making dummy data"),set_store_value(graphs,m[p].chartData.onsets[N][j]={onsetTimes:[],col:m[p].sourceData[N].onsets[j].col,alpha:m[p].sourceData[N].onsets[j].alpha,filterStart:NaN,filterEnd:NaN,lmFit:{slope:NaN,intercept:NaN,rSquared:NaN,rmse:NaN},showLine:m[p].sourceData[N].onsets[j].showLine},m);else{var B=m[p].chartData.onsets[N][j].onsetTimes.map(x=>{var J,ne;return Math.floor(x/((J=m[p])==null?void 0:J.params.periodHrs))*((ne=m[p])==null?void 0:ne.params.periodHrs)}),ie=m[p].chartData.onsets[N][j].onsetTimes.map((x,J)=>{var ne;return(x-B[J])%((ne=m[p])==null?void 0:ne.params.periodHrs)});if([B,ie]=removeNaNs([B,ie]),B.length)var L=linearRegression(B,ie);else var L={slope:NaN,intercept:NaN,rSquared:NaN,rmse:NaN};console.log(m[p].chartData.onsets[N][j].onsetTimes),console.log("x",B,"y",ie),console.log(L),set_store_value(graphs,m[p].sourceData[N].onsets[j].linearFit=L,m),set_store_value(graphs,m[p].chartData.onsets[N][j]={onsetTimes:m[p].chartData.onsets[N][j].onsetTimes,excludeOnsets:[],MAD:m[p].sourceData[N].onsets[j].MAD,show:m[p].sourceData[N].onsets[j].showOnsets,col:m[p].sourceData[N].onsets[j].col,alpha:m[p].sourceData[N].onsets[j].alpha,filterStart:m[p].sourceData[N].onsets[j].filterStart,filterEnd:m[p].sourceData[N].onsets[j].filterEnd,lmFit:L,showLine:m[p].sourceData[N].onsets[j].showLine},m)}else{const x=new Map,J=m[p].chartData.data[N];let ne=[],ve=[];const me=m[p].sourceData[N].onsets[j].N,ke=m[p].sourceData[N].onsets[j].M,se=m[p].params.binSizeHrs;m[p].params.periodHrs;const De=F(me,ke,se,m[p].sourceData[N].onsets[j].type);for(let te=0;te<J.time.length;te++){const ee=Math.floor(J.time[te]/m[p].params.periodHrs);x.has(ee)||x.set(ee,{t:[],v:[]}),x.get(ee).v.push(J.values[te]),x.get(ee).t.push(J.time[te])}x.forEach((te,ee)=>{const _e=findCentileValue(te.v,m[p].sourceData[N].onsets[j].centileThresh),be=te.v.map(ye=>ye<=_e||isNaN(ye)?-1:1);ne[ee]=findBestMatchIndex(be.concat(Array.from({length:5*ke},()=>-1)),De)+Math.round(me/se),ve[ee]=te.t[ne[ee]]}),ve=ve.filter(te=>te!=null);const Q=C(m[p].sourceData[N].onsets[j],[],ve);let de;if(m[p].sourceData[N].onsets[j].MAD>0){ve.length;const te=ve.map((be,ye)=>{var ce;return be-((ce=m[p])==null?void 0:ce.params.periodHrs)*ye-(Q.intercept+Q.slope*ye)}),ee=calculateMedian(te),_e=calculateMAD(te,calculateMedian(te));de=te.map((be,ye)=>({value:be,index:ye})).filter(({value:be})=>Math.abs(be-ee)>m[p].sourceData[N].onsets[j].MAD*_e).map(({index:be})=>be)}else de=[];const ge=C(m[p].sourceData[N].onsets[j],de,ve);set_store_value(graphs,m[p].sourceData[N].onsets[j].linearFit=ge,m),set_store_value(graphs,m[p].chartData.onsets[N][j]={onsetTimes:ve,excludeOnsets:de,MAD:m[p].sourceData[N].onsets[j].MAD,show:m[p].sourceData[N].onsets[j].showOnsets,col:m[p].sourceData[N].onsets[j].col,alpha:m[p].sourceData[N].onsets[j].alpha,filterStart:m[p].sourceData[N].onsets[j].filterStart,filterEnd:m[p].sourceData[N].onsets[j].filterEnd,lmFit:ge,showLine:m[p].sourceData[N].onsets[j].showLine},m)}}function F(N,B,ie,L){const X=Math.round(N/ie),Z=Math.round(B/ie);let j;return L==="onset"?j=Array.from({length:X},()=>-1).concat(Array.from({length:Z},()=>1)):j=Array.from({length:X},()=>1).concat(Array.from({length:Z},()=>-1)),j}function E(N){var B,ie;((ie=(B=m[p])==null?void 0:B.semaphore)==null?void 0:ie.text)=="addingManualMarker"&&addManualMarker(U(N))}function U(N){if(N.offsetX<v.left||N.offsetX>v.left+o||N.offsetY<v.top||N.offsetY>v.top+f)return null;const B=m[p].params.periodHrs,ie=m[p].params.doublePlot,L=Math.floor((N.offsetY-v.top)/(u+c)),X=(N.offsetX-v.left)/d*B*ie;return L*B+X}function R(N){N&&(h.push({display:A(N)}),statusData.set(h))}function A(N){Math.floor(N/m[p].params.periodHrs);let B=Math.round((N-m[p].chartData.data[0].time[0])/m[p].params.binSizeHrs);B<0&&(B=0);let ie="";ie=addTime(m[p].params.startTime,m[p].chartData.data[0].time[B]);for(let L=0;L<m[p].chartData.data.length;L++)ie+="<br><a style='color:"+m[p].sourceData[L].col.hex+";''>"+getFieldName(m[p].sourceData[L].tableID,m[p].sourceData[L].chartvalues.values.field)+": "+m[p].chartData.data[L].values[B].toFixed(2)+"</a>";return ie}function M(N){r(6,$={x:10+N.pageX,y:-10+N.pageY}),(N.offsetX<v.left||N.offsetX>v.left+d||N.offsetY<v.top||N.offsetY>v.top+f)&&r(5,y=!1);try{var B=document.querySelector(".overlay");const ie=U(N);B.innerHTML=A(ie)}catch{r(5,y=!1)}}const V=(N,B,ie,L)=>{L.stopPropagation(),console.log("need to remove marker ",N," of onset ",B," of src ",ie),m[p].sourceData[ie].onsets[B].type==="manual"&&removeMarker(ie,B,N)},H=N=>{N.preventDefault(),r(5,y=!0),M(N)},P=N=>{y&&(N.preventDefault(),U(N),M(N))},G=N=>{N.preventDefault(),r(5,y=!1),U(N)},I=N=>{N.preventDefault(),E(N)},z=N=>{N.preventDefault();const B=U(N);R(B)};return e.$$.update=()=>{var N,B,ie,L,X,Z,j,x,J,ne,ve,me,ke,se,De,Q;e.$$.dirty[0]&24&&b((N=m[p])==null?void 0:N.params.showAxes),e.$$.dirty[0]&25&&r(2,a=T(v,(B=m[p])==null?void 0:B.params.dayHeight,(ie=m[p])==null?void 0:ie.params.betweenHeight)),e.$$.dirty[0]&24&&(i=(L=m[p])==null?void 0:L.params.binSizeHrs),e.$$.dirty[0]&24&&r(1,o=(X=m[p])==null?void 0:X.params.width),e.$$.dirty[0]&24&&r(12,u=(Z=m[p])==null?void 0:Z.params.dayHeight),e.$$.dirty[0]&24&&r(11,c=(j=m[p])==null?void 0:j.params.betweenHeight),e.$$.dirty[0]&5&&r(10,f=a-v.top-v.bottom),e.$$.dirty[0]&3&&(d=o-v.left-v.right),e.$$.dirty[0]&24&&w((x=m[p])==null?void 0:x.sourceData,(J=m[p])==null?void 0:J.params.binSizeHrs,(ne=m[p])==null?void 0:ne.params.periodHrs,(ve=m[p])==null?void 0:ve.params.startTime),e.$$.dirty[0]&24&&r(7,g=k((me=m[p])==null?void 0:me.chartData,(ke=m[p])==null?void 0:ke.params.dayHeight,(se=m[p])==null?void 0:se.params.doublePlot,(De=m[p])==null?void 0:De.params.periodHrs,(Q=m[p])==null?void 0:Q.params.binSizeHrs))},[v,o,a,p,m,y,$,g,D,O,f,c,u,_,E,U,R,M,V,H,P,G,I,z]}class Actogram extends SvelteComponent{constructor(t){super(),init(this,t,instance$7,create_fragment$7,safe_not_equal,{},null,[-1,-1])}}const Actogram$1=Object.freeze(Object.defineProperty({__proto__:null,default:Actogram},Symbol.toStringTag,{value:"Module"}));function create_fragment$6(e){let t,r,a,i,o,u,c,f,d,p,m,h,_,v,y,$,g;return{c(){t=element("div"),r=element("div"),a=element("input"),i=space(),o=element("label"),o.textContent="Periods",u=space(),c=element("input"),f=space(),d=element("div"),p=element("span"),m=space(),h=element("div"),_=element("input"),v=space(),y=element("input"),attr(a,"type","number"),attr(a,"name","min"),attr(a,"min",e[2]),attr(a,"max",e[3]),attr(a,"step",e[4]),attr(a,"class","svelte-1s2t95a"),attr(o,"class","svelte-1s2t95a"),attr(c,"type","number"),attr(c,"name","max"),attr(c,"min",e[2]),attr(c,"max",e[3]),attr(c,"step",e[4]),attr(c,"class","svelte-1s2t95a"),attr(r,"class","range-num svelte-1s2t95a"),attr(p,"class","range-selected svelte-1s2t95a"),attr(d,"class","range-slider svelte-1s2t95a"),attr(_,"type","range"),attr(_,"class","min svelte-1s2t95a"),set_style(_,"left","-0.4em"),attr(_,"min",e[2]),attr(_,"max",e[3]),attr(_,"step",e[4]),attr(y,"type","range"),attr(y,"class","max svelte-1s2t95a"),attr(y,"min",e[2]),attr(y,"max",e[3]),attr(y,"step",e[4]),attr(h,"class","range-input svelte-1s2t95a"),attr(t,"class","range svelte-1s2t95a")},m(D,O){insert(D,t,O),append(t,r),append(r,a),set_input_value(a,e[0]),append(r,i),append(r,o),append(r,u),append(r,c),set_input_value(c,e[1]),append(t,f),append(t,d),append(d,p),e[9](p),append(t,m),append(t,h),append(h,_),set_input_value(_,e[0]),append(h,v),append(h,y),set_input_value(y,e[1]),$||(g=[listen(a,"input",e[7]),listen(a,"input",e[6]),listen(c,"input",e[8]),listen(c,"input",e[6]),listen(_,"change",e[10]),listen(_,"input",e[10]),listen(_,"input",e[6]),listen(y,"change",e[11]),listen(y,"input",e[11]),listen(y,"input",e[6])],$=!0)},p(D,[O]){O&4&&attr(a,"min",D[2]),O&8&&attr(a,"max",D[3]),O&16&&attr(a,"step",D[4]),O&1&&to_number(a.value)!==D[0]&&set_input_value(a,D[0]),O&4&&attr(c,"min",D[2]),O&8&&attr(c,"max",D[3]),O&16&&attr(c,"step",D[4]),O&2&&to_number(c.value)!==D[1]&&set_input_value(c,D[1]),O&4&&attr(_,"min",D[2]),O&8&&attr(_,"max",D[3]),O&16&&attr(_,"step",D[4]),O&1&&set_input_value(_,D[0]),O&4&&attr(y,"min",D[2]),O&8&&attr(y,"max",D[3]),O&16&&attr(y,"step",D[4]),O&2&&set_input_value(y,D[1])},i:noop,o:noop,d(D){D&&detach(t),e[9](null),$=!1,run_all(g)}}}function instance$6(e,t,r){let{min:a=300}=t,{max:i=700}=t,{minValue:o=0}=t,{maxValue:u=1e3}=t,{step:c=1}=t,f;function d(){if(a>i){const y=i;r(1,i=a),r(0,a=y)}r(5,f.style.left=a/u*100-2+"%",f),r(5,f.style.right=100-i/u*100+"%",f)}function p(){a=to_number(this.value),r(0,a)}function m(){i=to_number(this.value),r(1,i)}function h(y){binding_callbacks[y?"unshift":"push"](()=>{f=y,r(5,f)})}function _(){a=to_number(this.value),r(0,a)}function v(){i=to_number(this.value),r(1,i)}return e.$$set=y=>{"min"in y&&r(0,a=y.min),"max"in y&&r(1,i=y.max),"minValue"in y&&r(2,o=y.minValue),"maxValue"in y&&r(3,u=y.maxValue),"step"in y&&r(4,c=y.step)},[a,i,o,u,c,f,d,p,m,h,_,v]}class Sliderdouble extends SvelteComponent{constructor(t){super(),init(this,t,instance$6,create_fragment$6,safe_not_equal,{min:0,max:1,minValue:2,maxValue:3,step:4})}}function get_each_context$5(e,t,r){const a=e.slice();return a[20]=t[r],a[21]=t,a[22]=r,a}function create_if_block_1$2(e){let t,r,a,i,o;function u(d){e[10](d,e[22])}function c(d){e[11](d,e[22])}let f={minValue:"1",maxValue:e[2][e[1]].chartData.data[0].scaleLimits.length,step:"1"};return e[2][e[1]].sourceData[e[0]].onsets[e[22]].filterStart!==void 0&&(f.min=e[2][e[1]].sourceData[e[0]].onsets[e[22]].filterStart),e[2][e[1]].sourceData[e[0]].onsets[e[22]].filterEnd!==void 0&&(f.max=e[2][e[1]].sourceData[e[0]].onsets[e[22]].filterEnd),r=new Sliderdouble({props:f}),binding_callbacks.push(()=>bind(r,"min",u)),binding_callbacks.push(()=>bind(r,"max",c)),{c(){t=element("div"),create_component(r.$$.fragment),attr(t,"class","onsetRange")},m(d,p){insert(d,t,p),mount_component(r,t,null),o=!0},p(d,p){e=d;const m={};p&6&&(m.maxValue=e[2][e[1]].chartData.data[0].scaleLimits.length),!a&&p&7&&(a=!0,m.min=e[2][e[1]].sourceData[e[0]].onsets[e[22]].filterStart,add_flush_callback(()=>a=!1)),!i&&p&7&&(i=!0,m.max=e[2][e[1]].sourceData[e[0]].onsets[e[22]].filterEnd,add_flush_callback(()=>i=!1)),r.$set(m)},i(d){o||(transition_in(r.$$.fragment,d),o=!0)},o(d){transition_out(r.$$.fragment,d),o=!1},d(d){d&&detach(t),destroy_component(r)}}}function create_else_block$1(e){let t,r,a,i,o,u,c,f,d,p,m,h,_,v,y,$,g,D,O;function b(U){e[16](U,e[22])}let T={min:"0",max:"100",step:"1",limits:[0,100],label:"Centile threshold: "};e[2][e[1]].sourceData[e[0]].onsets[e[22]].centileThresh!==void 0&&(T.value=e[2][e[1]].sourceData[e[0]].onsets[e[22]].centileThresh),o=new Slider({props:T}),binding_callbacks.push(()=>bind(o,"value",b));function w(U){e[17](U,e[22])}let k={min:"0",max:"10",step:"1",limits:[0,100],label:"Template hours before: "};e[2][e[1]].sourceData[e[0]].onsets[e[22]].N!==void 0&&(k.value=e[2][e[1]].sourceData[e[0]].onsets[e[22]].N),d=new Slider({props:k}),binding_callbacks.push(()=>bind(d,"value",w));function C(U){e[18](U,e[22])}let S={min:"0",max:"10",step:"1",limits:[0,100],label:"Template hours after: "};e[2][e[1]].sourceData[e[0]].onsets[e[22]].M!==void 0&&(S.value=e[2][e[1]].sourceData[e[0]].onsets[e[22]].M),_=new Slider({props:S}),binding_callbacks.push(()=>bind(_,"value",C));function F(U){e[19](U,e[22])}let E={min:"0",max:"10",step:"0.25",limits:[0,10],label:"MAD threshold to exclude: "};return e[2][e[1]].sourceData[e[0]].onsets[e[22]].MAD!==void 0&&(E.value=e[2][e[1]].sourceData[e[0]].onsets[e[22]].MAD),g=new Slider({props:E}),binding_callbacks.push(()=>bind(g,"value",F)),{c(){t=element("details"),r=element("summary"),r.innerHTML="<label>Advanced</label>",a=space(),i=element("div"),create_component(o.$$.fragment),c=space(),f=element("div"),create_component(d.$$.fragment),m=space(),h=element("div"),create_component(_.$$.fragment),y=space(),$=element("div"),create_component(g.$$.fragment),set_style(i,"padding","5px"),set_style(f,"padding","5px"),set_style(h,"padding","5px"),set_style($,"padding","5px")},m(U,R){insert(U,t,R),append(t,r),append(t,a),append(t,i),mount_component(o,i,null),append(t,c),append(t,f),mount_component(d,f,null),append(t,m),append(t,h),mount_component(_,h,null),append(t,y),append(t,$),mount_component(g,$,null),O=!0},p(U,R){e=U;const A={};!u&&R&7&&(u=!0,A.value=e[2][e[1]].sourceData[e[0]].onsets[e[22]].centileThresh,add_flush_callback(()=>u=!1)),o.$set(A);const M={};!p&&R&7&&(p=!0,M.value=e[2][e[1]].sourceData[e[0]].onsets[e[22]].N,add_flush_callback(()=>p=!1)),d.$set(M);const V={};!v&&R&7&&(v=!0,V.value=e[2][e[1]].sourceData[e[0]].onsets[e[22]].M,add_flush_callback(()=>v=!1)),_.$set(V);const H={};!D&&R&7&&(D=!0,H.value=e[2][e[1]].sourceData[e[0]].onsets[e[22]].MAD,add_flush_callback(()=>D=!1)),g.$set(H)},i(U){O||(transition_in(o.$$.fragment,U),transition_in(d.$$.fragment,U),transition_in(_.$$.fragment,U),transition_in(g.$$.fragment,U),O=!0)},o(U){transition_out(o.$$.fragment,U),transition_out(d.$$.fragment,U),transition_out(_.$$.fragment,U),transition_out(g.$$.fragment,U),O=!1},d(U){U&&detach(t),destroy_component(o),destroy_component(d),destroy_component(_),destroy_component(g)}}}function create_if_block$5(e){let t,r,a;function i(...o){return e[15](e[22],...o)}return{c(){t=element("div"),t.textContent="",attr(t,"class","hoverbutton"),set_style(t,"width","1.1em"),set_style(t,"height","1.1em")},m(o,u){insert(o,t,u),r||(a=[listen(t,"click",i),action_destroyer(e[3].call(null,t,{content:"Add marker",theme:"Ancir"}))],r=!0)},p(o,u){e=o},i:noop,o:noop,d(o){o&&detach(t),r=!1,run_all(a)}}}function create_each_block$5(e){let t,r,a,i,o,u,c,f,d,p,m,h,_,v,y,$,g=(e[2][e[1]].chartData.onsets[e[0]][e[22]].lmFit.slope*e[2][e[1]].params.periodHrs+e[2][e[1]].params.periodHrs).toFixed(2)+"",D,O,b,T,w,k,C,S,F,E,U,R,A,M,V,H,P,G,I,z=e[2][e[1]].chartData.onsets[e[0]][e[22]].lmFit.rSquared.toFixed(2)+"",N,B,ie,L,X=e[2][e[1]].chartData.onsets[e[0]][e[22]].lmFit.rmse.toFixed(2)+"",Z,j,x,J,ne,ve,me,ke;function se(){e[6].call(a,e[22])}function De(...Y){return e[7](e[22],...Y)}function Q(...Y){return e[8](e[22],...Y)}function de(){e[9].call(_,e[22])}let ge=e[2][e[1]].sourceData[e[0]].onsets[e[22]].type!="manual"&&create_if_block_1$2(e);function te(){e[12].call(k,e[22])}function ee(Y){e[13](Y,e[22])}let _e={min:"0",max:"1",step:"0.01",limits:[0,1],label:"Alpha: "};e[2][e[1]].sourceData[e[0]].onsets[e[22]].col.alpha!==void 0&&(_e.value=e[2][e[1]].sourceData[e[0]].onsets[e[22]].col.alpha),F=new Slider({props:_e}),binding_callbacks.push(()=>bind(F,"value",ee));function be(){e[14].call(M,e[22])}const ye=[create_if_block$5,create_else_block$1],ce=[];function $e(Y,W){return Y[2][Y[1]].sourceData[Y[0]].onsets[Y[22]].type=="manual"?0:1}return x=$e(e),J=ce[x]=ye[x](e),{c(){t=element("div"),r=element("div"),a=element("select"),i=element("option"),i.textContent="Onset",o=element("option"),o.textContent="Offset",u=element("option"),u.textContent="Manual",c=space(),f=element("div"),f.textContent="",d=space(),p=element("br"),m=space(),h=element("label"),h.textContent="show:",_=element("input"),v=space(),y=element("span"),$=text("Est : "),D=text(g),O=text(" hrs"),b=space(),ge&&ge.c(),T=space(),w=element("div"),k=element("input"),C=space(),S=element("div"),create_component(F.$$.fragment),U=space(),R=element("div"),A=element("label"),A.textContent="Show Line",M=element("input"),V=space(),H=element("br"),P=space(),G=element("span"),I=text("R-squared: "),N=text(z),B=space(),ie=element("span"),L=text("Error: "),Z=text(X),j=space(),J.c(),ne=space(),i.__value="onset",set_input_value(i,i.__value),o.__value="offset",set_input_value(o,o.__value),u.__value="manual",set_input_value(u,u.__value),attr(a,"name","onsettype"),set_style(a,"float","none"),e[2][e[1]].sourceData[e[0]].onsets[e[22]].type===void 0&&add_render_callback(se),attr(f,"class","deleteTable hoverbutton"),attr(_,"type","checkbox"),set_style(y,"cursor","text"),attr(k,"class","colourPicker"),attr(k,"id",e[0]),attr(k,"type","color"),set_style(k,"background",e[2][e[1]].sourceData[e[0]].onsets[e[22]].col.hex),attr(S,"class","sliderContainer"),attr(w,"class","colour"),attr(M,"type","checkbox"),set_style(G,"cursor","text"),set_style(ie,"cursor","text"),attr(r,"class","itemsliderContainer"),attr(t,"class","otherItemDetail")},m(Y,W){insert(Y,t,W),append(t,r),append(r,a),append(a,i),append(a,o),append(a,u),select_option(a,e[2][e[1]].sourceData[e[0]].onsets[e[22]].type,!0),append(r,c),append(r,f),append(r,d),append(r,p),append(r,m),append(r,h),append(r,_),_.checked=e[2][e[1]].sourceData[e[0]].onsets[e[22]].showOnsets,append(r,v),append(r,y),append(y,$),append(y,D),append(y,O),append(r,b),ge&&ge.m(r,null),append(r,T),append(r,w),append(w,k),set_input_value(k,e[2][e[1]].sourceData[e[0]].onsets[e[22]].col.hex),append(w,C),append(w,S),mount_component(F,S,null),append(r,U),append(r,R),append(R,A),append(R,M),M.checked=e[2][e[1]].sourceData[e[0]].onsets[e[22]].showLine,append(R,V),append(R,H),append(R,P),append(R,G),append(G,I),append(G,N),append(R,B),append(R,ie),append(ie,L),append(ie,Z),append(r,j),ce[x].m(r,null),append(t,ne),ve=!0,me||(ke=[listen(a,"change",se),listen(a,"change",De),listen(f,"click",Q),action_destroyer(e[3].call(null,f,{content:"Delete onsets",theme:"Ancir"})),listen(_,"change",de),listen(y,"click",click_handler_1),listen(k,"input",te),listen(M,"change",be),listen(G,"click",click_handler_2),listen(ie,"click",click_handler_3)],me=!0)},p(Y,W){e=Y,W&7&&select_option(a,e[2][e[1]].sourceData[e[0]].onsets[e[22]].type),W&7&&(_.checked=e[2][e[1]].sourceData[e[0]].onsets[e[22]].showOnsets),(!ve||W&7)&&g!==(g=(e[2][e[1]].chartData.onsets[e[0]][e[22]].lmFit.slope*e[2][e[1]].params.periodHrs+e[2][e[1]].params.periodHrs).toFixed(2)+"")&&set_data(D,g),e[2][e[1]].sourceData[e[0]].onsets[e[22]].type!="manual"?ge?(ge.p(e,W),W&7&&transition_in(ge,1)):(ge=create_if_block_1$2(e),ge.c(),transition_in(ge,1),ge.m(r,T)):ge&&(group_outros(),transition_out(ge,1,1,()=>{ge=null}),check_outros()),(!ve||W&1)&&attr(k,"id",e[0]),(!ve||W&7)&&set_style(k,"background",e[2][e[1]].sourceData[e[0]].onsets[e[22]].col.hex),W&7&&set_input_value(k,e[2][e[1]].sourceData[e[0]].onsets[e[22]].col.hex);const fe={};!E&&W&7&&(E=!0,fe.value=e[2][e[1]].sourceData[e[0]].onsets[e[22]].col.alpha,add_flush_callback(()=>E=!1)),F.$set(fe),W&7&&(M.checked=e[2][e[1]].sourceData[e[0]].onsets[e[22]].showLine),(!ve||W&7)&&z!==(z=e[2][e[1]].chartData.onsets[e[0]][e[22]].lmFit.rSquared.toFixed(2)+"")&&set_data(N,z),(!ve||W&7)&&X!==(X=e[2][e[1]].chartData.onsets[e[0]][e[22]].lmFit.rmse.toFixed(2)+"")&&set_data(Z,X);let he=x;x=$e(e),x===he?ce[x].p(e,W):(group_outros(),transition_out(ce[he],1,1,()=>{ce[he]=null}),check_outros(),J=ce[x],J?J.p(e,W):(J=ce[x]=ye[x](e),J.c()),transition_in(J,1),J.m(r,null))},i(Y){ve||(transition_in(ge),transition_in(F.$$.fragment,Y),transition_in(J),ve=!0)},o(Y){transition_out(ge),transition_out(F.$$.fragment,Y),transition_out(J),ve=!1},d(Y){Y&&detach(t),ge&&ge.d(),destroy_component(F),ce[x].d(),me=!1,run_all(ke)}}}function create_fragment$5(e){var u;let t,r,a=ensure_array_like((u=e[2][e[1]].sourceData[e[0]])==null?void 0:u.onsets),i=[];for(let c=0;c<a.length;c+=1)i[c]=create_each_block$5(get_each_context$5(e,a,c));const o=c=>transition_out(i[c],1,1,()=>{i[c]=null});return{c(){for(let c=0;c<i.length;c+=1)i[c].c();t=empty$1()},m(c,f){for(let d=0;d<i.length;d+=1)i[d]&&i[d].m(c,f);insert(c,t,f),r=!0},p(c,[f]){var d;if(f&55){a=ensure_array_like((d=c[2][c[1]].sourceData[c[0]])==null?void 0:d.onsets);let p;for(p=0;p<a.length;p+=1){const m=get_each_context$5(c,a,p);i[p]?(i[p].p(m,f),transition_in(i[p],1)):(i[p]=create_each_block$5(m),i[p].c(),transition_in(i[p],1),i[p].m(t.parentNode,t))}for(group_outros(),p=a.length;p<i.length;p+=1)o(p);check_outros()}},i(c){if(!r){for(let f=0;f<a.length;f+=1)transition_in(i[f]);r=!0}},o(c){i=i.filter(Boolean);for(let f=0;f<i.length;f+=1)transition_out(i[f]);r=!1},d(c){c&&detach(t),destroy_each(i,c)}}}const click_handler_1=e=>{e.preventDefault()},click_handler_2=e=>{e.preventDefault()},click_handler_3=e=>{e.preventDefault()};function instance$5(e,t,r){let a,i;component_subscribe(e,activeGraphTab,k=>r(1,a=k)),component_subscribe(e,graphs,k=>r(2,i=k));function o(k,C){let S=tippy(k,C);return{update:F=>{S.setProps(F)},destroy:()=>{S.destroy()}}}let{sourceIndex:u=0}=t;function c(k,C){i[a].sourceData[k].onsets.splice(C,1),i[a].chartData.onsets[k].splice(C,1),graphs.set(i)}function f(k,C){var S,F;((F=(S=i[a])==null?void 0:S.semaphore)==null?void 0:F.text)=="addingManualMarker"?console.log("Already adding one; do nothing."):(set_store_value(graphs,i[a].semaphore={text:"addingManualMarker",sourceIndex:k,o:C},i),document.body.style.cursor="crosshair"),console.log(i[a])}function d(k){i[a].sourceData[u].onsets[k].type=select_value(this),graphs.set(i)}const p=(k,C)=>{console.log("changed to: ",C.target.value),console.log("onset number: ",k),C.target.value=="manual"&&(console.log("resetting onsetTimes"),set_store_value(graphs,i[a].chartData.onsets[u][k].onsetTimes=[],i))},m=(k,C)=>{C.preventDefault(),c(u,k)};function h(k){i[a].sourceData[u].onsets[k].showOnsets=this.checked,graphs.set(i)}function _(k,C){e.$$.not_equal(i[a].sourceData[u].onsets[C].filterStart,k)&&(i[a].sourceData[u].onsets[C].filterStart=k,graphs.set(i))}function v(k,C){e.$$.not_equal(i[a].sourceData[u].onsets[C].filterEnd,k)&&(i[a].sourceData[u].onsets[C].filterEnd=k,graphs.set(i))}function y(k){i[a].sourceData[u].onsets[k].col.hex=this.value,graphs.set(i)}function $(k,C){e.$$.not_equal(i[a].sourceData[u].onsets[C].col.alpha,k)&&(i[a].sourceData[u].onsets[C].col.alpha=k,graphs.set(i))}function g(k){i[a].sourceData[u].onsets[k].showLine=this.checked,graphs.set(i)}const D=(k,C)=>{C.preventDefault(),f(u,k)};function O(k,C){e.$$.not_equal(i[a].sourceData[u].onsets[C].centileThresh,k)&&(i[a].sourceData[u].onsets[C].centileThresh=k,graphs.set(i))}function b(k,C){e.$$.not_equal(i[a].sourceData[u].onsets[C].N,k)&&(i[a].sourceData[u].onsets[C].N=k,graphs.set(i))}function T(k,C){e.$$.not_equal(i[a].sourceData[u].onsets[C].M,k)&&(i[a].sourceData[u].onsets[C].M=k,graphs.set(i))}function w(k,C){e.$$.not_equal(i[a].sourceData[u].onsets[C].MAD,k)&&(i[a].sourceData[u].onsets[C].MAD=k,graphs.set(i))}return e.$$set=k=>{"sourceIndex"in k&&r(0,u=k.sourceIndex)},[u,a,i,o,c,f,d,p,m,h,_,v,y,$,g,D,O,b,T,w]}class Onset extends SvelteComponent{constructor(t){super(),init(this,t,instance$5,create_fragment$5,safe_not_equal,{sourceIndex:0})}}const Onset$1=Object.freeze(Object.defineProperty({__proto__:null,default:Onset},Symbol.toStringTag,{value:"Module"}));function get_each_context$4(e,t,r){const a=e.slice();return a[38]=t[r],a[39]=t,a[40]=r,a}function get_each_context_1$4(e,t,r){const a=e.slice();return a[41]=t[r],a[42]=t,a[43]=r,a}function get_each_context_2$2(e,t,r){const a=e.slice();return a[44]=t[r],a[45]=t,a[46]=r,a}function get_each_context_3$2(e,t,r){const a=e.slice();return a[47]=t[r],a[49]=r,a}function get_each_context_4(e,t,r){const a=e.slice();return a[50]=t[r],a}function create_if_block$4(e){var Ee,Me,Ne,Ce;let t,r,a,i,o,u,c,f,d,p,m,h,_,v,y,$,g,D,O,b,T,w,k,C,S,F,E,U,R,A,M,V,H,P,G,I,z,N,B,ie,L,X,Z=e[2][e[0]].name+"",j,x,J,ne,ve,me,ke,se,De,Q,de,ge=[],te=new Map,ee,_e,be;function ye(le){e[9](le)}let ce={label:""};e[1][e[0]].params.startTime!==void 0&&(ce.thedatetime=e[1][e[0]].params.startTime),u=new DateTimeSelect({props:ce}),binding_callbacks.push(()=>bind(u,"thedatetime",ye));function $e(le){e[10](le)}let Y={min:10,max:40,limits:[1,1/0],label:"Period (hrs):"};e[1][e[0]].params.periodHrs!==void 0&&(Y.value=e[1][e[0]].params.periodHrs),p=new Slider({props:Y}),binding_callbacks.push(()=>bind(p,"value",$e));function W(le){e[11](le)}let fe={min:.05,max:1,step:"0.05",limits:[.05,(Ee=e[1][e[0]])==null?void 0:Ee.params.periodHrs],label:"Bin size (hrs):"};e[1][e[0]].params.binSizeHrs!==void 0&&(fe.value=e[1][e[0]].params.binSizeHrs),v=new Slider({props:fe}),binding_callbacks.push(()=>bind(v,"value",W));function he(le){e[12](le)}let oe={min:100,max:1e3,step:"1",limits:[5,1/0],label:"Width: "};e[1][e[0]].params.width!==void 0&&(oe.value=e[1][e[0]].params.width),D=new Slider({props:oe}),binding_callbacks.push(()=>bind(D,"value",he));function Te(le){e[13](le)}let ue={min:10,max:30,step:"1",limits:[5,1/0],label:"Row Height:"};e[1][e[0]].params.dayHeight!==void 0&&(ue.value=e[1][e[0]].params.dayHeight),w=new Slider({props:ue}),binding_callbacks.push(()=>bind(w,"value",Te));function q(le){e[14](le)}let K={min:1,max:20,step:"1",limits:[-((Me=e[1][e[0]])==null?void 0:Me.params.dayHeight),1/0],label:"Between gap:"};e[1][e[0]].params.betweenHeight!==void 0&&(K.value=e[1][e[0]].params.betweenHeight),F=new Slider({props:K}),binding_callbacks.push(()=>bind(F,"value",q));let ae=ensure_array_like(e[1][e[0]].sourceData),pe=[];for(let le=0;le<ae.length;le+=1)pe[le]=create_each_block_1$4(get_each_context_1$4(e,ae,le));const we=le=>transition_out(pe[le],1,1,()=>{pe[le]=null});let Ae=ensure_array_like(((Ce=(Ne=e[1][e[0]])==null?void 0:Ne.extras)==null?void 0:Ce.annotations)??[]);const Oe=le=>le[38].id;for(let le=0;le<Ae.length;le+=1){let Se=get_each_context$4(e,Ae,le),Fe=Oe(Se);te.set(Fe,ge[le]=create_each_block$4(Fe,Se))}return{c(){t=element("div"),r=element("div"),a=element("span"),a.textContent="Start time:",i=space(),o=element("div"),create_component(u.$$.fragment),f=space(),d=element("div"),create_component(p.$$.fragment),h=space(),_=element("div"),create_component(v.$$.fragment),$=space(),g=element("div"),create_component(D.$$.fragment),b=space(),T=element("div"),create_component(w.$$.fragment),C=space(),S=element("div"),create_component(F.$$.fragment),U=space(),R=element("div"),A=element("a"),A.textContent="Show y-axes:",M=space(),V=element("input"),H=space(),P=element("div"),G=element("a"),G.textContent="Scale:",I=space(),z=element("select"),N=element("option"),N.textContent="By row",B=element("option"),B.textContent="Overall",ie=space(),L=element("div"),X=element("h1"),j=text(Z),x=text(" Data"),J=space(),ne=element("span"),ne.textContent="",ve=space(),me=element("span"),ke=space(),se=element("span"),se.textContent="",De=space(),Q=element("div");for(let le=0;le<pe.length;le+=1)pe[le].c();de=space();for(let le=0;le<ge.length;le+=1)ge[le].c();set_style(o,"margin-left","auto"),attr(r,"class","sliderContainer"),attr(d,"class","sliderContainer"),attr(_,"class","sliderContainer"),attr(g,"class","sliderContainer"),attr(T,"class","sliderContainer"),attr(S,"class","sliderContainer"),set_style(A,"align-self","center"),attr(V,"type","checkbox"),attr(R,"class","sliderContainer"),set_style(G,"align-self","center"),N.__value="byPlot",set_input_value(N,N.__value),B.__value="overall",set_input_value(B,B.__value),attr(z,"class","selectField"),set_style(z,"margin-right","0",1),e[1][e[0]].params.scaleAxes===void 0&&add_render_callback(()=>e[16].call(z)),attr(P,"class","sliderContainer"),attr(t,"class","chartControls"),set_style(X,"display","inline"),attr(ne,"class","addbutton hoverbutton showContextMenu"),set_style(me,"margin","2px 5px"),attr(me,"class","addbutton hoverbutton"),attr(se,"class","addbutton hoverbutton"),set_style(L,"margin","1em 1em 0 0"),attr(Q,"class","graphDataTree")},m(le,Se){insert(le,t,Se),append(t,r),append(r,a),append(r,i),append(r,o),mount_component(u,o,null),append(t,f),append(t,d),mount_component(p,d,null),append(t,h),append(t,_),mount_component(v,_,null),append(t,$),append(t,g),mount_component(D,g,null),append(t,b),append(t,T),mount_component(w,T,null),append(t,C),append(t,S),mount_component(F,S,null),append(t,U),append(t,R),append(R,A),append(R,M),append(R,V),V.checked=e[1][e[0]].params.showAxes,append(t,H),append(t,P),append(P,G),append(P,I),append(P,z),append(z,N),append(z,B),select_option(z,e[1][e[0]].params.scaleAxes,!0),insert(le,ie,Se),insert(le,L,Se),append(L,X),append(X,j),append(X,x),append(L,J),append(L,ne),append(L,ve),append(L,me),append(L,ke),append(L,se),insert(le,De,Se),insert(le,Q,Se);for(let Fe=0;Fe<pe.length;Fe+=1)pe[Fe]&&pe[Fe].m(Q,null);append(Q,de);for(let Fe=0;Fe<ge.length;Fe+=1)ge[Fe]&&ge[Fe].m(Q,null);ee=!0,_e||(be=[listen(V,"change",e[15]),listen(z,"change",e[16]),listen(ne,"click",e[17]),action_destroyer(e[4].call(null,ne,{content:"Add data to graph",theme:"Ancir"})),listen(se,"click",e[18]),action_destroyer(e[4].call(null,se,{content:"Add annotation to graph",theme:"Ancir"}))],_e=!0)},p(le,Se){var Ve,Ue,qe,Be;const Fe={};!c&&Se[0]&3&&(c=!0,Fe.thedatetime=le[1][le[0]].params.startTime,add_flush_callback(()=>c=!1)),u.$set(Fe);const Le={};!m&&Se[0]&3&&(m=!0,Le.value=le[1][le[0]].params.periodHrs,add_flush_callback(()=>m=!1)),p.$set(Le);const Ie={};Se[0]&3&&(Ie.limits=[.05,(Ve=le[1][le[0]])==null?void 0:Ve.params.periodHrs]),!y&&Se[0]&3&&(y=!0,Ie.value=le[1][le[0]].params.binSizeHrs,add_flush_callback(()=>y=!1)),v.$set(Ie);const ze={};!O&&Se[0]&3&&(O=!0,ze.value=le[1][le[0]].params.width,add_flush_callback(()=>O=!1)),D.$set(ze);const We={};!k&&Se[0]&3&&(k=!0,We.value=le[1][le[0]].params.dayHeight,add_flush_callback(()=>k=!1)),w.$set(We);const He={};if(Se[0]&3&&(He.limits=[-((Ue=le[1][le[0]])==null?void 0:Ue.params.dayHeight),1/0]),!E&&Se[0]&3&&(E=!0,He.value=le[1][le[0]].params.betweenHeight,add_flush_callback(()=>E=!1)),F.$set(He),Se[0]&3&&(V.checked=le[1][le[0]].params.showAxes),Se[0]&3&&select_option(z,le[1][le[0]].params.scaleAxes),(!ee||Se[0]&5)&&Z!==(Z=le[2][le[0]].name+"")&&set_data(j,Z),Se[0]&107){ae=ensure_array_like(le[1][le[0]].sourceData);let Pe;for(Pe=0;Pe<ae.length;Pe+=1){const je=get_each_context_1$4(le,ae,Pe);pe[Pe]?(pe[Pe].p(je,Se),transition_in(pe[Pe],1)):(pe[Pe]=create_each_block_1$4(je),pe[Pe].c(),transition_in(pe[Pe],1),pe[Pe].m(Q,de))}for(group_outros(),Pe=ae.length;Pe<pe.length;Pe+=1)we(Pe);check_outros()}Se[0]&259&&(Ae=ensure_array_like(((Be=(qe=le[1][le[0]])==null?void 0:qe.extras)==null?void 0:Be.annotations)??[]),group_outros(),ge=update_keyed_each(ge,Se,Oe,1,le,Ae,te,Q,outro_and_destroy_block,create_each_block$4,null,get_each_context$4),check_outros())},i(le){if(!ee){transition_in(u.$$.fragment,le),transition_in(p.$$.fragment,le),transition_in(v.$$.fragment,le),transition_in(D.$$.fragment,le),transition_in(w.$$.fragment,le),transition_in(F.$$.fragment,le);for(let Se=0;Se<ae.length;Se+=1)transition_in(pe[Se]);for(let Se=0;Se<Ae.length;Se+=1)transition_in(ge[Se]);ee=!0}},o(le){transition_out(u.$$.fragment,le),transition_out(p.$$.fragment,le),transition_out(v.$$.fragment,le),transition_out(D.$$.fragment,le),transition_out(w.$$.fragment,le),transition_out(F.$$.fragment,le),pe=pe.filter(Boolean);for(let Se=0;Se<pe.length;Se+=1)transition_out(pe[Se]);for(let Se=0;Se<ge.length;Se+=1)transition_out(ge[Se]);ee=!1},d(le){le&&(detach(t),detach(ie),detach(L),detach(De),detach(Q)),destroy_component(u),destroy_component(p),destroy_component(v),destroy_component(D),destroy_component(w),destroy_component(F),destroy_each(pe,le);for(let Se=0;Se<ge.length;Se+=1)ge[Se].d();_e=!1,run_all(be)}}}function create_each_block_4(e){let t,r=e[3][e[3].findIndex(o)].data[e[50]].name+"",a,i;function o(...u){return e[24](e[41],...u)}return{c(){t=element("option"),a=text(r),t.__value=i=e[50],set_input_value(t,t.__value)},m(u,c){insert(u,t,c),append(t,a)},p(u,c){e=u,c[0]&11&&r!==(r=e[3][e[3].findIndex(o)].data[e[50]].name+"")&&set_data(a,r),c[0]&3&&i!==(i=e[50])&&(t.__value=i,set_input_value(t,t.__value))},d(u){u&&detach(t)}}}function create_each_block_3$2(e){let t,r,a=e[47].process+"",i,o,u,c,f,d,p,m,h;function _(...g){return e[26](e[43],e[44],e[49],...g)}function v(...g){return e[27](e[43],e[44],e[49],...g)}var y=componentMap[e[47].process].component;function $(g,D){return{props:{paramsStart:g[47].parameters,typeTime:{type:getFieldTypeFromGraph(g[1][g[0]].id,g[43],g[44])},dataIN:getRawData(g[43],g[1][g[0]].sourceData[g[43]].chartvalues[g[44]])}}}return y&&(d=construct_svelte_component(y,$(e)),d.$on("update",v)),{c(){t=element("details"),r=element("summary"),i=text(a),o=space(),u=element("div"),u.textContent="",c=space(),f=element("div"),d&&create_component(d.$$.fragment),attr(u,"class","deleteProcess hoverbutton"),attr(f,"class","processDetails"),t.open=!0,attr(t,"class","process")},m(g,D){insert(g,t,D),append(t,r),append(r,i),append(r,o),append(r,u),append(t,c),append(t,f),d&&mount_component(d,f,null),p=!0,m||(h=listen(u,"click",_),m=!0)},p(g,D){if(e=g,(!p||D[0]&3)&&a!==(a=e[47].process+"")&&set_data(i,a),D[0]&3&&y!==(y=componentMap[e[47].process].component)){if(d){group_outros();const O=d;transition_out(O.$$.fragment,1,0,()=>{destroy_component(O,1)}),check_outros()}y?(d=construct_svelte_component(y,$(e)),d.$on("update",v),create_component(d.$$.fragment),transition_in(d.$$.fragment,1),mount_component(d,f,null)):d=null}else if(y){const O={};D[0]&3&&(O.paramsStart=e[47].parameters),D[0]&3&&(O.typeTime={type:getFieldTypeFromGraph(e[1][e[0]].id,e[43],e[44])}),D[0]&3&&(O.dataIN=getRawData(e[43],e[1][e[0]].sourceData[e[43]].chartvalues[e[44]])),d.$set(O)}},i(g){p||(d&&transition_in(d.$$.fragment,g),p=!0)},o(g){d&&transition_out(d.$$.fragment,g),p=!1},d(g){g&&detach(t),d&&destroy_component(d),m=!1,h()}}}function create_each_block_2$2(e){let t,r,a=e[44]+"",i,o,u,c,f,d,p,m,h,_,v,y;function $(...k){return e[23](e[43],e[44],...k)}let g=ensure_array_like(getFieldNames(e[41])),D=[];for(let k=0;k<g.length;k+=1)D[k]=create_each_block_4(get_each_context_4(e,g,k));function O(){e[25].call(p,e[44],e[42],e[43])}let b=ensure_array_like(e[41].chartvalues[e[44]].processSteps),T=[];for(let k=0;k<b.length;k+=1)T[k]=create_each_block_3$2(get_each_context_3$2(e,b,k));const w=k=>transition_out(T[k],1,1,()=>{T[k]=null});return{c(){t=element("details"),r=element("summary"),i=text(a),o=text(`:
              
              

              `),u=element("span"),c=element("div"),c.textContent="",d=space(),p=element("select");for(let k=0;k<D.length;k+=1)D[k].c();m=space();for(let k=0;k<T.length;k+=1)T[k].c();h=space(),attr(c,"class","deleteTable hoverbutton showContextMenu"),attr(p,"class","selectField"),e[41].chartvalues[e[44]].field===void 0&&add_render_callback(O),t.open=!0,attr(t,"class","field")},m(k,C){insert(k,t,C),append(t,r),append(r,i),append(r,o),append(r,u),append(u,c),append(u,d),append(u,p);for(let S=0;S<D.length;S+=1)D[S]&&D[S].m(p,null);select_option(p,e[41].chartvalues[e[44]].field,!0),append(t,m);for(let S=0;S<T.length;S+=1)T[S]&&T[S].m(t,null);append(t,h),_=!0,v||(y=[listen(c,"click",$),action_destroyer(f=e[4].call(null,c,{content:"Add process to "+e[44],theme:"Ancir"})),listen(p,"change",O)],v=!0)},p(k,C){if(e=k,(!_||C[0]&3)&&a!==(a=e[44]+"")&&set_data(i,a),f&&is_function(f.update)&&C[0]&3&&f.update.call(null,{content:"Add process to "+e[44],theme:"Ancir"}),C[0]&11){g=ensure_array_like(getFieldNames(e[41]));let S;for(S=0;S<g.length;S+=1){const F=get_each_context_4(e,g,S);D[S]?D[S].p(F,C):(D[S]=create_each_block_4(F),D[S].c(),D[S].m(p,null))}for(;S<D.length;S+=1)D[S].d(1);D.length=g.length}if(C[0]&3&&select_option(p,e[41].chartvalues[e[44]].field),C[0]&3){b=ensure_array_like(e[41].chartvalues[e[44]].processSteps);let S;for(S=0;S<b.length;S+=1){const F=get_each_context_3$2(e,b,S);T[S]?(T[S].p(F,C),transition_in(T[S],1)):(T[S]=create_each_block_3$2(F),T[S].c(),transition_in(T[S],1),T[S].m(t,h))}for(group_outros(),S=b.length;S<T.length;S+=1)w(S);check_outros()}},i(k){if(!_){for(let C=0;C<b.length;C+=1)transition_in(T[C]);_=!0}},o(k){T=T.filter(Boolean);for(let C=0;C<T.length;C+=1)transition_out(T[C]);_=!1},d(k){k&&detach(t),destroy_each(D,k),destroy_each(T,k),v=!1,run_all(y)}}}function create_each_block_1$4(e){let t,r,a,i,o,u,c,f,d,p,m,h=e[3].find(z).displayName+"",_,v,y,$,g,D,O,b,T,w,k,C,S,F,E,U,R,A,M,V;function H(x){e[19](x,e[41])}let P={};e[41].name!==void 0&&(P.value=e[41].name),a=new InPlaceEdit({props:P}),binding_callbacks.push(()=>bind(a,"value",H));function G(...x){return e[20](e[43],...x)}function I(...x){return e[21](e[43],...x)}function z(...x){return e[22](e[41],...x)}let N=ensure_array_like(Object.keys(e[41].chartvalues)),B=[];for(let x=0;x<N.length;x+=1)B[x]=create_each_block_2$2(get_each_context_2$2(e,N,x));const ie=x=>transition_out(B[x],1,1,()=>{B[x]=null});function L(){e[28].call(g,e[43])}function X(x){e[29](x,e[43])}let Z={min:"0",max:"1",step:"0.01",limits:[0,1],label:"Alpha: "};e[1][e[0]].sourceData[e[43]].col.alpha!==void 0&&(Z.value=e[1][e[0]].sourceData[e[43]].col.alpha),b=new Slider({props:Z}),binding_callbacks.push(()=>bind(b,"value",X));function j(){e[30].call(F,e[43])}return U=new Onset({props:{sourceIndex:e[43]}}),{c(){t=element("details"),r=element("summary"),create_component(a.$$.fragment),o=space(),u=element("div"),u.textContent="",c=space(),f=element("div"),f.textContent="",d=space(),p=element("div"),m=text("Table: "),_=text(h),v=space();for(let x=0;x<B.length;x+=1)B[x].c();y=space(),$=element("div"),g=element("input"),D=space(),O=element("div"),create_component(b.$$.fragment),w=space(),k=element("div"),C=element("a"),C.textContent="Show data:",S=space(),F=element("input"),E=space(),create_component(U.$$.fragment),R=space(),attr(u,"class","addOnset hoverbutton"),set_style(u,"padding","0.2em 0.5em"),set_style(u,"margin","-0.2em 0.2em"),set_style(u,"float","right"),attr(f,"class","deleteTable hoverbutton"),attr(p,"class","tableLabel"),attr(g,"class","colourPicker"),attr(g,"id",e[43]),attr(g,"type","color"),set_style(g,"background",e[1][e[0]].sourceData[e[43]].col.hex),attr(O,"class","sliderContainer"),attr($,"class","colour"),set_style(C,"align-self","center"),attr(F,"type","checkbox"),set_style(k,"margin-left","2em"),t.open=!0,attr(t,"class","dataTable")},m(x,J){insert(x,t,J),append(t,r),mount_component(a,r,null),append(r,o),append(r,u),append(r,c),append(r,f),append(t,d),append(t,p),append(p,m),append(p,_),append(t,v);for(let ne=0;ne<B.length;ne+=1)B[ne]&&B[ne].m(t,null);append(t,y),append(t,$),append($,g),set_input_value(g,e[1][e[0]].sourceData[e[43]].col.hex),append($,D),append($,O),mount_component(b,O,null),append(t,w),append(t,k),append(k,C),append(k,S),append(k,F),F.checked=e[1][e[0]].sourceData[e[43]].show,append(t,E),mount_component(U,t,null),insert(x,R,J),A=!0,M||(V=[listen(u,"click",G),action_destroyer(e[4].call(null,u,{content:"Add onsets",theme:"Ancir"})),listen(f,"click",I),action_destroyer(e[4].call(null,f,{content:"Delete data from graph",theme:"Ancir"})),listen(g,"input",L),listen(F,"change",j)],M=!0)},p(x,J){e=x;const ne={};if(!i&&J[0]&3&&(i=!0,ne.value=e[41].name,add_flush_callback(()=>i=!1)),a.$set(ne),(!A||J[0]&11)&&h!==(h=e[3].find(z).displayName+"")&&set_data(_,h),J[0]&43){N=ensure_array_like(Object.keys(e[41].chartvalues));let me;for(me=0;me<N.length;me+=1){const ke=get_each_context_2$2(e,N,me);B[me]?(B[me].p(ke,J),transition_in(B[me],1)):(B[me]=create_each_block_2$2(ke),B[me].c(),transition_in(B[me],1),B[me].m(t,y))}for(group_outros(),me=N.length;me<B.length;me+=1)ie(me);check_outros()}(!A||J[0]&3)&&set_style(g,"background",e[1][e[0]].sourceData[e[43]].col.hex),J[0]&3&&set_input_value(g,e[1][e[0]].sourceData[e[43]].col.hex);const ve={};!T&&J[0]&3&&(T=!0,ve.value=e[1][e[0]].sourceData[e[43]].col.alpha,add_flush_callback(()=>T=!1)),b.$set(ve),J[0]&3&&(F.checked=e[1][e[0]].sourceData[e[43]].show)},i(x){if(!A){transition_in(a.$$.fragment,x);for(let J=0;J<N.length;J+=1)transition_in(B[J]);transition_in(b.$$.fragment,x),transition_in(U.$$.fragment,x),A=!0}},o(x){transition_out(a.$$.fragment,x),B=B.filter(Boolean);for(let J=0;J<B.length;J+=1)transition_out(B[J]);transition_out(b.$$.fragment,x),transition_out(U.$$.fragment,x),A=!1},d(x){x&&(detach(t),detach(R)),destroy_component(a),destroy_each(B,x),destroy_component(b),destroy_component(U),M=!1,run_all(V)}}}function create_each_block$4(e,t){let r,a,i,o,u,c,f,d,p,m,h,_,v,y,$,g,D,O,b,T,w,k,C,S,F,E,U,R,A,M,V;function H(Z){t[31](Z,t[38])}let P={};t[38].name!==void 0&&(P.value=t[38].name),i=new InPlaceEdit({props:P}),binding_callbacks.push(()=>bind(i,"value",H));function G(...Z){return t[32](t[40],...Z)}function I(Z){t[33](Z,t[38])}let z={label:""};t[38].startTime!==void 0&&(z.thedatetime=t[38].startTime),v=new DateTimeSelect({props:z}),binding_callbacks.push(()=>bind(v,"thedatetime",I));function N(Z){t[34](Z,t[38])}let B={min:0,max:5,step:.1,limits:[0,1/0],label:"Length (hrs):"};t[38].lengthHrs!==void 0&&(B.value=t[38].lengthHrs),D=new Slider({props:B}),binding_callbacks.push(()=>bind(D,"value",N));function ie(){t[35].call(w,t[39],t[40])}function L(Z){t[36](Z,t[38])}let X={min:"0",max:"1",step:"0.01",limits:[0,1],label:"Alpha: "};return t[38].col.alpha!==void 0&&(X.value=t[38].col.alpha),F=new Slider({props:X}),binding_callbacks.push(()=>bind(F,"value",L)),{key:e,first:null,c(){r=element("details"),a=element("summary"),create_component(i.$$.fragment),u=space(),c=element("div"),c.textContent="",d=space(),p=element("div"),m=element("span"),m.textContent="Start:",h=space(),_=element("div"),create_component(v.$$.fragment),$=space(),g=element("div"),create_component(D.$$.fragment),b=space(),T=element("div"),w=element("input"),C=space(),S=element("div"),create_component(F.$$.fragment),U=space(),attr(c,"class","deleteTable hoverbutton"),set_style(_,"margin-left","auto"),attr(p,"class","sliderContainer"),set_style(p,"margin-left","2em"),attr(g,"class","sliderContainer"),set_style(g,"margin-left","2em"),attr(w,"class","colourPicker"),attr(w,"id",k=t[40]),attr(w,"type","color"),set_style(w,"background",t[38].col.hex),attr(S,"class","sliderContainer"),attr(T,"class","colour"),r.open=!0,attr(r,"class","dataTable"),attr(r,"id",R=t[40]),this.first=r},m(Z,j){insert(Z,r,j),append(r,a),mount_component(i,a,null),append(a,u),append(a,c),append(r,d),append(r,p),append(p,m),append(p,h),append(p,_),mount_component(v,_,null),append(r,$),append(r,g),mount_component(D,g,null),append(r,b),append(r,T),append(T,w),set_input_value(w,t[38].col.hex),append(T,C),append(T,S),mount_component(F,S,null),append(r,U),A=!0,M||(V=[listen(c,"click",G),action_destroyer(f=t[4].call(null,c,{content:"Delete annotation "+t[38].name,theme:"Ancir"})),listen(w,"input",ie)],M=!0)},p(Z,j){t=Z;const x={};!o&&j[0]&3&&(o=!0,x.value=t[38].name,add_flush_callback(()=>o=!1)),i.$set(x),f&&is_function(f.update)&&j[0]&3&&f.update.call(null,{content:"Delete annotation "+t[38].name,theme:"Ancir"});const J={};!y&&j[0]&3&&(y=!0,J.thedatetime=t[38].startTime,add_flush_callback(()=>y=!1)),v.$set(J);const ne={};!O&&j[0]&3&&(O=!0,ne.value=t[38].lengthHrs,add_flush_callback(()=>O=!1)),D.$set(ne),(!A||j[0]&3&&k!==(k=t[40]))&&attr(w,"id",k),(!A||j[0]&3)&&set_style(w,"background",t[38].col.hex),j[0]&3&&set_input_value(w,t[38].col.hex);const ve={};!E&&j[0]&3&&(E=!0,ve.value=t[38].col.alpha,add_flush_callback(()=>E=!1)),F.$set(ve),(!A||j[0]&3&&R!==(R=t[40]))&&attr(r,"id",R)},i(Z){A||(transition_in(i.$$.fragment,Z),transition_in(v.$$.fragment,Z),transition_in(D.$$.fragment,Z),transition_in(F.$$.fragment,Z),A=!0)},o(Z){transition_out(i.$$.fragment,Z),transition_out(v.$$.fragment,Z),transition_out(D.$$.fragment,Z),transition_out(F.$$.fragment,Z),A=!1},d(Z){Z&&detach(r),destroy_component(i),destroy_component(v),destroy_component(D),destroy_component(F),M=!1,run_all(V)}}}function create_fragment$4(e){let t,r,a=e[0]>=0&&e[1][e[0]].graph==="Actogram"&&create_if_block$4(e);return{c(){a&&a.c(),t=empty$1()},m(i,o){a&&a.m(i,o),insert(i,t,o),r=!0},p(i,o){i[0]>=0&&i[1][i[0]].graph==="Actogram"?a?(a.p(i,o),o[0]&3&&transition_in(a,1)):(a=create_if_block$4(i),a.c(),transition_in(a,1),a.m(t.parentNode,t)):a&&(group_outros(),transition_out(a,1,1,()=>{a=null}),check_outros())},i(i){r||(transition_in(a),r=!0)},o(i){transition_out(a),r=!1},d(i){i&&detach(t),a&&a.d(i)}}}function instance$4(e,t,r){let a,i,o,u,c;component_subscribe(e,activeGraphTab,L=>r(0,a=L)),component_subscribe(e,graphs,L=>r(1,i=L)),component_subscribe(e,contextMenu,L=>r(37,o=L)),component_subscribe(e,graphTabs,L=>r(2,u=L)),component_subscribe(e,data,L=>r(3,c=L));function f(L,X){let Z=tippy(L,X);return{update:j=>{Z.setProps(j)},destroy:()=>{Z.destroy()}}}function d(L,X,Z){const j=getFieldTypeFromGraph(L,X,Z),x=Object.keys(componentMap);for(let J=0;J<x.length;J++)componentMap[x[J]].forTypes.includes(j)&&(set_store_value(contextMenu,o.labels[J]=x[J],o),set_store_value(contextMenu,o.funcs[J]=()=>addProcessToGraph(x[J],L,X,Z),o))}function p(L){set_store_value(graphs,i[a].sourceData[L].onsets[i[a].sourceData[L].onsets.length]={type:"onset",showOnsets:!0,excludeOnsets:[],MAD:2,filterStart:1,filterEnd:i[a].chartData.data[0].scaleLimits.length,centileThresh:80,M:3,N:3,lmFit:{slope:0,intercept:0,rSquared:0},col:{hex:getRandomHexColour(),alpha:.5},showLine:!0},i)}function m(){var X,Z;(X=i[a].extras)!=null&&X.annotations||set_store_value(graphs,i[a].extras.annotations=[],i);const L=(Z=i[a])==null?void 0:Z.extras.annotations.length;set_store_value(graphs,i[a].extras.annotations[L]=structuredClone(defaultAnnotation),i),set_store_value(graphs,i[a].extras.annotations[L].id=L+1,i),set_store_value(graphs,i[a].extras.annotations[L].startTime=i[a].params.startTime,i),console.log(i[a].chartData)}function h(L){set_store_value(graphs,i[a].extras.annotations=i[a].extras.annotations.splice(L,1),i)}function _(L){e.$$.not_equal(i[a].params.startTime,L)&&(i[a].params.startTime=L,graphs.set(i))}function v(L){e.$$.not_equal(i[a].params.periodHrs,L)&&(i[a].params.periodHrs=L,graphs.set(i))}function y(L){e.$$.not_equal(i[a].params.binSizeHrs,L)&&(i[a].params.binSizeHrs=L,graphs.set(i))}function $(L){e.$$.not_equal(i[a].params.width,L)&&(i[a].params.width=L,graphs.set(i))}function g(L){e.$$.not_equal(i[a].params.dayHeight,L)&&(i[a].params.dayHeight=L,graphs.set(i))}function D(L){e.$$.not_equal(i[a].params.betweenHeight,L)&&(i[a].params.betweenHeight=L,graphs.set(i))}function O(){i[a].params.showAxes=this.checked,graphs.set(i)}function b(){i[a].params.scaleAxes=select_value(this),graphs.set(i)}const T=L=>{L.preventDefault(),createnewDataForGraph(defaultchartvalues$2,defaultother$2)},w=L=>{L.preventDefault(),m()};function k(L,X){e.$$.not_equal(X.name,L)&&(X.name=L,graphs.set(i))}const C=(L,X)=>{X.preventDefault(),p(L)},S=(L,X)=>{X.preventDefault(),removeGraphData(L)},F=(L,X)=>X.id===L.tableID,E=(L,X,Z)=>{Z.preventDefault(),d(i[a].id,L,X)},U=(L,X)=>X.id===L.tableID;function R(L,X,Z){X[Z].chartvalues[L].field=select_value(this),graphs.set(i)}const A=(L,X,Z,j)=>{j.preventDefault(),removeGraphProcess(i[a].id,L,X,Z)},M=(L,X,Z,j)=>updateGraphProcess(i[a].id,L,X,Z,j.detail.params);function V(L){i[a].sourceData[L].col.hex=this.value,graphs.set(i)}function H(L,X){e.$$.not_equal(i[a].sourceData[X].col.alpha,L)&&(i[a].sourceData[X].col.alpha=L,graphs.set(i))}function P(L){i[a].sourceData[L].show=this.checked,graphs.set(i)}function G(L,X){e.$$.not_equal(X.name,L)&&(X.name=L,graphs.set(i))}const I=(L,X)=>{X.preventDefault(),h(L)};function z(L,X){e.$$.not_equal(X.startTime,L)&&(X.startTime=L,graphs.set(i))}function N(L,X){e.$$.not_equal(X.lengthHrs,L)&&(X.lengthHrs=L,graphs.set(i))}function B(L,X){L[X].col.hex=this.value}function ie(L,X){e.$$.not_equal(X.col.alpha,L)&&(X.col.alpha=L,graphs.set(i))}return[a,i,u,c,f,d,p,m,h,_,v,y,$,g,D,O,b,T,w,k,C,S,F,E,U,R,A,M,V,H,P,G,I,z,N,B,ie]}class Actogram_controls extends SvelteComponent{constructor(t){super(),init(this,t,instance$4,create_fragment$4,safe_not_equal,{},null,[-1,-1])}}const Actogram_controls$1=Object.freeze(Object.defineProperty({__proto__:null,default:Actogram_controls},Symbol.toStringTag,{value:"Module"}));function bisection(e,t,r,a,i){var o=function(d){return d>0?1:d<0?-1:0},u=o(e(t));o(e(r));for(var c=.5*(t+r),f=e(c);r-t>i&&r-t>a*Math.abs(c)&&Math.abs(f)>i;)f*u>0?(t=c,u=o(f)):r=c,c=.5*(t+r),f=e(c);return c}function gamnln(e){var t=[.5723649429247001,0,-.1207822376352452,0,.2846828704729192,.6931471805599453,1.200973602347074,1.791759469228055,2.453736570842442,3.178053830347946,3.957813967618717,4.787491742782046,5.662562059857142,6.579251212010101,7.534364236758733,8.525161361065415,9.549267257300997,10.60460290274525,11.68933342079727,12.80182748008147,13.94062521940376,15.10441257307552,16.29200047656724,17.50230784587389,18.73434751193645,19.98721449566188,21.2600761562447,22.55216385312342,23.86276584168909,25.19122118273868,26.53691449111561,27.89927138384089,29.27775451504082,30.67186010608068,32.08111489594736,33.50507345013689,34.94331577687682,36.39544520803305,37.86108650896109,39.3398841871995,40.8315009745308,42.33561646075349,43.85192586067515,45.3801388984769,46.91997879580877,48.47118135183522,50.03349410501914,51.60667556776437,53.19049452616927,54.78472939811231,56.38916764371993,58.00360522298051,59.62784609588432,61.26170176100199,62.9049908288765,64.55753862700632,66.21917683354901,67.88974313718154,69.56908092082364,71.257038967168,72.9534711841694,74.65823634883016,76.37119786778275,78.0922235533153,79.82118541361436,81.55795945611503,83.30242550295004,85.05446701758153,86.81397094178108,88.58082754219767,90.35493026581838,92.1361756036871,93.92446296229978,95.71969454214322,97.52177522288821,99.33061245478741,101.1461161558646,102.9681986145138,104.7967743971583,106.6317602606435,108.4730750690654,110.3206397147574,112.1743770431779,114.0342117814617,115.9000704704145,117.7718813997451,119.6495745463449,121.5330815154387,123.4223354844396,125.3172711493569,127.2178246736118,129.1239336391272,131.0355369995686,132.9525750356163,134.8749893121619,136.8027226373264,138.7357190232026,140.6739236482343,142.617282821146,144.5657439463449,146.5192554907206,148.477766951773,150.4412288270019,152.4095925844974,154.3828106346716,156.3608363030788,158.3436238042692,160.3311282166309,162.3233054581712,164.3201122631952,166.3215061598404,168.3274454484277,170.3378891805928,172.3527971391628,174.3721298187452,176.3958484069973,178.4239147665485,180.4562914175438,182.4929415207863,184.5338288614495,186.5789178333379,188.6281734236716,190.6815611983747,192.7390472878449,194.8005983731871,196.86618167289,198.9357649299295,201.0093163992815,203.0868048358281,205.1681994826412,207.2534700596299,209.3425867525368,211.435520202271,213.5322414945632,215.6327221499328,217.7369341139542,219.8448497478113,221.9564418191303,224.0716834930795,226.1905483237276,228.3130102456502,230.4390435657769,232.5686229554685,234.7017234428182,236.8383204051684,238.9783895618343,241.121906967029,243.2688490029827,245.4191923732478,247.5729140961868,249.7299914986334,251.8904022097232,254.0541241548883,256.2211355500095,258.3914148957209,260.5649409718632,262.7416928320802,264.9216497985528,267.1047914568685,269.2910976510198,271.4805484785288,273.6731242856937,275.8688056629533,278.0675734403662,280.2694086832001,282.4742926876305,284.6822069765408,286.893133295427,289.1070536083976,291.3239500942703,293.5438051427607,295.7666013507606,297.9923215187034,300.2209486470141,302.4524659326413,304.6868567656687,306.9241047260048,309.1641935801469,311.4071072780187,313.652829949879,315.9013459032995,318.1526396202093,320.4066957540055,322.6634991267262,324.9230347262869,327.1852877037753,329.4502433708053,331.7178871969285,333.9882048070999,336.2611819791985,338.5368046415996,340.815058870799,343.0959308890863,345.3794070622669,347.6654738974312,349.9541180407703,352.245326275435,354.5390855194408,356.835382823613,359.1342053695754];if(e<201)return t[e-1];var r=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],a=2.5066282746310007,i=.5*e,o=i,u=i+5.5;u=(i+.5)*Math.log(u)-u;for(var c=1.000000000190015,f=0;f<6;f++)o=o+1,c=c+r[f]/o;var d=u+Math.log(a*c/i);return d}function gser(e,t){for(var r=1e8,a=1e-8,i=gamnln(e),o=.5*e,u=o,c=1/o,f=c,e=1;e<r&&(u++,f=f*t/u,c+=f,!(f<c*a));e++);return c*Math.exp(-t+o*Math.log(t)-i)}function gcf(e,t){for(var r=1e8,a=1e-8,i=gamnln(e),o=.5*e,u=t+1-o,c=1e-300,f=1/c,d=1/u,p=d,m=1;m<r;m++){var h=-m*(m-o);u+=2,d=h*d+u,Math.abs(d)<c&&(d=c),f=u+h/f,Math.abs(f)<c&&(f=c),d=1/d;var _=d*f;if(p=p*_,Math.abs(_-1)<a)break}return p*Math.exp(-t+o*Math.log(t)-i)}function gammp(e,t){return t<.5*e+1?gser(e,t):1-gcf(e,t)}function gammq(e,t){return t<.5*e+1?1-gser(e,t):gcf(e,t)}function pchisq(e,t,r=1){return r==1?gammq(t,.5*e):gammp(t,.5*e)}function qchisq(e,t,r=1){if(r==1){if(e==0)return 1/0;if(e==1)return 0}if(r==2){if(e==0)return 0;if(e==1)return 1/0}var a=1e-6,i=0,o=Math.sqrt(2*t),u=2*o,c=1;for(r==2&&(c=-1);c*pchisq(u,t,r)>e*c;)i=u,u+=2*o;var f=function(d){return pchisq(d,t,r)-e};return bisection(f,i,u,a,0)}function get_each_context$3(e,t,r){const a=e.slice();return a[12]=t[r],a[14]=r,a}function get_each_context_1$3(e,t,r){const a=e.slice();return a[15]=t[r],a[17]=r,a}function create_if_block$3(e){let t,r,a,i,o,u,c,f,d,p,m,h,_,v,y;function $(O,b){return O[3][O[2]].chartData.data.periods.length>0?create_if_block_1$1:create_else_block}let g=$(e),D=g(e);return o=new Axis({props:{innerHeight:e[6],yoffset:"0",scale:e[3][e[2]].chartData.xScale,position:"bottom"}}),u=new Axis({props:{innerHeight:e[6],yoffset:"0",scale:e[3][e[2]].chartData.yScale,position:"left"}}),{c(){t=element("div"),r=svg_element("svg"),a=svg_element("g"),D.c(),i=empty$1(),create_component(o.$$.fragment),create_component(u.$$.fragment),c=svg_element("text"),f=text("Chi-sq"),p=svg_element("text"),m=text("Period"),set_style(c,"text-anchor","middle"),attr(c,"transform",d=`translate(-50,${e[6]/2}) rotate(-90)     `),set_style(p,"text-anchor","middle"),attr(p,"x",h=e[7]/2),attr(p,"y",_=e[6]+32),attr(a,"transform",`translate(${e[9].left},${e[9].top})`),attr(r,"id","svgContainer"),attr(r,"width",e[1]),attr(r,"height",e[0]),attr(r,"style",v="transform-origin: top left; transform:scale("+e[3][e[2]].zoom+");"),attr(t,"class","periodogram")},m(O,b){insert(O,t,b),append(t,r),append(r,a),D.m(a,null),append(a,i),mount_component(o,a,null),mount_component(u,a,null),append(a,c),append(c,f),append(a,p),append(p,m),y=!0},p(O,b){g===(g=$(O))&&D?D.p(O,b):(D.d(1),D=g(O),D&&(D.c(),D.m(a,i)));const T={};b&64&&(T.innerHeight=O[6]),b&12&&(T.scale=O[3][O[2]].chartData.xScale),o.$set(T);const w={};b&64&&(w.innerHeight=O[6]),b&12&&(w.scale=O[3][O[2]].chartData.yScale),u.$set(w),(!y||b&64&&d!==(d=`translate(-50,${O[6]/2}) rotate(-90)     `))&&attr(c,"transform",d),(!y||b&128&&h!==(h=O[7]/2))&&attr(p,"x",h),(!y||b&64&&_!==(_=O[6]+32))&&attr(p,"y",_),(!y||b&2)&&attr(r,"width",O[1]),(!y||b&1)&&attr(r,"height",O[0]),(!y||b&12&&v!==(v="transform-origin: top left; transform:scale("+O[3][O[2]].zoom+");"))&&attr(r,"style",v)},i(O){y||(transition_in(o.$$.fragment,O),transition_in(u.$$.fragment,O),y=!0)},o(O){transition_out(o.$$.fragment,O),transition_out(u.$$.fragment,O),y=!1},d(O){O&&detach(t),D.d(),destroy_component(o),destroy_component(u)}}}function create_else_block(e){let t,r;return{c(){t=svg_element("text"),r=text("No Data "),attr(t,"x","50%"),attr(t,"y","50%"),attr(t,"text-anchor","middle"),attr(t,"fill","red")},m(a,i){insert(a,t,i),append(t,r)},p:noop,d(a){a&&detach(t)}}}function create_if_block_1$1(e){let t,r=ensure_array_like(e[3][e[2]].chartData.data.periods),a=[];for(let i=0;i<r.length;i+=1)a[i]=create_each_block$3(get_each_context$3(e,r,i));return{c(){for(let i=0;i<a.length;i+=1)a[i].c();t=empty$1()},m(i,o){for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(i,o);insert(i,t,o)},p(i,o){if(o&60){r=ensure_array_like(i[3][i[2]].chartData.data.periods);let u;for(u=0;u<r.length;u+=1){const c=get_each_context$3(i,r,u);a[u]?a[u].p(c,o):(a[u]=create_each_block$3(c),a[u].c(),a[u].m(t.parentNode,t))}for(;u<a.length;u+=1)a[u].d(1);a.length=r.length}},d(i){i&&detach(t),destroy_each(a,i)}}}function create_each_block_1$3(e){let t,r,a,i,o,u,c,f;return{c(){t=svg_element("circle"),attr(t,"cx",r=e[3][e[2]].chartData.xScale(e[15])),attr(t,"cy",a=e[3][e[2]].chartData.yScale(e[3][e[2]].chartData.data.power[e[14]][e[17]])),attr(t,"r","3"),attr(t,"fill",i=e[3][e[2]].sourceData[e[14]].col.hex),attr(t,"fill-opacity",o=e[3][e[2]].sourceData[e[14]].col.alpha)},m(d,p){insert(d,t,p),c||(f=action_destroyer(u=e[8].call(null,t,{content:e[15].toFixed(2)+", "+e[3][e[2]].chartData.data.power[e[14]][e[17]].toFixed(2)+" ("+e[3][e[2]].chartData.data.pvalue[e[14]][e[17]].toFixed(2)+")",theme:"Ancir"})),c=!0)},p(d,p){e=d,p&12&&r!==(r=e[3][e[2]].chartData.xScale(e[15]))&&attr(t,"cx",r),p&12&&a!==(a=e[3][e[2]].chartData.yScale(e[3][e[2]].chartData.data.power[e[14]][e[17]]))&&attr(t,"cy",a),p&12&&i!==(i=e[3][e[2]].sourceData[e[14]].col.hex)&&attr(t,"fill",i),p&12&&o!==(o=e[3][e[2]].sourceData[e[14]].col.alpha)&&attr(t,"fill-opacity",o),u&&is_function(u.update)&&p&12&&u.update.call(null,{content:e[15].toFixed(2)+", "+e[3][e[2]].chartData.data.power[e[14]][e[17]].toFixed(2)+" ("+e[3][e[2]].chartData.data.pvalue[e[14]][e[17]].toFixed(2)+")",theme:"Ancir"})},d(d){d&&detach(t),c=!1,f()}}}function create_each_block$3(e){let t,r,a,i,o,u,c,f=ensure_array_like(e[12]),d=[];for(let p=0;p<f.length;p+=1)d[p]=create_each_block_1$3(get_each_context_1$3(e,f,p));return{c(){for(let p=0;p<d.length;p+=1)d[p].c();t=svg_element("path"),o=svg_element("path"),attr(t,"d",r=e[4][e[14]]),attr(t,"fill","none"),attr(t,"stroke",a=e[3][e[2]].sourceData[e[14]].col.hex),attr(t,"stroke-opacity",i=e[3][e[2]].sourceData[e[14]].col.alpha),attr(t,"stroke-width","2px"),attr(o,"d",u=e[5][e[14]]),attr(o,"fill","none"),attr(o,"stroke","red"),attr(o,"stroke-opacity",c=e[3][e[2]].sourceData[e[14]].col.alpha),attr(o,"stroke-width","1px")},m(p,m){for(let h=0;h<d.length;h+=1)d[h]&&d[h].m(p,m);insert(p,t,m),insert(p,o,m)},p(p,m){if(m&12){f=ensure_array_like(p[12]);let h;for(h=0;h<f.length;h+=1){const _=get_each_context_1$3(p,f,h);d[h]?d[h].p(_,m):(d[h]=create_each_block_1$3(_),d[h].c(),d[h].m(t.parentNode,t))}for(;h<d.length;h+=1)d[h].d(1);d.length=f.length}m&16&&r!==(r=p[4][p[14]])&&attr(t,"d",r),m&12&&a!==(a=p[3][p[2]].sourceData[p[14]].col.hex)&&attr(t,"stroke",a),m&12&&i!==(i=p[3][p[2]].sourceData[p[14]].col.alpha)&&attr(t,"stroke-opacity",i),m&32&&u!==(u=p[5][p[14]])&&attr(o,"d",u),m&12&&c!==(c=p[3][p[2]].sourceData[p[14]].col.alpha)&&attr(o,"stroke-opacity",c)},d(p){p&&(detach(t),detach(o)),destroy_each(d,p)}}}function create_fragment$3(e){var i,o;let t,r,a=((i=e[3][e[2]])==null?void 0:i.graph)==="Periodogram"&&((o=e[3][e[2]])==null?void 0:o.sourceData.length)>0&&create_if_block$3(e);return{c(){a&&a.c(),t=empty$1()},m(u,c){a&&a.m(u,c),insert(u,t,c),r=!0},p(u,[c]){var f,d;((f=u[3][u[2]])==null?void 0:f.graph)==="Periodogram"&&((d=u[3][u[2]])==null?void 0:d.sourceData.length)>0?a?(a.p(u,c),c&12&&transition_in(a,1)):(a=create_if_block$3(u),a.c(),transition_in(a,1),a.m(t.parentNode,t)):a&&(group_outros(),transition_out(a,1,1,()=>{a=null}),check_outros())},i(u){r||(transition_in(a),r=!0)},o(u){transition_out(a),r=!1},d(u){u&&detach(t),a&&a.d(u)}}}function instance$3(e,t,r){let a,i,o,u,c,f;component_subscribe(e,activeGraphTab,y=>r(2,c=y)),component_subscribe(e,graphs,y=>r(3,f=y));function d(y,$){let g=tippy(y,$);return{update:D=>{g.setProps(D)},destroy:()=>{g.destroy()}}}let p={top:20,bottom:40,left:80,right:20},m=[],h=[];function _(y,$,g,D,O){var b;if(((b=f[c])==null?void 0:b.graph)==="Periodogram"){let w,k,C={data:{periods:[],power:[],sigThreshold:[],pvalue:[]},xScale:linear().domain([g,D]).range([0,u]),yScale:linear().domain([0,100]).range([i,0])},S={ymin:1/0,ymax:-1/0};y.forEach((F,E)=>{F.chartvalues.time.field!=""&&(w=getDataFromSource(E,F.chartvalues.time)),F.chartvalues.values.field!=""&&(k=getDataFromSource(E,F.chartvalues.values));const U=averageBinnedValues(w,k,$);C.data.periods[E]=[],C.data.power[E]=[],C.data.pvalue[E]=[],C.data.sigThreshold[E]=[];let R=0;const A=1+(D-g)/O,M=Math.pow(1-.05,1/A);for(let V=g;V<D;V+=O)C.data.periods[E][R]=V,C.data.power[E][R]=v(U.values,$,V),C.data.pvalue[E][R]=pchisq(C.data.power[E][R],Math.round(V/$)),C.data.sigThreshold[E][R]=qchisq(M,Math.round(V/$)),C.data.power[E][R]<S.ymin&&(S.ymin=C.data.power[E][R]),C.data.power[E][R]>S.ymax&&(S.ymax=C.data.power[E][R]),R++}),set_store_value(graphs,f[c].chartData=C,f),set_store_value(graphs,f[c].chartData.yScale=linear().domain([S.ymin,S.ymax]).range([o,0]),f),y.forEach((F,E)=>{for(let U=0;U<C.data.power[E].length;U++)U===0&&(r(4,m[E]="M ",m),r(5,h[E]="M",h)),r(4,m[E]+=`${f[c].chartData.xScale(C.data.periods[E][U])} ${f[c].chartData.yScale(C.data.power[E][U])} `,m),r(5,h[E]+=`${f[c].chartData.xScale(C.data.periods[E][U])} ${f[c].chartData.yScale(C.data.sigThreshold[E][U])} `,h)})}}function v(y,$,g){const D=Math.round(g/$),O=Math.ceil(y.length/D),b=Array.from({length:D},(C,S)=>{const F=S,E=Array.from({length:O},(U,R)=>y[F+R*D]).filter(U=>U!==void 0&&!isNaN(U));return mean(E)}),T=mean(y),w=b.reduce((C,S)=>C+Math.pow(S-T,2),0)*(y.length*O),k=y.reduce((C,S)=>C+Math.pow(S-T,2),0);return w/k}return e.$$.update=()=>{var y,$,g,D,O,b,T;e.$$.dirty&12&&r(1,a=(y=f[c])==null?void 0:y.params.width),e.$$.dirty&12&&r(0,i=($=f[c])==null?void 0:$.params.height),e.$$.dirty&1&&r(6,o=i-p.top-p.bottom),e.$$.dirty&2&&r(7,u=a-p.left-p.right),e.$$.dirty&12&&_((g=f[c])==null?void 0:g.sourceData,(D=f[c])==null?void 0:D.params.binSizeHrs,(O=f[c])==null?void 0:O.params.minPeriod,(b=f[c])==null?void 0:b.params.maxPeriod,(T=f[c])==null?void 0:T.params.stepPeriod)},[i,a,c,f,m,h,o,u,d,p]}class Periodogram extends SvelteComponent{constructor(t){super(),init(this,t,instance$3,create_fragment$3,safe_not_equal,{})}}const Periodogram$1=Object.freeze(Object.defineProperty({__proto__:null,default:Periodogram},Symbol.toStringTag,{value:"Module"})),defaultParams$1={width:600,height:200,minPeriod:4,maxPeriod:30,stepPeriod:.25,binSizeHrs:.25},defaultchartvalues$1={time:"any",values:"any"},defaultother$1={col:{hex:"#78322e",alpha:.5}};class Periodogram_defaults extends SvelteComponent{constructor(t){super(),init(this,t,null,null,safe_not_equal,{})}}const Periodogram_defaults$1=Object.freeze(Object.defineProperty({__proto__:null,default:Periodogram_defaults,defaultParams:defaultParams$1,defaultchartvalues:defaultchartvalues$1,defaultother:defaultother$1},Symbol.toStringTag,{value:"Module"}));function get_each_context$2(e,t,r){const a=e.slice();return a[24]=t[r],a[25]=t,a[26]=r,a}function get_each_context_1$2(e,t,r){const a=e.slice();return a[27]=t[r],a[28]=t,a[29]=r,a}function get_each_context_2$1(e,t,r){const a=e.slice();return a[30]=t[r],a[32]=r,a}function get_each_context_3$1(e,t,r){const a=e.slice();return a[33]=t[r],a}function create_if_block$2(e){let t,r,a,i,o,u,c,f,d,p,m,h,_,v,y,$,g,D,O,b,T,w,k,C,S,F,E,U=e[2][e[0]].name+"",R,A,M,V,H,P,G,I,z;function N(Q){e[6](Q)}let B={min:10,max:e[1][e[0]].params.maxPeriod,limits:[1,1/0],label:"Min period:"};e[1][e[0]].params.minPeriod!==void 0&&(B.value=e[1][e[0]].params.minPeriod),a=new Slider({props:B}),binding_callbacks.push(()=>bind(a,"value",N));function ie(Q){e[7](Q)}let L={min:e[1][e[0]].params.minPeriod,max:30,limits:[1,1/0],label:"Max period:"};e[1][e[0]].params.maxPeriod!==void 0&&(L.value=e[1][e[0]].params.maxPeriod),c=new Slider({props:L}),binding_callbacks.push(()=>bind(c,"value",ie));function X(Q){e[8](Q)}let Z={min:.1,max:1,step:.01,limits:[.1,1],label:"Period step:"};e[1][e[0]].params.stepPeriod!==void 0&&(Z.value=e[1][e[0]].params.stepPeriod),m=new Slider({props:Z}),binding_callbacks.push(()=>bind(m,"value",X));function j(Q){e[9](Q)}let x={min:.05,max:1,step:"0.05",limits:[.05,e[1][e[0]].params.maxPeriod],label:"Bin size (hrs):"};e[1][e[0]].params.binSizeHrs!==void 0&&(x.value=e[1][e[0]].params.binSizeHrs),y=new Slider({props:x}),binding_callbacks.push(()=>bind(y,"value",j));function J(Q){e[10](Q)}let ne={min:100,max:1e3,step:"1",limits:[5,1/0],label:"Width: "};e[1][e[0]].params.width!==void 0&&(ne.value=e[1][e[0]].params.width),O=new Slider({props:ne}),binding_callbacks.push(()=>bind(O,"value",J));function ve(Q){e[11](Q)}let me={min:10,max:30,step:"1",limits:[5,1/0],label:"Height:"};e[1][e[0]].params.height!==void 0&&(me.value=e[1][e[0]].params.height),k=new Slider({props:me}),binding_callbacks.push(()=>bind(k,"value",ve));let ke=ensure_array_like(e[1][e[0]].sourceData),se=[];for(let Q=0;Q<ke.length;Q+=1)se[Q]=create_each_block$2(get_each_context$2(e,ke,Q));const De=Q=>transition_out(se[Q],1,1,()=>{se[Q]=null});return{c(){t=element("div"),r=element("div"),create_component(a.$$.fragment),o=space(),u=element("div"),create_component(c.$$.fragment),d=space(),p=element("div"),create_component(m.$$.fragment),_=space(),v=element("div"),create_component(y.$$.fragment),g=space(),D=element("div"),create_component(O.$$.fragment),T=space(),w=element("div"),create_component(k.$$.fragment),S=space(),F=element("div"),E=element("h1"),R=text(U),A=text(" Data"),M=space(),V=element("span"),V.textContent="",H=space(),P=element("div");for(let Q=0;Q<se.length;Q+=1)se[Q].c();attr(r,"class","sliderContainer"),attr(u,"class","sliderContainer"),attr(p,"class","sliderContainer"),attr(v,"class","sliderContainer"),attr(D,"class","sliderContainer"),attr(w,"class","sliderContainer"),attr(t,"class","chartControls"),set_style(E,"display","inline"),attr(V,"class","addbutton hoverbutton showContextMenu"),set_style(F,"margin","1em 1em 0 0"),attr(P,"class","graphDataTree")},m(Q,de){insert(Q,t,de),append(t,r),mount_component(a,r,null),append(t,o),append(t,u),mount_component(c,u,null),append(t,d),append(t,p),mount_component(m,p,null),append(t,_),append(t,v),mount_component(y,v,null),append(t,g),append(t,D),mount_component(O,D,null),append(t,T),append(t,w),mount_component(k,w,null),insert(Q,S,de),insert(Q,F,de),append(F,E),append(E,R),append(E,A),append(F,M),append(F,V),insert(Q,H,de),insert(Q,P,de);for(let ge=0;ge<se.length;ge+=1)se[ge]&&se[ge].m(P,null);G=!0,I||(z=[listen(V,"click",e[12]),action_destroyer(e[4].call(null,V,{content:"Add data to graph",theme:"Ancir"}))],I=!0)},p(Q,de){const ge={};de[0]&3&&(ge.max=Q[1][Q[0]].params.maxPeriod),!i&&de[0]&3&&(i=!0,ge.value=Q[1][Q[0]].params.minPeriod,add_flush_callback(()=>i=!1)),a.$set(ge);const te={};de[0]&3&&(te.min=Q[1][Q[0]].params.minPeriod),!f&&de[0]&3&&(f=!0,te.value=Q[1][Q[0]].params.maxPeriod,add_flush_callback(()=>f=!1)),c.$set(te);const ee={};!h&&de[0]&3&&(h=!0,ee.value=Q[1][Q[0]].params.stepPeriod,add_flush_callback(()=>h=!1)),m.$set(ee);const _e={};de[0]&3&&(_e.limits=[.05,Q[1][Q[0]].params.maxPeriod]),!$&&de[0]&3&&($=!0,_e.value=Q[1][Q[0]].params.binSizeHrs,add_flush_callback(()=>$=!1)),y.$set(_e);const be={};!b&&de[0]&3&&(b=!0,be.value=Q[1][Q[0]].params.width,add_flush_callback(()=>b=!1)),O.$set(be);const ye={};if(!C&&de[0]&3&&(C=!0,ye.value=Q[1][Q[0]].params.height,add_flush_callback(()=>C=!1)),k.$set(ye),(!G||de[0]&5)&&U!==(U=Q[2][Q[0]].name+"")&&set_data(R,U),de[0]&43){ke=ensure_array_like(Q[1][Q[0]].sourceData);let ce;for(ce=0;ce<ke.length;ce+=1){const $e=get_each_context$2(Q,ke,ce);se[ce]?(se[ce].p($e,de),transition_in(se[ce],1)):(se[ce]=create_each_block$2($e),se[ce].c(),transition_in(se[ce],1),se[ce].m(P,null))}for(group_outros(),ce=ke.length;ce<se.length;ce+=1)De(ce);check_outros()}},i(Q){if(!G){transition_in(a.$$.fragment,Q),transition_in(c.$$.fragment,Q),transition_in(m.$$.fragment,Q),transition_in(y.$$.fragment,Q),transition_in(O.$$.fragment,Q),transition_in(k.$$.fragment,Q);for(let de=0;de<ke.length;de+=1)transition_in(se[de]);G=!0}},o(Q){transition_out(a.$$.fragment,Q),transition_out(c.$$.fragment,Q),transition_out(m.$$.fragment,Q),transition_out(y.$$.fragment,Q),transition_out(O.$$.fragment,Q),transition_out(k.$$.fragment,Q),se=se.filter(Boolean);for(let de=0;de<se.length;de+=1)transition_out(se[de]);G=!1},d(Q){Q&&(detach(t),detach(S),detach(F),detach(H),detach(P)),destroy_component(a),destroy_component(c),destroy_component(m),destroy_component(y),destroy_component(O),destroy_component(k),destroy_each(se,Q),I=!1,run_all(z)}}}function create_each_block_3$1(e){let t,r=e[3][e[3].findIndex(o)].data[e[33]].name+"",a,i;function o(...u){return e[17](e[24],...u)}return{c(){t=element("option"),a=text(r),t.__value=i=e[33],set_input_value(t,t.__value)},m(u,c){insert(u,t,c),append(t,a)},p(u,c){e=u,c[0]&11&&r!==(r=e[3][e[3].findIndex(o)].data[e[33]].name+"")&&set_data(a,r),c[0]&3&&i!==(i=e[33])&&(t.__value=i,set_input_value(t,t.__value))},d(u){u&&detach(t)}}}function create_each_block_2$1(e){let t,r,a=e[30].process+"",i,o,u,c,f,d,p,m,h;function _(...g){return e[19](e[26],e[27],e[32],...g)}function v(...g){return e[20](e[26],e[27],e[32],...g)}var y=componentMap[e[30].process].component;function $(g,D){return{props:{paramsStart:g[30].parameters,typeTime:{type:getFieldTypeFromGraph(g[1][g[0]].id,g[26],g[27])},dataIN:getRawData(g[26],g[1][g[0]].sourceData[g[26]].chartvalues[g[27]])}}}return y&&(d=construct_svelte_component(y,$(e)),d.$on("update",v)),{c(){t=element("details"),r=element("summary"),i=text(a),o=space(),u=element("div"),u.textContent="",c=space(),f=element("div"),d&&create_component(d.$$.fragment),attr(u,"class","deleteProcess hoverbutton"),attr(f,"class","processDetails"),t.open=!0,attr(t,"class","process")},m(g,D){insert(g,t,D),append(t,r),append(r,i),append(r,o),append(r,u),append(t,c),append(t,f),d&&mount_component(d,f,null),p=!0,m||(h=listen(u,"click",_),m=!0)},p(g,D){if(e=g,(!p||D[0]&3)&&a!==(a=e[30].process+"")&&set_data(i,a),D[0]&3&&y!==(y=componentMap[e[30].process].component)){if(d){group_outros();const O=d;transition_out(O.$$.fragment,1,0,()=>{destroy_component(O,1)}),check_outros()}y?(d=construct_svelte_component(y,$(e)),d.$on("update",v),create_component(d.$$.fragment),transition_in(d.$$.fragment,1),mount_component(d,f,null)):d=null}else if(y){const O={};D[0]&3&&(O.paramsStart=e[30].parameters),D[0]&3&&(O.typeTime={type:getFieldTypeFromGraph(e[1][e[0]].id,e[26],e[27])}),D[0]&3&&(O.dataIN=getRawData(e[26],e[1][e[0]].sourceData[e[26]].chartvalues[e[27]])),d.$set(O)}},i(g){p||(d&&transition_in(d.$$.fragment,g),p=!0)},o(g){d&&transition_out(d.$$.fragment,g),p=!1},d(g){g&&detach(t),d&&destroy_component(d),m=!1,h()}}}function create_each_block_1$2(e){let t,r,a=e[27]+"",i,o,u,c,f,d,p,m,h,_,v,y;function $(...k){return e[16](e[26],e[27],...k)}let g=ensure_array_like(getFieldNames(e[24])),D=[];for(let k=0;k<g.length;k+=1)D[k]=create_each_block_3$1(get_each_context_3$1(e,g,k));function O(){e[18].call(p,e[27],e[25],e[26])}let b=ensure_array_like(e[24].chartvalues[e[27]].processSteps),T=[];for(let k=0;k<b.length;k+=1)T[k]=create_each_block_2$1(get_each_context_2$1(e,b,k));const w=k=>transition_out(T[k],1,1,()=>{T[k]=null});return{c(){t=element("details"),r=element("summary"),i=text(a),o=text(`:
              
              

              `),u=element("span"),c=element("div"),c.textContent="",d=space(),p=element("select");for(let k=0;k<D.length;k+=1)D[k].c();m=space();for(let k=0;k<T.length;k+=1)T[k].c();h=space(),attr(c,"class","deleteTable hoverbutton showContextMenu"),attr(p,"class","selectField"),e[24].chartvalues[e[27]].field===void 0&&add_render_callback(O),attr(t,"closed",""),attr(t,"class","field")},m(k,C){insert(k,t,C),append(t,r),append(r,i),append(r,o),append(r,u),append(u,c),append(u,d),append(u,p);for(let S=0;S<D.length;S+=1)D[S]&&D[S].m(p,null);select_option(p,e[24].chartvalues[e[27]].field,!0),append(t,m);for(let S=0;S<T.length;S+=1)T[S]&&T[S].m(t,null);append(t,h),_=!0,v||(y=[listen(c,"click",$),action_destroyer(f=e[4].call(null,c,{content:"Add process to "+e[27],theme:"Ancir"})),listen(p,"change",O)],v=!0)},p(k,C){if(e=k,(!_||C[0]&3)&&a!==(a=e[27]+"")&&set_data(i,a),f&&is_function(f.update)&&C[0]&3&&f.update.call(null,{content:"Add process to "+e[27],theme:"Ancir"}),C[0]&11){g=ensure_array_like(getFieldNames(e[24]));let S;for(S=0;S<g.length;S+=1){const F=get_each_context_3$1(e,g,S);D[S]?D[S].p(F,C):(D[S]=create_each_block_3$1(F),D[S].c(),D[S].m(p,null))}for(;S<D.length;S+=1)D[S].d(1);D.length=g.length}if(C[0]&3&&select_option(p,e[24].chartvalues[e[27]].field),C[0]&3){b=ensure_array_like(e[24].chartvalues[e[27]].processSteps);let S;for(S=0;S<b.length;S+=1){const F=get_each_context_2$1(e,b,S);T[S]?(T[S].p(F,C),transition_in(T[S],1)):(T[S]=create_each_block_2$1(F),T[S].c(),transition_in(T[S],1),T[S].m(t,h))}for(group_outros(),S=b.length;S<T.length;S+=1)w(S);check_outros()}},i(k){if(!_){for(let C=0;C<b.length;C+=1)transition_in(T[C]);_=!0}},o(k){T=T.filter(Boolean);for(let C=0;C<T.length;C+=1)transition_out(T[C]);_=!1},d(k){k&&detach(t),destroy_each(D,k),destroy_each(T,k),v=!1,run_all(y)}}}function create_each_block$2(e){let t,r,a,i,o,u,c,f,d,p=e[3].find(E).displayName+"",m,h,_,v,y,$,g,D,O,b,T,w,k;function C(P){e[13](P,e[24])}let S={};e[24].name!==void 0&&(S.value=e[24].name),a=new InPlaceEdit({props:S}),binding_callbacks.push(()=>bind(a,"value",C));function F(...P){return e[14](e[26],...P)}function E(...P){return e[15](e[24],...P)}let U=ensure_array_like(Object.keys(e[24].chartvalues)),R=[];for(let P=0;P<U.length;P+=1)R[P]=create_each_block_1$2(get_each_context_1$2(e,U,P));const A=P=>transition_out(R[P],1,1,()=>{R[P]=null});function M(){e[21].call(y,e[26])}function V(P){e[22](P,e[26])}let H={min:"0",max:"1",step:"0.01",limits:[0,1],label:"Alpha: "};return e[1][e[0]].sourceData[e[26]].col.alpha!==void 0&&(H.value=e[1][e[0]].sourceData[e[26]].col.alpha),D=new Slider({props:H}),binding_callbacks.push(()=>bind(D,"value",V)),{c(){t=element("details"),r=element("summary"),create_component(a.$$.fragment),o=space(),u=element("div"),u.textContent="",c=space(),f=element("div"),d=text("Table: "),m=text(p),h=space();for(let P=0;P<R.length;P+=1)R[P].c();_=space(),v=element("div"),y=element("input"),$=space(),g=element("div"),create_component(D.$$.fragment),b=space(),attr(u,"class","deleteTable hoverbutton"),attr(f,"class","tableLabel"),attr(y,"class","colourPicker"),attr(y,"id",e[26]),attr(y,"type","color"),set_style(y,"background",e[1][e[0]].sourceData[e[26]].col.hex),attr(g,"class","sliderContainer"),attr(v,"class","colour"),t.open=!0,attr(t,"class","dataTable")},m(P,G){insert(P,t,G),append(t,r),mount_component(a,r,null),append(r,o),append(r,u),append(t,c),append(t,f),append(f,d),append(f,m),append(t,h);for(let I=0;I<R.length;I+=1)R[I]&&R[I].m(t,null);append(t,_),append(t,v),append(v,y),set_input_value(y,e[1][e[0]].sourceData[e[26]].col.hex),append(v,$),append(v,g),mount_component(D,g,null),insert(P,b,G),T=!0,w||(k=[listen(u,"click",F),action_destroyer(e[4].call(null,u,{content:"Remove data from graph",theme:"Ancir"})),listen(y,"input",M)],w=!0)},p(P,G){e=P;const I={};if(!i&&G[0]&3&&(i=!0,I.value=e[24].name,add_flush_callback(()=>i=!1)),a.$set(I),(!T||G[0]&11)&&p!==(p=e[3].find(E).displayName+"")&&set_data(m,p),G[0]&43){U=ensure_array_like(Object.keys(e[24].chartvalues));let N;for(N=0;N<U.length;N+=1){const B=get_each_context_1$2(e,U,N);R[N]?(R[N].p(B,G),transition_in(R[N],1)):(R[N]=create_each_block_1$2(B),R[N].c(),transition_in(R[N],1),R[N].m(t,_))}for(group_outros(),N=U.length;N<R.length;N+=1)A(N);check_outros()}(!T||G[0]&3)&&set_style(y,"background",e[1][e[0]].sourceData[e[26]].col.hex),G[0]&3&&set_input_value(y,e[1][e[0]].sourceData[e[26]].col.hex);const z={};!O&&G[0]&3&&(O=!0,z.value=e[1][e[0]].sourceData[e[26]].col.alpha,add_flush_callback(()=>O=!1)),D.$set(z)},i(P){if(!T){transition_in(a.$$.fragment,P);for(let G=0;G<U.length;G+=1)transition_in(R[G]);transition_in(D.$$.fragment,P),T=!0}},o(P){transition_out(a.$$.fragment,P),R=R.filter(Boolean);for(let G=0;G<R.length;G+=1)transition_out(R[G]);transition_out(D.$$.fragment,P),T=!1},d(P){P&&(detach(t),detach(b)),destroy_component(a),destroy_each(R,P),destroy_component(D),w=!1,run_all(k)}}}function create_fragment$2(e){let t,r,a=e[0]>=0&&e[1][e[0]].graph==="Periodogram"&&create_if_block$2(e);return{c(){a&&a.c(),t=empty$1()},m(i,o){a&&a.m(i,o),insert(i,t,o),r=!0},p(i,o){i[0]>=0&&i[1][i[0]].graph==="Periodogram"?a?(a.p(i,o),o[0]&3&&transition_in(a,1)):(a=create_if_block$2(i),a.c(),transition_in(a,1),a.m(t.parentNode,t)):a&&(group_outros(),transition_out(a,1,1,()=>{a=null}),check_outros())},i(i){r||(transition_in(a),r=!0)},o(i){transition_out(a),r=!1},d(i){i&&detach(t),a&&a.d(i)}}}function instance$2(e,t,r){let a,i,o,u,c;component_subscribe(e,contextMenu,E=>r(23,a=E)),component_subscribe(e,activeGraphTab,E=>r(0,i=E)),component_subscribe(e,graphs,E=>r(1,o=E)),component_subscribe(e,graphTabs,E=>r(2,u=E)),component_subscribe(e,data,E=>r(3,c=E));function f(E,U){let R=tippy(E,U);return{update:A=>{R.setProps(A)},destroy:()=>{R.destroy()}}}function d(E,U,R){const A=getFieldTypeFromGraph(E,U,R),M=Object.keys(componentMap);for(let V=0;V<M.length;V++)componentMap[M[V]].forTypes.includes(A)&&(set_store_value(contextMenu,a.labels[V]=M[V],a),set_store_value(contextMenu,a.funcs[V]=()=>addProcessToGraph(M[V],E,U,R),a))}function p(E){e.$$.not_equal(o[i].params.minPeriod,E)&&(o[i].params.minPeriod=E,graphs.set(o))}function m(E){e.$$.not_equal(o[i].params.maxPeriod,E)&&(o[i].params.maxPeriod=E,graphs.set(o))}function h(E){e.$$.not_equal(o[i].params.stepPeriod,E)&&(o[i].params.stepPeriod=E,graphs.set(o))}function _(E){e.$$.not_equal(o[i].params.binSizeHrs,E)&&(o[i].params.binSizeHrs=E,graphs.set(o))}function v(E){e.$$.not_equal(o[i].params.width,E)&&(o[i].params.width=E,graphs.set(o))}function y(E){e.$$.not_equal(o[i].params.height,E)&&(o[i].params.height=E,graphs.set(o))}const $=E=>{E.preventDefault(),createnewDataForGraph(defaultchartvalues$1,defaultother$1)};function g(E,U){e.$$.not_equal(U.name,E)&&(U.name=E,graphs.set(o))}const D=(E,U)=>{U.preventDefault(),removeGraphData(E)},O=(E,U)=>U.id===E.tableID,b=(E,U,R)=>{R.preventDefault(),d(o[i].id,E,U)},T=(E,U)=>U.id===E.tableID;function w(E,U,R){U[R].chartvalues[E].field=select_value(this),graphs.set(o)}const k=(E,U,R,A)=>{A.preventDefault(),removeGraphProcess(o[i].id,E,U,R)},C=(E,U,R,A)=>updateGraphProcess(o[i].id,E,U,R,A.detail.params);function S(E){o[i].sourceData[E].col.hex=this.value,graphs.set(o)}function F(E,U){e.$$.not_equal(o[i].sourceData[U].col.alpha,E)&&(o[i].sourceData[U].col.alpha=E,graphs.set(o))}return[i,o,u,c,f,d,p,m,h,_,v,y,$,g,D,O,b,T,w,k,C,S,F]}class Periodogram_controls extends SvelteComponent{constructor(t){super(),init(this,t,instance$2,create_fragment$2,safe_not_equal,{},null,[-1,-1])}}const Periodogram_controls$1=Object.freeze(Object.defineProperty({__proto__:null,default:Periodogram_controls},Symbol.toStringTag,{value:"Module"}));function get_each_context$1(e,t,r){const a=e.slice();return a[13]=t[r],a[15]=r,a}function get_each_context_1$1(e,t,r){const a=e.slice();return a[16]=t[r],a[18]=r,a}function create_if_block$1(e){let t,r,a,i,o,u,c,f=e[7][e[6]].params.yAxisLabel+"",d,p,m,h=e[7][e[6]].params.xAxisLabel+"",_,v,y,$,g,D=ensure_array_like(e[1]),O=[];for(let b=0;b<D.length;b+=1)O[b]=create_each_block$1(get_each_context$1(e,D,b));return o=new Axis({props:{innerHeight:e[2],scale:e[8],position:"bottom"}}),u=new Axis({props:{innerHeight:e[2],scale:e[9],position:"left"}}),{c(){t=element("div"),r=svg_element("svg"),a=svg_element("g");for(let b=0;b<O.length;b+=1)O[b].c();i=empty$1(),create_component(o.$$.fragment),create_component(u.$$.fragment),c=svg_element("text"),d=text(f),m=svg_element("text"),_=text(h),set_style(c,"text-anchor","middle"),attr(c,"transform",p=`translate(-30,${e[2]/2}) rotate(-90)     `),set_style(m,"text-anchor","middle"),attr(m,"x",v=e[3]/2),attr(m,"y",y=e[2]+32),attr(a,"transform",`translate(${e[11].left},${e[11].right})`),attr(r,"id","svgContainer"),attr(r,"width",e[4]),attr(r,"height",e[5]),attr(r,"style",$="transform-origin: top left; transform:scale("+e[7][e[6]].zoom+");"),attr(t,"class","rawGraph")},m(b,T){insert(b,t,T),append(t,r),append(r,a);for(let w=0;w<O.length;w+=1)O[w]&&O[w].m(a,null);append(a,i),mount_component(o,a,null),mount_component(u,a,null),append(a,c),append(c,d),append(a,m),append(m,_),g=!0},p(b,T){if(T&963){D=ensure_array_like(b[1]);let C;for(C=0;C<D.length;C+=1){const S=get_each_context$1(b,D,C);O[C]?O[C].p(S,T):(O[C]=create_each_block$1(S),O[C].c(),O[C].m(a,i))}for(;C<O.length;C+=1)O[C].d(1);O.length=D.length}const w={};T&4&&(w.innerHeight=b[2]),T&256&&(w.scale=b[8]),o.$set(w);const k={};T&4&&(k.innerHeight=b[2]),T&512&&(k.scale=b[9]),u.$set(k),(!g||T&192)&&f!==(f=b[7][b[6]].params.yAxisLabel+"")&&set_data(d,f),(!g||T&4&&p!==(p=`translate(-30,${b[2]/2}) rotate(-90)     `))&&attr(c,"transform",p),(!g||T&192)&&h!==(h=b[7][b[6]].params.xAxisLabel+"")&&set_data(_,h),(!g||T&8&&v!==(v=b[3]/2))&&attr(m,"x",v),(!g||T&4&&y!==(y=b[2]+32))&&attr(m,"y",y),(!g||T&16)&&attr(r,"width",b[4]),(!g||T&32)&&attr(r,"height",b[5]),(!g||T&192&&$!==($="transform-origin: top left; transform:scale("+b[7][b[6]].zoom+");"))&&attr(r,"style",$)},i(b){g||(transition_in(o.$$.fragment,b),transition_in(u.$$.fragment,b),g=!0)},o(b){transition_out(o.$$.fragment,b),transition_out(u.$$.fragment,b),g=!1},d(b){b&&detach(t),destroy_each(O,b),destroy_component(o),destroy_component(u)}}}function create_if_block_1(e){let t,r,a,i,o,u,c,f,d,p,m,h;return{c(){t=svg_element("circle"),attr(t,"cx",r=e[8](e[0][e[15]][e[18]])),attr(t,"cy",a=e[9](e[16])),attr(t,"r",i=e[7][e[6]].sourceData[e[15]].size),attr(t,"stroke",o=e[7][e[6]].sourceData[e[15]].strokeCol.hex),attr(t,"stroke-opacity",u=e[7][e[6]].sourceData[e[15]].strokeCol.alpha),attr(t,"stroke-width",c=e[7][e[6]].sourceData[e[15]].strokeWidth),attr(t,"fill",f=e[7][e[6]].sourceData[e[15]].col.hex),attr(t,"fill-opacity",d=e[7][e[6]].sourceData[e[15]].col.alpha)},m(_,v){insert(_,t,v),m||(h=action_destroyer(p=e[10].call(null,t,{content:e[0][e[15]][e[18]]+", "+e[16],theme:"Ancir"})),m=!0)},p(_,v){e=_,v&257&&r!==(r=e[8](e[0][e[15]][e[18]]))&&attr(t,"cx",r),v&514&&a!==(a=e[9](e[16]))&&attr(t,"cy",a),v&192&&i!==(i=e[7][e[6]].sourceData[e[15]].size)&&attr(t,"r",i),v&192&&o!==(o=e[7][e[6]].sourceData[e[15]].strokeCol.hex)&&attr(t,"stroke",o),v&192&&u!==(u=e[7][e[6]].sourceData[e[15]].strokeCol.alpha)&&attr(t,"stroke-opacity",u),v&192&&c!==(c=e[7][e[6]].sourceData[e[15]].strokeWidth)&&attr(t,"stroke-width",c),v&192&&f!==(f=e[7][e[6]].sourceData[e[15]].col.hex)&&attr(t,"fill",f),v&192&&d!==(d=e[7][e[6]].sourceData[e[15]].col.alpha)&&attr(t,"fill-opacity",d),p&&is_function(p.update)&&v&3&&p.update.call(null,{content:e[0][e[15]][e[18]]+", "+e[16],theme:"Ancir"})},d(_){_&&detach(t),m=!1,h()}}}function create_each_block_1$1(e){let t=e[16]!==null&&!isNaN(e[16])&&e[0][e[15]][e[18]]!==null&&!isNaN(e[0][e[15]][e[18]]),r,a=t&&create_if_block_1(e);return{c(){a&&a.c(),r=empty$1()},m(i,o){a&&a.m(i,o),insert(i,r,o)},p(i,o){o&3&&(t=i[16]!==null&&!isNaN(i[16])&&i[0][i[15]][i[18]]!==null&&!isNaN(i[0][i[15]][i[18]])),t?a?a.p(i,o):(a=create_if_block_1(i),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},d(i){i&&detach(r),a&&a.d(i)}}}function create_each_block$1(e){let t,r=ensure_array_like(e[13]),a=[];for(let i=0;i<r.length;i+=1)a[i]=create_each_block_1$1(get_each_context_1$1(e,r,i));return{c(){for(let i=0;i<a.length;i+=1)a[i].c();t=empty$1()},m(i,o){for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(i,o);insert(i,t,o)},p(i,o){if(o&963){r=ensure_array_like(i[13]);let u;for(u=0;u<r.length;u+=1){const c=get_each_context_1$1(i,r,u);a[u]?a[u].p(c,o):(a[u]=create_each_block_1$1(c),a[u].c(),a[u].m(t.parentNode,t))}for(;u<a.length;u+=1)a[u].d(1);a.length=r.length}},d(i){i&&detach(t),destroy_each(a,i)}}}function create_fragment$1(e){var i,o;let t,r,a=((i=e[7][e[6]])==null?void 0:i.graph)==="Raw"&&((o=e[7][e[6]])==null?void 0:o.sourceData.length)>0&&create_if_block$1(e);return{c(){a&&a.c(),t=empty$1()},m(u,c){a&&a.m(u,c),insert(u,t,c),r=!0},p(u,[c]){var f,d;((f=u[7][u[6]])==null?void 0:f.graph)==="Raw"&&((d=u[7][u[6]])==null?void 0:d.sourceData.length)>0?a?(a.p(u,c),c&192&&transition_in(a,1)):(a=create_if_block$1(u),a.c(),transition_in(a,1),a.m(t.parentNode,t)):a&&(group_outros(),transition_out(a,1,1,()=>{a=null}),check_outros())},i(u){r||(transition_in(a),r=!0)},o(u){transition_out(a),r=!1},d(u){u&&detach(t),a&&a.d(u)}}}function instance$1(e,t,r){let a,i,o,u,c,f,d;component_subscribe(e,activeGraphTab,$=>r(6,c=$)),component_subscribe(e,graphs,$=>r(7,f=$)),component_subscribe(e,data,$=>r(12,d=$));function p($,g){let D=tippy($,g);return{update:O=>{D.setProps(O)},destroy:()=>{D.destroy()}}}const m={top:20,bottom:60,left:60,right:20};let h=[],_=[],v,y;return e.$$.update=()=>{var $,g,D;if(e.$$.dirty&192&&r(4,a=($=f[c])==null?void 0:$.params.width),e.$$.dirty&192&&r(5,i=(g=f[c])==null?void 0:g.params.height),e.$$.dirty&32&&r(2,o=i-m.top-m.bottom),e.$$.dirty&16&&r(3,u=a-m.left-m.right),e.$$.dirty&4303){r(0,h=[]),r(1,_=[]);let O,b;((D=f[c])==null?void 0:D.graph)==="Raw"&&(f[c].sourceData.forEach((T,w)=>{d.findIndex(k=>k.id===T.tableID),T.chartvalues.x.field!=""&&(O=getDataFromSource(w,T.chartvalues.x)),T.chartvalues.y.field!=""&&(b=getDataFromSource(w,T.chartvalues.y)),h.push(O),_.push(b)}),r(8,v=linear().domain([f[c].params.xDomainMin,f[c].params.xDomainMax]).range([0,u])),r(9,y=linear().domain([f[c].params.yDomainMin,f[c].params.yDomainMax]).range([o,0])))}},[h,_,o,u,a,i,c,f,v,y,p,m,d]}class Raw extends SvelteComponent{constructor(t){super(),init(this,t,instance$1,create_fragment$1,safe_not_equal,{})}}const Raw$1=Object.freeze(Object.defineProperty({__proto__:null,default:Raw},Symbol.toStringTag,{value:"Module"})),defaultParams={width:600,height:200,yDomainMin:0,yDomainMax:200,xDomainMin:0,xDomainMax:680,yAxisLabel:"y-axis",xAxisLabel:"x-axis title here"},defaultchartvalues={x:"any",y:"any"},defaultother={col:{hex:"#78322e",alpha:.5},size:2,strokeWidth:1,strokeCol:{hex:"#000000",alpha:.9}};class Raw_defaults extends SvelteComponent{constructor(t){super(),init(this,t,null,null,safe_not_equal,{})}}const Raw_defaults$1=Object.freeze(Object.defineProperty({__proto__:null,default:Raw_defaults,defaultParams,defaultchartvalues,defaultother},Symbol.toStringTag,{value:"Module"}));function get_each_context(e,t,r){const a=e.slice();return a[30]=t[r],a[31]=t,a[32]=r,a}function get_each_context_1(e,t,r){const a=e.slice();return a[33]=t[r],a[34]=t,a[35]=r,a}function get_each_context_2(e,t,r){const a=e.slice();return a[36]=t[r],a[38]=r,a}function get_each_context_3(e,t,r){const a=e.slice();return a[39]=t[r],a}function create_if_block(e){let t,r,a,i,o,u,c,f,d,p,m,h,_,v,y,$,g,D,O,b,T,w,k,C,S,F,E,U,R,A,M,V,H,P,G,I,z,N=e[2][e[0]].name+"",B,ie,L,X,Z,j,x,J,ne;function ve(Y){e[6](Y)}let me={min:100,max:1e3,limits:[5,1/0],label:"Width:"};e[1][e[0]].params.width!==void 0&&(me.value=e[1][e[0]].params.width),a=new Slider({props:me}),binding_callbacks.push(()=>bind(a,"value",ve));function ke(Y){e[7](Y)}let se={min:10,max:3e3,limits:[5,1/0],label:"Height: "};e[1][e[0]].params.height!==void 0&&(se.value=e[1][e[0]].params.height),c=new Slider({props:se}),binding_callbacks.push(()=>bind(c,"value",ke));function De(Y){e[9](Y)}let Q={min:-10,max:30,label:"Min X:"};e[1][e[0]].params.xDomainMin!==void 0&&(Q.value=e[1][e[0]].params.xDomainMin),$=new Slider({props:Q}),binding_callbacks.push(()=>bind($,"value",De));function de(Y){e[10](Y)}let ge={min:-10,max:30,label:"Max X:"};e[1][e[0]].params.xDomainMax!==void 0&&(ge.value=e[1][e[0]].params.xDomainMax),b=new Slider({props:ge}),binding_callbacks.push(()=>bind(b,"value",de));function te(Y){e[12](Y)}let ee={min:-10,max:30,label:"Min Y:"};e[1][e[0]].params.yDomainMin!==void 0&&(ee.value=e[1][e[0]].params.yDomainMin),R=new Slider({props:ee}),binding_callbacks.push(()=>bind(R,"value",te));function _e(Y){e[13](Y)}let be={min:-10,max:30,label:"Max Y:"};e[1][e[0]].params.yDomainMax!==void 0&&(be.value=e[1][e[0]].params.yDomainMax),H=new Slider({props:be}),binding_callbacks.push(()=>bind(H,"value",_e));let ye=ensure_array_like(e[1][e[0]].sourceData),ce=[];for(let Y=0;Y<ye.length;Y+=1)ce[Y]=create_each_block(get_each_context(e,ye,Y));const $e=Y=>transition_out(ce[Y],1,1,()=>{ce[Y]=null});return{c(){t=element("div"),r=element("div"),create_component(a.$$.fragment),o=space(),u=element("div"),create_component(c.$$.fragment),d=space(),p=element("div"),m=element("label"),m.textContent="X-axis:",h=space(),_=element("input"),v=space(),y=element("div"),create_component($.$$.fragment),D=space(),O=element("div"),create_component(b.$$.fragment),w=space(),k=element("div"),C=element("label"),C.textContent="Y-axis:",S=space(),F=element("input"),E=space(),U=element("div"),create_component(R.$$.fragment),M=space(),V=element("div"),create_component(H.$$.fragment),G=space(),I=element("div"),z=element("h1"),B=text(N),ie=text(" Data"),L=space(),X=element("span"),X.textContent="",Z=space(),j=element("div");for(let Y=0;Y<ce.length;Y+=1)ce[Y].c();attr(r,"class","sliderContainer"),attr(u,"class","sliderContainer"),attr(m,"for","val"),attr(_,"type","text"),attr(_,"id","min"),attr(p,"class","sliderContainer"),attr(y,"class","sliderContainer"),attr(O,"class","sliderContainer"),attr(C,"for","val"),attr(F,"type","text"),attr(F,"id","min"),attr(k,"class","sliderContainer"),attr(U,"class","sliderContainer"),attr(V,"class","sliderContainer"),attr(t,"class","chartControls"),set_style(z,"display","inline"),attr(X,"class","addbutton hoverbutton showContextMenu"),set_style(I,"margin","1em 1em 0 0"),attr(j,"class","graphDataTree")},m(Y,W){insert(Y,t,W),append(t,r),mount_component(a,r,null),append(t,o),append(t,u),mount_component(c,u,null),append(t,d),append(t,p),append(p,m),append(p,h),append(p,_),set_input_value(_,e[1][e[0]].params.xAxisLabel),append(t,v),append(t,y),mount_component($,y,null),append(t,D),append(t,O),mount_component(b,O,null),append(t,w),append(t,k),append(k,C),append(k,S),append(k,F),set_input_value(F,e[1][e[0]].params.yAxisLabel),append(t,E),append(t,U),mount_component(R,U,null),append(t,M),append(t,V),mount_component(H,V,null),insert(Y,G,W),insert(Y,I,W),append(I,z),append(z,B),append(z,ie),append(I,L),append(I,X),insert(Y,Z,W),insert(Y,j,W);for(let fe=0;fe<ce.length;fe+=1)ce[fe]&&ce[fe].m(j,null);x=!0,J||(ne=[listen(_,"input",e[8]),listen(F,"input",e[11]),listen(X,"click",e[14]),action_destroyer(e[4].call(null,X,{content:"Add data to graph",theme:"Ancir"}))],J=!0)},p(Y,W){const fe={};!i&&W[0]&3&&(i=!0,fe.value=Y[1][Y[0]].params.width,add_flush_callback(()=>i=!1)),a.$set(fe);const he={};!f&&W[0]&3&&(f=!0,he.value=Y[1][Y[0]].params.height,add_flush_callback(()=>f=!1)),c.$set(he),W[0]&3&&_.value!==Y[1][Y[0]].params.xAxisLabel&&set_input_value(_,Y[1][Y[0]].params.xAxisLabel);const oe={};!g&&W[0]&3&&(g=!0,oe.value=Y[1][Y[0]].params.xDomainMin,add_flush_callback(()=>g=!1)),$.$set(oe);const Te={};!T&&W[0]&3&&(T=!0,Te.value=Y[1][Y[0]].params.xDomainMax,add_flush_callback(()=>T=!1)),b.$set(Te),W[0]&3&&F.value!==Y[1][Y[0]].params.yAxisLabel&&set_input_value(F,Y[1][Y[0]].params.yAxisLabel);const ue={};!A&&W[0]&3&&(A=!0,ue.value=Y[1][Y[0]].params.yDomainMin,add_flush_callback(()=>A=!1)),R.$set(ue);const q={};if(!P&&W[0]&3&&(P=!0,q.value=Y[1][Y[0]].params.yDomainMax,add_flush_callback(()=>P=!1)),H.$set(q),(!x||W[0]&5)&&N!==(N=Y[2][Y[0]].name+"")&&set_data(B,N),W[0]&43){ye=ensure_array_like(Y[1][Y[0]].sourceData);let K;for(K=0;K<ye.length;K+=1){const ae=get_each_context(Y,ye,K);ce[K]?(ce[K].p(ae,W),transition_in(ce[K],1)):(ce[K]=create_each_block(ae),ce[K].c(),transition_in(ce[K],1),ce[K].m(j,null))}for(group_outros(),K=ye.length;K<ce.length;K+=1)$e(K);check_outros()}},i(Y){if(!x){transition_in(a.$$.fragment,Y),transition_in(c.$$.fragment,Y),transition_in($.$$.fragment,Y),transition_in(b.$$.fragment,Y),transition_in(R.$$.fragment,Y),transition_in(H.$$.fragment,Y);for(let W=0;W<ye.length;W+=1)transition_in(ce[W]);x=!0}},o(Y){transition_out(a.$$.fragment,Y),transition_out(c.$$.fragment,Y),transition_out($.$$.fragment,Y),transition_out(b.$$.fragment,Y),transition_out(R.$$.fragment,Y),transition_out(H.$$.fragment,Y),ce=ce.filter(Boolean);for(let W=0;W<ce.length;W+=1)transition_out(ce[W]);x=!1},d(Y){Y&&(detach(t),detach(G),detach(I),detach(Z),detach(j)),destroy_component(a),destroy_component(c),destroy_component($),destroy_component(b),destroy_component(R),destroy_component(H),destroy_each(ce,Y),J=!1,run_all(ne)}}}function create_each_block_3(e){let t,r=e[3][e[3].findIndex(o)].data[e[39]].name+"",a,i;function o(...u){return e[19](e[30],...u)}return{c(){t=element("option"),a=text(r),t.__value=i=e[39],set_input_value(t,t.__value)},m(u,c){insert(u,t,c),append(t,a)},p(u,c){e=u,c[0]&11&&r!==(r=e[3][e[3].findIndex(o)].data[e[39]].name+"")&&set_data(a,r),c[0]&3&&i!==(i=e[39])&&(t.__value=i,set_input_value(t,t.__value))},d(u){u&&detach(t)}}}function create_each_block_2(e){let t,r,a=e[36].process+"",i,o,u,c,f,d,p,m,h;function _(...g){return e[21](e[32],e[33],e[38],...g)}function v(...g){return e[22](e[32],e[33],e[38],...g)}var y=componentMap[e[36].process].component;function $(g,D){return{props:{paramsStart:g[36].parameters,typeTime:{type:getFieldTypeFromGraph(g[1][g[0]].id,g[32],g[33])},dataIN:getRawData(g[32],g[1][g[0]].sourceData[g[32]].chartvalues[g[33]])}}}return y&&(d=construct_svelte_component(y,$(e)),d.$on("update",v)),{c(){t=element("details"),r=element("summary"),i=text(a),o=space(),u=element("div"),u.textContent="",c=space(),f=element("div"),d&&create_component(d.$$.fragment),attr(u,"class","deleteProcess hoverbutton"),attr(f,"class","processDetails"),t.open=!0,attr(t,"class","process")},m(g,D){insert(g,t,D),append(t,r),append(r,i),append(r,o),append(r,u),append(t,c),append(t,f),d&&mount_component(d,f,null),p=!0,m||(h=listen(u,"click",_),m=!0)},p(g,D){if(e=g,(!p||D[0]&3)&&a!==(a=e[36].process+"")&&set_data(i,a),D[0]&3&&y!==(y=componentMap[e[36].process].component)){if(d){group_outros();const O=d;transition_out(O.$$.fragment,1,0,()=>{destroy_component(O,1)}),check_outros()}y?(d=construct_svelte_component(y,$(e)),d.$on("update",v),create_component(d.$$.fragment),transition_in(d.$$.fragment,1),mount_component(d,f,null)):d=null}else if(y){const O={};D[0]&3&&(O.paramsStart=e[36].parameters),D[0]&3&&(O.typeTime={type:getFieldTypeFromGraph(e[1][e[0]].id,e[32],e[33])}),D[0]&3&&(O.dataIN=getRawData(e[32],e[1][e[0]].sourceData[e[32]].chartvalues[e[33]])),d.$set(O)}},i(g){p||(d&&transition_in(d.$$.fragment,g),p=!0)},o(g){d&&transition_out(d.$$.fragment,g),p=!1},d(g){g&&detach(t),d&&destroy_component(d),m=!1,h()}}}function create_each_block_1(e){let t,r,a=e[33]+"",i,o,u,c,f,d,p,m,h,_,v,y;function $(...k){return e[18](e[32],e[33],...k)}let g=ensure_array_like(getFieldNames(e[30])),D=[];for(let k=0;k<g.length;k+=1)D[k]=create_each_block_3(get_each_context_3(e,g,k));function O(){e[20].call(p,e[33],e[31],e[32])}let b=ensure_array_like(e[30].chartvalues[e[33]].processSteps),T=[];for(let k=0;k<b.length;k+=1)T[k]=create_each_block_2(get_each_context_2(e,b,k));const w=k=>transition_out(T[k],1,1,()=>{T[k]=null});return{c(){t=element("details"),r=element("summary"),i=text(a),o=text(`:
              
              

              `),u=element("span"),c=element("div"),c.textContent="",d=space(),p=element("select");for(let k=0;k<D.length;k+=1)D[k].c();m=space();for(let k=0;k<T.length;k+=1)T[k].c();h=space(),attr(c,"class","deleteTable hoverbutton showContextMenu"),attr(p,"class","selectField"),e[30].chartvalues[e[33]].field===void 0&&add_render_callback(O),t.open=!0,attr(t,"class","field")},m(k,C){insert(k,t,C),append(t,r),append(r,i),append(r,o),append(r,u),append(u,c),append(u,d),append(u,p);for(let S=0;S<D.length;S+=1)D[S]&&D[S].m(p,null);select_option(p,e[30].chartvalues[e[33]].field,!0),append(t,m);for(let S=0;S<T.length;S+=1)T[S]&&T[S].m(t,null);append(t,h),_=!0,v||(y=[listen(c,"click",$),action_destroyer(f=e[4].call(null,c,{content:"Add process to "+e[33],theme:"Ancir"})),listen(p,"change",O)],v=!0)},p(k,C){if(e=k,(!_||C[0]&3)&&a!==(a=e[33]+"")&&set_data(i,a),f&&is_function(f.update)&&C[0]&3&&f.update.call(null,{content:"Add process to "+e[33],theme:"Ancir"}),C[0]&11){g=ensure_array_like(getFieldNames(e[30]));let S;for(S=0;S<g.length;S+=1){const F=get_each_context_3(e,g,S);D[S]?D[S].p(F,C):(D[S]=create_each_block_3(F),D[S].c(),D[S].m(p,null))}for(;S<D.length;S+=1)D[S].d(1);D.length=g.length}if(C[0]&3&&select_option(p,e[30].chartvalues[e[33]].field),C[0]&3){b=ensure_array_like(e[30].chartvalues[e[33]].processSteps);let S;for(S=0;S<b.length;S+=1){const F=get_each_context_2(e,b,S);T[S]?(T[S].p(F,C),transition_in(T[S],1)):(T[S]=create_each_block_2(F),T[S].c(),transition_in(T[S],1),T[S].m(t,h))}for(group_outros(),S=b.length;S<T.length;S+=1)w(S);check_outros()}},i(k){if(!_){for(let C=0;C<b.length;C+=1)transition_in(T[C]);_=!0}},o(k){T=T.filter(Boolean);for(let C=0;C<T.length;C+=1)transition_out(T[C]);_=!1},d(k){k&&detach(t),destroy_each(D,k),destroy_each(T,k),v=!1,run_all(y)}}}function create_each_block(e){let t,r,a,i,o,u,c,f,d,p=e[3].find(X).displayName+"",m,h,_,v,y,$,g,D,O,b,T,w,k,C,S,F,E,U,R,A,M,V,H,P,G,I,z,N;function B(te){e[15](te,e[30])}let ie={};e[30].name!==void 0&&(ie.value=e[30].name),a=new InPlaceEdit({props:ie}),binding_callbacks.push(()=>bind(a,"value",B));function L(...te){return e[16](e[32],...te)}function X(...te){return e[17](e[30],...te)}let Z=ensure_array_like(Object.keys(e[30].chartvalues)),j=[];for(let te=0;te<Z.length;te+=1)j[te]=create_each_block_1(get_each_context_1(e,Z,te));const x=te=>transition_out(j[te],1,1,()=>{j[te]=null});function J(){e[23].call(y,e[32])}function ne(te){e[24](te,e[32])}let ve={min:"0",max:"1",step:"0.01",limits:[0,1],label:"Alpha: "};e[1][e[0]].sourceData[e[32]].col.alpha!==void 0&&(ve.value=e[1][e[0]].sourceData[e[32]].col.alpha),D=new Slider({props:ve}),binding_callbacks.push(()=>bind(D,"value",ne));function me(te){e[25](te,e[32])}let ke={min:"0.5",max:"10",step:"0.5",label:"Size: "};e[1][e[0]].sourceData[e[32]].size!==void 0&&(ke.value=e[1][e[0]].sourceData[e[32]].size),w=new Slider({props:ke}),binding_callbacks.push(()=>bind(w,"value",me));function se(te){e[26](te,e[32])}let De={min:"0.5",max:"10",step:"0.5",label:"Stroke width: "};e[1][e[0]].sourceData[e[32]].strokeWidth!==void 0&&(De.value=e[1][e[0]].sourceData[e[32]].strokeWidth),F=new Slider({props:De}),binding_callbacks.push(()=>bind(F,"value",se));function Q(){e[27].call(A,e[32])}function de(te){e[28](te,e[32])}let ge={min:"0",max:"1",step:"0.01",limits:[0,1],label:"Stroke alpha: "};return e[1][e[0]].sourceData[e[32]].strokeCol.alpha!==void 0&&(ge.value=e[1][e[0]].sourceData[e[32]].strokeCol.alpha),H=new Slider({props:ge}),binding_callbacks.push(()=>bind(H,"value",de)),{c(){t=element("details"),r=element("summary"),create_component(a.$$.fragment),o=space(),u=element("div"),u.textContent="",c=space(),f=element("div"),d=text("Table: "),m=text(p),h=space();for(let te=0;te<j.length;te+=1)j[te].c();_=space(),v=element("div"),y=element("input"),$=space(),g=element("div"),create_component(D.$$.fragment),b=space(),T=element("div"),create_component(w.$$.fragment),C=space(),S=element("div"),create_component(F.$$.fragment),U=space(),R=element("div"),A=element("input"),M=space(),V=element("div"),create_component(H.$$.fragment),G=space(),attr(u,"class","deleteTable hoverbutton"),attr(f,"class","tableLabel"),attr(y,"class","colourPicker"),attr(y,"id",e[32]),attr(y,"type","color"),set_style(y,"background",e[1][e[0]].sourceData[e[32]].col.hex),attr(g,"class","sliderContainer"),attr(v,"class","colour"),attr(T,"class","itemsliderContainer"),attr(S,"class","itemsliderContainer"),attr(A,"class","colourPicker"),attr(A,"id",e[32]),attr(A,"type","color"),set_style(A,"background",e[1][e[0]].sourceData[e[32]].strokeCol.hex),attr(V,"class","sliderContainer"),attr(R,"class","colour"),t.open=!0,attr(t,"class","dataTable")},m(te,ee){insert(te,t,ee),append(t,r),mount_component(a,r,null),append(r,o),append(r,u),append(t,c),append(t,f),append(f,d),append(f,m),append(t,h);for(let _e=0;_e<j.length;_e+=1)j[_e]&&j[_e].m(t,null);append(t,_),append(t,v),append(v,y),set_input_value(y,e[1][e[0]].sourceData[e[32]].col.hex),append(v,$),append(v,g),mount_component(D,g,null),append(t,b),append(t,T),mount_component(w,T,null),append(t,C),append(t,S),mount_component(F,S,null),append(t,U),append(t,R),append(R,A),set_input_value(A,e[1][e[0]].sourceData[e[32]].strokeCol.hex),append(R,M),append(R,V),mount_component(H,V,null),insert(te,G,ee),I=!0,z||(N=[listen(u,"click",L),listen(y,"input",J),listen(A,"input",Q)],z=!0)},p(te,ee){e=te;const _e={};if(!i&&ee[0]&3&&(i=!0,_e.value=e[30].name,add_flush_callback(()=>i=!1)),a.$set(_e),(!I||ee[0]&11)&&p!==(p=e[3].find(X).displayName+"")&&set_data(m,p),ee[0]&43){Z=ensure_array_like(Object.keys(e[30].chartvalues));let Y;for(Y=0;Y<Z.length;Y+=1){const W=get_each_context_1(e,Z,Y);j[Y]?(j[Y].p(W,ee),transition_in(j[Y],1)):(j[Y]=create_each_block_1(W),j[Y].c(),transition_in(j[Y],1),j[Y].m(t,_))}for(group_outros(),Y=Z.length;Y<j.length;Y+=1)x(Y);check_outros()}(!I||ee[0]&3)&&set_style(y,"background",e[1][e[0]].sourceData[e[32]].col.hex),ee[0]&3&&set_input_value(y,e[1][e[0]].sourceData[e[32]].col.hex);const be={};!O&&ee[0]&3&&(O=!0,be.value=e[1][e[0]].sourceData[e[32]].col.alpha,add_flush_callback(()=>O=!1)),D.$set(be);const ye={};!k&&ee[0]&3&&(k=!0,ye.value=e[1][e[0]].sourceData[e[32]].size,add_flush_callback(()=>k=!1)),w.$set(ye);const ce={};!E&&ee[0]&3&&(E=!0,ce.value=e[1][e[0]].sourceData[e[32]].strokeWidth,add_flush_callback(()=>E=!1)),F.$set(ce),(!I||ee[0]&3)&&set_style(A,"background",e[1][e[0]].sourceData[e[32]].strokeCol.hex),ee[0]&3&&set_input_value(A,e[1][e[0]].sourceData[e[32]].strokeCol.hex);const $e={};!P&&ee[0]&3&&(P=!0,$e.value=e[1][e[0]].sourceData[e[32]].strokeCol.alpha,add_flush_callback(()=>P=!1)),H.$set($e)},i(te){if(!I){transition_in(a.$$.fragment,te);for(let ee=0;ee<Z.length;ee+=1)transition_in(j[ee]);transition_in(D.$$.fragment,te),transition_in(w.$$.fragment,te),transition_in(F.$$.fragment,te),transition_in(H.$$.fragment,te),I=!0}},o(te){transition_out(a.$$.fragment,te),j=j.filter(Boolean);for(let ee=0;ee<j.length;ee+=1)transition_out(j[ee]);transition_out(D.$$.fragment,te),transition_out(w.$$.fragment,te),transition_out(F.$$.fragment,te),transition_out(H.$$.fragment,te),I=!1},d(te){te&&(detach(t),detach(G)),destroy_component(a),destroy_each(j,te),destroy_component(D),destroy_component(w),destroy_component(F),destroy_component(H),z=!1,run_all(N)}}}function create_fragment(e){let t,r,a=e[0]>=0&&e[1][e[0]].graph==="Raw"&&create_if_block(e);return{c(){a&&a.c(),t=empty$1()},m(i,o){a&&a.m(i,o),insert(i,t,o),r=!0},p(i,o){i[0]>=0&&i[1][i[0]].graph==="Raw"?a?(a.p(i,o),o[0]&3&&transition_in(a,1)):(a=create_if_block(i),a.c(),transition_in(a,1),a.m(t.parentNode,t)):a&&(group_outros(),transition_out(a,1,1,()=>{a=null}),check_outros())},i(i){r||(transition_in(a),r=!0)},o(i){transition_out(a),r=!1},d(i){i&&detach(t),a&&a.d(i)}}}function instance(e,t,r){let a,i,o,u,c;component_subscribe(e,contextMenu,H=>r(29,a=H)),component_subscribe(e,activeGraphTab,H=>r(0,i=H)),component_subscribe(e,graphs,H=>r(1,o=H)),component_subscribe(e,graphTabs,H=>r(2,u=H)),component_subscribe(e,data,H=>r(3,c=H));function f(H,P){let G=tippy(H,P);return{update:I=>{G.setProps(I)},destroy:()=>{G.destroy()}}}function d(H,P,G){const I=getFieldTypeFromGraph(H,P,G),z=Object.keys(componentMap);for(let N=0;N<z.length;N++)componentMap[z[N]].forTypes.includes(I)&&(set_store_value(contextMenu,a.labels[N]=z[N],a),set_store_value(contextMenu,a.funcs[N]=()=>addProcessToGraph(z[N],H,P,G),a))}function p(H){e.$$.not_equal(o[i].params.width,H)&&(o[i].params.width=H,graphs.set(o))}function m(H){e.$$.not_equal(o[i].params.height,H)&&(o[i].params.height=H,graphs.set(o))}function h(){o[i].params.xAxisLabel=this.value,graphs.set(o)}function _(H){e.$$.not_equal(o[i].params.xDomainMin,H)&&(o[i].params.xDomainMin=H,graphs.set(o))}function v(H){e.$$.not_equal(o[i].params.xDomainMax,H)&&(o[i].params.xDomainMax=H,graphs.set(o))}function y(){o[i].params.yAxisLabel=this.value,graphs.set(o)}function $(H){e.$$.not_equal(o[i].params.yDomainMin,H)&&(o[i].params.yDomainMin=H,graphs.set(o))}function g(H){e.$$.not_equal(o[i].params.yDomainMax,H)&&(o[i].params.yDomainMax=H,graphs.set(o))}const D=H=>{H.preventDefault(),createnewDataForGraph(defaultchartvalues,defaultother)};function O(H,P){e.$$.not_equal(P.name,H)&&(P.name=H,graphs.set(o))}const b=(H,P)=>{P.preventDefault(),removeGraphData(H)},T=(H,P)=>P.id===H.tableID,w=(H,P,G)=>{G.preventDefault(),d(o[i].id,H,P)},k=(H,P)=>P.id===H.tableID;function C(H,P,G){P[G].chartvalues[H].field=select_value(this),graphs.set(o)}const S=(H,P,G,I)=>{I.preventDefault(),removeGraphProcess(o[i].id,H,P,G)},F=(H,P,G,I)=>updateGraphProcess(o[i].id,H,P,G,I.detail.params);function E(H){o[i].sourceData[H].col.hex=this.value,graphs.set(o)}function U(H,P){e.$$.not_equal(o[i].sourceData[P].col.alpha,H)&&(o[i].sourceData[P].col.alpha=H,graphs.set(o))}function R(H,P){e.$$.not_equal(o[i].sourceData[P].size,H)&&(o[i].sourceData[P].size=H,graphs.set(o))}function A(H,P){e.$$.not_equal(o[i].sourceData[P].strokeWidth,H)&&(o[i].sourceData[P].strokeWidth=H,graphs.set(o))}function M(H){o[i].sourceData[H].strokeCol.hex=this.value,graphs.set(o)}function V(H,P){e.$$.not_equal(o[i].sourceData[P].strokeCol.alpha,H)&&(o[i].sourceData[P].strokeCol.alpha=H,graphs.set(o))}return[i,o,u,c,f,d,p,m,h,_,v,y,$,g,D,O,b,T,w,k,C,S,F,E,U,R,A,M,V]}class Raw_controls extends SvelteComponent{constructor(t){super(),init(this,t,instance,create_fragment,safe_not_equal,{},null,[-1,-1])}}const Raw_controls$1=Object.freeze(Object.defineProperty({__proto__:null,default:Raw_controls},Symbol.toStringTag,{value:"Module"}));

</script>
    <style>
*,html{font-size:10pt;color:var(--font-color)}body{-webkit-tap-highlight-color:transparent;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;background:var(--bg-color)}h1{padding:6px 6px 0;font-weight:700;font-size:1.2em;text-decoration:none}button{cursor:pointer}::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#f5f5f5}::-webkit-scrollbar{width:6px;height:6px;background-color:var(--bg-color)}::-webkit-scrollbar-thumb{background-color:var(--secondary-color)}.splitpanes.modern-theme .splitpanes__pane{background-color:hsl(var(--b1))}.splitpanes__splitter{position:relative;cursor:grab;padding:.2em;opacity:.6}.splitpanes--vertical>.splitpanes__splitter{cursor:col-resize}.splitpanes--horizontal>.splitpanes__splitter{cursor:row-resize}.splitpanes.modern-theme .splitpanes__splitter{background-color:var(--hover-color);position:relative}.splitpanes__splitter:before{content:"";position:absolute;left:0;top:0;transition:opacity .4s;background-color:var(--bg-color);opacity:0;z-index:1}.splitpanes__splitter:hover{opacity:.6}.splitpanes__splitter:hover:before{opacity:.6}.splitpanes--vertical>.splitpanes__splitter:before{left:-3px;right:-3px;height:100%}.splitpanes--horizontal>.splitpanes__splitter:before{top:-3px;bottom:-3px;width:100%}.chartControls{width:calc(100% - 28px);border-radius:0;min-width:184px;box-shadow:1px 1px 5px #888;padding:10px 8px;margin:10px 0 10px 6px}.sliderContainer{width:calc(100% - .5em);display:flex}.sliderContainer>label{line-height:1rem;align-self:center;display:flex;padding:15px 0}input[type=number]{width:4em;max-width:6em;height:1.1rem;border-radius:.5rem;margin-left:auto;align-self:center;padding-left:4px;border-width:1px;text-align:end;background:var(--bg-color)}input[type=text],input[type=datetime-local]{height:1.4em;border-radius:.5rem;align-self:center;padding-left:4px;border-width:1px;display:flex;margin-left:auto;width:60%;background:var(--bg-color)}select{height:1.5rem;align-self:center;border-radius:.5rem;width:50%;float:right;margin-right:calc(.5em + 2px);margin-top:-2px;background-color:var(--bg-color)}.processItem{flex-basis:100%;flex-grow:0;flex-shrink:0}g.axis>path{font-size:10pt;stroke:var(--font-color)!important}#thePlot svg{border:1px solid var(--hover-color)}.graphDataTree{width:calc(100% - 12px);border-radius:0;margin-left:6px;min-width:200px}details{padding:0 10px}summary{padding:0 10px;cursor:pointer}.dataTable{box-shadow:1px 1px 5px #888;padding:10px 0;margin:8px 0 10px}.dataTable>summary{font-size:1.1em;font-weight:700}.tableLabel{margin:1em 1em .5em}.field{margin-left:1.5em;padding:5px 0}.process[open]{margin-bottom:15px;margin-top:5px;margin-right:10px;box-shadow:1px 1px 5px #888}.process{margin-left:1.5em;padding:5px 0;margin-right:10px;box-shadow:1px 1px 5px #888}.otherItemDetail[open]{margin:10px;box-shadow:1px 1px 5px #888}.otherItemDetail{margin:10px;padding:5px 0;box-shadow:1px 1px 5px #888}.processDetails{padding:.5em}.no-arrow summary{list-style:none;cursor:default}.no-arrow summary:before{content:"";margin-left:-2px}.addbutton{float:right;cursor:pointer;margin-right:0}.addbutton:hover{background:var(--hover-color);padding:.2em .5em;margin-right:-.5em;margin-top:-.2em;border-radius:20%}.deleteTable{float:right;cursor:pointer;margin-right:0;z-index:2}.hoverbutton:hover{background:var(--hover-color);padding:.2em .5em;margin:-.2em -.5em;border-radius:20%;cursor:pointer}.deleteProcess{float:right;cursor:pointer;margin-right:0}.colour{display:flex;align-items:center;margin-left:1em;margin-right:1em}.colourPicker{border-radius:25px;height:2em;padding:0;width:2em;margin-right:1em}.colourPicker::-webkit-color-swatch{display:none}.colourPicker::-moz-color-swatch{display:none}.sliderContainer{width:calc(100% - 3.5em)}.itemsliderContainer{width:calc(100% - 2em);margin-left:1em}.tippy-box[data-theme~=Ancir]{background-color:var(--hover-color);color:var(--font-color);box-shadow:1px 1px 5px var(--font-color)}.tippy-box[data-theme~=Ancir][data-placement^=top]>.tippy-arrow:before{border-top-color:var(--hover-color)}.tippy-box[data-theme~=Ancir][data-placement^=bottom]>.tippy-arrow:before{border-bottom-color:var(--hover-color)}.tippy-box[data-theme~=Ancir][data-placement^=left]>.tippy-arrow:before{border-left-color:var(--hover-color)}.tippy-box[data-theme~=Ancir][data-placement^=right]>.tippy-arrow:before{border-right-color:var(--hover-color)}.tippy-box[data-animation=fade][data-state=hidden]{opacity:0}[data-tippy-root]{max-width:calc(100vw - 10px)}.tippy-box{position:relative;background-color:#333;color:#fff;border-radius:4px;font-size:14px;line-height:1.4;white-space:normal;outline:0;transition-property:transform,visibility,opacity}.tippy-box[data-placement^=top]>.tippy-arrow{bottom:0}.tippy-box[data-placement^=top]>.tippy-arrow:before{bottom:-7px;left:0;border-width:8px 8px 0;border-top-color:initial;transform-origin:center top}.tippy-box[data-placement^=bottom]>.tippy-arrow{top:0}.tippy-box[data-placement^=bottom]>.tippy-arrow:before{top:-7px;left:0;border-width:0 8px 8px;border-bottom-color:initial;transform-origin:center bottom}.tippy-box[data-placement^=left]>.tippy-arrow{right:0}.tippy-box[data-placement^=left]>.tippy-arrow:before{border-width:8px 0 8px 8px;border-left-color:initial;right:-7px;transform-origin:center left}.tippy-box[data-placement^=right]>.tippy-arrow{left:0}.tippy-box[data-placement^=right]>.tippy-arrow:before{left:-7px;border-width:8px 8px 8px 0;border-right-color:initial;transform-origin:center right}.tippy-box[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-arrow{width:16px;height:16px;color:#333}.tippy-arrow:before{content:"";position:absolute;border-color:transparent;border-style:solid}.tippy-content{position:relative;padding:5px 9px;z-index:1}div.splitpanes--horizontal.splitpanes--dragging{cursor:row-resize}div.splitpanes--vertical.splitpanes--dragging{cursor:col-resize}.splitpanes{display:flex;width:100%;height:100%}.splitpanes--vertical{flex-direction:row}.splitpanes--horizontal{flex-direction:column}.splitpanes--dragging *{-webkit-user-select:none;-moz-user-select:none;user-select:none}.splitpanes__pane{width:100%;height:100%;overflow:hidden}.splitpanes--vertical .splitpanes__pane{transition:width .2s ease-out}.splitpanes--horizontal .splitpanes__pane{transition:height .2s ease-out}.splitpanes--vertical>.splitpanes__pane{transition:width .2s ease-out}.splitpanes--horizontal>.splitpanes__pane{transition:height .2s ease-out}.splitpanes--dragging .splitpanes__pane{transition:none;pointer-events:none}.splitpanes--freeze .splitpanes__pane{transition:none}.splitpanes__splitter{touch-action:none}.splitpanes--vertical>.splitpanes__splitter{min-width:1px}.splitpanes--horizontal>.splitpanes__splitter{min-height:1px}.splitpanes.default-theme .splitpanes__pane{background-color:#f2f2f2}.splitpanes.default-theme .splitpanes__splitter{background-color:#fff;box-sizing:border-box;position:relative;flex-shrink:0}.splitpanes.default-theme .splitpanes__splitter:before,.splitpanes.default-theme .splitpanes__splitter:after{content:"";position:absolute;top:50%;left:50%;background-color:#00000026;transition:background-color .3s}.splitpanes.default-theme .splitpanes__splitter:hover:before,.splitpanes.default-theme .splitpanes__splitter:hover:after{background-color:#00000040}.splitpanes.default-theme .splitpanes__splitter:first-child{cursor:auto}.default-theme.splitpanes .splitpanes .splitpanes__splitter{z-index:1}.default-theme.splitpanes--vertical>.splitpanes__splitter,.default-theme .splitpanes--vertical>.splitpanes__splitter{width:7px;border-left:1px solid #eee;cursor:col-resize}.default-theme.splitpanes--vertical>.splitpanes__splitter:before,.default-theme.splitpanes--vertical>.splitpanes__splitter:after,.default-theme .splitpanes--vertical>.splitpanes__splitter:before,.default-theme .splitpanes--vertical>.splitpanes__splitter:after{transform:translateY(-50%);width:1px;height:30px}.default-theme.splitpanes--vertical>.splitpanes__splitter:before,.default-theme .splitpanes--vertical>.splitpanes__splitter:before{margin-left:-2px}.default-theme.splitpanes--vertical>.splitpanes__splitter:after,.default-theme .splitpanes--vertical>.splitpanes__splitter:after{margin-left:1px}.default-theme.splitpanes--horizontal>.splitpanes__splitter,.default-theme .splitpanes--horizontal>.splitpanes__splitter{height:7px;border-top:1px solid #eee;cursor:row-resize}.default-theme.splitpanes--horizontal>.splitpanes__splitter:before,.default-theme.splitpanes--horizontal>.splitpanes__splitter:after,.default-theme .splitpanes--horizontal>.splitpanes__splitter:before,.default-theme .splitpanes--horizontal>.splitpanes__splitter:after{transform:translate(-50%);width:30px;height:1px}.default-theme.splitpanes--horizontal>.splitpanes__splitter:before,.default-theme .splitpanes--horizontal>.splitpanes__splitter:before{margin-top:-2px}.default-theme.splitpanes--horizontal>.splitpanes__splitter:after,.default-theme .splitpanes--horizontal>.splitpanes__splitter:after{margin-top:1px}.backdrop.svelte-r5e5cj{position:absolute;top:0;left:0;height:100vh;width:100vw;background:#fffc;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);z-index:9998}dialog.svelte-r5e5cj{display:block;position:absolute;top:10vh;z-index:1000;max-height:80vh;max-width:80vw;min-width:270px;overflow:auto;background:var(--bg-color);z-index:9999;box-shadow:5px 5px 15px var(--secondary-color);border:none;border-radius:5px}.closeDialogButton.svelte-r5e5cj{width:15px;cursor:pointer;padding:0;float:right;margin-right:5px;margin-top:-10px;border:none;background-color:var(--bg-color)}svg.svelte-r5e5cj:hover{stroke:red}.numberInput.svelte-19uihkg.svelte-19uihkg{width:40%;max-width:6em;float:right;height:1.1rem;border-radius:.5rem;margin-left:auto;align-self:center;padding-left:4px;border-width:1px;text-align:end;background:var(--bg-color)}.sliderInput.svelte-19uihkg.svelte-19uihkg{width:100%;accent-color:var(--primary-color);cursor:pointer;box-sizing:border-box}.sliderLabel.svelte-19uihkg.svelte-19uihkg{line-height:1rem;display:flex}.sliderLabel.svelte-19uihkg>span.svelte-19uihkg{align-self:center}.processItem.svelte-19uihkg.svelte-19uihkg{padding:5px 0}.min.svelte-19uihkg.svelte-19uihkg{font-size:.7em;display:block;margin-top:-.7em;margin-left:.2em}.max.svelte-19uihkg.svelte-19uihkg{font-size:.7em;display:block;margin-top:-1.3em;margin-left:.2em;float:right}.stop.svelte-19uihkg.svelte-19uihkg{font-style:italic;text-decoration:underline}.datetimeselect.svelte-1eqdivs{cursor:pointer;display:inline-flex}.selection.svelte-1eqdivs{width:0;height:0;margin:0;padding:0;position:relative;left:10px;z-index:0}.icon.svelte-1eqdivs{position:relative;cursor:pointer}.addSimDataButton.svelte-1n2ityv{float:right;margin-top:-2.2em}.addSimDataButton.svelte-1n2ityv:hover{background:var(--hover-color);padding:.2em .5em;margin:-2.4em -.5em;border-radius:20%;cursor:pointer}.dataTitle.svelte-1n2ityv{margin-top:10px}.datum.svelte-1n2ityv{box-shadow:1px 1px 5px var(--secondary-color);padding:2px 10px;margin:0 0 10px}.removeData.svelte-1n2ityv{float:right;cursor:pointer;margin-top:-1.3em}.hoverbutton.svelte-1n2ityv:hover{background:var(--hover-color);padding:.2em .5em;margin:-1.5em -.5em;border-radius:20%;cursor:pointer}span.svelte-1tdrfqa{cursor:context-menu}form.svelte-1tdrfqa{display:inline}input.svelte-1tdrfqa{display:inherit;border:none;background:inherit;background-color:inherit;font-size:inherit;color:inherit;font-weight:inherit;text-align:inherit;box-shadow:none}.editing.svelte-1tdrfqa{font-style:italic}.dataTree.svelte-1vynm26.svelte-1vynm26{width:calc(100% - 6px);border-radius:0;margin-left:1px;min-width:200px}details.svelte-1vynm26.svelte-1vynm26{padding:0 10px}summary.svelte-1vynm26.svelte-1vynm26{padding:0 10px;cursor:pointer}.dataTable.svelte-1vynm26.svelte-1vynm26{box-shadow:1px 1px 5px #888;padding:10px 0;margin:8px 0 10px}.dataTable.svelte-1vynm26>summary.svelte-1vynm26{font-size:1.1em;font-weight:700}.field.svelte-1vynm26.svelte-1vynm26{margin-left:1.5em;padding:5px 0}.process[open].svelte-1vynm26.svelte-1vynm26{margin-bottom:15px;margin-top:5px;margin-right:10px;box-shadow:1px 1px 5px #888}.process.svelte-1vynm26.svelte-1vynm26{margin-left:1.5em;padding:5px 0;margin-right:10px;box-shadow:1px 1px 5px #888}.processDetails.svelte-1vynm26.svelte-1vynm26{padding:.5em}.addbutton.svelte-1vynm26.svelte-1vynm26{float:right;cursor:pointer;margin-right:0}.addbutton.svelte-1vynm26.svelte-1vynm26:hover{background:var(--hover-color);padding:.2em .5em;margin-right:-.5em;margin-top:-.2em;border-radius:20%}.deleteTable.svelte-1vynm26.svelte-1vynm26{float:right;cursor:pointer;margin-right:0;z-index:2}.hoverbutton.svelte-1vynm26.svelte-1vynm26:hover{background:var(--hover-color);padding:.2em .5em;margin:-.2em -.5em;border-radius:20%;cursor:pointer}.viewTable.svelte-1vynm26.svelte-1vynm26{float:right;cursor:pointer;margin-right:.5em}.viewTable.svelte-1vynm26.svelte-1vynm26:hover{margin-right:0;cursor:pointer}.deleteProcess.svelte-1vynm26.svelte-1vynm26{float:right;cursor:pointer;margin-right:0}.button.svelte-owaav{margin:5px;border:none;border-radius:20%;padding:.2em .5em;opacity:1;cursor:pointer;width:20px;height:20px}.button.svelte-owaav:hover{background:var(--hover-color)}#chartTools.svelte-10g9qi8{margin-top:-10px;background-color:var(--hover-color);-webkit-backdrop-filter:blur(1px);backdrop-filter:blur(1px);opacity:.4;position:absolute;border-radius:5px;display:flex;right:10px}.button.svelte-10g9qi8{margin:5px;border:none;border-radius:20%;padding:2px 5px;opacity:1;cursor:pointer;width:20px;height:20px}.button.svelte-10g9qi8:hover{background:var(--hover-color)}#chartTools.svelte-10g9qi8:hover{opacity:1;background:var(--bg-color)}#graphTabs.svelte-1gfrvzx.svelte-1gfrvzx{position:sticky;top:0;left:0;z-index:999;background:var(--bg-color);padding:0;margin:0!important;display:flow-root}nav.svelte-1gfrvzx.svelte-1gfrvzx{margin:0;background-color:var(--bg-color);z-index:9;width:100%}ul.svelte-1gfrvzx.svelte-1gfrvzx{display:flex;flex-wrap:wrap;list-style:none;border-bottom:3px solid var(--hover-color);margin-left:-2em;margin-top:2px}li.svelte-1gfrvzx.svelte-1gfrvzx{margin-bottom:-3px;margin-right:2px;border-top-left-radius:.25rem;border-top-right-radius:.25rem;background:var(--hover-color)}span.svelte-1gfrvzx.svelte-1gfrvzx{border:3px solid transparent;border-top-left-radius:.25rem;border-top-right-radius:.25rem;display:block;padding:.5rem 1rem;cursor:pointer}li.active.svelte-1gfrvzx>span.svelte-1gfrvzx,li.active.svelte-1gfrvzx>.closeButton.svelte-1gfrvzx,li.active.svelte-1gfrvzx:hover>span.svelte-1gfrvzx{border-color:var(--hover-color) var(--hover-color) var(--bg-color);background:var(--bg-color)}li.svelte-1gfrvzx.svelte-1gfrvzx:hover,li.svelte-1gfrvzx:hover>span.svelte-1gfrvzx,li.svelte-1gfrvzx:hover>.closeButton.svelte-1gfrvzx{border-color:var(--hover-color) var(--hover-color) var(--hover-color);background:var(--bg-color)}li.active.svelte-1gfrvzx:hover>span.svelte-1gfrvzx,li.active.svelte-1gfrvzx:hover>.closeButton.svelte-1gfrvzx{cursor:default;background:var(--bg-color)}.closeButton.svelte-1gfrvzx.svelte-1gfrvzx{width:15px;cursor:pointer;padding:0;float:right;margin-right:3px;margin-top:-32px;border:none;background-color:var(--hover-color)}svg.svelte-1gfrvzx.svelte-1gfrvzx:hover{stroke:red}#tableTabs.svelte-4dtisg.svelte-4dtisg{position:sticky;top:0;left:0;z-index:999;padding:0;margin:0 2.2em 0 0!important}nav.svelte-4dtisg.svelte-4dtisg{margin:0;z-index:9;width:calc(100% + 2.2em);background-color:var(--bg-color)}ul.svelte-4dtisg.svelte-4dtisg{display:flex;flex-wrap:wrap;list-style:none;border-bottom:3px solid var(--hover-color);margin-top:2px}li.svelte-4dtisg.svelte-4dtisg{margin-bottom:-3px;margin-right:2px;border-top-left-radius:.25rem;border-top-right-radius:.25rem;background:var(--hover-color)}span.svelte-4dtisg.svelte-4dtisg{border:3px solid transparent;border-top-left-radius:.25rem;border-top-right-radius:.25rem;display:block;padding:.5rem 1rem;cursor:pointer}li.active.svelte-4dtisg>span.svelte-4dtisg,li.active.svelte-4dtisg>.closeButton.svelte-4dtisg,li.active.svelte-4dtisg:hover>span.svelte-4dtisg{border-color:var(--hover-color) var(--hover-color) var(--bg-color);background:var(--bg-color)}li.svelte-4dtisg.svelte-4dtisg:hover,li.svelte-4dtisg:hover>span.svelte-4dtisg,li.svelte-4dtisg:hover>.closeButton.svelte-4dtisg{border-color:var(--hover-color) var(--hover-color) var(--hover-color);background:var(--bg-color)}li.active.svelte-4dtisg:hover>span.svelte-4dtisg,li.active.svelte-4dtisg:hover>.closeButton.svelte-4dtisg{cursor:default;background:var(--bg-color)}.closeButton.svelte-4dtisg.svelte-4dtisg{width:15px;cursor:pointer;padding:0;float:right;margin-right:3px;margin-top:-32px;border:none;background-color:var(--hover-color)}svg.svelte-4dtisg.svelte-4dtisg:hover{stroke:red}table.svelte-4dtisg.svelte-4dtisg{border-collapse:collapse;width:-moz-max-content;width:max-content;margin-left:5px}td.svelte-4dtisg.svelte-4dtisg{border:1px solid var(--hover-color);text-align:left;padding:8px}.guessFmtBtn.svelte-1wt1n0s{margin-right:10px}.svelte-spinner.svelte-ynopmf{transition-property:transform;animation-name:svelte-ynopmf-svelte-spinner_infinite-spin;animation-iteration-count:infinite;animation-timing-function:linear}@keyframes svelte-ynopmf-svelte-spinner_infinite-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.tw-toggle.svelte-16zhnuc.svelte-16zhnuc.svelte-16zhnuc{float:right;margin-right:10px;margin-top:-3em;background:var(--bg-color);padding:1px 3px;border-radius:20px;position:relative;border:2px solid var(--primary-color);cursor:pointer}.tw-toggle.svelte-16zhnuc label.svelte-16zhnuc.svelte-16zhnuc{display:inline-block;position:relative;z-index:2;margin:0;padding:2px 3px;cursor:pointer}.tw-toggle.svelte-16zhnuc input.svelte-16zhnuc.svelte-16zhnuc{position:absolute;z-index:3;opacity:0;cursor:pointer}.tw-toggle.svelte-16zhnuc span.svelte-16zhnuc.svelte-16zhnuc{height:15px;width:15px;line-height:20px;border-radius:50%;background:var(--bg-color);display:block;position:absolute;left:22px;top:2px;transition:all .3s ease-in-out}.tw-toggle.svelte-16zhnuc input[value=light].svelte-16zhnuc:checked~span.svelte-16zhnuc{background:var(--primary-color);left:2px;color:var(--primary-color)}.tw-toggle.svelte-16zhnuc input[value=dark].svelte-16zhnuc:checked~span.svelte-16zhnuc{background:var(--primary-color);left:46px}.tw-toggle.svelte-16zhnuc input[value=user].svelte-16zhnuc:checked~span.svelte-16zhnuc{background:var(--primary-color);left:23px}.inside.svelte-16zhnuc.svelte-16zhnuc.svelte-16zhnuc{width:10px}nav.svelte-n42nv6.svelte-n42nv6{position:sticky;height:2em;background-color:var(--bg-color);z-index:1001}.applicationmenu.svelte-n42nv6.svelte-n42nv6{border-bottom:1px var(--hover-color) solid;height:2em;z-index:3;padding:3px;position:fixed;width:100%;margin:-8px}ul.svelte-n42nv6.svelte-n42nv6{padding:0}ul.topmenu.svelte-n42nv6.svelte-n42nv6{display:flex;flex-direction:row;margin-top:0}ul.topmenu.svelte-n42nv6 li.svelte-n42nv6{list-style-type:none}button.svelte-n42nv6.svelte-n42nv6{border:0px #000 solid;color:var(--font-color);height:30px;padding:0 10px;background:var(--bg-color)}ul.svelte-n42nv6 li button.svelte-n42nv6:hover{background-color:var(--hover-color);cursor:pointer}ul.svelte-n42nv6 li ul.secondmenu.svelte-n42nv6{display:flex;align-items:stretch;flex-direction:column;position:absolute;box-shadow:1px 1px 5px #888}ul.svelte-n42nv6 li ul.secondmenu li button.svelte-n42nv6{width:100%;min-width:150px;text-align:left}ul.svelte-n42nv6 li ul.thirdmenu.svelte-n42nv6{display:flex;align-items:stretch;flex-direction:column;position:absolute;box-shadow:1px 1px 5px #888;margin-left:calc(100% + 1px);margin-top:-30px}hr.svelte-n42nv6.svelte-n42nv6{border:none;border-bottom:1px solid var(--hover-color);margin:0}.navbar.svelte-ouzgb9.svelte-ouzgb9{display:inline-flex;border:1px #999 solid;width:-moz-fit-content;width:fit-content;background-color:var(--bg-color);border-radius:5px;overflow:hidden;flex-direction:column}.navbar.svelte-ouzgb9 ul.svelte-ouzgb9{margin:6px}ul.svelte-ouzgb9.svelte-ouzgb9{padding:0}ul.svelte-ouzgb9 li.svelte-ouzgb9{display:block;list-style-type:none;width:1fr}ul.svelte-ouzgb9 li button.svelte-ouzgb9{font-size:.75rem;width:100%;height:30px;text-align:left;border:0px;background-color:var(--bg-color)}ul.svelte-ouzgb9 li button.svelte-ouzgb9:hover{color:var(--bg-color);text-align:left;border-radius:5px;background-color:#eee}.overlay.svelte-21xo6{position:absolute;cursor:pointer;z-index:10001;background:var(--hover-color);padding:5px;border-radius:10px;box-shadow:0 0 15px -5px var(--font-color);-webkit-user-select:none;-moz-user-select:none;user-select:none}.range.svelte-1s2t95a.svelte-1s2t95a{width:80%;flex-basis:100%;flex-grow:0;flex-shrink:0;margin:10px}.range-slider.svelte-1s2t95a.svelte-1s2t95a{height:.45rem;position:relative;background-color:var(--font-color);border-radius:.5rem;border:solid 1px grey}.range-selected.svelte-1s2t95a.svelte-1s2t95a{height:100%;position:absolute;border-radius:5px;background-color:var(--primary-color);left:0%;right:0%}.range-input.svelte-1s2t95a.svelte-1s2t95a{position:relative}.range-input.svelte-1s2t95a input.svelte-1s2t95a{position:absolute;width:100%;height:0;top:-.45rem;background:none;pointer-events:none;-webkit-appearance:none;-moz-appearance:none}.range-input.svelte-1s2t95a input.svelte-1s2t95a::-webkit-slider-thumb{height:1.1rem;width:1.1rem;border-radius:50%;background-color:var(--primary-color);pointer-events:auto;-webkit-appearance:none;cursor:pointer}.range-input.svelte-1s2t95a input.svelte-1s2t95a::-webkit-slider-thumb:hover{filter:brightness(1.2)}.range-input.svelte-1s2t95a input.svelte-1s2t95a::-moz-range-thumb{height:1.1rem;width:1.1rem;border-radius:50%;background-color:var(--primary-color);pointer-events:auto;-moz-appearance:none}.range-num.svelte-1s2t95a.svelte-1s2t95a{display:flex;justify-content:center;align-items:center;margin-bottom:5px}.range-num.svelte-1s2t95a label.svelte-1s2t95a{margin:0 15px}.range-num.svelte-1s2t95a input.svelte-1s2t95a{width:60px;padding:5px;height:.45rem}

</style>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
