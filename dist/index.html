<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link
      rel="icon"
      type="image/svg+xml"
      href="data:image/svg+xml, %3Csvg data-v-6805eed4='' version='1.0' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='100%25' height='100%25' viewBox='0 0 70.000000 70.000000' preserveAspectRatio='xMidYMid meet' color-interpolation-filters='sRGB' style='margin: auto;'%3E%3Cg data-v-6805eed4='' fill='%23333' class='icon-text-wrapper icon-svg-group iconsvg' transform='translate(71.40499877929688,97.81155776977539)'%3E%3Cg class='iconsvg-imagesvg' transform='matrix(1,0,0,1,0,0)' opacity='1'%3E%3Cg%3E%3Crect fill='%23333' fill-opacity='0' stroke-width='2' x='0' y='0' width='60' height='54.37688619824' class='image-rect'%3E%3C/rect%3E%3Csvg x='-120' y='-95' width='160' height='54.37688619824' filtersec='colorsb2791788449' class='image-svg-svg primary' style='overflow: visible;'%3E%3Csvg xmlns='http://www.w3.org/2000/svg' xlink='http://www.w3.org/1999/xlink' viewBox='0 0 100 100'%3E%3Cdefs%3E%3ClinearGradient id='ae8194c03-b976-4110-a715-bc6a7dcd8efe' x1='127.09' y1='100.34' x2='11.24' y2='19.22' gradientUnits='userSpaceOnUse'%3E%3Cstop offset='0' stop-color='%23fad5a5'%3E%3C/stop%3E%3Cstop offset='1' stop-color='%23f06c68'%3E%3C/stop%3E%3C/linearGradient%3E%3ClinearGradient id='b74247629-084e-4695-a572-5323a7fe49da' x1='12.79' y1='-21.54' x2='83.81' y2='101.47' href='%23ae8194c03-b976-4110-a715-bc6a7dcd8efe'%3E%3C/linearGradient%3E%3C/defs%3E%3Cpath d='M108.13 58.27L88.82 91.72A16.56 16.56 0 0 1 74.49 100H35.86a16.54 16.54 0 0 1-8.72-2.49C86.56 97.51 82.65 50 82.65 50a8.59 8.59 0 0 0-2.52-6.09L61.26 25a8.62 8.62 0 0 0-12.18 0L30.22 43.91a8.51 8.51 0 0 0-2.41 4.69c-.06-8.11 2.5-46 55.56-46a16.43 16.43 0 0 1 5.43 5.68l19.31 33.45a16.51 16.51 0 0 1 .02 16.54z' fill='url(%23ae8194c03-b976-4110-a715-bc6a7dcd8efe)'%3E%3C/path%3E%3Cpath d='M27.81 48.6a8.61 8.61 0 0 0 2.41 7.49L49.08 75a8.62 8.62 0 0 0 12.18 0l18.87-18.91A8.59 8.59 0 0 0 82.65 50s3.91 47.51-55.51 47.51a16.48 16.48 0 0 1-5.61-5.79L2.22 58.27a16.51 16.51 0 0 1 0-16.54L21.53 8.28A16.56 16.56 0 0 1 35.86 0h38.63a16.54 16.54 0 0 1 8.9 2.6c-53.08 0-55.64 37.89-55.58 46z' fill='url(%23b74247629-084e-4695-a572-5323a7fe49da)'%3E%3C/path%3E%3C/svg%3E%3C/svg%3E%3C!----%3E%3C/g%3E%3C/g%3E%3C/g%3E%3Cdefs v-gra='od'%3E%3C/defs%3E%3C/svg%3E"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script type="module" crossorigin>
var Be=Object.defineProperty;var Ge=(e,t,a)=>t in e?Be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var Ie=(e,t,a)=>(Ge(e,typeof t!="symbol"?t+"":t,a),a);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function a(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=a(i);fetch(i.href,o)}})();function noop(){}const identity$3=e=>e;function assign(e,t){for(const a in t)e[a]=t[a];return e}function run(e){return e()}function blank_object(){return Object.create(null)}function run_all(e){e.forEach(run)}function is_function(e){return typeof e=="function"}function safe_not_equal(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function is_empty(e){return Object.keys(e).length===0}function subscribe(e,...t){if(e==null){for(const r of t)r(void 0);return noop}const a=e.subscribe(...t);return a.unsubscribe?()=>a.unsubscribe():a}function get_store_value(e){let t;return subscribe(e,a=>t=a)(),t}function component_subscribe(e,t,a){e.$$.on_destroy.push(subscribe(t,a))}function create_slot(e,t,a,r){if(e){const i=get_slot_context(e,t,a,r);return e[0](i)}}function get_slot_context(e,t,a,r){return e[1]&&r?assign(a.ctx.slice(),e[1](r(t))):a.ctx}function get_slot_changes(e,t,a,r){if(e[2]&&r){const i=e[2](r(a));if(t.dirty===void 0)return i;if(typeof i=="object"){const o=[],u=Math.max(t.dirty.length,i.length);for(let c=0;c<u;c+=1)o[c]=t.dirty[c]|i[c];return o}return t.dirty|i}return t.dirty}function update_slot_base(e,t,a,r,i,o){if(i){const u=get_slot_context(t,a,r,o);e.p(u,i)}}function get_all_dirty_from_scope(e){if(e.ctx.length>32){const t=[],a=e.ctx.length/32;for(let r=0;r<a;r++)t[r]=-1;return t}return-1}function null_to_empty(e){return e??""}function set_store_value(e,t,a){return e.set(a),t}function action_destroyer(e){return e&&is_function(e.destroy)?e.destroy:noop}const is_client=typeof window<"u";let now$1=is_client?()=>window.performance.now():()=>Date.now(),raf=is_client?e=>requestAnimationFrame(e):noop;const tasks=new Set;function run_tasks(e){tasks.forEach(t=>{t.c(e)||(tasks.delete(t),t.f())}),tasks.size!==0&&raf(run_tasks)}function loop(e){let t;return tasks.size===0&&raf(run_tasks),{promise:new Promise(a=>{tasks.add(t={c:e,f:a})}),abort(){tasks.delete(t)}}}const globals=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function append(e,t){e.appendChild(t)}function get_root_for_style(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function append_empty_stylesheet(e){const t=element("style");return t.textContent="/* empty */",append_stylesheet(get_root_for_style(e),t),t.sheet}function append_stylesheet(e,t){return append(e.head||e,t),t.sheet}function insert(e,t,a){e.insertBefore(t,a||null)}function detach(e){e.parentNode&&e.parentNode.removeChild(e)}function destroy_each(e,t){for(let a=0;a<e.length;a+=1)e[a]&&e[a].d(t)}function element(e){return document.createElement(e)}function svg_element(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function text(e){return document.createTextNode(e)}function space(){return text(" ")}function empty$1(){return text("")}function listen(e,t,a,r){return e.addEventListener(t,a,r),()=>e.removeEventListener(t,a,r)}function prevent_default(e){return function(t){return t.preventDefault(),e.call(this,t)}}function attr(e,t,a){a==null?e.removeAttribute(t):e.getAttribute(t)!==a&&e.setAttribute(t,a)}function to_number(e){return e===""?null:+e}function children$1(e){return Array.from(e.childNodes)}function set_data(e,t){t=""+t,e.data!==t&&(e.data=t)}function set_input_value(e,t){e.value=t??""}function set_style(e,t,a,r){a==null?e.style.removeProperty(t):e.style.setProperty(t,a,r?"important":"")}function select_option(e,t,a){for(let r=0;r<e.options.length;r+=1){const i=e.options[r];if(i.__value===t){i.selected=!0;return}}(!a||t!==void 0)&&(e.selectedIndex=-1)}function select_value(e){const t=e.querySelector(":checked");return t&&t.__value}function toggle_class(e,t,a){e.classList.toggle(t,!!a)}function custom_event(e,t,{bubbles:a=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:a,cancelable:r})}class HtmlTag{constructor(t=!1){Ie(this,"is_svg",!1);Ie(this,"e");Ie(this,"n");Ie(this,"t");Ie(this,"a");this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,a,r=null){this.e||(this.is_svg?this.e=svg_element(a.nodeName):this.e=element(a.nodeType===11?"TEMPLATE":a.nodeName),this.t=a.tagName!=="TEMPLATE"?a:a.content,this.c(t)),this.i(r)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(t){for(let a=0;a<this.n.length;a+=1)insert(this.t,this.n[a],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(detach)}}function construct_svelte_component(e,t){return new e(t)}const managed_styles=new Map;let active=0;function hash(e){let t=5381,a=e.length;for(;a--;)t=(t<<5)-t^e.charCodeAt(a);return t>>>0}function create_style_information(e,t){const a={stylesheet:append_empty_stylesheet(t),rules:{}};return managed_styles.set(e,a),a}function create_rule(e,t,a,r,i,o,u,c=0){const f=16.666/r;let d=`{
`;for(let v=0;v<=1;v+=f){const k=t+(a-t)*o(v);d+=v*100+`%{${u(k,1-k)}}
`}const m=d+`100% {${u(a,1-a)}}
}`,p=`__svelte_${hash(m)}_${c}`,h=get_root_for_style(e),{stylesheet:_,rules:g}=managed_styles.get(h)||create_style_information(h,e);g[p]||(g[p]=!0,_.insertRule(`@keyframes ${p} ${m}`,_.cssRules.length));const b=e.style.animation||"";return e.style.animation=`${b?`${b}, `:""}${p} ${r}ms linear ${i}ms 1 both`,active+=1,p}function delete_rule(e,t){const a=(e.style.animation||"").split(", "),r=a.filter(t?o=>o.indexOf(t)<0:o=>o.indexOf("__svelte")===-1),i=a.length-r.length;i&&(e.style.animation=r.join(", "),active-=i,active||clear_rules())}function clear_rules(){raf(()=>{active||(managed_styles.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&detach(t)}),managed_styles.clear())})}let current_component;function set_current_component(e){current_component=e}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(e){get_current_component().$$.on_mount.push(e)}function afterUpdate(e){get_current_component().$$.after_update.push(e)}function onDestroy(e){get_current_component().$$.on_destroy.push(e)}function createEventDispatcher(){const e=get_current_component();return(t,a,{cancelable:r=!1}={})=>{const i=e.$$.callbacks[t];if(i){const o=custom_event(t,a,{cancelable:r});return i.slice().forEach(u=>{u.call(e,o)}),!o.defaultPrevented}return!0}}function setContext(e,t){return get_current_component().$$.context.set(e,t),t}function getContext(e){return get_current_component().$$.context.get(e)}const dirty_components=[],binding_callbacks=[];let render_callbacks=[];const flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function tick(){return schedule_update(),resolved_promise}function add_render_callback(e){render_callbacks.push(e)}function add_flush_callback(e){flush_callbacks.push(e)}const seen_callbacks=new Set;let flushidx=0;function flush(){if(flushidx!==0)return;const e=current_component;do{try{for(;flushidx<dirty_components.length;){const t=dirty_components[flushidx];flushidx++,set_current_component(t),update(t.$$)}}catch(t){throw dirty_components.length=0,flushidx=0,t}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let t=0;t<render_callbacks.length;t+=1){const a=render_callbacks[t];seen_callbacks.has(a)||(seen_callbacks.add(a),a())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(e)}function update(e){if(e.fragment!==null){e.update(),run_all(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(add_render_callback)}}function flush_render_callbacks(e){const t=[],a=[];render_callbacks.forEach(r=>e.indexOf(r)===-1?t.push(r):a.push(r)),a.forEach(r=>r()),render_callbacks=t}let promise;function wait(){return promise||(promise=Promise.resolve(),promise.then(()=>{promise=null})),promise}function dispatch(e,t,a){e.dispatchEvent(custom_event(`${t?"intro":"outro"}${a}`))}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(e,t){e&&e.i&&(outroing.delete(e),e.i(t))}function transition_out(e,t,a,r){if(e&&e.o){if(outroing.has(e))return;outroing.add(e),outros.c.push(()=>{outroing.delete(e),r&&(a&&e.d(1),r())}),e.o(t)}else r&&r()}const null_transition={duration:0};function create_bidirectional_transition(e,t,a,r){let o=t(e,a,{direction:"both"}),u=r?0:1,c=null,f=null,d=null,m;function p(){d&&delete_rule(e,d)}function h(g,b){const v=g.b-u;return b*=Math.abs(v),{a:u,b:g.b,d:v,duration:b,start:g.start,end:g.start+b,group:g.group}}function _(g){const{delay:b=0,duration:v=300,easing:k=identity$3,tick:A=noop,css:w}=o||null_transition,T={start:now$1()+b,b:g};g||(T.group=outros,outros.r+=1),"inert"in e&&(g?m!==void 0&&(e.inert=m):(m=e.inert,e.inert=!0)),c||f?f=T:(w&&(p(),d=create_rule(e,u,g,v,b,k,w)),g&&A(0,1),c=h(T,v),add_render_callback(()=>dispatch(e,g,"start")),loop(y=>{if(f&&y>f.start&&(c=h(f,v),f=null,dispatch(e,c.b,"start"),w&&(p(),d=create_rule(e,u,c.b,c.duration,0,k,o.css))),c){if(y>=c.end)A(u=c.b,1-u),dispatch(e,c.b,"end"),f||(c.b?p():--c.group.r||run_all(c.group.c)),c=null;else if(y>=c.start){const S=y-c.start;u=c.a+c.d*k(S/c.duration),A(u,1-u)}}return!!(c||f)}))}return{run(g){is_function(o)?wait().then(()=>{o=o({direction:g?"in":"out"}),_(g)}):_(g)},end(){p(),c=f=null}}}function ensure_array_like(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function outro_and_destroy_block(e,t){transition_out(e,1,1,()=>{t.delete(e.key)})}function update_keyed_each(e,t,a,r,i,o,u,c,f,d,m,p){let h=e.length,_=o.length,g=h;const b={};for(;g--;)b[e[g].key]=g;const v=[],k=new Map,A=new Map,w=[];for(g=_;g--;){const O=p(i,o,g),z=a(O);let I=u.get(z);I?r&&w.push(()=>I.p(O,t)):(I=d(z,O),I.c()),k.set(z,v[g]=I),z in b&&A.set(z,Math.abs(g-b[z]))}const T=new Set,y=new Set;function S(O){transition_in(O,1),O.m(c,m),u.set(O.key,O),m=O.first,_--}for(;h&&_;){const O=v[_-1],z=e[h-1],I=O.key,M=z.key;O===z?(m=O.first,h--,_--):k.has(M)?!u.has(I)||T.has(I)?S(O):y.has(M)?h--:A.get(I)>A.get(M)?(y.add(I),S(O)):(T.add(M),h--):(f(z,u),h--)}for(;h--;){const O=e[h];k.has(O.key)||f(O,u)}for(;_;)S(v[_-1]);return run_all(w),v}function bind(e,t,a){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=a,a(e.$$.ctx[r]))}function create_component(e){e&&e.c()}function mount_component(e,t,a){const{fragment:r,after_update:i}=e.$$;r&&r.m(t,a),add_render_callback(()=>{const o=e.$$.on_mount.map(run).filter(is_function);e.$$.on_destroy?e.$$.on_destroy.push(...o):run_all(o),e.$$.on_mount=[]}),i.forEach(add_render_callback)}function destroy_component(e,t){const a=e.$$;a.fragment!==null&&(flush_render_callbacks(a.after_update),run_all(a.on_destroy),a.fragment&&a.fragment.d(t),a.on_destroy=a.fragment=null,a.ctx=[])}function make_dirty(e,t){e.$$.dirty[0]===-1&&(dirty_components.push(e),schedule_update(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function init(e,t,a,r,i,o,u=null,c=[-1]){const f=current_component;set_current_component(e);const d=e.$$={fragment:null,ctx:[],props:o,update:noop,not_equal:i,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(f?f.$$.context:[])),callbacks:blank_object(),dirty:c,skip_bound:!1,root:t.target||f.$$.root};u&&u(d.root);let m=!1;if(d.ctx=a?a(e,t.props||{},(p,h,..._)=>{const g=_.length?_[0]:h;return d.ctx&&i(d.ctx[p],d.ctx[p]=g)&&(!d.skip_bound&&d.bound[p]&&d.bound[p](g),m&&make_dirty(e,p)),h}):[],d.update(),m=!0,run_all(d.before_update),d.fragment=r?r(d.ctx):!1,t.target){if(t.hydrate){const p=children$1(t.target);d.fragment&&d.fragment.l(p),p.forEach(detach)}else d.fragment&&d.fragment.c();t.intro&&transition_in(e.$$.fragment),mount_component(e,t.target,t.anchor),flush()}set_current_component(f)}class SvelteComponent{constructor(){Ie(this,"$$");Ie(this,"$$set")}$destroy(){destroy_component(this,1),this.$destroy=noop}$on(t,a){if(!is_function(a))return noop;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(a),()=>{const i=r.indexOf(a);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!is_empty(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const PUBLIC_VERSION="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(PUBLIC_VERSION);const subscriber_queue=[];function writable(e,t=noop){let a;const r=new Set;function i(c){if(safe_not_equal(e,c)&&(e=c,a)){const f=!subscriber_queue.length;for(const d of r)d[1](),subscriber_queue.push(d,e);if(f){for(let d=0;d<subscriber_queue.length;d+=2)subscriber_queue[d][0](subscriber_queue[d+1]);subscriber_queue.length=0}}}function o(c){i(c(e))}function u(c,f=noop){const d=[c,f];return r.add(d),r.size===1&&(a=t(i,o)||noop),c(e),()=>{r.delete(d),r.size===0&&a&&(a(),a=null)}}return{set:i,update:o,subscribe:u}}var data=writable([]),graphTabs=writable([]),activeGraphTab=writable(-1),graphs=writable([]),addedNewChartData=writable(!1),dataIDsforTables=writable([]),showalldata=writable([]),activeTableTab=writable(-1),menuModalType=writable(null),contextMenu=writable({labels:[],funcs:[]}),selectedTheme=writable("light"),userStyle=writable({"--bg-color":"#fff","--font-color":"#424242","--hover-color":"#eee","--primary-color":"lightblue","--secondary-color":"#888888"}),statusData=writable([]);const BROWSER=!0;function pxToNumber(e){if(!e.endsWith("px"))return;const t=parseFloat(e.slice(0,e.length-2));return isNaN(t)?void 0:t}const getDimensionName=e=>e?"height":"width",calcComputedStyle=e=>window.getComputedStyle(e),getElementRect=e=>e.getBoundingClientRect(),getBordersSizeOffsets=(e,t=!0)=>{if(e.getPropertyValue("box-sizing")==="border-box")return;const a=pxToNumber(e.getPropertyValue("border-left-width"));if(a===void 0){console.error("Splitpanes Error: Fail to parse container `border-left-width`.");return}const r=pxToNumber(e.getPropertyValue("border-top-width"));if(r===void 0){console.error("Splitpanes Error: Fail to parse container `border-top-width`.");return}const i={left:a,top:r};if(t){const o=pxToNumber(e.getPropertyValue("border-right-width"));if(o===void 0){console.error("Splitpanes Error: Fail to parse container `border-right-width`.");return}const u=pxToNumber(e.getPropertyValue("border-bottom-width"));if(u===void 0){console.error("Splitpanes Error: Fail to parse container `border-bottom-width`.");return}const c=i;c.right=o,c.bottom=u}return i};function elementRectWithoutBorder(e,t){t||(t=calcComputedStyle(e));const a=getElementRect(e),r=getBordersSizeOffsets(t,!0)||{left:0,top:0,right:0,bottom:0};return{width:a.width-r.left-r.right,height:a.height-r.top-r.bottom,left:a.left+r.left,top:a.top+r.top}}const positionDiff=(e,t)=>({left:e.left-t.left,top:e.top-t.top});function getGlobalMousePosition(e){const t=e,a=e,{clientX:r,clientY:i}="ontouchstart"in window&&a.touches?a.touches[0]:t;return{left:r,top:i}}function sumPartial(e,t,a,r){let i=0;for(let o=t;o<a;o++)i+=r(e[o],o);return i}function forEachPartial(e,t,a,r){for(let i=t;i<a;i++)r(e[i],i)}function create_fragment$C(e){let t,a,r,i,o=!BROWSER;const u=e[16].default,c=create_slot(u,e,e[18],null);return{c(){t=element("div"),a=space(),c&&c.c(),attr(t,"id",e[0]),attr(t,"class",r=`splitpanes ${e[3]||""} ${e[4]||""}`),attr(t,"style",e[2]),toggle_class(t,"splitpanes--horizontal",e[1]),toggle_class(t,"splitpanes--vertical",!e[1]),toggle_class(t,"splitpanes--dragging",e[7]||e[8]),toggle_class(t,"splitpanes--freeze",!e[6])},m(f,d){insert(f,t,d),append(t,a),c&&c.m(t,null),e[17](t),i=!0},p(f,d){c&&c.p&&(!i||d[0]&262144)&&update_slot_base(c,u,f,f[18],i?get_slot_changes(u,f[18],d,null):get_all_dirty_from_scope(f[18]),null),(!i||d[0]&1)&&attr(t,"id",f[0]),(!i||d[0]&24&&r!==(r=`splitpanes ${f[3]||""} ${f[4]||""}`))&&attr(t,"class",r),(!i||d[0]&4)&&attr(t,"style",f[2]),(!i||d[0]&26)&&toggle_class(t,"splitpanes--horizontal",f[1]),(!i||d[0]&26)&&toggle_class(t,"splitpanes--vertical",!f[1]),(!i||d[0]&408)&&toggle_class(t,"splitpanes--dragging",f[7]||f[8]),(!i||d[0]&88)&&toggle_class(t,"splitpanes--freeze",!f[6])},i(f){i||(transition_in(o),transition_in(c,f),i=!0)},o(f){transition_out(o),transition_out(c,f),i=!1},d(f){f&&detach(t),c&&c.d(f),e[17](null)}}}const KEY={};function instance$C(e,t,a){let r,i,o,{$$slots:u={},$$scope:c}=t,{id:f=void 0}=t,{horizontal:d=!1}=t,{pushOtherPanes:m=!0}=t,{dblClickSplitter:p=!0}=t,{rtl:h="auto"}=t,{firstSplitter:_=!1}=t,{style:g=null}=t,{theme:b="default-theme"}=t,{class:v=""}=t;const k=createEventDispatcher();let A,w=!1,T=!1,y=!1,S=!1,O=!1,z=-1,I=-1,M,E=new Array,W=writable(d);component_subscribe(e,W,R=>a(31,o=R));const H=writable(_);component_subscribe(e,H,R=>a(30,i=R));const $=writable(void 0);component_subscribe(e,$,R=>a(29,r=R));let D=null,N=null;setContext(KEY,{showFirstSplitter:H,veryFirstPaneKey:$,isHorizontal:W,ssrRegisterPaneSize:void 0,onPaneInit:R=>(r===void 0&&set_store_value($,r=R,r),{undefinedPaneInitSize:0}),clientOnly:{onPaneAdd:L,onPaneRemove:C}});function L(R){let ee=-1;Array.from(R.element.parentNode.children).some(J=>(J.className.includes("splitpanes__pane")&&ee++,J===R.element)),ee===0&&set_store_value($,r=R.key,r),E.splice(ee,0,R);for(let J=0;J<E.length;J++)E[J].index=J;w&&he().then(()=>{R.isReady=!0,k("pane-add",{index:ee,panes:ue()})});const Q=(J,de=!0)=>te=>{(de||R.index>0)&&J(te,R)};return{onSplitterDown:Q(Z,!1),onSplitterClick:Q(me,!1),onSplitterDblClick:Q(fe),onPaneClick:Q(P),reportGivenSizeChange:Q(V)}}async function C(R){const ee=E.findIndex(Q=>Q.key===R);if(ee>=0){const Q=E.splice(ee,1)[0];for(let J=0;J<E.length;J++)E[J].index=J;ee===0&&set_store_value($,r=E.length>0?E[0].key:void 0,r),w&&(await he(),k("pane-remove",{removed:Q,panes:ue()}))}}function P(R,ee){k("pane-click",ee)}function V(R,ee){ee.setSz(R),he()}onMount(()=>{ge(),we();for(let R=0;R<E.length;R++)E[R].isReady=!0;w=!0,k("ready"),setTimeout(()=>{a(6,y=!0)},0)}),onDestroy(()=>{w&&x(),w=!1}),afterUpdate(()=>{ge()});function q(R){if(h==="auto")try{return(R??calcComputedStyle(A)).direction==="rtl"}catch{}return h===!0}function j(){document.body.style.cursor=W?"col-resize":"row-resize",document.addEventListener("mousemove",ve,{passive:!1}),document.addEventListener("mouseup",ae),"ontouchstart"in window&&(document.addEventListener("touchmove",ve,{passive:!1}),document.addEventListener("touchend",ae))}function x(){document.body.style.cursor="",document.removeEventListener("mousemove",ve),document.removeEventListener("mouseup",ae),"ontouchstart"in window&&(document.removeEventListener("touchmove",ve),document.removeEventListener("touchend",ae))}const B=R=>R.nodeType===Node.ELEMENT_NODE&&R.classList.contains("splitpanes__splitter");function ne(R,ee,Q){let J=R[d?"top":"left"];return Q&&!d&&(J=ee-J),J}const oe=()=>getDimensionName(d);function Z(R,ee){a(7,S=!0),z=ee.index,ee.setSplitterActive(!0);let J=ee.element;for(;J!=null&&(J=J.previousSibling,!B(J)););if(J==null){console.error("Splitpane Error: Active splitter wasn't found!");return}D=J;const de=getGlobalMousePosition(R),te=getElementRect(D);N=ne(positionDiff(de,te),te[oe()],q()),j()}function ve(R){if(S){R.preventDefault(),a(8,O=!0);const ee=getGlobalMousePosition(R),Q=calcComputedStyle(A),J=elementRectWithoutBorder(A,Q),de=J[oe()],te=q(Q),U=positionDiff(ee,J),K=ne(U,de,te);le(K,de),k("resize",ue())}}function ae(){O&&k("resized",ue()),a(7,S=!1),E[z].setSplitterActive(!1),setTimeout(()=>{a(8,O=!1),x()},100)}function me(R,ee){if("ontouchstart"in window){R.preventDefault();const Q=ee.index;p&&(I===Q?(M&&clearTimeout(M),M=null,fe(R,ee),I=-1):(I=Q,M=setTimeout(()=>{I=-1},500)))}O||k("splitter-click",ee)}function fe(R,ee){if(p){const Q=ee.index;let J=0;for(let U=0;U<E.length;U++){const K=E[U];U!==Q&&(J+=K.min())}const de=Math.min(Math.max(0,100-J),ee.max()),te=J+de;if(te>=100)for(let U=0;U<E.length;U++){const K=E[U];K!==ee?K.setSz(K.min()):K.setSz(100-J)}else{let U=100-te;ee.setSz(de);const K=_e=>{const Te=_e.min(),$e=_e.max(),Ae=Math.min(Math.max(0,U),$e-Te);_e.setSz(Te+Ae),U-=Ae};for(let _e=Q-1;_e>=0;_e--)K(E[_e]);for(let _e=Q+1;_e<E.length;_e++)K(E[_e]);U!=0&&console.warn("Splitpanes: there is a left spare size after computation of splitter double click, which means there are issues on the size constains of the panes.")}k("pane-maximize",ee),k("resized",ue())}a(7,S=!1)}const ue=()=>E.map(R=>({min:R.min(),max:R.max(),size:R.sz(),snap:R.snap()}));function be(R,ee){const Q=$e=>getElementRect($e)[oe()],J=Q(D);let de=0,te=D.previousSibling;for(;te!=null;)B(te)&&(de+=Q(te)),te=te.previousSibling;let U=0,K=D.nextSibling;for(;K!=null;)B(K)&&(U+=Q(K)),K=K.nextSibling;const _e=de+N,Te=de+J+U;return(R-_e)/(ee-Te)*100}function le(R,ee){let Q=z-1,J=E[Q],de=z,te=E[de],U={prevPanesSize:pe(Q),nextPanesSize:se(de),prevReachedMinPanes:0,nextReachedMinPanes:0};const K=0+(m?0:U.prevPanesSize),_e=100-(m?0:U.nextPanesSize),Te=Math.max(Math.min(be(R,ee),_e),K),$e=U.prevPanesSize+J.min()+J.snap(),Ae=100-(U.nextPanesSize+te.min()+te.snap());let Se=Te,Fe=!1;Te<=$e?Te>U.prevPanesSize+J.min()&&(Se=Math.max(J.min()+U.prevPanesSize,100-(te.max()+U.nextPanesSize)),Fe=!0):Te>=Ae&&Te<100-U.nextPanesSize-te.min()&&(Se=Math.min(100-(te.min()+U.nextPanesSize),J.max()+U.prevPanesSize),Fe=!0);const Me=J.max()<100&&Se>=J.max()+U.prevPanesSize,Oe=te.max()<100&&Se<=100-(te.max()+U.nextPanesSize);if(Me||Oe)Me?(J.setSz(J.max()),te.setSz(Math.max(100-J.max()-U.prevPanesSize-U.nextPanesSize,0))):(J.setSz(Math.max(100-te.max()-U.prevPanesSize-U.nextPanesSize,0)),te.setSz(te.max()));else{if(m&&!Fe){const Ee=ke(U,Se);if(!Ee)return;({sums:U,paneBeforeIndex:Q,paneAfterIndex:de}=Ee),J=E[Q],te=E[de]}Q!=null&&J.setSz(Math.min(Math.max(Se-U.prevPanesSize-U.prevReachedMinPanes,J.min()),J.max())),de!=null&&te.setSz(Math.min(Math.max(100-Se-U.nextPanesSize-U.nextReachedMinPanes,te.min()),te.max()))}}function ke(R,ee){var te,U;const Q=z-1;let J=Q,de=Q+1;if(ee<R.prevPanesSize+E[J].min()&&(J=(te=ye(Q))==null?void 0:te.index,R.prevReachedMinPanes=0,J<Q&&forEachPartial(E,J+1,Q+1,K=>{K.setSz(K.min()),R.prevReachedMinPanes+=K.min()}),R.prevPanesSize=pe(J),J==null))return R.prevReachedMinPanes=0,E[0].setSz(E[0].min()),forEachPartial(E,1,Q+1,K=>{K.setSz(K.min()),R.prevReachedMinPanes+=K.min()}),E[de].setSz(100-R.prevReachedMinPanes-E[0].min()-R.prevPanesSize-R.nextPanesSize),null;if(ee>100-R.nextPanesSize-E[de].min()){de=(U=X(Q))==null?void 0:U.index,R.nextReachedMinPanes=0,de>Q+1&&forEachPartial(E,Q+1,de,_e=>{_e.setSz(_e.min()),R.nextReachedMinPanes+=_e.min()}),R.nextPanesSize=se(de);const K=E.length;if(de==null)return R.nextReachedMinPanes=0,E[K-1].setSz(E[K-1].min()),forEachPartial(E,Q+1,K-1,_e=>{_e.setSz(_e.min()),R.nextReachedMinPanes+=_e.min()}),E[J].setSz(100-R.prevPanesSize-R.nextReachedMinPanes-E[K-1].min()-R.nextPanesSize),null}return{sums:R,paneBeforeIndex:J,paneAfterIndex:de}}const Y=R=>R.sz(),pe=R=>sumPartial(E,0,R,Y),se=R=>sumPartial(E,R+1,E.length,Y),ye=R=>[...E].reverse().find(ee=>ee.index<R&&ee.sz()>ee.min()),X=R=>E.find(ee=>ee.index>R+1&&ee.sz()>ee.min());async function he(){T=!0,await tick(),T&&(we(),T=!1)}function we(){ce(),w&&k("resized",ue())}function ce(){if(E.length===0)return;const R=E.length;let ee=100,Q=0,J=0,de=0,te=[],U=[];for(let Ae=0;Ae<R;Ae++){const Se=E[Ae],Fe=Se.sz();Se.givenSize==null?Se.isReady?(de+=Fe,Fe>=Se.max()&&te.push(Se),Fe<=Se.min()&&U.push(Se)):J+=1:(ee-=Fe,Q++,te.push(Se),U.push(Se))}const K=R-Q,_e=K-J;let Te,$e;if(_e>0?(Te=de/_e,Te>.1&&ee>.1?(de+=J*Te,$e=ee/de):(Te=0,$e=1)):(Te=ee/K,$e=1),ee+de>.1){ee=100;for(let Ae=0;Ae<R;Ae++){const Se=E[Ae];if(Se.givenSize==null){const Fe=Se.isReady?Se.sz():Te,Me=Math.max(Math.min(Fe*$e,Se.max()),Se.min());Se.setSz(Me)}ee-=Se.sz()}Math.abs(ee)>.1&&(ee=ie(ee,te,U))}isFinite(ee)?Math.abs(ee)>.1&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints."):console.warn("Splitpanes: Internal error, sizes might be NaN as a result.")}function ie(R,ee,Q){const de=E.length-(R>0?ee.length:Q.length);if(de<=0)return R;const te=R/de;if(E.length===1)E[0].setSz(100),R=0;else for(let U=0;U<E.length;U++){const K=E[U],_e=K.sz();if(R>0&&!ee.includes(K)){const Te=Math.max(Math.min(_e+te,K.max()),K.min()),$e=Te-_e;R-=$e,K.setSz(Te)}else if(!Q.includes(K)){const Te=Math.max(Math.min(_e+te,K.max()),K.min()),$e=Te-_e;R-=$e,K.setSz(Te)}}return R}function ge(){var J;const{children:R}=A;let ee=0,Q=!1;for(let de=0;de<R.length;de++){const te=R.item(de),U=te.classList.contains("splitpanes__pane"),K=te.classList.contains("splitpanes__splitter");if(!U&&!K){(J=te.parentNode)==null||J.removeChild(te),console.warn("Splitpanes: Only <Pane> elements are allowed at the root of <Splitpanes>. One of your DOM nodes was removed.");return}else U&&(!Q&&E[ee].element!==te&&(Q=!0),ee++)}if(Q){const de=[];for(let te=0;te<R.length;te++){const U=R.item(te);if(U.classList.contains("splitpanes__pane")){const _e=E.find(Te=>Te.element===U);_e!=null?(_e.index=de.length,de.push(_e)):console.warn("Splitpanes: Internal error - found a <Pane> elements which isn't tracked.")}}E=de,set_store_value($,r=E.length>0?E[0].key:void 0,r)}}function G(R){binding_callbacks[R?"unshift":"push"](()=>{A=R,a(5,A)})}return e.$$set=R=>{"id"in R&&a(0,f=R.id),"horizontal"in R&&a(1,d=R.horizontal),"pushOtherPanes"in R&&a(12,m=R.pushOtherPanes),"dblClickSplitter"in R&&a(13,p=R.dblClickSplitter),"rtl"in R&&a(14,h=R.rtl),"firstSplitter"in R&&a(15,_=R.firstSplitter),"style"in R&&a(2,g=R.style),"theme"in R&&a(3,b=R.theme),"class"in R&&a(4,v=R.class),"$$scope"in R&&a(18,c=R.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&2&&set_store_value(W,o=d,o),e.$$.dirty[0]&32768&&set_store_value(H,i=_,i)},[f,d,g,b,v,A,y,S,O,W,H,$,m,p,h,_,u,G,c]}class Splitpanes extends SvelteComponent{constructor(t){super(),init(this,t,instance$C,create_fragment$C,safe_not_equal,{id:0,horizontal:1,pushOtherPanes:12,dblClickSplitter:13,rtl:14,firstSplitter:15,style:2,theme:3,class:4},null,[-1,-1,-1])}}const carefullCallbackGenerator=(e,t)=>a=>{const r=e();r!=null&&r[t](a)},carefullCallbackSource=e=>carefullCallbackGenerator.bind(null,e);function create_if_block$p(e){let t,a,r,i,o,u,c=(e[4]!==e[9]||e[5])&&create_if_block_1$b(e);const f=e[20].default,d=create_slot(f,e,e[19],null);return{c(){c&&c.c(),t=space(),a=element("div"),d&&d.c(),attr(a,"class",r=`splitpanes__pane ${e[0]||""}`),attr(a,"style",e[3])},m(m,p){c&&c.m(m,p),insert(m,t,p),insert(m,a,p),d&&d.m(a,null),e[21](a),i=!0,o||(u=listen(a,"click",e[11]("onPaneClick")),o=!0)},p(m,p){m[4]!==m[9]||m[5]?c?c.p(m,p):(c=create_if_block_1$b(m),c.c(),c.m(t.parentNode,t)):c&&(c.d(1),c=null),d&&d.p&&(!i||p&524288)&&update_slot_base(d,f,m,m[19],i?get_slot_changes(f,m[19],p,null):get_all_dirty_from_scope(m[19]),null),(!i||p&1&&r!==(r=`splitpanes__pane ${m[0]||""}`))&&attr(a,"class",r),(!i||p&8)&&attr(a,"style",m[3])},i(m){i||(transition_in(d,m),i=!0)},o(m){transition_out(d,m),i=!1},d(m){m&&(detach(t),detach(a)),c&&c.d(m),d&&d.d(m),e[21](null),o=!1,u()}}}function create_if_block_1$b(e){let t,a,r,i;return{c(){t=element("div"),attr(t,"class",a="splitpanes__splitter "+(e[2]?"splitpanes__splitter__active":""))},m(o,u){insert(o,t,u),r||(i=[listen(t,"mousedown",e[11]("onSplitterDown")),listen(t,"touchstart",e[11]("onSplitterDown")),listen(t,"click",e[11]("onSplitterClick")),listen(t,"dblclick",e[11]("onSplitterDblClick"))],r=!0)},p(o,u){u&4&&a!==(a="splitpanes__splitter "+(o[2]?"splitpanes__splitter__active":""))&&attr(t,"class",a)},d(o){o&&detach(t),r=!1,run_all(i)}}}function create_fragment$B(e){let t,a,r=!e[10]&&create_if_block$p(e);return{c(){r&&r.c(),t=empty$1()},m(i,o){r&&r.m(i,o),insert(i,t,o),a=!0},p(i,[o]){i[10]||r.p(i,o)},i(i){a||(transition_in(r),a=!0)},o(i){transition_out(r),a=!1},d(i){i&&detach(t),r&&r.d(i)}}}function instance$B(e,t,a){let r,i,o,u,c,{$$slots:f={},$$scope:d}=t;const{ssrRegisterPaneSize:m,onPaneInit:p,clientOnly:h,isHorizontal:_,showFirstSplitter:g,veryFirstPaneKey:b}=getContext(KEY);component_subscribe(e,_,D=>a(18,o=D)),component_subscribe(e,g,D=>a(5,c=D)),component_subscribe(e,b,D=>a(4,u=D));let{size:v=null}=t,{minSize:k=0}=t,{maxSize:A=100}=t,{snapSize:w=0}=t,{class:T=""}=t;const y={},S=!BROWSER,{undefinedPaneInitSize:O}=p(y);let z,I=v??O,M=!1,E;const W=carefullCallbackSource(()=>E),H=D=>{D!=I&&W("reportGivenSizeChange")(D)};onMount(()=>{const D={key:y,element:z,givenSize:v,sz:()=>I,setSz:N=>{a(16,I=N),v!=null&&v!=I&&a(12,v=I)},min:()=>k,max:()=>A,snap:()=>w,setSplitterActive:N=>{a(2,M=N)},isReady:!1};E=h.onPaneAdd(D)}),onDestroy(()=>{h.onPaneRemove(y)});function $(D){binding_callbacks[D?"unshift":"push"](()=>{z=D,a(1,z)})}return e.$$set=D=>{"size"in D&&a(12,v=D.size),"minSize"in D&&a(13,k=D.minSize),"maxSize"in D&&a(14,A=D.maxSize),"snapSize"in D&&a(15,w=D.snapSize),"class"in D&&a(0,T=D.class),"$$scope"in D&&a(19,d=D.$$scope)},e.$$.update=()=>{e.$$.dirty&4096&&v!=null&&H(v),e.$$.dirty&262144&&a(17,r=getDimensionName(o)),e.$$.dirty&196608&&a(3,i=`${r}: ${I}%;`)},[T,z,M,i,u,c,_,g,b,y,S,W,v,k,A,w,I,r,o,d,f,$]}class Pane extends SvelteComponent{constructor(t){super(),init(this,t,instance$B,create_fragment$B,safe_not_equal,{size:12,minSize:13,maxSize:14,snapSize:15,class:0})}}function fade(e,{delay:t=0,duration:a=400,easing:r=identity$3}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:a,easing:r,css:o=>`opacity: ${o*i}`}}function create_fragment$A(e){let t,a,r,i,o,u,c,f,d,m,p,h,_,g,b;const v=e[4].default,k=create_slot(v,e,e[3],null);return{c(){t=element("div"),r=space(),i=element("dialog"),o=element("div"),u=element("button"),u.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="svelte-r5e5cj"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg>',c=space(),f=element("h1"),d=text(e[0]),m=space(),p=element("div"),k&&k.c(),attr(t,"class","backdrop svelte-r5e5cj"),attr(u,"class","closeDialogButton svelte-r5e5cj"),set_style(p,"margin-left","1em"),attr(o,"class","modal-box"),attr(i,"id","modal_data"),attr(i,"class","dialog svelte-r5e5cj")},m(A,w){insert(A,t,w),insert(A,r,w),insert(A,i,w),append(i,o),append(o,u),append(o,c),append(o,f),append(f,d),append(o,m),append(o,p),k&&k.m(p,null),_=!0,g||(b=[listen(window,"keydown",e[2]),listen(t,"click",e[1]),listen(u,"click",e[1])],g=!0)},p(A,[w]){e=A,(!_||w&1)&&set_data(d,e[0]),k&&k.p&&(!_||w&8)&&update_slot_base(k,v,e,e[3],_?get_slot_changes(v,e[3],w,null):get_all_dirty_from_scope(e[3]),null)},i(A){_||(A&&add_render_callback(()=>{_&&(a||(a=create_bidirectional_transition(t,fade,{duration:fadeTime_ms},!0)),a.run(1))}),transition_in(k,A),A&&add_render_callback(()=>{_&&(h||(h=create_bidirectional_transition(i,fade,{duration:fadeTime_ms},!0)),h.run(1))}),_=!0)},o(A){A&&(a||(a=create_bidirectional_transition(t,fade,{duration:fadeTime_ms},!1)),a.run(0)),transition_out(k,A),A&&(h||(h=create_bidirectional_transition(i,fade,{duration:fadeTime_ms},!1)),h.run(0)),_=!1},d(A){A&&(detach(t),detach(r),detach(i)),A&&a&&a.end(),k&&k.d(A),A&&h&&h.end(),g=!1,run_all(b)}}}let fadeTime_ms=250;function instance$A(e,t,a){let r;component_subscribe(e,menuModalType,d=>a(5,r=d));let{$$slots:i={},$$scope:o}=t,{title:u=""}=t;function c(){set_store_value(menuModalType,r="",r)}function f(d){d.key,d.keyCode===27&&c()}return e.$$set=d=>{"title"in d&&a(0,u=d.title),"$$scope"in d&&a(3,o=d.$$scope)},[u,c,f,o,i]}class Dialog extends SvelteComponent{constructor(t){super(),init(this,t,instance$A,create_fragment$A,safe_not_equal,{title:0})}}function create_fragment$z(e){let t,a,r,i,o,u,c,f,d,m,p=truncateDecimalPlaces(e[0])+"",h,_,g,b,v=truncateDecimalPlaces(e[1])+"",k,A,w;return{c(){t=element("div"),a=element("label"),r=element("span"),i=text(e[5]),o=space(),u=element("input"),c=space(),f=element("input"),d=space(),m=element("span"),h=text(p),g=space(),b=element("span"),k=text(v),attr(r,"class","svelte-3cymjj"),attr(u,"class","numberInput svelte-3cymjj"),attr(u,"type","number"),attr(u,"id","val"),attr(u,"min",e[0]),attr(u,"max",e[1]),attr(u,"step",e[3]),attr(a,"for","val"),attr(a,"class","sliderLabel svelte-3cymjj"),attr(f,"class","sliderInput svelte-3cymjj"),attr(f,"type","range"),attr(f,"min",e[0]),attr(f,"max",e[1]),attr(f,"step",e[3]),attr(m,"class",_="min "+(e[0]===e[4][0]?"stop":"")+" svelte-3cymjj"),attr(b,"class","max svelte-3cymjj"),attr(t,"class","processItem svelte-3cymjj")},m(T,y){insert(T,t,y),append(t,a),append(a,r),append(r,i),append(a,o),append(a,u),set_input_value(u,e[2]),append(t,c),append(t,f),set_input_value(f,e[2]),append(t,d),append(t,m),append(m,h),append(t,g),append(t,b),append(b,k),A||(w=[listen(u,"change",e[8]),listen(u,"input",e[9]),listen(u,"input",e[10]),listen(f,"change",e[11]),listen(f,"input",e[12]),listen(f,"change",e[13]),listen(f,"input",e[13])],A=!0)},p(T,[y]){y&32&&set_data(i,T[5]),y&1&&attr(u,"min",T[0]),y&2&&attr(u,"max",T[1]),y&8&&attr(u,"step",T[3]),y&4&&to_number(u.value)!==T[2]&&set_input_value(u,T[2]),y&1&&attr(f,"min",T[0]),y&2&&attr(f,"max",T[1]),y&8&&attr(f,"step",T[3]),y&4&&set_input_value(f,T[2]),y&1&&p!==(p=truncateDecimalPlaces(T[0])+"")&&set_data(h,p),y&17&&_!==(_="min "+(T[0]===T[4][0]?"stop":"")+" svelte-3cymjj")&&attr(m,"class",_),y&2&&v!==(v=truncateDecimalPlaces(T[1])+"")&&set_data(k,v)},i:noop,o:noop,d(T){T&&detach(t),A=!1,run_all(w)}}}function truncateDecimalPlaces(e,t=2){const a=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);if(!a||!a[1])return e;const r=a[1].slice(0,t);return parseFloat(a[0].replace(a[1],r))}function instance$z(e,t,a){let{min:r=-100}=t,{max:i=100}=t,{step:o=1}=t,{limits:u=[-1/0,1/0]}=t,{value:c}=t,{label:f="Label:"}=t;function d(){r<u[0]&&a(0,r=u[0]),i>u[1]&&a(1,i=u[1]),c<u[0]&&(a(2,c=u[0]),a(0,r=c)),c>u[1]&&(a(2,c=u[1]),a(1,i=c))}function m(){const k=Math.abs(i-r),A=Math.max(u[0],r+k*.2),w=Math.min(u[1],i-k*.2);Number.isInteger(o)?(c>w||c<A)&&(a(1,i=Math.ceil(c+k/2)),a(0,r=Math.floor(c-k/2))):(c>w||c<A)&&(a(1,i=c+k/2),a(0,r=c-k/2)),d()}const p=()=>m(),h=()=>{d()};function _(){c=to_number(this.value),a(2,c)}const g=()=>m(),b=()=>{d()};function v(){c=to_number(this.value),a(2,c)}return e.$$set=k=>{"min"in k&&a(0,r=k.min),"max"in k&&a(1,i=k.max),"step"in k&&a(3,o=k.step),"limits"in k&&a(4,u=k.limits),"value"in k&&a(2,c=k.value),"label"in k&&a(5,f=k.label)},m(),[r,i,c,o,u,f,d,m,p,h,_,g,b,v]}class Slider extends SvelteComponent{constructor(t){super(),init(this,t,instance$z,create_fragment$z,safe_not_equal,{min:0,max:1,step:3,limits:4,value:2,label:5})}}class LuxonError extends Error{}class InvalidDateTimeError extends LuxonError{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class InvalidIntervalError extends LuxonError{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class InvalidDurationError extends LuxonError{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class ConflictingSpecificationError extends LuxonError{}class InvalidUnitError extends LuxonError{constructor(t){super(`Invalid unit ${t}`)}}class InvalidArgumentError extends LuxonError{}class ZoneIsAbstractError extends LuxonError{constructor(){super("Zone is an abstract class")}}const n="numeric",s="short",l="long",DATE_SHORT={year:n,month:n,day:n},DATE_MED={year:n,month:s,day:n},DATE_MED_WITH_WEEKDAY={year:n,month:s,day:n,weekday:s},DATE_FULL={year:n,month:l,day:n},DATE_HUGE={year:n,month:l,day:n,weekday:l},TIME_SIMPLE={hour:n,minute:n},TIME_WITH_SECONDS={hour:n,minute:n,second:n},TIME_WITH_SHORT_OFFSET={hour:n,minute:n,second:n,timeZoneName:s},TIME_WITH_LONG_OFFSET={hour:n,minute:n,second:n,timeZoneName:l},TIME_24_SIMPLE={hour:n,minute:n,hourCycle:"h23"},TIME_24_WITH_SECONDS={hour:n,minute:n,second:n,hourCycle:"h23"},TIME_24_WITH_SHORT_OFFSET={hour:n,minute:n,second:n,hourCycle:"h23",timeZoneName:s},TIME_24_WITH_LONG_OFFSET={hour:n,minute:n,second:n,hourCycle:"h23",timeZoneName:l},DATETIME_SHORT={year:n,month:n,day:n,hour:n,minute:n},DATETIME_SHORT_WITH_SECONDS={year:n,month:n,day:n,hour:n,minute:n,second:n},DATETIME_MED={year:n,month:s,day:n,hour:n,minute:n},DATETIME_MED_WITH_SECONDS={year:n,month:s,day:n,hour:n,minute:n,second:n},DATETIME_MED_WITH_WEEKDAY={year:n,month:s,day:n,weekday:s,hour:n,minute:n},DATETIME_FULL={year:n,month:l,day:n,hour:n,minute:n,timeZoneName:s},DATETIME_FULL_WITH_SECONDS={year:n,month:l,day:n,hour:n,minute:n,second:n,timeZoneName:s},DATETIME_HUGE={year:n,month:l,day:n,weekday:l,hour:n,minute:n,timeZoneName:l},DATETIME_HUGE_WITH_SECONDS={year:n,month:l,day:n,weekday:l,hour:n,minute:n,second:n,timeZoneName:l};class Zone{get type(){throw new ZoneIsAbstractError}get name(){throw new ZoneIsAbstractError}get ianaName(){return this.name}get isUniversal(){throw new ZoneIsAbstractError}offsetName(t,a){throw new ZoneIsAbstractError}formatOffset(t,a){throw new ZoneIsAbstractError}offset(t){throw new ZoneIsAbstractError}equals(t){throw new ZoneIsAbstractError}get isValid(){throw new ZoneIsAbstractError}}let singleton$1=null;class SystemZone extends Zone{static get instance(){return singleton$1===null&&(singleton$1=new SystemZone),singleton$1}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:a,locale:r}){return parseZoneInfo(t,a,r)}formatOffset(t,a){return formatOffset(this.offset(t),a)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let dtfCache={};function makeDTF(e){return dtfCache[e]||(dtfCache[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),dtfCache[e]}const typeToPos={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function hackyOffset(e,t){const a=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(a),[,i,o,u,c,f,d,m]=r;return[u,i,o,c,f,d,m]}function partsOffset(e,t){const a=e.formatToParts(t),r=[];for(let i=0;i<a.length;i++){const{type:o,value:u}=a[i],c=typeToPos[o];o==="era"?r[c]=u:isUndefined(c)||(r[c]=parseInt(u,10))}return r}let ianaZoneCache={};class IANAZone extends Zone{static create(t){return ianaZoneCache[t]||(ianaZoneCache[t]=new IANAZone(t)),ianaZoneCache[t]}static resetCache(){ianaZoneCache={},dtfCache={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=IANAZone.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:a,locale:r}){return parseZoneInfo(t,a,r,this.name)}formatOffset(t,a){return formatOffset(this.offset(t),a)}offset(t){const a=new Date(t);if(isNaN(a))return NaN;const r=makeDTF(this.name);let[i,o,u,c,f,d,m]=r.formatToParts?partsOffset(r,a):hackyOffset(r,a);c==="BC"&&(i=-Math.abs(i)+1);const h=objToLocalTS({year:i,month:o,day:u,hour:f===24?0:f,minute:d,second:m,millisecond:0});let _=+a;const g=_%1e3;return _-=g>=0?g:1e3+g,(h-_)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let intlLFCache={};function getCachedLF(e,t={}){const a=JSON.stringify([e,t]);let r=intlLFCache[a];return r||(r=new Intl.ListFormat(e,t),intlLFCache[a]=r),r}let intlDTCache={};function getCachedDTF(e,t={}){const a=JSON.stringify([e,t]);let r=intlDTCache[a];return r||(r=new Intl.DateTimeFormat(e,t),intlDTCache[a]=r),r}let intlNumCache={};function getCachedINF(e,t={}){const a=JSON.stringify([e,t]);let r=intlNumCache[a];return r||(r=new Intl.NumberFormat(e,t),intlNumCache[a]=r),r}let intlRelCache={};function getCachedRTF(e,t={}){const{base:a,...r}=t,i=JSON.stringify([e,r]);let o=intlRelCache[i];return o||(o=new Intl.RelativeTimeFormat(e,t),intlRelCache[i]=o),o}let sysLocaleCache=null;function systemLocale(){return sysLocaleCache||(sysLocaleCache=new Intl.DateTimeFormat().resolvedOptions().locale,sysLocaleCache)}let weekInfoCache={};function getCachedWeekInfo(e){let t=weekInfoCache[e];if(!t){const a=new Intl.Locale(e);t="getWeekInfo"in a?a.getWeekInfo():a.weekInfo,weekInfoCache[e]=t}return t}function parseLocaleString(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const a=e.indexOf("-u-");if(a===-1)return[e];{let r,i;try{r=getCachedDTF(e).resolvedOptions(),i=e}catch{const f=e.substring(0,a);r=getCachedDTF(f).resolvedOptions(),i=f}const{numberingSystem:o,calendar:u}=r;return[i,o,u]}}function intlConfigString(e,t,a){return(a||t)&&(e.includes("-u-")||(e+="-u"),a&&(e+=`-ca-${a}`),t&&(e+=`-nu-${t}`)),e}function mapMonths(e){const t=[];for(let a=1;a<=12;a++){const r=DateTime.utc(2009,a,1);t.push(e(r))}return t}function mapWeekdays(e){const t=[];for(let a=1;a<=7;a++){const r=DateTime.utc(2016,11,13+a);t.push(e(r))}return t}function listStuff(e,t,a,r){const i=e.listingMode();return i==="error"?null:i==="en"?a(t):r(t)}function supportsFastNumbers(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class PolyNumberFormatter{constructor(t,a,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:i,floor:o,...u}=r;if(!a||Object.keys(u).length>0){const c={useGrouping:!1,...r};r.padTo>0&&(c.minimumIntegerDigits=r.padTo),this.inf=getCachedINF(t,c)}}format(t){if(this.inf){const a=this.floor?Math.floor(t):t;return this.inf.format(a)}else{const a=this.floor?Math.floor(t):roundTo(t,3);return padStart(a,this.padTo)}}}class PolyDateFormatter{constructor(t,a,r){this.opts=r,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const u=-1*(t.offset/60),c=u>=0?`Etc/GMT+${u}`:`Etc/GMT${u}`;t.offset!==0&&IANAZone.create(c).valid?(i=c,this.dt=t):(i="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,i=t.zone.name):(i="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const o={...this.opts};o.timeZone=o.timeZone||i,this.dtf=getCachedDTF(a,o)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(a=>{if(a.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...a,value:r}}else return a}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class PolyRelFormatter{constructor(t,a,r){this.opts={style:"long",...r},!a&&hasRelative()&&(this.rtf=getCachedRTF(t,r))}format(t,a){return this.rtf?this.rtf.format(t,a):formatRelativeTime(a,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,a){return this.rtf?this.rtf.formatToParts(t,a):[]}}const fallbackWeekSettings={firstDay:1,minimalDays:4,weekend:[6,7]};class Locale{static fromOpts(t){return Locale.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,a,r,i,o=!1){const u=t||Settings.defaultLocale,c=u||(o?"en-US":systemLocale()),f=a||Settings.defaultNumberingSystem,d=r||Settings.defaultOutputCalendar,m=validateWeekSettings(i)||Settings.defaultWeekSettings;return new Locale(c,f,d,m,u)}static resetCache(){sysLocaleCache=null,intlDTCache={},intlNumCache={},intlRelCache={}}static fromObject({locale:t,numberingSystem:a,outputCalendar:r,weekSettings:i}={}){return Locale.create(t,a,r,i)}constructor(t,a,r,i,o){const[u,c,f]=parseLocaleString(t);this.locale=u,this.numberingSystem=a||c||null,this.outputCalendar=r||f||null,this.weekSettings=i,this.intl=intlConfigString(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=supportsFastNumbers(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),a=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&a?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:Locale.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,validateWeekSettings(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,a=!1){return listStuff(this,t,months,()=>{const r=a?{month:t,day:"numeric"}:{month:t},i=a?"format":"standalone";return this.monthsCache[i][t]||(this.monthsCache[i][t]=mapMonths(o=>this.extract(o,r,"month"))),this.monthsCache[i][t]})}weekdays(t,a=!1){return listStuff(this,t,weekdays,()=>{const r=a?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},i=a?"format":"standalone";return this.weekdaysCache[i][t]||(this.weekdaysCache[i][t]=mapWeekdays(o=>this.extract(o,r,"weekday"))),this.weekdaysCache[i][t]})}meridiems(){return listStuff(this,void 0,()=>meridiems,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[DateTime.utc(2016,11,13,9),DateTime.utc(2016,11,13,19)].map(a=>this.extract(a,t,"dayperiod"))}return this.meridiemCache})}eras(t){return listStuff(this,t,eras,()=>{const a={era:t};return this.eraCache[t]||(this.eraCache[t]=[DateTime.utc(-40,1,1),DateTime.utc(2017,1,1)].map(r=>this.extract(r,a,"era"))),this.eraCache[t]})}extract(t,a,r){const i=this.dtFormatter(t,a),o=i.formatToParts(),u=o.find(c=>c.type.toLowerCase()===r);return u?u.value:null}numberFormatter(t={}){return new PolyNumberFormatter(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,a={}){return new PolyDateFormatter(t,this.intl,a)}relFormatter(t={}){return new PolyRelFormatter(this.intl,this.isEnglish(),t)}listFormatter(t={}){return getCachedLF(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:hasLocaleWeekInfo()?getCachedWeekInfo(this.locale):fallbackWeekSettings}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}let singleton=null;class FixedOffsetZone extends Zone{static get utcInstance(){return singleton===null&&(singleton=new FixedOffsetZone(0)),singleton}static instance(t){return t===0?FixedOffsetZone.utcInstance:new FixedOffsetZone(t)}static parseSpecifier(t){if(t){const a=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(a)return new FixedOffsetZone(signedOffset(a[1],a[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${formatOffset(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${formatOffset(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,a){return formatOffset(this.fixed,a)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class InvalidZone extends Zone{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function normalizeZone(e,t){if(isUndefined(e)||e===null)return t;if(e instanceof Zone)return e;if(isString(e)){const a=e.toLowerCase();return a==="default"?t:a==="local"||a==="system"?SystemZone.instance:a==="utc"||a==="gmt"?FixedOffsetZone.utcInstance:FixedOffsetZone.parseSpecifier(a)||IANAZone.create(e)}else return isNumber(e)?FixedOffsetZone.instance(e):typeof e=="object"&&"offset"in e&&typeof e.offset=="function"?e:new InvalidZone(e)}let now=()=>Date.now(),defaultZone="system",defaultLocale$1=null,defaultNumberingSystem=null,defaultOutputCalendar=null,twoDigitCutoffYear=60,throwOnInvalid,defaultWeekSettings=null;class Settings{static get now(){return now}static set now(t){now=t}static set defaultZone(t){defaultZone=t}static get defaultZone(){return normalizeZone(defaultZone,SystemZone.instance)}static get defaultLocale(){return defaultLocale$1}static set defaultLocale(t){defaultLocale$1=t}static get defaultNumberingSystem(){return defaultNumberingSystem}static set defaultNumberingSystem(t){defaultNumberingSystem=t}static get defaultOutputCalendar(){return defaultOutputCalendar}static set defaultOutputCalendar(t){defaultOutputCalendar=t}static get defaultWeekSettings(){return defaultWeekSettings}static set defaultWeekSettings(t){defaultWeekSettings=validateWeekSettings(t)}static get twoDigitCutoffYear(){return twoDigitCutoffYear}static set twoDigitCutoffYear(t){twoDigitCutoffYear=t%100}static get throwOnInvalid(){return throwOnInvalid}static set throwOnInvalid(t){throwOnInvalid=t}static resetCaches(){Locale.resetCache(),IANAZone.resetCache()}}class Invalid{constructor(t,a){this.reason=t,this.explanation=a}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const nonLeapLadder=[0,31,59,90,120,151,181,212,243,273,304,334],leapLadder=[0,31,60,91,121,152,182,213,244,274,305,335];function unitOutOfRange(e,t){return new Invalid("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function dayOfWeek(e,t,a){const r=new Date(Date.UTC(e,t-1,a));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return i===0?7:i}function computeOrdinal(e,t,a){return a+(isLeapYear(e)?leapLadder:nonLeapLadder)[t-1]}function uncomputeOrdinal(e,t){const a=isLeapYear(e)?leapLadder:nonLeapLadder,r=a.findIndex(o=>o<t),i=t-a[r];return{month:r+1,day:i}}function isoWeekdayToLocal(e,t){return(e-t+7)%7+1}function gregorianToWeek(e,t=4,a=1){const{year:r,month:i,day:o}=e,u=computeOrdinal(r,i,o),c=isoWeekdayToLocal(dayOfWeek(r,i,o),a);let f=Math.floor((u-c+14-t)/7),d;return f<1?(d=r-1,f=weeksInWeekYear(d,t,a)):f>weeksInWeekYear(r,t,a)?(d=r+1,f=1):d=r,{weekYear:d,weekNumber:f,weekday:c,...timeObject(e)}}function weekToGregorian(e,t=4,a=1){const{weekYear:r,weekNumber:i,weekday:o}=e,u=isoWeekdayToLocal(dayOfWeek(r,1,t),a),c=daysInYear(r);let f=i*7+o-u-7+t,d;f<1?(d=r-1,f+=daysInYear(d)):f>c?(d=r+1,f-=daysInYear(r)):d=r;const{month:m,day:p}=uncomputeOrdinal(d,f);return{year:d,month:m,day:p,...timeObject(e)}}function gregorianToOrdinal(e){const{year:t,month:a,day:r}=e,i=computeOrdinal(t,a,r);return{year:t,ordinal:i,...timeObject(e)}}function ordinalToGregorian(e){const{year:t,ordinal:a}=e,{month:r,day:i}=uncomputeOrdinal(t,a);return{year:t,month:r,day:i,...timeObject(e)}}function usesLocalWeekValues(e,t){if(!isUndefined(e.localWeekday)||!isUndefined(e.localWeekNumber)||!isUndefined(e.localWeekYear)){if(!isUndefined(e.weekday)||!isUndefined(e.weekNumber)||!isUndefined(e.weekYear))throw new ConflictingSpecificationError("Cannot mix locale-based week fields with ISO-based week fields");return isUndefined(e.localWeekday)||(e.weekday=e.localWeekday),isUndefined(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),isUndefined(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function hasInvalidWeekData(e,t=4,a=1){const r=isInteger(e.weekYear),i=integerBetween(e.weekNumber,1,weeksInWeekYear(e.weekYear,t,a)),o=integerBetween(e.weekday,1,7);return r?i?o?!1:unitOutOfRange("weekday",e.weekday):unitOutOfRange("week",e.weekNumber):unitOutOfRange("weekYear",e.weekYear)}function hasInvalidOrdinalData(e){const t=isInteger(e.year),a=integerBetween(e.ordinal,1,daysInYear(e.year));return t?a?!1:unitOutOfRange("ordinal",e.ordinal):unitOutOfRange("year",e.year)}function hasInvalidGregorianData(e){const t=isInteger(e.year),a=integerBetween(e.month,1,12),r=integerBetween(e.day,1,daysInMonth(e.year,e.month));return t?a?r?!1:unitOutOfRange("day",e.day):unitOutOfRange("month",e.month):unitOutOfRange("year",e.year)}function hasInvalidTimeData(e){const{hour:t,minute:a,second:r,millisecond:i}=e,o=integerBetween(t,0,23)||t===24&&a===0&&r===0&&i===0,u=integerBetween(a,0,59),c=integerBetween(r,0,59),f=integerBetween(i,0,999);return o?u?c?f?!1:unitOutOfRange("millisecond",i):unitOutOfRange("second",r):unitOutOfRange("minute",a):unitOutOfRange("hour",t)}function isUndefined(e){return typeof e>"u"}function isNumber(e){return typeof e=="number"}function isInteger(e){return typeof e=="number"&&e%1===0}function isString(e){return typeof e=="string"}function isDate(e){return Object.prototype.toString.call(e)==="[object Date]"}function hasRelative(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function hasLocaleWeekInfo(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function maybeArray(e){return Array.isArray(e)?e:[e]}function bestBy(e,t,a){if(e.length!==0)return e.reduce((r,i)=>{const o=[t(i),i];return r&&a(r[0],o[0])===r[0]?r:o},null)[1]}function pick(e,t){return t.reduce((a,r)=>(a[r]=e[r],a),{})}function hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function validateWeekSettings(e){if(e==null)return null;if(typeof e!="object")throw new InvalidArgumentError("Week settings must be an object");if(!integerBetween(e.firstDay,1,7)||!integerBetween(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(t=>!integerBetween(t,1,7)))throw new InvalidArgumentError("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function integerBetween(e,t,a){return isInteger(e)&&e>=t&&e<=a}function floorMod(e,t){return e-t*Math.floor(e/t)}function padStart(e,t=2){const a=e<0;let r;return a?r="-"+(""+-e).padStart(t,"0"):r=(""+e).padStart(t,"0"),r}function parseInteger(e){if(!(isUndefined(e)||e===null||e===""))return parseInt(e,10)}function parseFloating(e){if(!(isUndefined(e)||e===null||e===""))return parseFloat(e)}function parseMillis(e){if(!(isUndefined(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function roundTo(e,t,a=!1){const r=10**t;return(a?Math.trunc:Math.round)(e*r)/r}function isLeapYear(e){return e%4===0&&(e%100!==0||e%400===0)}function daysInYear(e){return isLeapYear(e)?366:365}function daysInMonth(e,t){const a=floorMod(t-1,12)+1,r=e+(t-a)/12;return a===2?isLeapYear(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][a-1]}function objToLocalTS(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function firstWeekOffset(e,t,a){return-isoWeekdayToLocal(dayOfWeek(e,1,t),a)+t-1}function weeksInWeekYear(e,t=4,a=1){const r=firstWeekOffset(e,t,a),i=firstWeekOffset(e+1,t,a);return(daysInYear(e)-r+i)/7}function untruncateYear(e){return e>99?e:e>Settings.twoDigitCutoffYear?1900+e:2e3+e}function parseZoneInfo(e,t,a,r=null){const i=new Date(e),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(o.timeZone=r);const u={timeZoneName:t,...o},c=new Intl.DateTimeFormat(a,u).formatToParts(i).find(f=>f.type.toLowerCase()==="timezonename");return c?c.value:null}function signedOffset(e,t){let a=parseInt(e,10);Number.isNaN(a)&&(a=0);const r=parseInt(t,10)||0,i=a<0||Object.is(a,-0)?-r:r;return a*60+i}function asNumber(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new InvalidArgumentError(`Invalid unit value ${e}`);return t}function normalizeObject(e,t){const a={};for(const r in e)if(hasOwnProperty(e,r)){const i=e[r];if(i==null)continue;a[t(r)]=asNumber(i)}return a}function formatOffset(e,t){const a=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),i=e>=0?"+":"-";switch(t){case"short":return`${i}${padStart(a,2)}:${padStart(r,2)}`;case"narrow":return`${i}${a}${r>0?`:${r}`:""}`;case"techie":return`${i}${padStart(a,2)}${padStart(r,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function timeObject(e){return pick(e,["hour","minute","second","millisecond"])}const monthsLong=["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthsNarrow=["J","F","M","A","M","J","J","A","S","O","N","D"];function months(e){switch(e){case"narrow":return[...monthsNarrow];case"short":return[...monthsShort];case"long":return[...monthsLong];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const weekdaysLong=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],weekdaysShort=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],weekdaysNarrow=["M","T","W","T","F","S","S"];function weekdays(e){switch(e){case"narrow":return[...weekdaysNarrow];case"short":return[...weekdaysShort];case"long":return[...weekdaysLong];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const meridiems=["AM","PM"],erasLong=["Before Christ","Anno Domini"],erasShort=["BC","AD"],erasNarrow=["B","A"];function eras(e){switch(e){case"narrow":return[...erasNarrow];case"short":return[...erasShort];case"long":return[...erasLong];default:return null}}function meridiemForDateTime(e){return meridiems[e.hour<12?0:1]}function weekdayForDateTime(e,t){return weekdays(t)[e.weekday-1]}function monthForDateTime(e,t){return months(t)[e.month-1]}function eraForDateTime(e,t){return eras(t)[e.year<0?0:1]}function formatRelativeTime(e,t,a="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=["hours","minutes","seconds"].indexOf(e)===-1;if(a==="auto"&&o){const p=e==="days";switch(t){case 1:return p?"tomorrow":`next ${i[e][0]}`;case-1:return p?"yesterday":`last ${i[e][0]}`;case 0:return p?"today":`this ${i[e][0]}`}}const u=Object.is(t,-0)||t<0,c=Math.abs(t),f=c===1,d=i[e],m=r?f?d[1]:d[2]||d[1]:f?i[e][0]:e;return u?`${c} ${m} ago`:`in ${c} ${m}`}function stringifyTokens(e,t){let a="";for(const r of e)r.literal?a+=r.val:a+=t(r.val);return a}const macroTokenToFormatOpts={D:DATE_SHORT,DD:DATE_MED,DDD:DATE_FULL,DDDD:DATE_HUGE,t:TIME_SIMPLE,tt:TIME_WITH_SECONDS,ttt:TIME_WITH_SHORT_OFFSET,tttt:TIME_WITH_LONG_OFFSET,T:TIME_24_SIMPLE,TT:TIME_24_WITH_SECONDS,TTT:TIME_24_WITH_SHORT_OFFSET,TTTT:TIME_24_WITH_LONG_OFFSET,f:DATETIME_SHORT,ff:DATETIME_MED,fff:DATETIME_FULL,ffff:DATETIME_HUGE,F:DATETIME_SHORT_WITH_SECONDS,FF:DATETIME_MED_WITH_SECONDS,FFF:DATETIME_FULL_WITH_SECONDS,FFFF:DATETIME_HUGE_WITH_SECONDS};class Formatter{static create(t,a={}){return new Formatter(t,a)}static parseFormat(t){let a=null,r="",i=!1;const o=[];for(let u=0;u<t.length;u++){const c=t.charAt(u);c==="'"?(r.length>0&&o.push({literal:i||/^\s+$/.test(r),val:r}),a=null,r="",i=!i):i||c===a?r+=c:(r.length>0&&o.push({literal:/^\s+$/.test(r),val:r}),r=c,a=c)}return r.length>0&&o.push({literal:i||/^\s+$/.test(r),val:r}),o}static macroTokenToFormatOpts(t){return macroTokenToFormatOpts[t]}constructor(t,a){this.opts=a,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,a){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...a}).format()}dtFormatter(t,a={}){return this.loc.dtFormatter(t,{...this.opts,...a})}formatDateTime(t,a){return this.dtFormatter(t,a).format()}formatDateTimeParts(t,a){return this.dtFormatter(t,a).formatToParts()}formatInterval(t,a){return this.dtFormatter(t.start,a).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,a){return this.dtFormatter(t,a).resolvedOptions()}num(t,a=0){if(this.opts.forceSimple)return padStart(t,a);const r={...this.opts};return a>0&&(r.padTo=a),this.loc.numberFormatter(r).format(t)}formatDateTimeFromString(t,a){const r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",o=(_,g)=>this.loc.extract(t,_,g),u=_=>t.isOffsetFixed&&t.offset===0&&_.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,_.format):"",c=()=>r?meridiemForDateTime(t):o({hour:"numeric",hourCycle:"h12"},"dayperiod"),f=(_,g)=>r?monthForDateTime(t,_):o(g?{month:_}:{month:_,day:"numeric"},"month"),d=(_,g)=>r?weekdayForDateTime(t,_):o(g?{weekday:_}:{weekday:_,month:"long",day:"numeric"},"weekday"),m=_=>{const g=Formatter.macroTokenToFormatOpts(_);return g?this.formatWithSystemDefault(t,g):_},p=_=>r?eraForDateTime(t,_):o({era:_},"era"),h=_=>{switch(_){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return u({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return u({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return u({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return c();case"d":return i?o({day:"numeric"},"day"):this.num(t.day);case"dd":return i?o({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return d("short",!0);case"cccc":return d("long",!0);case"ccccc":return d("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return d("short",!1);case"EEEE":return d("long",!1);case"EEEEE":return d("narrow",!1);case"L":return i?o({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return i?o({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return f("short",!0);case"LLLL":return f("long",!0);case"LLLLL":return f("narrow",!0);case"M":return i?o({month:"numeric"},"month"):this.num(t.month);case"MM":return i?o({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return f("short",!1);case"MMMM":return f("long",!1);case"MMMMM":return f("narrow",!1);case"y":return i?o({year:"numeric"},"year"):this.num(t.year);case"yy":return i?o({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return i?o({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return i?o({year:"numeric"},"year"):this.num(t.year,6);case"G":return p("short");case"GG":return p("long");case"GGGGG":return p("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return m(_)}};return stringifyTokens(Formatter.parseFormat(a),h)}formatDurationFromString(t,a){const r=f=>{switch(f[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=f=>d=>{const m=r(d);return m?this.num(f.get(m),d.length):d},o=Formatter.parseFormat(a),u=o.reduce((f,{literal:d,val:m})=>d?f:f.concat(m),[]),c=t.shiftTo(...u.map(r).filter(f=>f));return stringifyTokens(o,i(c))}}const ianaRegex=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function combineRegexes(...e){const t=e.reduce((a,r)=>a+r.source,"");return RegExp(`^${t}$`)}function combineExtractors(...e){return t=>e.reduce(([a,r,i],o)=>{const[u,c,f]=o(t,i);return[{...a,...u},c||r,f]},[{},null,1]).slice(0,2)}function parse(e,...t){if(e==null)return[null,null];for(const[a,r]of t){const i=a.exec(e);if(i)return r(i)}return[null,null]}function simpleParse(...e){return(t,a)=>{const r={};let i;for(i=0;i<e.length;i++)r[e[i]]=parseInteger(t[a+i]);return[r,null,a+i]}}const offsetRegex=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,isoExtendedZone=`(?:${offsetRegex.source}?(?:\\[(${ianaRegex.source})\\])?)?`,isoTimeBaseRegex=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,isoTimeRegex=RegExp(`${isoTimeBaseRegex.source}${isoExtendedZone}`),isoTimeExtensionRegex=RegExp(`(?:T${isoTimeRegex.source})?`),isoYmdRegex=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,isoWeekRegex=/(\d{4})-?W(\d\d)(?:-?(\d))?/,isoOrdinalRegex=/(\d{4})-?(\d{3})/,extractISOWeekData=simpleParse("weekYear","weekNumber","weekDay"),extractISOOrdinalData=simpleParse("year","ordinal"),sqlYmdRegex=/(\d{4})-(\d\d)-(\d\d)/,sqlTimeRegex=RegExp(`${isoTimeBaseRegex.source} ?(?:${offsetRegex.source}|(${ianaRegex.source}))?`),sqlTimeExtensionRegex=RegExp(`(?: ${sqlTimeRegex.source})?`);function int(e,t,a){const r=e[t];return isUndefined(r)?a:parseInteger(r)}function extractISOYmd(e,t){return[{year:int(e,t),month:int(e,t+1,1),day:int(e,t+2,1)},null,t+3]}function extractISOTime(e,t){return[{hours:int(e,t,0),minutes:int(e,t+1,0),seconds:int(e,t+2,0),milliseconds:parseMillis(e[t+3])},null,t+4]}function extractISOOffset(e,t){const a=!e[t]&&!e[t+1],r=signedOffset(e[t+1],e[t+2]),i=a?null:FixedOffsetZone.instance(r);return[{},i,t+3]}function extractIANAZone(e,t){const a=e[t]?IANAZone.create(e[t]):null;return[{},a,t+1]}const isoTimeOnly=RegExp(`^T?${isoTimeBaseRegex.source}$`),isoDuration=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function extractISODuration(e){const[t,a,r,i,o,u,c,f,d]=e,m=t[0]==="-",p=f&&f[0]==="-",h=(_,g=!1)=>_!==void 0&&(g||_&&m)?-_:_;return[{years:h(parseFloating(a)),months:h(parseFloating(r)),weeks:h(parseFloating(i)),days:h(parseFloating(o)),hours:h(parseFloating(u)),minutes:h(parseFloating(c)),seconds:h(parseFloating(f),f==="-0"),milliseconds:h(parseMillis(d),p)}]}const obsOffsets={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function fromStrings(e,t,a,r,i,o,u){const c={year:t.length===2?untruncateYear(parseInteger(t)):parseInteger(t),month:monthsShort.indexOf(a)+1,day:parseInteger(r),hour:parseInteger(i),minute:parseInteger(o)};return u&&(c.second=parseInteger(u)),e&&(c.weekday=e.length>3?weekdaysLong.indexOf(e)+1:weekdaysShort.indexOf(e)+1),c}const rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function extractRFC2822(e){const[,t,a,r,i,o,u,c,f,d,m,p]=e,h=fromStrings(t,i,r,a,o,u,c);let _;return f?_=obsOffsets[f]:d?_=0:_=signedOffset(m,p),[h,new FixedOffsetZone(_)]}function preprocessRFC2822(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const rfc1123=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,rfc850=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,ascii=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function extractRFC1123Or850(e){const[,t,a,r,i,o,u,c]=e;return[fromStrings(t,i,r,a,o,u,c),FixedOffsetZone.utcInstance]}function extractASCII(e){const[,t,a,r,i,o,u,c]=e;return[fromStrings(t,c,a,r,i,o,u),FixedOffsetZone.utcInstance]}const isoYmdWithTimeExtensionRegex=combineRegexes(isoYmdRegex,isoTimeExtensionRegex),isoWeekWithTimeExtensionRegex=combineRegexes(isoWeekRegex,isoTimeExtensionRegex),isoOrdinalWithTimeExtensionRegex=combineRegexes(isoOrdinalRegex,isoTimeExtensionRegex),isoTimeCombinedRegex=combineRegexes(isoTimeRegex),extractISOYmdTimeAndOffset=combineExtractors(extractISOYmd,extractISOTime,extractISOOffset,extractIANAZone),extractISOWeekTimeAndOffset=combineExtractors(extractISOWeekData,extractISOTime,extractISOOffset,extractIANAZone),extractISOOrdinalDateAndTime=combineExtractors(extractISOOrdinalData,extractISOTime,extractISOOffset,extractIANAZone),extractISOTimeAndOffset=combineExtractors(extractISOTime,extractISOOffset,extractIANAZone);function parseISODate(e){return parse(e,[isoYmdWithTimeExtensionRegex,extractISOYmdTimeAndOffset],[isoWeekWithTimeExtensionRegex,extractISOWeekTimeAndOffset],[isoOrdinalWithTimeExtensionRegex,extractISOOrdinalDateAndTime],[isoTimeCombinedRegex,extractISOTimeAndOffset])}function parseRFC2822Date(e){return parse(preprocessRFC2822(e),[rfc2822,extractRFC2822])}function parseHTTPDate(e){return parse(e,[rfc1123,extractRFC1123Or850],[rfc850,extractRFC1123Or850],[ascii,extractASCII])}function parseISODuration(e){return parse(e,[isoDuration,extractISODuration])}const extractISOTimeOnly=combineExtractors(extractISOTime);function parseISOTimeOnly(e){return parse(e,[isoTimeOnly,extractISOTimeOnly])}const sqlYmdWithTimeExtensionRegex=combineRegexes(sqlYmdRegex,sqlTimeExtensionRegex),sqlTimeCombinedRegex=combineRegexes(sqlTimeRegex),extractISOTimeOffsetAndIANAZone=combineExtractors(extractISOTime,extractISOOffset,extractIANAZone);function parseSQL(e){return parse(e,[sqlYmdWithTimeExtensionRegex,extractISOYmdTimeAndOffset],[sqlTimeCombinedRegex,extractISOTimeOffsetAndIANAZone])}const INVALID$2="Invalid Duration",lowOrderMatrix={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},casualMatrix={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...lowOrderMatrix},daysInYearAccurate=146097/400,daysInMonthAccurate=146097/4800,accurateMatrix={years:{quarters:4,months:12,weeks:daysInYearAccurate/7,days:daysInYearAccurate,hours:daysInYearAccurate*24,minutes:daysInYearAccurate*24*60,seconds:daysInYearAccurate*24*60*60,milliseconds:daysInYearAccurate*24*60*60*1e3},quarters:{months:3,weeks:daysInYearAccurate/28,days:daysInYearAccurate/4,hours:daysInYearAccurate*24/4,minutes:daysInYearAccurate*24*60/4,seconds:daysInYearAccurate*24*60*60/4,milliseconds:daysInYearAccurate*24*60*60*1e3/4},months:{weeks:daysInMonthAccurate/7,days:daysInMonthAccurate,hours:daysInMonthAccurate*24,minutes:daysInMonthAccurate*24*60,seconds:daysInMonthAccurate*24*60*60,milliseconds:daysInMonthAccurate*24*60*60*1e3},...lowOrderMatrix},orderedUnits$1=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],reverseUnits=orderedUnits$1.slice(0).reverse();function clone$1(e,t,a=!1){const r={values:a?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new Duration(r)}function durationToMillis(e,t){let a=t.milliseconds??0;for(const r of reverseUnits.slice(1))t[r]&&(a+=t[r]*e[r].milliseconds);return a}function normalizeValues(e,t){const a=durationToMillis(e,t)<0?-1:1;orderedUnits$1.reduceRight((r,i)=>{if(isUndefined(t[i]))return r;if(r){const o=t[r]*a,u=e[i][r],c=Math.floor(o/u);t[i]+=c*a,t[r]-=c*u*a}return i},null),orderedUnits$1.reduce((r,i)=>{if(isUndefined(t[i]))return r;if(r){const o=t[r]%1;t[r]-=o,t[i]+=o*e[r][i]}return i},null)}function removeZeroes(e){const t={};for(const[a,r]of Object.entries(e))r!==0&&(t[a]=r);return t}class Duration{constructor(t){const a=t.conversionAccuracy==="longterm"||!1;let r=a?accurateMatrix:casualMatrix;t.matrix&&(r=t.matrix),this.values=t.values,this.loc=t.loc||Locale.create(),this.conversionAccuracy=a?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(t,a){return Duration.fromObject({milliseconds:t},a)}static fromObject(t,a={}){if(t==null||typeof t!="object")throw new InvalidArgumentError(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new Duration({values:normalizeObject(t,Duration.normalizeUnit),loc:Locale.fromObject(a),conversionAccuracy:a.conversionAccuracy,matrix:a.matrix})}static fromDurationLike(t){if(isNumber(t))return Duration.fromMillis(t);if(Duration.isDuration(t))return t;if(typeof t=="object")return Duration.fromObject(t);throw new InvalidArgumentError(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,a){const[r]=parseISODuration(t);return r?Duration.fromObject(r,a):Duration.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,a){const[r]=parseISOTimeOnly(t);return r?Duration.fromObject(r,a):Duration.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,a=null){if(!t)throw new InvalidArgumentError("need to specify a reason the Duration is invalid");const r=t instanceof Invalid?t:new Invalid(t,a);if(Settings.throwOnInvalid)throw new InvalidDurationError(r);return new Duration({invalid:r})}static normalizeUnit(t){const a={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!a)throw new InvalidUnitError(t);return a}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,a={}){const r={...a,floor:a.round!==!1&&a.floor!==!1};return this.isValid?Formatter.create(this.loc,r).formatDurationFromString(this,t):INVALID$2}toHuman(t={}){if(!this.isValid)return INVALID$2;const a=orderedUnits$1.map(r=>{const i=this.values[r];return isUndefined(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:r.slice(0,-1)}).format(i)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(a)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=roundTo(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const a=this.toMillis();return a<0||a>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},DateTime.fromMillis(a,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?durationToMillis(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const a=Duration.fromDurationLike(t),r={};for(const i of orderedUnits$1)(hasOwnProperty(a.values,i)||hasOwnProperty(this.values,i))&&(r[i]=a.get(i)+this.get(i));return clone$1(this,{values:r},!0)}minus(t){if(!this.isValid)return this;const a=Duration.fromDurationLike(t);return this.plus(a.negate())}mapUnits(t){if(!this.isValid)return this;const a={};for(const r of Object.keys(this.values))a[r]=asNumber(t(this.values[r],r));return clone$1(this,{values:a},!0)}get(t){return this[Duration.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const a={...this.values,...normalizeObject(t,Duration.normalizeUnit)};return clone$1(this,{values:a})}reconfigure({locale:t,numberingSystem:a,conversionAccuracy:r,matrix:i}={}){const u={loc:this.loc.clone({locale:t,numberingSystem:a}),matrix:i,conversionAccuracy:r};return clone$1(this,u)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return normalizeValues(this.matrix,t),clone$1(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=removeZeroes(this.normalize().shiftToAll().toObject());return clone$1(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(u=>Duration.normalizeUnit(u));const a={},r={},i=this.toObject();let o;for(const u of orderedUnits$1)if(t.indexOf(u)>=0){o=u;let c=0;for(const d in r)c+=this.matrix[d][u]*r[d],r[d]=0;isNumber(i[u])&&(c+=i[u]);const f=Math.trunc(c);a[u]=f,r[u]=(c*1e3-f*1e3)/1e3}else isNumber(i[u])&&(r[u]=i[u]);for(const u in r)r[u]!==0&&(a[o]+=u===o?r[u]:r[u]/this.matrix[o][u]);return normalizeValues(this.matrix,a),clone$1(this,{values:a},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const a of Object.keys(this.values))t[a]=this.values[a]===0?0:-this.values[a];return clone$1(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function a(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(const r of orderedUnits$1)if(!a(this.values[r],t.values[r]))return!1;return!0}}const INVALID$1="Invalid Interval";function validateStartEnd(e,t){return!e||!e.isValid?Interval.invalid("missing or invalid start"):!t||!t.isValid?Interval.invalid("missing or invalid end"):t<e?Interval.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class Interval{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,a=null){if(!t)throw new InvalidArgumentError("need to specify a reason the Interval is invalid");const r=t instanceof Invalid?t:new Invalid(t,a);if(Settings.throwOnInvalid)throw new InvalidIntervalError(r);return new Interval({invalid:r})}static fromDateTimes(t,a){const r=friendlyDateTime(t),i=friendlyDateTime(a),o=validateStartEnd(r,i);return o??new Interval({start:r,end:i})}static after(t,a){const r=Duration.fromDurationLike(a),i=friendlyDateTime(t);return Interval.fromDateTimes(i,i.plus(r))}static before(t,a){const r=Duration.fromDurationLike(a),i=friendlyDateTime(t);return Interval.fromDateTimes(i.minus(r),i)}static fromISO(t,a){const[r,i]=(t||"").split("/",2);if(r&&i){let o,u;try{o=DateTime.fromISO(r,a),u=o.isValid}catch{u=!1}let c,f;try{c=DateTime.fromISO(i,a),f=c.isValid}catch{f=!1}if(u&&f)return Interval.fromDateTimes(o,c);if(u){const d=Duration.fromISO(i,a);if(d.isValid)return Interval.after(o,d)}else if(f){const d=Duration.fromISO(r,a);if(d.isValid)return Interval.before(c,d)}}return Interval.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",a){if(!this.isValid)return NaN;const r=this.start.startOf(t,a);let i;return a!=null&&a.useLocaleWeeks?i=this.end.reconfigure({locale:r.locale}):i=this.end,i=i.startOf(t,a),Math.floor(i.diff(r,t).get(t))+(i.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:a}={}){return this.isValid?Interval.fromDateTimes(t||this.s,a||this.e):this}splitAt(...t){if(!this.isValid)return[];const a=t.map(friendlyDateTime).filter(u=>this.contains(u)).sort((u,c)=>u.toMillis()-c.toMillis()),r=[];let{s:i}=this,o=0;for(;i<this.e;){const u=a[o]||this.e,c=+u>+this.e?this.e:u;r.push(Interval.fromDateTimes(i,c)),i=c,o+=1}return r}splitBy(t){const a=Duration.fromDurationLike(t);if(!this.isValid||!a.isValid||a.as("milliseconds")===0)return[];let{s:r}=this,i=1,o;const u=[];for(;r<this.e;){const c=this.start.plus(a.mapUnits(f=>f*i));o=+c>+this.e?this.e:c,u.push(Interval.fromDateTimes(r,o)),r=o,i+=1}return u}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const a=this.s>t.s?this.s:t.s,r=this.e<t.e?this.e:t.e;return a>=r?null:Interval.fromDateTimes(a,r)}union(t){if(!this.isValid)return this;const a=this.s<t.s?this.s:t.s,r=this.e>t.e?this.e:t.e;return Interval.fromDateTimes(a,r)}static merge(t){const[a,r]=t.sort((i,o)=>i.s-o.s).reduce(([i,o],u)=>o?o.overlaps(u)||o.abutsStart(u)?[i,o.union(u)]:[i.concat([o]),u]:[i,u],[[],null]);return r&&a.push(r),a}static xor(t){let a=null,r=0;const i=[],o=t.map(f=>[{time:f.s,type:"s"},{time:f.e,type:"e"}]),u=Array.prototype.concat(...o),c=u.sort((f,d)=>f.time-d.time);for(const f of c)r+=f.type==="s"?1:-1,r===1?a=f.time:(a&&+a!=+f.time&&i.push(Interval.fromDateTimes(a,f.time)),a=null);return Interval.merge(i)}difference(...t){return Interval.xor([this].concat(t)).map(a=>this.intersection(a)).filter(a=>a&&!a.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:INVALID$1}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=DATE_SHORT,a={}){return this.isValid?Formatter.create(this.s.loc.clone(a),t).formatInterval(this):INVALID$1}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:INVALID$1}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:INVALID$1}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:INVALID$1}toFormat(t,{separator:a="  "}={}){return this.isValid?`${this.s.toFormat(t)}${a}${this.e.toFormat(t)}`:INVALID$1}toDuration(t,a){return this.isValid?this.e.diff(this.s,t,a):Duration.invalid(this.invalidReason)}mapEndpoints(t){return Interval.fromDateTimes(t(this.s),t(this.e))}}class Info{static hasDST(t=Settings.defaultZone){const a=DateTime.now().setZone(t).set({month:12});return!t.isUniversal&&a.offset!==a.set({month:6}).offset}static isValidIANAZone(t){return IANAZone.isValidZone(t)}static normalizeZone(t){return normalizeZone(t,Settings.defaultZone)}static getStartOfWeek({locale:t=null,locObj:a=null}={}){return(a||Locale.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:a=null}={}){return(a||Locale.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:a=null}={}){return(a||Locale.create(t)).getWeekendDays().slice()}static months(t="long",{locale:a=null,numberingSystem:r=null,locObj:i=null,outputCalendar:o="gregory"}={}){return(i||Locale.create(a,r,o)).months(t)}static monthsFormat(t="long",{locale:a=null,numberingSystem:r=null,locObj:i=null,outputCalendar:o="gregory"}={}){return(i||Locale.create(a,r,o)).months(t,!0)}static weekdays(t="long",{locale:a=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Locale.create(a,r,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:a=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Locale.create(a,r,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return Locale.create(t).meridiems()}static eras(t="short",{locale:a=null}={}){return Locale.create(a,null,"gregory").eras(t)}static features(){return{relative:hasRelative(),localeWeek:hasLocaleWeekInfo()}}}function dayDiff(e,t){const a=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=a(t)-a(e);return Math.floor(Duration.fromMillis(r).as("days"))}function highOrderDiffs(e,t,a){const r=[["years",(f,d)=>d.year-f.year],["quarters",(f,d)=>d.quarter-f.quarter+(d.year-f.year)*4],["months",(f,d)=>d.month-f.month+(d.year-f.year)*12],["weeks",(f,d)=>{const m=dayDiff(f,d);return(m-m%7)/7}],["days",dayDiff]],i={},o=e;let u,c;for(const[f,d]of r)a.indexOf(f)>=0&&(u=f,i[f]=d(e,t),c=o.plus(i),c>t?(i[f]--,e=o.plus(i),e>t&&(c=e,i[f]--,e=o.plus(i))):e=c);return[e,i,c,u]}function diff(e,t,a,r){let[i,o,u,c]=highOrderDiffs(e,t,a);const f=t-i,d=a.filter(p=>["hours","minutes","seconds","milliseconds"].indexOf(p)>=0);d.length===0&&(u<t&&(u=i.plus({[c]:1})),u!==i&&(o[c]=(o[c]||0)+f/(u-i)));const m=Duration.fromObject(o,r);return d.length>0?Duration.fromMillis(f,r).shiftTo(...d).plus(m):m}const numberingSystems={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},numberingSystemsUTF16={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},hanidecChars=numberingSystems.hanidec.replace(/[\[|\]]/g,"").split("");function parseDigits(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let a=0;a<e.length;a++){const r=e.charCodeAt(a);if(e[a].search(numberingSystems.hanidec)!==-1)t+=hanidecChars.indexOf(e[a]);else for(const i in numberingSystemsUTF16){const[o,u]=numberingSystemsUTF16[i];r>=o&&r<=u&&(t+=r-o)}}return parseInt(t,10)}else return t}function digitRegex({numberingSystem:e},t=""){return new RegExp(`${numberingSystems[e||"latn"]}${t}`)}const MISSING_FTP="missing Intl.DateTimeFormat.formatToParts support";function intUnit(e,t=a=>a){return{regex:e,deser:([a])=>t(parseDigits(a))}}const NBSP="",spaceOrNBSP=`[ ${NBSP}]`,spaceOrNBSPRegExp=new RegExp(spaceOrNBSP,"g");function fixListRegex(e){return e.replace(/\./g,"\\.?").replace(spaceOrNBSPRegExp,spaceOrNBSP)}function stripInsensitivities(e){return e.replace(/\./g,"").replace(spaceOrNBSPRegExp," ").toLowerCase()}function oneOf(e,t){return e===null?null:{regex:RegExp(e.map(fixListRegex).join("|")),deser:([a])=>e.findIndex(r=>stripInsensitivities(a)===stripInsensitivities(r))+t}}function offset(e,t){return{regex:e,deser:([,a,r])=>signedOffset(a,r),groups:t}}function simple(e){return{regex:e,deser:([t])=>t}}function escapeToken(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function unitForToken(e,t){const a=digitRegex(t),r=digitRegex(t,"{2}"),i=digitRegex(t,"{3}"),o=digitRegex(t,"{4}"),u=digitRegex(t,"{6}"),c=digitRegex(t,"{1,2}"),f=digitRegex(t,"{1,3}"),d=digitRegex(t,"{1,6}"),m=digitRegex(t,"{1,9}"),p=digitRegex(t,"{2,4}"),h=digitRegex(t,"{4,6}"),_=v=>({regex:RegExp(escapeToken(v.val)),deser:([k])=>k,literal:!0}),b=(v=>{if(e.literal)return _(v);switch(v.val){case"G":return oneOf(t.eras("short"),0);case"GG":return oneOf(t.eras("long"),0);case"y":return intUnit(d);case"yy":return intUnit(p,untruncateYear);case"yyyy":return intUnit(o);case"yyyyy":return intUnit(h);case"yyyyyy":return intUnit(u);case"M":return intUnit(c);case"MM":return intUnit(r);case"MMM":return oneOf(t.months("short",!0),1);case"MMMM":return oneOf(t.months("long",!0),1);case"L":return intUnit(c);case"LL":return intUnit(r);case"LLL":return oneOf(t.months("short",!1),1);case"LLLL":return oneOf(t.months("long",!1),1);case"d":return intUnit(c);case"dd":return intUnit(r);case"o":return intUnit(f);case"ooo":return intUnit(i);case"HH":return intUnit(r);case"H":return intUnit(c);case"hh":return intUnit(r);case"h":return intUnit(c);case"mm":return intUnit(r);case"m":return intUnit(c);case"q":return intUnit(c);case"qq":return intUnit(r);case"s":return intUnit(c);case"ss":return intUnit(r);case"S":return intUnit(f);case"SSS":return intUnit(i);case"u":return simple(m);case"uu":return simple(c);case"uuu":return intUnit(a);case"a":return oneOf(t.meridiems(),0);case"kkkk":return intUnit(o);case"kk":return intUnit(p,untruncateYear);case"W":return intUnit(c);case"WW":return intUnit(r);case"E":case"c":return intUnit(a);case"EEE":return oneOf(t.weekdays("short",!1),1);case"EEEE":return oneOf(t.weekdays("long",!1),1);case"ccc":return oneOf(t.weekdays("short",!0),1);case"cccc":return oneOf(t.weekdays("long",!0),1);case"Z":case"ZZ":return offset(new RegExp(`([+-]${c.source})(?::(${r.source}))?`),2);case"ZZZ":return offset(new RegExp(`([+-]${c.source})(${r.source})?`),2);case"z":return simple(/[a-z_+-/]{1,256}?/i);case" ":return simple(/[^\S\n\r]/);default:return _(v)}})(e)||{invalidReason:MISSING_FTP};return b.token=e,b}const partTypeStyleToTokenVal={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function tokenForPart(e,t,a){const{type:r,value:i}=e;if(r==="literal"){const f=/^\s+$/.test(i);return{literal:!f,val:f?" ":i}}const o=t[r];let u=r;r==="hour"&&(t.hour12!=null?u=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?u="hour12":u="hour24":u=a.hour12?"hour12":"hour24");let c=partTypeStyleToTokenVal[u];if(typeof c=="object"&&(c=c[o]),c)return{literal:!1,val:c}}function buildRegex(e){return[`^${e.map(a=>a.regex).reduce((a,r)=>`${a}(${r.source})`,"")}$`,e]}function match(e,t,a){const r=e.match(t);if(r){const i={};let o=1;for(const u in a)if(hasOwnProperty(a,u)){const c=a[u],f=c.groups?c.groups+1:1;!c.literal&&c.token&&(i[c.token.val[0]]=c.deser(r.slice(o,o+f))),o+=f}return[r,i]}else return[r,{}]}function dateTimeFromMatches(e){const t=o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let a=null,r;return isUndefined(e.z)||(a=IANAZone.create(e.z)),isUndefined(e.Z)||(a||(a=new FixedOffsetZone(e.Z)),r=e.Z),isUndefined(e.q)||(e.M=(e.q-1)*3+1),isUndefined(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),isUndefined(e.u)||(e.S=parseMillis(e.u)),[Object.keys(e).reduce((o,u)=>{const c=t(u);return c&&(o[c]=e[u]),o},{}),a,r]}let dummyDateTimeCache=null;function getDummyDateTime(){return dummyDateTimeCache||(dummyDateTimeCache=DateTime.fromMillis(1555555555555)),dummyDateTimeCache}function maybeExpandMacroToken(e,t){if(e.literal)return e;const a=Formatter.macroTokenToFormatOpts(e.val),r=formatOptsToTokens(a,t);return r==null||r.includes(void 0)?e:r}function expandMacroTokens(e,t){return Array.prototype.concat(...e.map(a=>maybeExpandMacroToken(a,t)))}function explainFromTokens(e,t,a){const r=expandMacroTokens(Formatter.parseFormat(a),e),i=r.map(u=>unitForToken(u,e)),o=i.find(u=>u.invalidReason);if(o)return{input:t,tokens:r,invalidReason:o.invalidReason};{const[u,c]=buildRegex(i),f=RegExp(u,"i"),[d,m]=match(t,f,c),[p,h,_]=m?dateTimeFromMatches(m):[null,null,void 0];if(hasOwnProperty(m,"a")&&hasOwnProperty(m,"H"))throw new ConflictingSpecificationError("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:r,regex:f,rawMatches:d,matches:m,result:p,zone:h,specificOffset:_}}}function parseFromTokens(e,t,a){const{result:r,zone:i,specificOffset:o,invalidReason:u}=explainFromTokens(e,t,a);return[r,i,o,u]}function formatOptsToTokens(e,t){if(!e)return null;const r=Formatter.create(t,e).dtFormatter(getDummyDateTime()),i=r.formatToParts(),o=r.resolvedOptions();return i.map(u=>tokenForPart(u,e,o))}const INVALID="Invalid DateTime",MAX_DATE=864e13;function unsupportedZone(e){return new Invalid("unsupported zone",`the zone "${e.name}" is not supported`)}function possiblyCachedWeekData(e){return e.weekData===null&&(e.weekData=gregorianToWeek(e.c)),e.weekData}function possiblyCachedLocalWeekData(e){return e.localWeekData===null&&(e.localWeekData=gregorianToWeek(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function clone(e,t){const a={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new DateTime({...a,...t,old:a})}function fixOffset(e,t,a){let r=e-t*60*1e3;const i=a.offset(r);if(t===i)return[r,t];r-=(i-t)*60*1e3;const o=a.offset(r);return i===o?[r,i]:[e-Math.min(i,o)*60*1e3,Math.max(i,o)]}function tsToObj(e,t){e+=t*60*1e3;const a=new Date(e);return{year:a.getUTCFullYear(),month:a.getUTCMonth()+1,day:a.getUTCDate(),hour:a.getUTCHours(),minute:a.getUTCMinutes(),second:a.getUTCSeconds(),millisecond:a.getUTCMilliseconds()}}function objToTS(e,t,a){return fixOffset(objToLocalTS(e),t,a)}function adjustTime(e,t){const a=e.o,r=e.c.year+Math.trunc(t.years),i=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,o={...e.c,year:r,month:i,day:Math.min(e.c.day,daysInMonth(r,i))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},u=Duration.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),c=objToLocalTS(o);let[f,d]=fixOffset(c,a,e.zone);return u!==0&&(f+=u,d=e.zone.offset(f)),{ts:f,o:d}}function parseDataToDateTime(e,t,a,r,i,o){const{setZone:u,zone:c}=a;if(e&&Object.keys(e).length!==0||t){const f=t||c,d=DateTime.fromObject(e,{...a,zone:f,specificOffset:o});return u?d:d.setZone(c)}else return DateTime.invalid(new Invalid("unparsable",`the input "${i}" can't be parsed as ${r}`))}function toTechFormat(e,t,a=!0){return e.isValid?Formatter.create(Locale.create("en-US"),{allowZ:a,forceSimple:!0}).formatDateTimeFromString(e,t):null}function toISODate(e,t){const a=e.c.year>9999||e.c.year<0;let r="";return a&&e.c.year>=0&&(r+="+"),r+=padStart(e.c.year,a?6:4),t?(r+="-",r+=padStart(e.c.month),r+="-",r+=padStart(e.c.day)):(r+=padStart(e.c.month),r+=padStart(e.c.day)),r}function toISOTime(e,t,a,r,i,o){let u=padStart(e.c.hour);return t?(u+=":",u+=padStart(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!a)&&(u+=":")):u+=padStart(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!a)&&(u+=padStart(e.c.second),(e.c.millisecond!==0||!r)&&(u+=".",u+=padStart(e.c.millisecond,3))),i&&(e.isOffsetFixed&&e.offset===0&&!o?u+="Z":e.o<0?(u+="-",u+=padStart(Math.trunc(-e.o/60)),u+=":",u+=padStart(Math.trunc(-e.o%60))):(u+="+",u+=padStart(Math.trunc(e.o/60)),u+=":",u+=padStart(Math.trunc(e.o%60)))),o&&(u+="["+e.zone.ianaName+"]"),u}const defaultUnitValues={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},defaultWeekUnitValues={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},defaultOrdinalUnitValues={ordinal:1,hour:0,minute:0,second:0,millisecond:0},orderedUnits=["year","month","day","hour","minute","second","millisecond"],orderedWeekUnits=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],orderedOrdinalUnits=["year","ordinal","hour","minute","second","millisecond"];function normalizeUnit(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new InvalidUnitError(e);return t}function normalizeUnitWithLocalWeeks(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return normalizeUnit(e)}}function quickDT(e,t){const a=normalizeZone(t.zone,Settings.defaultZone),r=Locale.fromObject(t),i=Settings.now();let o,u;if(isUndefined(e.year))o=i;else{for(const d of orderedUnits)isUndefined(e[d])&&(e[d]=defaultUnitValues[d]);const c=hasInvalidGregorianData(e)||hasInvalidTimeData(e);if(c)return DateTime.invalid(c);const f=a.offset(i);[o,u]=objToTS(e,f,a)}return new DateTime({ts:o,zone:a,loc:r,o:u})}function diffRelative(e,t,a){const r=isUndefined(a.round)?!0:a.round,i=(u,c)=>(u=roundTo(u,r||a.calendary?0:2,!0),t.loc.clone(a).relFormatter(a).format(u,c)),o=u=>a.calendary?t.hasSame(e,u)?0:t.startOf(u).diff(e.startOf(u),u).get(u):t.diff(e,u).get(u);if(a.unit)return i(o(a.unit),a.unit);for(const u of a.units){const c=o(u);if(Math.abs(c)>=1)return i(c,u)}return i(e>t?-0:0,a.units[a.units.length-1])}function lastOpts(e){let t={},a;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],a=Array.from(e).slice(0,e.length-1)):a=Array.from(e),[t,a]}class DateTime{constructor(t){const a=t.zone||Settings.defaultZone;let r=t.invalid||(Number.isNaN(t.ts)?new Invalid("invalid input"):null)||(a.isValid?null:unsupportedZone(a));this.ts=isUndefined(t.ts)?Settings.now():t.ts;let i=null,o=null;if(!r)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(a))[i,o]=[t.old.c,t.old.o];else{const c=a.offset(this.ts);i=tsToObj(this.ts,c),r=Number.isNaN(i.year)?new Invalid("invalid input"):null,i=r?null:i,o=r?null:c}this._zone=a,this.loc=t.loc||Locale.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=i,this.o=o,this.isLuxonDateTime=!0}static now(){return new DateTime({})}static local(){const[t,a]=lastOpts(arguments),[r,i,o,u,c,f,d]=a;return quickDT({year:r,month:i,day:o,hour:u,minute:c,second:f,millisecond:d},t)}static utc(){const[t,a]=lastOpts(arguments),[r,i,o,u,c,f,d]=a;return t.zone=FixedOffsetZone.utcInstance,quickDT({year:r,month:i,day:o,hour:u,minute:c,second:f,millisecond:d},t)}static fromJSDate(t,a={}){const r=isDate(t)?t.valueOf():NaN;if(Number.isNaN(r))return DateTime.invalid("invalid input");const i=normalizeZone(a.zone,Settings.defaultZone);return i.isValid?new DateTime({ts:r,zone:i,loc:Locale.fromObject(a)}):DateTime.invalid(unsupportedZone(i))}static fromMillis(t,a={}){if(isNumber(t))return t<-MAX_DATE||t>MAX_DATE?DateTime.invalid("Timestamp out of range"):new DateTime({ts:t,zone:normalizeZone(a.zone,Settings.defaultZone),loc:Locale.fromObject(a)});throw new InvalidArgumentError(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,a={}){if(isNumber(t))return new DateTime({ts:t*1e3,zone:normalizeZone(a.zone,Settings.defaultZone),loc:Locale.fromObject(a)});throw new InvalidArgumentError("fromSeconds requires a numerical input")}static fromObject(t,a={}){t=t||{};const r=normalizeZone(a.zone,Settings.defaultZone);if(!r.isValid)return DateTime.invalid(unsupportedZone(r));const i=Locale.fromObject(a),o=normalizeObject(t,normalizeUnitWithLocalWeeks),{minDaysInFirstWeek:u,startOfWeek:c}=usesLocalWeekValues(o,i),f=Settings.now(),d=isUndefined(a.specificOffset)?r.offset(f):a.specificOffset,m=!isUndefined(o.ordinal),p=!isUndefined(o.year),h=!isUndefined(o.month)||!isUndefined(o.day),_=p||h,g=o.weekYear||o.weekNumber;if((_||m)&&g)throw new ConflictingSpecificationError("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&m)throw new ConflictingSpecificationError("Can't mix ordinal dates with month/day");const b=g||o.weekday&&!_;let v,k,A=tsToObj(f,d);b?(v=orderedWeekUnits,k=defaultWeekUnitValues,A=gregorianToWeek(A,u,c)):m?(v=orderedOrdinalUnits,k=defaultOrdinalUnitValues,A=gregorianToOrdinal(A)):(v=orderedUnits,k=defaultUnitValues);let w=!1;for(const M of v){const E=o[M];isUndefined(E)?w?o[M]=k[M]:o[M]=A[M]:w=!0}const T=b?hasInvalidWeekData(o,u,c):m?hasInvalidOrdinalData(o):hasInvalidGregorianData(o),y=T||hasInvalidTimeData(o);if(y)return DateTime.invalid(y);const S=b?weekToGregorian(o,u,c):m?ordinalToGregorian(o):o,[O,z]=objToTS(S,d,r),I=new DateTime({ts:O,zone:r,o:z,loc:i});return o.weekday&&_&&t.weekday!==I.weekday?DateTime.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${I.toISO()}`):I}static fromISO(t,a={}){const[r,i]=parseISODate(t);return parseDataToDateTime(r,i,a,"ISO 8601",t)}static fromRFC2822(t,a={}){const[r,i]=parseRFC2822Date(t);return parseDataToDateTime(r,i,a,"RFC 2822",t)}static fromHTTP(t,a={}){const[r,i]=parseHTTPDate(t);return parseDataToDateTime(r,i,a,"HTTP",a)}static fromFormat(t,a,r={}){if(isUndefined(t)||isUndefined(a))throw new InvalidArgumentError("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:o=null}=r,u=Locale.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0}),[c,f,d,m]=parseFromTokens(u,t,a);return m?DateTime.invalid(m):parseDataToDateTime(c,f,r,`format ${a}`,t,d)}static fromString(t,a,r={}){return DateTime.fromFormat(t,a,r)}static fromSQL(t,a={}){const[r,i]=parseSQL(t);return parseDataToDateTime(r,i,a,"SQL",t)}static invalid(t,a=null){if(!t)throw new InvalidArgumentError("need to specify a reason the DateTime is invalid");const r=t instanceof Invalid?t:new Invalid(t,a);if(Settings.throwOnInvalid)throw new InvalidDateTimeError(r);return new DateTime({invalid:r})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,a={}){const r=formatOptsToTokens(t,Locale.fromObject(a));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(t,a={}){return expandMacroTokens(Formatter.parseFormat(t),Locale.fromObject(a)).map(i=>i.val).join("")}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?possiblyCachedWeekData(this).weekYear:NaN}get weekNumber(){return this.isValid?possiblyCachedWeekData(this).weekNumber:NaN}get weekday(){return this.isValid?possiblyCachedWeekData(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?possiblyCachedLocalWeekData(this).weekday:NaN}get localWeekNumber(){return this.isValid?possiblyCachedLocalWeekData(this).weekNumber:NaN}get localWeekYear(){return this.isValid?possiblyCachedLocalWeekData(this).weekYear:NaN}get ordinal(){return this.isValid?gregorianToOrdinal(this.c).ordinal:NaN}get monthShort(){return this.isValid?Info.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Info.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Info.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Info.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,a=6e4,r=objToLocalTS(this.c),i=this.zone.offset(r-t),o=this.zone.offset(r+t),u=this.zone.offset(r-i*a),c=this.zone.offset(r-o*a);if(u===c)return[this];const f=r-u*a,d=r-c*a,m=tsToObj(f,u),p=tsToObj(d,c);return m.hour===p.hour&&m.minute===p.minute&&m.second===p.second&&m.millisecond===p.millisecond?[clone(this,{ts:f}),clone(this,{ts:d})]:[this]}get isInLeapYear(){return isLeapYear(this.year)}get daysInMonth(){return daysInMonth(this.year,this.month)}get daysInYear(){return this.isValid?daysInYear(this.year):NaN}get weeksInWeekYear(){return this.isValid?weeksInWeekYear(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?weeksInWeekYear(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:a,numberingSystem:r,calendar:i}=Formatter.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:a,numberingSystem:r,outputCalendar:i}}toUTC(t=0,a={}){return this.setZone(FixedOffsetZone.instance(t),a)}toLocal(){return this.setZone(Settings.defaultZone)}setZone(t,{keepLocalTime:a=!1,keepCalendarTime:r=!1}={}){if(t=normalizeZone(t,Settings.defaultZone),t.equals(this.zone))return this;if(t.isValid){let i=this.ts;if(a||r){const o=t.offset(this.ts),u=this.toObject();[i]=objToTS(u,o,t)}return clone(this,{ts:i,zone:t})}else return DateTime.invalid(unsupportedZone(t))}reconfigure({locale:t,numberingSystem:a,outputCalendar:r}={}){const i=this.loc.clone({locale:t,numberingSystem:a,outputCalendar:r});return clone(this,{loc:i})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const a=normalizeObject(t,normalizeUnitWithLocalWeeks),{minDaysInFirstWeek:r,startOfWeek:i}=usesLocalWeekValues(a,this.loc),o=!isUndefined(a.weekYear)||!isUndefined(a.weekNumber)||!isUndefined(a.weekday),u=!isUndefined(a.ordinal),c=!isUndefined(a.year),f=!isUndefined(a.month)||!isUndefined(a.day),d=c||f,m=a.weekYear||a.weekNumber;if((d||u)&&m)throw new ConflictingSpecificationError("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&u)throw new ConflictingSpecificationError("Can't mix ordinal dates with month/day");let p;o?p=weekToGregorian({...gregorianToWeek(this.c,r,i),...a},r,i):isUndefined(a.ordinal)?(p={...this.toObject(),...a},isUndefined(a.day)&&(p.day=Math.min(daysInMonth(p.year,p.month),p.day))):p=ordinalToGregorian({...gregorianToOrdinal(this.c),...a});const[h,_]=objToTS(p,this.o,this.zone);return clone(this,{ts:h,o:_})}plus(t){if(!this.isValid)return this;const a=Duration.fromDurationLike(t);return clone(this,adjustTime(this,a))}minus(t){if(!this.isValid)return this;const a=Duration.fromDurationLike(t).negate();return clone(this,adjustTime(this,a))}startOf(t,{useLocaleWeeks:a=!1}={}){if(!this.isValid)return this;const r={},i=Duration.normalizeUnit(t);switch(i){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(i==="weeks")if(a){const o=this.loc.getStartOfWeek(),{weekday:u}=this;u<o&&(r.weekNumber=this.weekNumber-1),r.weekday=o}else r.weekday=1;if(i==="quarters"){const o=Math.ceil(this.month/3);r.month=(o-1)*3+1}return this.set(r)}endOf(t,a){return this.isValid?this.plus({[t]:1}).startOf(t,a).minus(1):this}toFormat(t,a={}){return this.isValid?Formatter.create(this.loc.redefaultToEN(a)).formatDateTimeFromString(this,t):INVALID}toLocaleString(t=DATE_SHORT,a={}){return this.isValid?Formatter.create(this.loc.clone(a),t).formatDateTime(this):INVALID}toLocaleParts(t={}){return this.isValid?Formatter.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:a=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:o=!1}={}){if(!this.isValid)return null;const u=t==="extended";let c=toISODate(this,u);return c+="T",c+=toISOTime(this,u,a,r,i,o),c}toISODate({format:t="extended"}={}){return this.isValid?toISODate(this,t==="extended"):null}toISOWeekDate(){return toTechFormat(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:a=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:o=!1,format:u="extended"}={}){return this.isValid?(i?"T":"")+toISOTime(this,u==="extended",a,t,r,o):null}toRFC2822(){return toTechFormat(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return toTechFormat(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?toISODate(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:a=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(a||t)&&(r&&(i+=" "),a?i+="z":t&&(i+="ZZ")),toTechFormat(this,i,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():INVALID}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const a={...this.c};return t.includeConfig&&(a.outputCalendar=this.outputCalendar,a.numberingSystem=this.loc.numberingSystem,a.locale=this.loc.locale),a}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,a="milliseconds",r={}){if(!this.isValid||!t.isValid)return Duration.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...r},o=maybeArray(a).map(Duration.normalizeUnit),u=t.valueOf()>this.valueOf(),c=u?this:t,f=u?t:this,d=diff(c,f,o,i);return u?d.negate():d}diffNow(t="milliseconds",a={}){return this.diff(DateTime.now(),t,a)}until(t){return this.isValid?Interval.fromDateTimes(this,t):this}hasSame(t,a,r){if(!this.isValid)return!1;const i=t.valueOf(),o=this.setZone(t.zone,{keepLocalTime:!0});return o.startOf(a,r)<=i&&i<=o.endOf(a,r)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const a=t.base||DateTime.fromObject({},{zone:this.zone}),r=t.padding?this<a?-t.padding:t.padding:0;let i=["years","months","days","hours","minutes","seconds"],o=t.unit;return Array.isArray(t.unit)&&(i=t.unit,o=void 0),diffRelative(a,this.plus(r),{...t,numeric:"always",units:i,unit:o})}toRelativeCalendar(t={}){return this.isValid?diffRelative(t.base||DateTime.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(DateTime.isDateTime))throw new InvalidArgumentError("min requires all arguments be DateTimes");return bestBy(t,a=>a.valueOf(),Math.min)}static max(...t){if(!t.every(DateTime.isDateTime))throw new InvalidArgumentError("max requires all arguments be DateTimes");return bestBy(t,a=>a.valueOf(),Math.max)}static fromFormatExplain(t,a,r={}){const{locale:i=null,numberingSystem:o=null}=r,u=Locale.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0});return explainFromTokens(u,t,a)}static fromStringExplain(t,a,r={}){return DateTime.fromFormatExplain(t,a,r)}static get DATE_SHORT(){return DATE_SHORT}static get DATE_MED(){return DATE_MED}static get DATE_MED_WITH_WEEKDAY(){return DATE_MED_WITH_WEEKDAY}static get DATE_FULL(){return DATE_FULL}static get DATE_HUGE(){return DATE_HUGE}static get TIME_SIMPLE(){return TIME_SIMPLE}static get TIME_WITH_SECONDS(){return TIME_WITH_SECONDS}static get TIME_WITH_SHORT_OFFSET(){return TIME_WITH_SHORT_OFFSET}static get TIME_WITH_LONG_OFFSET(){return TIME_WITH_LONG_OFFSET}static get TIME_24_SIMPLE(){return TIME_24_SIMPLE}static get TIME_24_WITH_SECONDS(){return TIME_24_WITH_SECONDS}static get TIME_24_WITH_SHORT_OFFSET(){return TIME_24_WITH_SHORT_OFFSET}static get TIME_24_WITH_LONG_OFFSET(){return TIME_24_WITH_LONG_OFFSET}static get DATETIME_SHORT(){return DATETIME_SHORT}static get DATETIME_SHORT_WITH_SECONDS(){return DATETIME_SHORT_WITH_SECONDS}static get DATETIME_MED(){return DATETIME_MED}static get DATETIME_MED_WITH_SECONDS(){return DATETIME_MED_WITH_SECONDS}static get DATETIME_MED_WITH_WEEKDAY(){return DATETIME_MED_WITH_WEEKDAY}static get DATETIME_FULL(){return DATETIME_FULL}static get DATETIME_FULL_WITH_SECONDS(){return DATETIME_FULL_WITH_SECONDS}static get DATETIME_HUGE(){return DATETIME_HUGE}static get DATETIME_HUGE_WITH_SECONDS(){return DATETIME_HUGE_WITH_SECONDS}}function friendlyDateTime(e){if(DateTime.isDateTime(e))return e;if(e&&e.valueOf&&isNumber(e.valueOf()))return DateTime.fromJSDate(e);if(e&&typeof e=="object")return DateTime.fromObject(e);throw new InvalidArgumentError(`Unknown datetime argument: ${e}, of type ${typeof e}`)}class Token{constructor(t,a){this._value=t,this._type=a,this._format=""}get value(){return this._value}set value(t){this._value=t}get type(){return this._type}set type(t){this._type=t}get format(){return this._format}set format(t){this._format=t}}class Parser{constructor(t,a){this.name=t,this.pattern=a}parse(t){const a=this.pattern.exec(t);if(!a||!a.groups)return;let r=[];for(const[i,o]of Object.entries(a.groups))o&&r.push(new Token(o,/delim\d+/.test(i)?"delimiter":i));return{tokens:r,index:a.index,parser:this.name}}}const abbreviatedTimezones="UT|CAT|CET|CVT|EAT|EET|GMT|MUT|RET|SAST|SCT|WAST|WAT|WEST|WET|WST|WT|ADT|AFT|ALMT|AMST|AMT|ANAST|ANAT|AQTT|AST|AZST|AZT|BNT|BST|BTT|CHOST|CHOT|CST|EEST|EET|GET|GST|HKT|HOVST|HOVT|ICT|IDT|IRDT|IRKST|IRKT|IST|JST|KGT|KRAST|KRAT|KST|MAGST|MAGT|MMT|MSK|MVT|NOVST|NOVT|NPT|OMSST|OMST|ORAT|PETST|PETT|PHT|PKT|PYT|QYZT|SAKT|SGT|SRET|TJT|TLT|TMT|TRT|ULAST|ULAT|UZT|VLAST|VLAT|WIB|WIT|YAKST|YAKT|YEKST|YEKT|ART|CAST|CEST|CLST|CLT|DAVT|DDUT|GMT|MAWT|NZDT|NZST|ROTT|SYOT|VOST|ADT|AST|AT|AZOST|AZOT|ACDT|ACST|ACT|ACWST|AEDT|AEST|AET|AWDT|AWST|CXT|LHDT|LHST|NFDT|NFT|AST|AT|CDT|CIDST|CIST|CST|EDT|EST|ET|CST|CT|EST|ET|BST|CEST|CET|EEST|EET|FET|GET|GMT|IST|KUYT|MSD|MSK|SAMT|TRT|WEST|WET|CCT|EAT|IOT|TFT|ADT|AKDT|AKST|AST|AT|CDT|CST|CT|EDT|EGST|EGT|ET|GMT|HDT|HST|MDT|MST|MT|NDT|NST|PDT|PMDT|PMST|PST|PT|WGST|WGT|AoE|BST|CHADT|CHAST|CHUT|CKT|ChST|EASST|EAST|FJST|FJT|GALT|GAMT|GILT|HST|KOST|LINT|MART|MHT|NCT|NRT|NUT|NZDT|NZST|PGT|PHOT|PONT|PST|PWT|SBT|SST|TAHT|TKT|TOST|TOT|TVT|VUT|WAKT|WFT|WST|YAPT|ACT|AMST|AMT|ART|BOT|BRST|BRT|CLST|CLT|COT|ECT|FKST|FKT|FNT|GFT|GST|GYT|PET|PYST|PYT|SRT|UYST|UYT|VET|WARST",dayOfMonthAndMonthNameDateFormatParser=new Parser("DayOfMonthAndMonthNameDateFormatParser",new RegExp(`^(?<dayOfWeek>(?:Sun?|Mon?|Tu(?:es)?|We(?:dnes)?|Th(?:urs)?|Fri?|Sa(?:tur)?)(?:day)?)?(?<delim1>,)?(?<delim2>\\s)?(?<dayOfMonth>(?:3[0-1]|[1-2]\\d|0?[1-9])(?:st|nd|rd|th)?)(?<delim3>\\s)(?<month>Jan(?:uary)?|Feb(?:ruary)?|Mar(?:ch)?|Apr(?:il)?|May|June?|July?|Aug(?:ust)?|Sep(?:tember)?|Oct(?:ober)?|Nov(?:ember)?|Dec(?:ember)?)(?<delim4>,)?(?<delim5>\\s)?(?<year>\\d{4}|\\d{2})?(?:(?<delim6>,)?(?<delim7>\\s)(?:(?<twentyFourHour>2[0-3]|0?\\d|1\\d)|(?<twelveHour>0?[1-9]|1[0-2]))(?:(?<delim8>[:.])(?<minute>[0-5]\\d))?(?:(?<delim9>[:.])(?<second>[0-5]\\d))?(?:(?<delim10>.)(?<millisecond>\\d{3}))?(?<delim11>\\s)?(?<meridiem>am|pm|AM|PM)?(?:(?<delim12>\\s)(?<timezone>[+-]\\d{2}(?::?\\d{2})?|Z|${abbreviatedTimezones}))?)?$`)),iSO8601BasicDateTimeFormatParser=new Parser("ISO8601BasicDateTimeFormatParser",new RegExp("^(?<year>[+-]\\d{6}|\\d{4})(?:(?<month>\\d{2})(?:(?<dayOfMonth>\\d{2}))?|(?<escapeText>W)(?<isoWeekOfYear>\\d{2})(?:(?<isoDayOfWeek>\\d))?|(?<dayOfYear>\\d{3}))?(?:(?<delim1>T| )(?:(?<twentyFourHour>\\d{2})(?:(?<minute>\\d{2})(?:(?<second>\\d{2})(?:(?<delim2>[.,])(?<millisecond>\\d{1,9}))?)?)?)(?<timezone>[+-]\\d{2}(?::?\\d{2})?|Z)?)?$")),iSO8601ExtendedDateTimeFormatParser=new Parser("ISO8601ExtendedDateTimeFormatParser",new RegExp("^(?<year>[+-]\\d{6}|\\d{4})(?<delim1>\\-)(?:(?<month>\\d{2})(?:(?<delim2>\\-)(?<dayOfMonth>\\d{2}))?|(?<escapeText>W)(?<isoWeekOfYear>\\d{2})(?:(?<delim3>\\-)(?<isoDayOfWeek>\\d))?|(?<dayOfYear>\\d{3}))(?:(?<delim4>T| )(?:(?<twentyFourHour>\\d{2})(?:(?<delim5>:)(?<minute>\\d{2})(?:(?<delim6>:)(?<second>\\d{2})(?:(?<delim7>[.,])(?<millisecond>\\d{1,9}))?)?)?)(?<timezone>[+-]\\d{2}(?::?\\d{2})?|Z)?)?$")),monthNameAndDayOfMonthDateFormatParser=new Parser("MonthNameAndDayOfMonthDateFormatParser",new RegExp(`^(?<dayOfWeek>(?:Sun?|Mon?|Tu(?:es)?|We(?:dnes)?|Th(?:urs)?|Fri?|Sa(?:tur)?)(?:day)?)?(?<delim1>,)?(?<delim2>\\s)?(?<month>Jan(?:uary)?|Feb(?:ruary)?|Mar(?:ch)?|Apr(?:il)?|May|June?|July?|Aug(?:ust)?|Sep(?:tember)?|Oct(?:ober)?|Nov(?:ember)?|Dec(?:ember)?)(?<delim3>\\s)(?<dayOfMonth>(?:3[0-1]|[1-2]\\d|0?[1-9])(?:st|nd|rd|th)?)(?<delim4>,)?(?<delim5>\\s)?(?<year>\\d{4}|\\d{2})?(?:(?:(?<delim6>,)?(?<delim7>\\s)(?:(?<twentyFourHour>2[0-3]|0?\\d|1\\d)|(?<twelveHour>0?[1-9]|1[0-2]))(?:(?<delim8>[:.])(?<minute>[0-5]\\d))?(?:(?<delim9>[:.])(?<second>[0-5]\\d))?(?:(?<delim10>.)(?<millisecond>\\d{3}))?(?<delim11>\\s)?(?<meridiem>am|pm|AM|PM)?(?:(?<delim12>\\s)(?<timezone>[+-]\\d{2}(?::?\\d{2})?|Z|${abbreviatedTimezones}))?)?)?$`)),rFC2822DateTimeFormatParser=new Parser("RFC2822DateTimeFormatParser",new RegExp("^(?:(?<dayOfWeek>Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?<delim1>,)?(?<delim2>\\s))?(?<dayOfMonth>\\d{1,2})(?<delim3>\\s)(?<month>Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)(?<delim4>\\s)(?<year>\\d{2,4})(?<delim5>\\s)(?<twentyFourHour>\\d{2})(?<delim6>:)(?<minute>\\d{2})(?:(?<delim7>:)(?<second>\\d{2}))?(?<delim8>\\s)(?<timezone>(?:(?:UT|GMT|[ECMP][SD]T)|[Zz]|[+-]\\d{4}))$")),slashDelimitedDateTimeFormatParser=new Parser("SlashDelimitedDateFormatParser",new RegExp(`^(?<year>\\d{4}|\\d{2})(?<delim1>[/.-])(?<month>0?[1-9]|1[0-2])(?:(?<delim2>[/.-])(?<dayOfMonth>0?[1-9]|[1-2]\\d|3[0-1]))?(?:(?:(?<delim3>,)?(?<delim4>\\s)(?:(?<twentyFourHour>2[0-3]|0?\\d|1\\d)|(?<twelveHour>0?[1-9]|1[0-2]))(?:(?<delim5>[:.])(?<minute>[0-5]\\d))?(?:(?<delim6>[:.])(?<second>[0-5]\\d))?(?:(?<delim7>.)(?<millisecond>\\d{3}))?(?<delim8>\\s)?(?<meridiem>am|pm|AM|PM)?(?:(?<delim9>\\s)(?<timezone>[+-]\\d{2}(?::?\\d{2})?|Z|${abbreviatedTimezones}))?)?)?$`)),twelveHourTimeFormatParser=new Parser("TwelveHourTimeFormatParser",new RegExp(`^(?<twelveHour>0?[1-9]|1[0-2])(?:(?<delim1>[:.])(?<minute>[0-5]\\d))?(?:(?<delim2>[:.])(?<second>[0-5]\\d))?(?:(?<delim3>.)(?<millisecond>\\d{3}))?(?<delim4>\\s)?(?<meridiem>am|pm|AM|PM)(?:(?<delim5>\\s)(?<timezone>[+-]\\d{2}(?::?\\d{2})?|Z|${abbreviatedTimezones}))?$`)),twentyFourHourTimeFormatParser=new Parser("TwentyFourHourTimeFormatParser",new RegExp(`^(?<twentyFourHour>2[0-3]|0?\\d|1\\d)(?<delim1>[:.])(?<minute>[0-5]\\d)(?:(?<delim2>[:.])(?<second>[0-5]\\d))?(?:(?<delim3>.)(?<millisecond>\\d{3}))?(?:(?<delim4>\\s)(?<timezone>[+-]\\d{2}(?::?\\d{2})?|Z|${abbreviatedTimezones}))?$`)),uKStyleSlashDelimitedDateTimeFormatParser=new Parser("UKStyleSlashDelimitedDateFormatParser",new RegExp(`^(?<dayOfMonth>0?[1-9]|[1-2]\\d|3[0-1])(?<delim1>[/.-])(?<month>0?[1-9]|1[0-2])(?:(?<delim2>[/.-])(?<year>\\d{4}|\\d{2}))?(?:(?:(?<delim3>,)?(?<delim4>\\s)(?:(?<twentyFourHour>2[0-3]|0?\\d|1\\d)|(?<twelveHour>0?[1-9]|1[0-2]))(?:(?<delim5>[:.])(?<minute>[0-5]\\d))?(?:(?<delim6>[:.])(?<second>[0-5]\\d))?(?:(?<delim7>.)(?<millisecond>\\d{3}))?(?<delim8>\\s)?(?<meridiem>am|pm|AM|PM)?(?:(?<delim9>\\s)(?<timezone>[+-]\\d{2}(?::?\\d{2})?|Z|${abbreviatedTimezones}))?)?)?$`)),uSStyleSlashDelimitedDateTimeFormatParser=new Parser("USStyleSlashDelimitedDateFormatParser",new RegExp(`^(?<month>0?[1-9]|1[0-2])(?<delim1>[/.-])(?<dayOfMonth>0?[1-9]|[1-2]\\d|3[0-1])(?:(?<delim2>[/.-])(?<year>\\d{4}|\\d{2}))?(?:(?:(?<delim3>,)?(?<delim4>\\s)(?:(?<twentyFourHour>2[0-3]|0?\\d|1\\d)|(?<twelveHour>0?[1-9]|1[0-2]))(?:(?<delim5>[:.])(?<minute>[0-5]\\d))?(?:(?<delim6>[:.])(?<second>[0-5]\\d))?(?:(?<delim7>.)(?<millisecond>\\d{3}))?(?<delim8>\\s)?(?<meridiem>am|pm|AM|PM)?(?:(?<delim9>\\s)(?<timezone>[+-]\\d{2}(?::?\\d{2})?|Z|${abbreviatedTimezones}))?)?)?$`)),dashDelimitedWithMonthNameDateTimeFormatParser=new Parser("DashDelimitedWithMonthNameDateTimeFormatParser",new RegExp(`^(?<dayOfMonth>0?[1-9]|[1-2]\\d|3[0-1])(?<delim1>-)(?<month>Jan(?:uary)?|Feb(?:ruary)?|Mar(?:ch)?|Apr(?:il)?|May|June?|July?|Aug(?:ust)?|Sep(?:tember)?|Oct(?:ober)?|Nov(?:ember)?|Dec(?:ember)?)(?<delim2>-)?(?<year>\\d{4}|\\d{2})?(?:(?:(?<delim3>,)?(?<delim4>\\s)(?:(?<twentyFourHour>2[0-3]|0?\\d|1\\d)|(?<twelveHour>0?[1-9]|1[0-2]))(?:(?<delim5>[:.])(?<minute>[0-5]\\d))?(?:(?<delim6>[:.])(?<second>[0-5]\\d))?(?:(?<delim7>.)(?<millisecond>\\d{3}))?(?<delim8>\\s)?(?<meridiem>am|pm|AM|PM)?(?:(?<delim9>\\s)(?<timezone>[+-]\\d{2}(?::?\\d{2})?|Z|${abbreviatedTimezones}))?)?)?$`)),parsers=[iSO8601ExtendedDateTimeFormatParser,iSO8601BasicDateTimeFormatParser,rFC2822DateTimeFormatParser,slashDelimitedDateTimeFormatParser,uKStyleSlashDelimitedDateTimeFormatParser,uSStyleSlashDelimitedDateTimeFormatParser,monthNameAndDayOfMonthDateFormatParser,dayOfMonthAndMonthNameDateFormatParser,twentyFourHourTimeFormatParser,twelveHourTimeFormatParser,dashDelimitedWithMonthNameDateTimeFormatParser];class StandardFormatParsersRefiner{constructor(t){this.name=t}refine(t){const a=t.filter(r=>r.parser==="ISO8601ExtendedDateTimeFormatParser"||r.parser==="ISO8601BasicDateTimeFormatParser"||r.parser==="RFC2822DateTimeFormatParser");return a.length===0?t:a}}class TimeFormatRefiner{constructor(t){this.name=t}refine(t){return t.forEach(a=>{let r=!1;a.tokens.forEach(i=>{i.type==="meridiem"&&(r=!0)}),r&&a.tokens.forEach(i=>{i.type==="twentyFourHour"&&(i.type="twelveHour")})}),t}}const timeFormatRefiner=new TimeFormatRefiner("TimeFormatRefiner"),standardFormatParsersRefiner=new StandardFormatParsersRefiner("StandardFormatParsersRefiner"),refiners=[standardFormatParsersRefiner,timeFormatRefiner];class YearFormatTokenAssigner{constructor(t,a,r){this.name=t,this.type=a,this.format=r,this._map=new Map,!r||r==="default"?(this._map.set(/\d{2}/,"YY"),this._map.set(/\d{4}/,"YYYY"),this._map.set(/[+-]\d{6}/,"YYYYYY")):(this._map.set(/\d{2}/,"%y"),this._map.set(/\d{4}/,"%Y"),this._map.set(/[+-]\d{6}/,"NA"))}_testTokenType(t){return t.type===this.type}assign(t){this._map.forEach((a,r)=>{this._testTokenType(t)&&r.test(t.value)&&(t.format=a)})}}class MonthFormatTokenAssigner{constructor(t,a,r){this.name=t,this.type=a,this.format=r,this._map=new Map,!r||r==="default"?(this._map.set(/\d{1,2}/,"M"),this._map.set(/\d{2}/,"MM"),this._map.set(/\d{1,2}(?:st|nd|rd|th)/,"Mo"),this._map.set(/^(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)$/,"MMM"),this._map.set(/^(January|February|March|April|May|June|July|August|September|October|November|December)$/,"MMMM")):(this._map.set(/\d{1,2}/,"NA"),this._map.set(/\d{2}/,"%m"),this._map.set(/\d{1,2}(?:st|nd|rd|th)/,"NA"),this._map.set(/^(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)$/,"%b"),this._map.set(/^(January|February|March|April|May|June|July|August|September|October|November|December)$/,"%B"))}_testTokenType(t){return t.type===this.type}assign(t){this._map.forEach((a,r)=>{this._testTokenType(t)&&r.test(t.value)&&(t.format=a)})}}class DayOfMonthFormatTokenAssigner{constructor(t,a,r){this.name=t,this.type=a,this.format=r,this._map=new Map,!r||r==="default"?(this._map.set(/\d{1,2}/,"D"),this._map.set(/\d{2}/,"DD"),this._map.set(/\d{1,2}(?:st|nd|rd|th)/,"Do")):(this._map.set(/\d{1,2}/,"%-e"),this._map.set(/\d{2}/,"%d"),this._map.set(/\d{1,2}(?:st|nd|rd|th)/,"%o"))}_testTokenType(t){return t.type===this.type}assign(t){this._map.forEach((a,r)=>{this._testTokenType(t)&&r.test(t.value)&&(t.format=a)})}}class DelimiterFormatTokenAssigner{constructor(t,a,r){this.name=t,this.format=r,this.type=a}assign(t){}}class MinuteFormatTokenAssigner{constructor(t,a,r){this.name=t,this.type=a,this.format=r,this._map=new Map,!r||r==="default"?(this._map.set(/\d{1,2}/,"m"),this._map.set(/\d{2}/,"mm")):(this._map.set(/\d{1,2}/,"NA"),this._map.set(/\d{2}/,"%M"))}_testTokenType(t){return t.type===this.type}assign(t){this._map.forEach((a,r)=>{this._testTokenType(t)&&r.test(t.value)&&(t.format=a)})}}class SecondFormatTokenAssigner{constructor(t,a,r){this.name=t,this.type=a,this.format=r,this._map=new Map,!r||r==="default"?(this._map.set(/\d{2}/,"ss"),this._map.set(/\d{1,2}/,"s")):(this._map.set(/\d{1,2}/,"NA"),this._map.set(/\d{2}/,"%S"))}_testTokenType(t){return t.type===this.type}assign(t){this._map.forEach((a,r)=>{this._testTokenType(t)&&r.test(t.value)&&(t.format=a)})}}class MillisecondFormatTokenAssigner{constructor(t,a,r){this.name=t,this.type=a,this.format=r,this._map=new Map,!r||r==="default"?(this._map.set(/\d/,"S"),this._map.set(/\d{2}/,"SS"),this._map.set(/\d{3}/,"SSS")):(this._map.set(/\d/,"NA"),this._map.set(/\d{2}/,"NA"),this._map.set(/\d{3}/,"%L"))}_testTokenType(t){return t.type===this.type}assign(t){this._map.forEach((a,r)=>{this._testTokenType(t)&&r.test(t.value)&&(t.format=a)})}}class TimezoneFormatTokenAssigner{constructor(t,a,r){this.name=t,this.type=a,this.format=r,this._map=new Map;const i=new RegExp("UT|CAT|CET|CVT|EAT|EET|GMT|MUT|RET|SAST|SCT|WAST|WAT|WEST|WET|WST|WT|ADT|AFT|ALMT|AMST|AMT|ANAST|ANAT|AQTT|AST|AZST|AZT|BNT|BST|BTT|CHOST|CHOT|CST|EEST|EET|GET|GST|HKT|HOVST|HOVT|ICT|IDT|IRDT|IRKST|IRKT|IST|JST|KGT|KRAST|KRAT|KST|MAGST|MAGT|MMT|MSK|MVT|NOVST|NOVT|NPT|OMSST|OMST|ORAT|PETST|PETT|PHT|PKT|PYT|QYZT|SAKT|SGT|SRET|TJT|TLT|TMT|TRT|ULAST|ULAT|UZT|VLAST|VLAT|WIB|WIT|YAKST|YAKT|YEKST|YEKT|ART|CAST|CEST|CLST|CLT|DAVT|DDUT|GMT|MAWT|NZDT|NZST|ROTT|SYOT|VOST|ADT|AST|AT|AZOST|AZOT|ACDT|ACST|ACT|ACWST|AEDT|AEST|AET|AWDT|AWST|CXT|LHDT|LHST|NFDT|NFT|AST|AT|CDT|CIDST|CIST|CST|EDT|EST|ET|CST|CT|EST|ET|BST|CEST|CET|EEST|EET|FET|GET|GMT|IST|KUYT|MSD|MSK|SAMT|TRT|WEST|WET|CCT|EAT|IOT|TFT|ADT|AKDT|AKST|AST|AT|CDT|CST|CT|EDT|EGST|EGT|ET|GMT|HDT|HST|MDT|MST|MT|NDT|NST|PDT|PMDT|PMST|PST|PT|WGST|WGT|AoE|BST|CHADT|CHAST|CHUT|CKT|ChST|EASST|EAST|FJST|FJT|GALT|GAMT|GILT|HST|KOST|LINT|MART|MHT|NCT|NRT|NUT|NZDT|NZST|PGT|PHOT|PONT|PST|PWT|SBT|SST|TAHT|TKT|TOST|TOT|TVT|VUT|WAKT|WFT|WST|YAPT|ACT|AMST|AMT|ART|BOT|BRST|BRT|CLST|CLT|COT|ECT|FKST|FKT|FNT|GFT|GST|GYT|PET|PYST|PYT|SRT|UYST|UYT|VET|WARST");!r||r==="default"?(this._map.set(/[+-]\d{2}(?::\d{2})?/,"Z"),this._map.set(/[+-]\d{4}/,"ZZ"),this._map.set(/Z/,"[Z]"),this._map.set(/z/,"[z]"),this._map.set(i,"z")):(this._map.set(/[+-]\d{2}(?::\d{2})?/,"%:z"),this._map.set(/[+-]\d{4}/,"%z"),this._map.set(/Z/,"Z"),this._map.set(/z/,"z"),this._map.set(i,"%Z"))}_testTokenType(t){return t.type===this.type}assign(t){this._map.forEach((a,r)=>{this._testTokenType(t)&&r.test(t.value)&&(t.format=a)})}}class DayOfYearFormatTokenAssigner{constructor(t,a,r){this.name=t,this.type=a,this.format=r,this._map=new Map,!r||r==="default"?(this._map.set(/\d{1,3}/,"DDD"),this._map.set(/\d{3}/,"DDDD"),this._map.set(/\d{1,3}(?:st|nd|rd|th)/,"DDDo")):(this._map.set(/\d{1,3}/,"NA"),this._map.set(/\d{3}/,"%j"),this._map.set(/\d{1,3}(?:st|nd|rd|th)/,"NA"))}_testTokenType(t){return t.type===this.type}assign(t){this._map.forEach((a,r)=>{this._testTokenType(t)&&r.test(t.value)&&(t.format=a)})}}class EscapeTextFormatTokenAssigner{constructor(t,a,r){this.name=t,this.type=a,this.format=r}_testTokenType(t){return t.type===this.type}assign(t){this._testTokenType(t)&&(t.format=!this.format||this.format==="default"?`[${t.value}]`:t.value)}}class ISODayOfWeekFormatTokenAssigner{constructor(t,a,r){this.name=t,this.type=a,this.format=r,this._map=new Map,!r||r==="default"?this._map.set(/[1-7]/,"E"):this._map.set(/[1-7]/,"%u")}_testTokenType(t){return t.type===this.type}assign(t){this._map.forEach((a,r)=>{this._testTokenType(t)&&r.test(t.value)&&(t.format=a)})}}class ISOWeekOfYearFormatTokenAssigner{constructor(t,a,r){this.name=t,this.type=a,this.format=r,this._map=new Map,!r||r==="default"?(this._map.set(/\d{1,2}/,"W"),this._map.set(/\d{2}/,"WW"),this._map.set(/\d{1,2}(?:st|nd|rd|th)/,"Wo")):(this._map.set(/\d{1,2}/,"NA"),this._map.set(/\d{2}/,"%U"),this._map.set(/\d{1,2}(?:st|nd|rd|th)/,"NA"))}_testTokenType(t){return t.type===this.type}assign(t){this._map.forEach((a,r)=>{this._testTokenType(t)&&r.test(t.value)&&(t.format=a)})}}class TwentyFourHourFormatTokenAssigner{constructor(t,a,r){this.name=t,this.type=a,this.format=r,this._map=new Map,!r||r==="default"?(this._map.set(/^([0-1]\d|2[0-3])$/,"HH"),this._map.set(/^(\d|1\d|2[0-3])$/,"H")):(this._map.set(/^(\d|1\d|2[0-3])$/,"%-k"),this._map.set(/^([0-1]\d|2[0-3])$/,"%H"))}_testTokenType(t){return t.type===this.type}assign(t){this._map.forEach((a,r)=>{this._testTokenType(t)&&r.test(t.value)&&(t.format=a)})}}class TwelveHourFormatTokenAssigner{constructor(t,a,r){this.name=t,this.type=a,this.format=r,this._map=new Map,!r||r==="default"?(this._map.set(/^(0\d|1[0-2])$/,"hh"),this._map.set(/^([1-9]|1[0-9])$/,"h")):(this._map.set(/^([1-9]|1[0-2])$/,"%-l"),this._map.set(/^(0\d|1[0-2])$/,"%I"))}_testTokenType(t){return t.type===this.type}assign(t){this._map.forEach((a,r)=>{this._testTokenType(t)&&r.test(t.value)&&(t.format=a)})}}class DayOfWeekFormatTokenAssigner{constructor(t,a,r){this.name=t,this.type=a,this.format=r,this._map=new Map,!r||r==="default"?(this._map.set(/[0-6](?:st|nd|rd|th)/,"do"),this._map.set(/(?:Su|Mo|Tu|We|Th|Fr|Sa)/,"dd"),this._map.set(/(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)/,"ddd"),this._map.set(/(?:Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday)/,"dddd")):(this._map.set(/[0-6]/,"%w"),this._map.set(/[0-6](?:st|nd|rd|th)/,"NA"),this._map.set(/(?:Su|Mo|Tu|We|Th|Fr|Sa)/,"NA"),this._map.set(/(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)/,"%a"),this._map.set(/(?:Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday)/,"%A"))}_testTokenType(t){return t.type===this.type}assign(t){this._map.forEach((a,r)=>{this._testTokenType(t)&&r.test(t.value)&&(t.format=a)})}}class MeridiemFormatTokenAssigner{constructor(t,a,r){this.name=t,this.type=a,this.format=r,this._map=new Map,!r||r==="default"?(this._map.set(/am|pm/,"a"),this._map.set(/AM|PM/,"A")):(this._map.set(/am|pm/,"%P"),this._map.set(/AM|PM/,"%p"))}_testTokenType(t){return t.type===this.type}assign(t){this._map.forEach((a,r)=>{this._testTokenType(t)&&r.test(t.value)&&(t.format=a)})}}const dayOfMonthFormatTokenAssigner=new DayOfMonthFormatTokenAssigner("DelimiterFormatTokenAssigner","dayOfMonth"),dayOfWeekFormatTokenAssigner=new DayOfWeekFormatTokenAssigner("DayOfWeekFormatTokenAssigner","dayOfWeek"),dayOfYearFormatTokenAssigner=new DayOfYearFormatTokenAssigner("DayOfYearFormatTokenAssigner","dayOfYear"),delimiterFormatTokenAssigner=new DelimiterFormatTokenAssigner("DelimiterFormatTokenAssigner","delimiter"),escapeTextFormatTokenAssigner=new EscapeTextFormatTokenAssigner("EscapeTextFormatTokenAssigner","escapeText"),iSODayOfWeekFormatTokenAssigner=new ISODayOfWeekFormatTokenAssigner("ISODayOfWeekFormatTokenAssigner","isoDayOfWeek"),iSOWeekOfYearFormatTokenAssigner=new ISOWeekOfYearFormatTokenAssigner("ISOWeekOfYearFormatTokenAssigner","isoWeekOfYear"),meridiemFormatTokenAssigner=new MeridiemFormatTokenAssigner("MeridiemFormatTokenAssigner","meridiem"),millisecondFormatTokenAssigner=new MillisecondFormatTokenAssigner("MillisecondFormatTokenAssigner","millisecond"),minuteFormatTokenAssigner=new MinuteFormatTokenAssigner("MinuteFormatTokenAssigner","minute"),monthFormatTokenAssigner=new MonthFormatTokenAssigner("MonthFormatTokenAssigner","month"),secondFormatTokenAssigner=new SecondFormatTokenAssigner("SecondFormatTokenAssigner","second"),timezoneFormatTokenAssigner=new TimezoneFormatTokenAssigner("TimezoneFormatTokenAssigner","timezone"),twelveHourFormatTokenAssigner=new TwelveHourFormatTokenAssigner("TwelveHourFormatTokenAssigner","twelveHour"),twentyFourHourFormatTokenAssigner=new TwentyFourHourFormatTokenAssigner("TwentyFourHourFormatTokenAssigner","twentyFourHour"),yearFormatTokenAssigner=new YearFormatTokenAssigner("YearFormatTokenAssigner","year"),strftimeDayOfMonthFormatTokenAssigner=new DayOfMonthFormatTokenAssigner("DelimiterFormatTokenAssigner","dayOfMonth","strftime"),strftimeDayOfWeekFormatTokenAssigner=new DayOfWeekFormatTokenAssigner("DayOfWeekFormatTokenAssigner","dayOfWeek","strftime"),strftimeDayOfYearFormatTokenAssigner=new DayOfYearFormatTokenAssigner("DayOfYearFormatTokenAssigner","dayOfYear","strftime"),strftimeDelimiterFormatTokenAssigner=new DelimiterFormatTokenAssigner("DelimiterFormatTokenAssigner","delimiter","strftime"),strftimeEscapeTextFormatTokenAssigner=new EscapeTextFormatTokenAssigner("EscapeTextFormatTokenAssigner","escapeText","strftime"),strftimeISODayOfWeekFormatTokenAssigner=new ISODayOfWeekFormatTokenAssigner("ISODayOfWeekFormatTokenAssigner","isoDayOfWeek","strftime"),strftimeISOWeekOfYearFormatTokenAssigner=new ISOWeekOfYearFormatTokenAssigner("ISOWeekOfYearFormatTokenAssigner","isoWeekOfYear","strftime"),strftimeMeridiemFormatTokenAssigner=new MeridiemFormatTokenAssigner("MeridiemFormatTokenAssigner","meridiem","strftime"),strftimeMillisecondFormatTokenAssigner=new MillisecondFormatTokenAssigner("MillisecondFormatTokenAssigner","millisecond","strftime"),strftimeMinuteFormatTokenAssigner=new MinuteFormatTokenAssigner("MinuteFormatTokenAssigner","minute","strftime"),strftimeMonthFormatTokenAssigner=new MonthFormatTokenAssigner("MonthFormatTokenAssigner","month","strftime"),strftimeSecondFormatTokenAssigner=new SecondFormatTokenAssigner("SecondFormatTokenAssigner","second","strftime"),strftimeTimezoneFormatTokenAssigner=new TimezoneFormatTokenAssigner("TimezoneFormatTokenAssigner","timezone","strftime"),strftimeTwelveHourFormatTokenAssigner=new TwelveHourFormatTokenAssigner("TwelveHourFormatTokenAssigner","twelveHour","strftime"),strftimeTwentyFourHourFormatTokenAssigner=new TwentyFourHourFormatTokenAssigner("TwentyFourHourFormatTokenAssigner","twentyFourHour","strftime"),strftimeYearFormatTokenAssigner=new YearFormatTokenAssigner("YearFormatTokenAssigner","year","strftime"),defaultAssigners=[yearFormatTokenAssigner,monthFormatTokenAssigner,dayOfMonthFormatTokenAssigner,delimiterFormatTokenAssigner,minuteFormatTokenAssigner,secondFormatTokenAssigner,millisecondFormatTokenAssigner,timezoneFormatTokenAssigner,dayOfYearFormatTokenAssigner,escapeTextFormatTokenAssigner,iSODayOfWeekFormatTokenAssigner,iSOWeekOfYearFormatTokenAssigner,twentyFourHourFormatTokenAssigner,twelveHourFormatTokenAssigner,dayOfWeekFormatTokenAssigner,meridiemFormatTokenAssigner],strftimeAssigners=[strftimeDayOfMonthFormatTokenAssigner,strftimeDayOfWeekFormatTokenAssigner,strftimeDayOfYearFormatTokenAssigner,strftimeDelimiterFormatTokenAssigner,strftimeEscapeTextFormatTokenAssigner,strftimeISODayOfWeekFormatTokenAssigner,strftimeISOWeekOfYearFormatTokenAssigner,strftimeMeridiemFormatTokenAssigner,strftimeMillisecondFormatTokenAssigner,strftimeMinuteFormatTokenAssigner,strftimeMonthFormatTokenAssigner,strftimeSecondFormatTokenAssigner,strftimeTimezoneFormatTokenAssigner,strftimeTwelveHourFormatTokenAssigner,strftimeTwentyFourHourFormatTokenAssigner,strftimeYearFormatTokenAssigner];class Guesser{constructor(){}static parse(t){const a=[];return parsers.forEach(r=>{const i=r.parse(t);i&&a.push(Object.assign({},i))}),a}static refine(t){let a=[...t];return refiners.forEach(r=>{a=[...r.refine(a)]}),a}static assign(t,a){(!a||a==="default"?defaultAssigners:strftimeAssigners).forEach(i=>{t.forEach(o=>{i.assign(o)})})}static getFormatString(t){let a="";return t.forEach(r=>{if(r.format==="NA")throw Error(`Couldn't find strftime modifier for "${r.value}"`);a+=r.format?r.format:r.value}),a}}function guessFormat(e,t){const a=Guesser.parse(e),r=Guesser.refine(a);if(r.length===0)throw Error("Couldn't parse date");r.forEach(o=>Guesser.assign(o.tokens,t));let i=[];return r.forEach(o=>i.push(Guesser.getFormatString(o.tokens))),i.length===1?i[0]:i}function createSequenceArray(e,t,a=1){const r=[];for(let i=e;i<=t;i+=a)r.push(i);return r}function mean(e){return e.reduce((t,a)=>t+a,0)/e.length}function max(e){let t=Number.NEGATIVE_INFINITY;for(let a=0;a<e.length;a++){let r=parseFloat(e[a])||0;r>t&&(t=r)}return t}function min(e){let t=Number.POSITIVE_INFINITY;for(let a=0;a<e.length;a++){let r=parseFloat(e[a])||0;r<t&&(t=r)}return t}const decimalPlaces=4;function convertFormat(e){const t={from:["A","D","DD","M","MM","YY","YYYY"],to:["a","d","dd","L","LL","yy","yyyy"]};let a=e;return t.from.forEach((r,i)=>{const o=t.to[i],u=new RegExp(`\\b${r}\\b`,"g");a=a.replace(u,o)}),a}function guessDateFormat(e){const t=guessFormat(e);return typeof t=="string"?[t]:t}function guessDateofArray(e){try{let t=guessDateFormat(e[0]);for(let r=1;r<e.length;r++)t=[...new Set([...t,...guessDateFormat(e[r])])];const a=t.filter(r=>e.every(i=>DateTime.fromFormat(i,convertFormat(r)).invalid===null));return a.length==1?a[0]:t[0]}catch{return-1}}function calculateTimeDifference(e,t,a){if(e===null||t===null||e===void 0||t===void 0)return null;e=DateTime.fromFormat(e,a),t=DateTime.fromFormat(t,a);var r=t.diff(e,"hours");return r.hours.toFixed(decimalPlaces)}function getPeriod(e,t){let a=new Array(e.length-1);for(let r=1;r<e.length;r++)a[r-1]=calculateTimeDifference(e[r-1],e[r],convertFormat(t));return console.log(min(a)+", "+max(a)),console.log(a),{minDiff:min(a),constant:min(a)===max(a)}}function getstartTimeOffset(e,t,a){let r=DateTime.fromISO(e);return DateTime.fromFormat(t,convertFormat(a)).diff(r,"hours").hours.toFixed(decimalPlaces)}function getGuessedFormat(e){return guessDateofArray(e)}function forceFormat(e,t){return e.map(r=>calculateTimeDifference(e[0],r,convertFormat(t)))}function formatTimeFromISO(e){if(e){const[t,a]=e.split("T"),[r,i,o]=t.split("-"),[u,c]=a.split(":"),d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][+i-1];return`${o} ${d} ${r} ${u}:${c}`}else return""}function getISODate(e,t){return DateTime.fromFormat(e,convertFormat(t)).toISO()}function addTime(e,t){return formatTimeFromISO(DateTime.fromISO(e).plus({hours:t}).toISO())}function get_each_context$g(e,t,a){const r=e.slice();return r[20]=t[a],r[21]=t,r[22]=a,r}function create_if_block$o(e){let t,a;return t=new Dialog({props:{title:"GENERATE SIMULATED DATA",$$slots:{default:[create_default_slot$9]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},m(r,i){mount_component(t,r,i),a=!0},p(r,i){const o={};i&8388671&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){a||(transition_in(t.$$.fragment,r),a=!0)},o(r){transition_out(t.$$.fragment,r),a=!1},d(r){destroy_component(t,r)}}}function create_each_block$g(e){let t,a,r,i,o,u,c,f,d,m,p,h,_,g,b,v,k;function A(){return e[15](e[22])}function w(O){e[16](O,e[22])}let T={min:21,max:26,limits:[6,72],step:"0.1",label:"Rhythm period (hours):"};e[4][e[22]]!==void 0&&(T.value=e[4][e[22]]),d=new Slider({props:T}),binding_callbacks.push(()=>bind(d,"value",w));function y(O){e[17](O,e[22])}let S={min:1,max:100,limits:[10,1e4],label:"Max values:"};return e[5][e[22]]!==void 0&&(S.value=e[5][e[22]]),_=new Slider({props:S}),binding_callbacks.push(()=>bind(_,"value",y)),{c(){t=element("div"),a=element("div"),r=element("div"),r.textContent=`value${e[22]}:`,i=space(),o=element("div"),o.textContent="",u=space(),c=element("div"),f=element("div"),create_component(d.$$.fragment),p=space(),h=element("div"),create_component(_.$$.fragment),attr(o,"class","removeData hoverbutton svelte-13hhe3j"),attr(a,"class","dataTitle svelte-13hhe3j"),attr(t,"class","datum svelte-13hhe3j")},m(O,z){insert(O,t,z),append(t,a),append(a,r),append(a,i),append(a,o),append(a,u),append(a,c),append(c,f),mount_component(d,f,null),append(c,p),append(c,h),mount_component(_,h,null),b=!0,v||(k=listen(o,"click",A),v=!0)},p(O,z){e=O;const I={};!m&&z&16&&(m=!0,I.value=e[4][e[22]],add_flush_callback(()=>m=!1)),d.$set(I);const M={};!g&&z&32&&(g=!0,M.value=e[5][e[22]],add_flush_callback(()=>g=!1)),_.$set(M)},i(O){b||(transition_in(d.$$.fragment,O),transition_in(_.$$.fragment,O),b=!0)},o(O){transition_out(d.$$.fragment,O),transition_out(_.$$.fragment,O),b=!1},d(O){O&&detach(t),destroy_component(d),destroy_component(_),v=!1,k()}}}function create_default_slot$9(e){let t,a,r,i,o,u,c,f,d,m,p,h,_,g,b,v,k,A,w,T,y,S,O,z;function I(N){e[10](N)}let M={min:5,max:30,limits:[1,1/0],label:"Days:"};e[0]!==void 0&&(M.value=e[0]),a=new Slider({props:M}),binding_callbacks.push(()=>bind(a,"value",I));function E(N){e[11](N)}let W={min:1,max:240,step:1,limits:[1,240],label:"Sampling period (minutes):"};e[1]!==void 0&&(W.value=e[1]),u=new Slider({props:W}),binding_callbacks.push(()=>bind(u,"value",E));let H=ensure_array_like(Array.from({length:e[3]})),$=[];for(let N=0;N<H.length;N+=1)$[N]=create_each_block$g(get_each_context$g(e,H,N));const D=N=>transition_out($[N],1,1,()=>{$[N]=null});return{c(){t=element("div"),create_component(a.$$.fragment),i=space(),o=element("div"),create_component(u.$$.fragment),f=space(),d=element("div"),m=element("label"),m.textContent="Start time:",p=space(),h=element("input"),_=space(),g=element("hr"),b=space(),v=element("h2"),v.textContent="Data:",k=space(),A=element("span"),A.textContent="",w=space();for(let N=0;N<$.length;N+=1)$[N].c();T=space(),y=element("button"),y.textContent="Generate",attr(m,"for","val"),attr(h,"type","datetime-local"),attr(h,"name","start"),attr(A,"class","addSimDataButton svelte-13hhe3j")},m(N,F){insert(N,t,F),mount_component(a,t,null),insert(N,i,F),insert(N,o,F),mount_component(u,o,null),insert(N,f,F),insert(N,d,F),append(d,m),append(d,p),append(d,h),set_input_value(h,e[2]),insert(N,_,F),insert(N,g,F),insert(N,b,F),insert(N,v,F),insert(N,k,F),insert(N,A,F),insert(N,w,F);for(let L=0;L<$.length;L+=1)$[L]&&$[L].m(N,F);insert(N,T,F),insert(N,y,F),S=!0,O||(z=[listen(h,"input",e[12]),listen(h,"change",e[13]),listen(A,"click",e[14]),listen(y,"click",e[18])],O=!0)},p(N,F){const L={};!r&&F&1&&(r=!0,L.value=N[0],add_flush_callback(()=>r=!1)),a.$set(L);const C={};if(!c&&F&2&&(c=!0,C.value=N[1],add_flush_callback(()=>c=!1)),u.$set(C),F&4&&set_input_value(h,N[2]),F&312){H=ensure_array_like(Array.from({length:N[3]}));let P;for(P=0;P<H.length;P+=1){const V=get_each_context$g(N,H,P);$[P]?($[P].p(V,F),transition_in($[P],1)):($[P]=create_each_block$g(V),$[P].c(),transition_in($[P],1),$[P].m(T.parentNode,T))}for(group_outros(),P=H.length;P<$.length;P+=1)D(P);check_outros()}},i(N){if(!S){transition_in(a.$$.fragment,N),transition_in(u.$$.fragment,N);for(let F=0;F<H.length;F+=1)transition_in($[F]);S=!0}},o(N){transition_out(a.$$.fragment,N),transition_out(u.$$.fragment,N),$=$.filter(Boolean);for(let F=0;F<$.length;F+=1)transition_out($[F]);S=!1},d(N){N&&(detach(t),detach(i),detach(o),detach(f),detach(d),detach(_),detach(g),detach(b),detach(v),detach(k),detach(A),detach(w),detach(T),detach(y)),destroy_component(a),destroy_component(u),destroy_each($,N),O=!1,run_all(z)}}}function create_fragment$y(e){let t,a,r=e[6]==="generateSim"&&create_if_block$o(e);return{c(){r&&r.c(),t=empty$1()},m(i,o){r&&r.m(i,o),insert(i,t,o),a=!0},p(i,[o]){i[6]==="generateSim"?r?(r.p(i,o),o&64&&transition_in(r,1)):(r=create_if_block$o(i),r.c(),transition_in(r,1),r.m(t.parentNode,t)):r&&(group_outros(),transition_out(r,1,1,()=>{r=null}),check_outros())},i(i){a||(transition_in(r),a=!0)},o(i){transition_out(r),a=!1},d(i){i&&detach(t),r&&r.d(i)}}}function instance$y(e,t,a){let r,i;component_subscribe(e,menuModalType,O=>a(6,r=O)),component_subscribe(e,data,O=>a(19,i=O)),onMount(()=>{o(28,15,DateTime.now().set({hour:0,minute:0,second:0,millisecond:0}).toJSDate(),[24,28],[100,150])});function o(O,z,I,M,E){const W={id:i.length,importedFrom:`simulated(${O},${E[0]})`,displayName:`Simulated_${i.length+1}`,datalength:O*24*(60/z),data:{}},H=[];for(let F=0;F<W.datalength;F++){const L=new Date(I.getTime()+F*z*60*1e3).toLocaleString("en-US");H.push(L)}const $=guessDateofArray(H),D=forceFormat(H,$),N=getPeriod(H,$);W.data.time={name:"time",type:"time",data:H,timeData:D,timeFormat:$,recordPeriod:N};for(let F=0;F<M.length;F++){const L=`generated_${F}`,C=[],P=E[F],q=M[F]*(60/z);for(let j=0;j<W.datalength;j++){const B=j%q<q/2?P*.05:P,ne=Math.random()*B;C.push(Math.round(ne))}W.data[L]={name:`value${F}`,type:"value",data:C}}data.update(F=>[...F,W]),set_store_value(menuModalType,r=null,r)}let u=28,c=15,f=DateTime.now().set({hour:0,minute:0,second:0,millisecond:0}).toJSDate(),d=2,m=[24,25],p=[200,400];function h(O){a(3,d-=1),m.slice(O,1),p.slice(O,1)}function _(){a(3,d+=1),m.push(24),p.push(100)}function g(O){u=O,a(0,u)}function b(O){c=O,a(1,c)}function v(){f=this.value,a(2,f)}const k=O=>console.log(O),A=()=>_(),w=O=>h(O);function T(O,z){e.$$.not_equal(m[z],O)&&(m[z]=O,a(4,m))}function y(O,z){e.$$.not_equal(p[z],O)&&(p[z]=O,a(5,p))}return[u,c,f,d,m,p,r,o,h,_,g,b,v,k,A,w,T,y,()=>o(u,c,f,m,p)]}class GenerateSimulated extends SvelteComponent{constructor(t){super(),init(this,t,instance$y,create_fragment$y,safe_not_equal,{})}}const scriptRel="modulepreload",assetsURL=function(e){return"/"+e},seen={},__vitePreload=function(t,a,r){let i=Promise.resolve();if(a&&a.length>0){const o=document.getElementsByTagName("link");i=Promise.all(a.map(u=>{if(u=assetsURL(u),u in seen)return;seen[u]=!0;const c=u.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(!!r)for(let p=o.length-1;p>=0;p--){const h=o[p];if(h.href===u&&(!c||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const m=document.createElement("link");if(m.rel=c?"stylesheet":scriptRel,c||(m.as="script",m.crossOrigin=""),m.href=u,document.head.appendChild(m),c)return new Promise((p,h)=>{m.addEventListener("load",p),m.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${u}`)))})}))}return i.then(()=>t()).catch(o=>{const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o})},modules$1=Object.assign({"../processes/Add.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Add$1),void 0),"../processes/Filter.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Filter$1),void 0),"../processes/Replace.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Replace$1),void 0)});let componentMap={};async function loadProcessFiles(){for(const e in modules$1){const t=await modules$1[e](),a=e.split("/").pop().split(".").shift();componentMap[a]={component:t.default,startParams:t.startParams,func:t[a],forTypes:t.forTypes}}}loadProcessFiles().then(()=>{console.log("Process files loaded:",componentMap)});let selectedSettings=null;function addProcess(e,t,a){selectedSettings={process:e,parameters:componentMap[e].startParams},data.update(r=>{const i=[...r],o=i.find(u=>u.id===t);return o&&o.data[a]&&o.data[a].processSteps.push(selectedSettings),i}),updateDataProcess(t,a)}function processData(e,t){for(const a of e){const r=a.process,i=componentMap[r].func;typeof i=="function"?t=i(t,a.parameters):console.error(`Function '${r}' does not exist.`)}return t}function updateDataProcess(e,t){let a=get_store_value(data)[get_store_value(data).findIndex(i=>i.id===e)].data[t].originalData,r=get_store_value(data).find(i=>i.id===e).data[t].processSteps;r.length>0&&(a=processData(r,a)),data.update(i=>{const o=[...i],u=o.find(c=>c.id===e);return u&&u.data[t]&&(u.data[t].data=a),o})}class ProcessStep extends SvelteComponent{constructor(t){super(),init(this,t,null,null,safe_not_equal,{})}}function getRandomHexColour(){return"#"+Math.floor(Math.random()*16777215).toString(16).padStart(6,"0")}const modules=Object.assign({"./Actigram/Actigram.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Actigram$1),void 0),"./Actigram/Actigram_controls.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Actigram_controls$1),void 0),"./Actigram/Actigram_defaults.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Actigram_defaults$1),void 0),"./Actigram/Onset.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Onset$1),void 0),"./Axis.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Axis$1),void 0),"./Barplot/Barplot.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Barplot$1),void 0),"./Barplot/Barplot_controls.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Barplot_controls$1),void 0),"./Barplot/Barplot_defaults.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Barplot_defaults$1),void 0),"./Charttools.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Charttools$1),void 0),"./Periodogram/Periodogram.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Periodogram$1),void 0),"./Periodogram/Periodogram_controls.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Periodogram_controls$1),void 0),"./Periodogram/Periodogram_defaults.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Periodogram_defaults$1),void 0),"./Raw/Raw.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Raw$1),void 0),"./Raw/Raw_controls.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Raw_controls$1),void 0),"./Raw/Raw_defaults.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Raw_defaults$1),void 0),"./Raw/Raw_tools.svelte":()=>__vitePreload(()=>Promise.resolve().then(()=>Raw_tools$1),void 0)});let graphMap={};async function loadGraphFiles(){for(const e in modules){const t=await modules[e](),a=e.split("/").pop().split(".").shift();if(e.split("/").slice(-2)[0]==a){console.log(a),console.log(t),console.log(t.defaultParams);const i=e.substring(0,e.lastIndexOf("."))+"_controls.svelte",o=await modules[i](),u=e.substring(0,e.lastIndexOf("."))+"_defaults.svelte",c=await modules[u]();graphMap[a]={graph:t.default,controls:o.default||{},params:c.defaultParams||{},prototypechartvalues:c.defaultchartvalues||{},prototypeother:c.defaultother||{},chartData:c.defaultChartData||{},extras:{}}}}}const graphFilesLoaded=loadGraphFiles().then(()=>{console.log("Graph files loaded:",graphMap),console.log(graphMap)});function makeNewChart(e){if(get_store_value(data).length===0)statusData.update(t=>(t.push({display:`There is no data to make a ${e} with.`}),t));else{let t={graph:e,id:getID(),zoom:1,sourceData:[],params:{...deepCopy$1(graphMap[e].params)},chartData:{...deepCopy$1(graphMap[e].chartData)},extras:{...deepCopy$1(graphMap[e].extras)}};get_store_value(graphs).push(t),get_store_value(graphTabs).push({name:"Chart "+getID()}),graphTabs.update(a=>[...a]),activeGraphTab.update(()=>get_store_value(graphTabs).length-1)}}function getID(){if(get_store_value(graphs).length===0)return 0;let e=[];return get_store_value(graphs).forEach(t=>e.push(t.id)),Math.max(...e)+1}function deepCopy$1(e){return JSON.parse(JSON.stringify(e))}function getDataFromTable(e,t){const a=get_store_value(data)[get_store_value(data).findIndex(r=>r.id===e)].data[t];return a.type==="time"?a.timeData:a.data}function getFieldName(e,t){return get_store_value(data)[get_store_value(data).findIndex(r=>r.id===e)].data[t].name}function getFieldNames(e){return Object.keys(get_store_value(data)[get_store_value(data).findIndex(t=>t.id===e.tableID)].data)}function getDataFromSource(e,t){const r=get_store_value(graphs)[get_store_value(activeGraphTab)].sourceData[e].tableID;return getDataFromTable(r,t.field)}function getFieldType(e,t){return get_store_value(data)[get_store_value(data).findIndex(r=>r.id===e)].data[t].type}function removeGraphData(e){graphs.update(t=>{const a=[...t],r=a[get_store_value(activeGraphTab)].id,i=a.find(o=>o.id===r);return i&&i.sourceData&&i.sourceData.splice(e,1),a}),console.log(get_store_value(graphs))}function createnewDataForGraph(e,t){contextMenu.update(a=>(a.labels=[],a.funcs=[],a));for(let a=0;a<get_store_value(data).length;a++)contextMenu.update(r=>(r.labels.push(get_store_value(data)[a].displayName),r.funcs.push(()=>addDataToGraph(get_store_value(data)[a].id,e,t)),r))}function addDataToGraph(e,t,a){let r={};Object.keys(t).forEach((i,o)=>{r[i]={field:Object.keys(get_store_value(data)[get_store_value(data).findIndex(u=>u.id===e)].data)[o]}}),graphs.update(i=>{i[get_store_value(activeGraphTab)].sourceData.push({tableID:e,name:"Data "+(1+get_store_value(graphs)[get_store_value(activeGraphTab)].sourceData.length),chartvalues:r,...deepCopy(a)});const o=get_store_value(graphs)[get_store_value(activeGraphTab)].sourceData.length-1;return Object.keys(i[get_store_value(activeGraphTab)].sourceData[o]).forEach(u=>{Object.keys(i[get_store_value(activeGraphTab)].sourceData[o][u]).includes("hex")&&(i[get_store_value(activeGraphTab)].sourceData[o][u].hex=getRandomHexColour(),console.log(i[get_store_value(activeGraphTab)].sourceData[o][u].hex))}),i}),get_store_value(graphs)[get_store_value(activeGraphTab)].graph==="Raw"&&(addedNewChartData.set(!0),console.log("set sem")),console.log(get_store_value(graphs))}function deepCopy(e){return JSON.parse(JSON.stringify(e))}function averageBinnedValues(e,t,a){const r=Math.ceil((max(e.filter(f=>f||0))+a)/a)||1,i=new Array(r),o=new Array(r),u=new Array(r);for(let f=0;f<r;f++)i[f]=f*a+a/2,o[f]=0,u[f]=0;for(let f=0;f<e.length;f++){const d=Math.floor(e[f]/a);t[f]&&(o[d]+=t[f],u[d]++)}const c=o.map((f,d)=>u[d]>0?f/u[d]:0);return{time:i,values:c}}function calculateMedian(e){const t=e.slice().sort((r,i)=>r-i),a=Math.floor(t.length/2);return t.length%2===0?(t[a-1]+t[a])/2:t[a]}function calculateMAD(e,t){const a=e.map(r=>Math.abs(r-t));return calculateMedian(a)}function linearRegression(e,t){const a=e.length;if(a!==t.length||a===0)throw new Error("Input arrays must have the same non-zero length");let r=0,i=0,o=0,u=0;for(let b=0;b<a;b++)r+=e[b],i+=t[b],o+=e[b]*t[b],u+=e[b]*e[b];const c=(a*o-r*i)/(a*u-r*r),f=(i-c*r)/a;let d=0,m=0,p=0;const h=i/a;for(let b=0;b<a;b++){const v=c*e[b]+f;d+=(t[b]-h)**2,m+=(t[b]-v)**2,p+=(t[b]-v)**2}const _=1-m/d,g=Math.sqrt(p/a);return{slope:c,intercept:f,rSquared:_,rmse:g}}function create_else_block$7(e){let t,a,r,i;return{c(){t=element("span"),a=text(e[0]),attr(t,"class","svelte-1tdrfqa")},m(o,u){insert(o,t,u),append(t,a),r||(i=[listen(t,"dblclick",e[9]),listen(t,"click",click_handler$1)],r=!0)},p(o,u){u&1&&set_data(a,o[0])},d(o){o&&detach(t),r=!1,run_all(i)}}}function create_if_block$n(e){let t,a,r,i,o;return{c(){t=element("form"),a=element("input"),a.required=e[1],attr(a,"class",r=null_to_empty(e[2]?"editing":"")+" svelte-1tdrfqa"),attr(t,"class","svelte-1tdrfqa")},m(u,c){insert(u,t,c),append(t,a),set_input_value(a,e[0]),e[8](a),i||(o=[listen(a,"input",e[7]),listen(a,"blur",e[5]),listen(t,"submit",prevent_default(e[5])),listen(t,"keydown",e[6])],i=!0)},p(u,c){c&2&&(a.required=u[1]),c&4&&r!==(r=null_to_empty(u[2]?"editing":"")+" svelte-1tdrfqa")&&attr(a,"class",r),c&1&&a.value!==u[0]&&set_input_value(a,u[0])},d(u){u&&detach(t),e[8](null),i=!1,run_all(o)}}}function create_fragment$x(e){let t;function a(o,u){return o[2]?create_if_block$n:create_else_block$7}let r=a(e),i=r(e);return{c(){i.c(),t=empty$1()},m(o,u){i.m(o,u),insert(o,t,u)},p(o,[u]){r===(r=a(o))&&i?i.p(o,u):(i.d(1),i=r(o),i&&(i.c(),i.m(t.parentNode,t)))},i:noop,o:noop,d(o){o&&detach(t),i.d(o)}}}function containsNonSpaceCharacter(e){return/\S/.test(e)}const click_handler$1=e=>{e.target.parentElement.className.includes("tabname")||e.preventDefault()};function instance$x(e,t,a){let{value:r,required:i=!0}=t;const o=createEventDispatcher();let u=!1,c,f;onMount(()=>{c=r}),afterUpdate(()=>{u&&(f.focus(),f.click())});function d(b){a(2,u=!0)}function m(){r!=c&&containsNonSpaceCharacter(r)?o("submit",r):a(0,r=c),a(2,u=!1)}function p(b){b.key=="Escape"&&(b.preventDefault(),a(0,r=c),a(2,u=!1))}function h(){r=this.value,a(0,r)}function _(b){binding_callbacks[b?"unshift":"push"](()=>{f=b,a(3,f)})}const g=b=>{d()};return e.$$set=b=>{"value"in b&&a(0,r=b.value),"required"in b&&a(1,i=b.required)},[r,i,u,f,d,m,p,h,_,g]}class InPlaceEdit extends SvelteComponent{constructor(t){super(),init(this,t,instance$x,create_fragment$x,safe_not_equal,{value:0,required:1})}}function create_fragment$w(e){let t,a;return{c(){t=element("div"),a=text(e[0]),set_style(t,"top",e[2]+5+"px"),set_style(t,"left",e[1]+5+"px"),attr(t,"class","svelte-1wb4l5o")},m(r,i){insert(r,t,i),append(t,a)},p(r,[i]){i&1&&set_data(a,r[0]),i&4&&set_style(t,"top",r[2]+5+"px"),i&2&&set_style(t,"left",r[1]+5+"px")},i:noop,o:noop,d(r){r&&detach(t)}}}function instance$w(e,t,a){let{tipcontent:r}=t,{x:i}=t,{y:o}=t;return e.$$set=u=>{"tipcontent"in u&&a(0,r=u.tipcontent),"x"in u&&a(1,i=u.x),"y"in u&&a(2,o=u.y)},[r,i,o]}class TooltipFromUse extends SvelteComponent{constructor(t){super(),init(this,t,instance$w,create_fragment$w,safe_not_equal,{tipcontent:0,x:1,y:2})}}function tooltip(e){let t,a;function r(u){t=e.getAttribute("tipcontent"),e.removeAttribute("title"),a=new TooltipFromUse({props:{tipcontent:t,x:u.pageX,y:u.pageY},target:document.body})}function i(u){a.$set({x:u.pageX,y:u.pageY})}function o(){a.$destroy(),e.setAttribute("tipcontent",t)}return e.addEventListener("mouseover",r),e.addEventListener("mouseleave",o),e.addEventListener("mousemove",i),{destroy(){e.removeEventListener("mouseover",r),e.removeEventListener("mouseleave",o),e.removeEventListener("mousemove",i)}}}function get_each_context$f(e,t,a){const r=e.slice();return r[17]=t[a],r[18]=t,r[19]=a,r}function get_each_context_1$a(e,t,a){const r=e.slice();return r[20]=t[a][0],r[21]=t[a][1],r[22]=t,r[23]=a,r}function get_each_context_2$7(e,t,a){const r=e.slice();return r[24]=t[a],r[26]=a,r}function create_if_block_2$5(e){let t,a,r,i,o;function u(...c){return e[10](e[17],e[20],...c)}return{c(){t=element("span"),a=text("+"),attr(t,"class","addbutton hoverbutton showContextMenu svelte-1vynm26"),attr(t,"tipcontent",r="Add process to "+e[17].data[e[20]].name)},m(c,f){insert(c,t,f),append(t,a),i||(o=[listen(t,"click",u),action_destroyer(tooltip.call(null,t))],i=!0)},p(c,f){e=c,f&1&&r!==(r="Add process to "+e[17].data[e[20]].name)&&attr(t,"tipcontent",r)},d(c){c&&detach(t),i=!1,run_all(o)}}}function create_else_block$6(e){let t,a=e[17].data[e[20]].data[0]+"",r,i,o=e[17].data[e[20]].data[1]+"",u,c;return{c(){t=text("Data: "),r=text(a),i=text(","),u=text(o),c=text("...")},m(f,d){insert(f,t,d),insert(f,r,d),insert(f,i,d),insert(f,u,d),insert(f,c,d)},p(f,d){d&1&&a!==(a=f[17].data[f[20]].data[0]+"")&&set_data(r,a),d&1&&o!==(o=f[17].data[f[20]].data[1]+"")&&set_data(u,o)},i:noop,o:noop,d(f){f&&(detach(t),detach(r),detach(i),detach(u),detach(c))}}}function create_if_block_1$a(e){let t,a=e[17].data[e[20]].data[0]+"",r,i,o=e[17].data[e[20]].data[1]+"",u,c,f,d,m,p,h=ensure_array_like(e[17].data[e[20]].processSteps),_=[];for(let b=0;b<h.length;b+=1)_[b]=create_each_block_2$7(get_each_context_2$7(e,h,b));const g=b=>transition_out(_[b],1,1,()=>{_[b]=null});return{c(){t=text("Data: "),r=text(a),i=text(","),u=text(o),c=text(`...
              `),f=element("br"),d=space();for(let b=0;b<_.length;b+=1)_[b].c();m=empty$1()},m(b,v){insert(b,t,v),insert(b,r,v),insert(b,i,v),insert(b,u,v),insert(b,c,v),insert(b,f,v),insert(b,d,v);for(let k=0;k<_.length;k+=1)_[k]&&_[k].m(b,v);insert(b,m,v),p=!0},p(b,v){if((!p||v&1)&&a!==(a=b[17].data[b[20]].data[0]+"")&&set_data(r,a),(!p||v&1)&&o!==(o=b[17].data[b[20]].data[1]+"")&&set_data(u,o),v&25){h=ensure_array_like(b[17].data[b[20]].processSteps);let k;for(k=0;k<h.length;k+=1){const A=get_each_context_2$7(b,h,k);_[k]?(_[k].p(A,v),transition_in(_[k],1)):(_[k]=create_each_block_2$7(A),_[k].c(),transition_in(_[k],1),_[k].m(m.parentNode,m))}for(group_outros(),k=h.length;k<_.length;k+=1)g(k);check_outros()}},i(b){if(!p){for(let v=0;v<h.length;v+=1)transition_in(_[v]);p=!0}},o(b){_=_.filter(Boolean);for(let v=0;v<_.length;v+=1)transition_out(_[v]);p=!1},d(b){b&&(detach(t),detach(r),detach(i),detach(u),detach(c),detach(f),detach(d),detach(m)),destroy_each(_,b)}}}function create_if_block$m(e){let t,a=e[17].data[e[20]].timeFormat+"",r,i,o,u,c=e[17].data[e[20]].data[0]+"",f,d,m=e[17].data[e[20]].data[1]+"",p,h,_,g,b=e[17].data[e[20]].timeData[0]+"",v,k,A=e[17].data[e[20]].timeData[1]+"",w,T;return{c(){t=text("Format: "),r=text(a),i=space(),o=element("br"),u=text(`
              Data: `),f=text(c),d=text(","),p=text(m),h=text(`...
              `),_=element("br"),g=text(`
              Time: `),v=text(b),k=text(","),w=text(A),T=text("...")},m(y,S){insert(y,t,S),insert(y,r,S),insert(y,i,S),insert(y,o,S),insert(y,u,S),insert(y,f,S),insert(y,d,S),insert(y,p,S),insert(y,h,S),insert(y,_,S),insert(y,g,S),insert(y,v,S),insert(y,k,S),insert(y,w,S),insert(y,T,S)},p(y,S){S&1&&a!==(a=y[17].data[y[20]].timeFormat+"")&&set_data(r,a),S&1&&c!==(c=y[17].data[y[20]].data[0]+"")&&set_data(f,c),S&1&&m!==(m=y[17].data[y[20]].data[1]+"")&&set_data(p,m),S&1&&b!==(b=y[17].data[y[20]].timeData[0]+"")&&set_data(v,b),S&1&&A!==(A=y[17].data[y[20]].timeData[1]+"")&&set_data(w,A)},i:noop,o:noop,d(y){y&&(detach(t),detach(r),detach(i),detach(o),detach(u),detach(f),detach(d),detach(p),detach(h),detach(_),detach(g),detach(v),detach(k),detach(w),detach(T))}}}function create_each_block_2$7(e){let t,a,r=e[24].process+"",i,o,u,c,f,d,m,p,h;function _(...k){return e[11](e[17],e[20],e[26],...k)}function g(...k){return e[12](e[17],e[20],e[26],...k)}var b=componentMap[e[24].process].component;function v(k,A){return{props:{paramsStart:k[24].parameters,typeTime:{type:k[0][k[19]].data[k[20]].type,tocheck:{tableID:k[17].id,key:k[20]}}}}}return b&&(d=construct_svelte_component(b,v(e)),d.$on("update",g)),{c(){t=element("details"),a=element("summary"),i=text(r),o=space(),u=element("div"),u.textContent="",c=space(),f=element("div"),d&&create_component(d.$$.fragment),attr(u,"class","deleteProcess hoverbutton svelte-1vynm26"),attr(a,"class","svelte-1vynm26"),attr(f,"class","processDetails svelte-1vynm26"),t.open=!0,attr(t,"class","process svelte-1vynm26")},m(k,A){insert(k,t,A),append(t,a),append(a,i),append(a,o),append(a,u),append(t,c),append(t,f),d&&mount_component(d,f,null),m=!0,p||(h=listen(u,"click",_),p=!0)},p(k,A){if(e=k,(!m||A&1)&&r!==(r=e[24].process+"")&&set_data(i,r),A&1&&b!==(b=componentMap[e[24].process].component)){if(d){group_outros();const w=d;transition_out(w.$$.fragment,1,0,()=>{destroy_component(w,1)}),check_outros()}b?(d=construct_svelte_component(b,v(e)),d.$on("update",g),create_component(d.$$.fragment),transition_in(d.$$.fragment,1),mount_component(d,f,null)):d=null}else if(b){const w={};A&1&&(w.paramsStart=e[24].parameters),A&1&&(w.typeTime={type:e[0][e[19]].data[e[20]].type,tocheck:{tableID:e[17].id,key:e[20]}}),d.$set(w)}},i(k){m||(d&&transition_in(d.$$.fragment,k),m=!0)},o(k){d&&transition_out(d.$$.fragment,k),m=!1},d(k){k&&detach(t),d&&destroy_component(d),p=!1,h()}}}function create_each_block_1$a(e,t){let a,r,i,o,u,c=t[20].includes("processed"),f,d,m,p,h;function _(w){t[9](w,t[17],t[20])}let g={};t[17].data[t[20]].name!==void 0&&(g.value=t[17].data[t[20]].name),i=new InPlaceEdit({props:g}),binding_callbacks.push(()=>bind(i,"value",_));let b=c&&create_if_block_2$5(t);const v=[create_if_block$m,create_if_block_1$a,create_else_block$6],k=[];function A(w,T){return T&1&&(d=null),w[17].data[w[20]].type=="time"?0:(d==null&&(d=!!w[20].includes("processed")),d?1:2)}return m=A(t,-1),p=k[m]=v[m](t),{key:e,first:null,c(){a=element("details"),r=element("summary"),create_component(i.$$.fragment),u=space(),b&&b.c(),f=space(),p.c(),attr(r,"class","svelte-1vynm26"),attr(a,"closed",""),attr(a,"class","field svelte-1vynm26"),this.first=a},m(w,T){insert(w,a,T),append(a,r),mount_component(i,r,null),append(r,u),b&&b.m(r,null),append(a,f),k[m].m(a,null),h=!0},p(w,T){t=w;const y={};!o&&T&1&&(o=!0,y.value=t[17].data[t[20]].name,add_flush_callback(()=>o=!1)),i.$set(y),T&1&&(c=t[20].includes("processed")),c?b?b.p(t,T):(b=create_if_block_2$5(t),b.c(),b.m(r,null)):b&&(b.d(1),b=null);let S=m;m=A(t,T),m===S?k[m].p(t,T):(group_outros(),transition_out(k[S],1,1,()=>{k[S]=null}),check_outros(),p=k[m],p?p.p(t,T):(p=k[m]=v[m](t),p.c()),transition_in(p,1),p.m(a,null))},i(w){h||(transition_in(i.$$.fragment,w),transition_in(p),h=!0)},o(w){transition_out(i.$$.fragment,w),transition_out(p),h=!1},d(w){w&&detach(a),destroy_component(i),b&&b.d(),k[m].d()}}}function create_each_block$f(e){let t,a,r,i,o,u,c,f,d,m,p,h,_,g=[],b=new Map,v,k,A,w;function T(M){e[6](M,e[17])}let y={};e[17].displayName!==void 0&&(y.value=e[17].displayName),r=new InPlaceEdit({props:y}),binding_callbacks.push(()=>bind(r,"value",T));function S(...M){return e[7](e[17],...M)}function O(...M){return e[8](e[17],...M)}let z=ensure_array_like(Object.entries(e[17].data));const I=M=>M[20];for(let M=0;M<z.length;M+=1){let E=get_each_context_1$a(e,z,M),W=I(E);b.set(W,g[M]=create_each_block_1$a(W,E))}return{c(){t=element("details"),a=element("summary"),create_component(r.$$.fragment),o=space(),u=element("div"),c=text(""),d=space(),m=element("div"),p=text(""),_=space();for(let M=0;M<g.length;M+=1)g[M].c();v=space(),attr(u,"class","deleteTable hoverbutton svelte-1vynm26"),attr(u,"tipcontent",f="Delete "+e[17].displayName),attr(m,"class","viewTable hoverbutton svelte-1vynm26"),attr(m,"tipcontent",h="View/edit "+e[17].displayName+" as table"),attr(a,"class","svelte-1vynm26"),t.open=!0,attr(t,"class","dataTable svelte-1vynm26")},m(M,E){insert(M,t,E),append(t,a),mount_component(r,a,null),append(a,o),append(a,u),append(u,c),append(a,d),append(a,m),append(m,p),append(t,_);for(let W=0;W<g.length;W+=1)g[W]&&g[W].m(t,null);append(t,v),k=!0,A||(w=[listen(u,"click",S),action_destroyer(tooltip.call(null,u)),listen(m,"click",O),action_destroyer(tooltip.call(null,m))],A=!0)},p(M,E){e=M;const W={};!i&&E&1&&(i=!0,W.value=e[17].displayName,add_flush_callback(()=>i=!1)),r.$set(W),(!k||E&1&&f!==(f="Delete "+e[17].displayName))&&attr(u,"tipcontent",f),(!k||E&1&&h!==(h="View/edit "+e[17].displayName+" as table"))&&attr(m,"tipcontent",h),E&57&&(z=ensure_array_like(Object.entries(e[17].data)),group_outros(),g=update_keyed_each(g,E,I,1,e,z,b,t,outro_and_destroy_block,create_each_block_1$a,v,get_each_context_1$a),check_outros())},i(M){if(!k){transition_in(r.$$.fragment,M);for(let E=0;E<z.length;E+=1)transition_in(g[E]);k=!0}},o(M){transition_out(r.$$.fragment,M);for(let E=0;E<g.length;E+=1)transition_out(g[E]);k=!1},d(M){M&&detach(t),destroy_component(r);for(let E=0;E<g.length;E+=1)g[E].d();A=!1,run_all(w)}}}function create_fragment$v(e){let t,a,r,i,o,u=ensure_array_like(e[0]),c=[];for(let d=0;d<u.length;d+=1)c[d]=create_each_block$f(get_each_context$f(e,u,d));const f=d=>transition_out(c[d],1,1,()=>{c[d]=null});return{c(){t=element("div"),a=element("h1"),a.textContent="Data Tables",r=space(),i=element("div");for(let d=0;d<c.length;d+=1)c[d].c();attr(i,"class","dataTree scroll-shadows svelte-1vynm26"),attr(t,"id","dataTreeContainer"),set_style(t,"overflow","auto"),set_style(t,"height","100%"),set_style(t,"width","auto")},m(d,m){insert(d,t,m),append(t,a),append(t,r),append(t,i);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(i,null);o=!0},p(d,[m]){if(m&63){u=ensure_array_like(d[0]);let p;for(p=0;p<u.length;p+=1){const h=get_each_context$f(d,u,p);c[p]?(c[p].p(h,m),transition_in(c[p],1)):(c[p]=create_each_block$f(h),c[p].c(),transition_in(c[p],1),c[p].m(i,null))}for(group_outros(),p=u.length;p<c.length;p+=1)f(p);check_outros()}},i(d){if(!o){for(let m=0;m<u.length;m+=1)transition_in(c[m]);o=!0}},o(d){c=c.filter(Boolean);for(let m=0;m<c.length;m+=1)transition_out(c[m]);o=!1},d(d){d&&detach(t),destroy_each(c,d)}}}function instance$v(e,t,a){let r,i,o,u,c;component_subscribe(e,contextMenu,T=>a(13,r=T)),component_subscribe(e,data,T=>a(0,i=T)),component_subscribe(e,dataIDsforTables,T=>a(14,o=T)),component_subscribe(e,activeTableTab,T=>a(15,u=T)),component_subscribe(e,showalldata,T=>a(16,c=T));function f(T){const y=o.indexOf(T);y<0?(o.push(T),dataIDsforTables.set(o),c.push(!1),showalldata.set(c),set_store_value(activeTableTab,u=o.length-1,u)):set_store_value(activeTableTab,u=y,u)}function d(T){set_store_value(dataIDsforTables,o=o.filter(S=>S!==T),o),set_store_value(activeTableTab,u=o.length>0?0:-1,u),graphs.update(S=>S.map(O=>{const z=O.sourceData.filter(I=>I.tableID!==T);return{...O,sourceData:z}}));let y=i.findIndex(S=>S.id===T);data.update(S=>(S.splice(y,1),S))}function m(T,y,S,O){let z=i.findIndex(I=>I.id===T);set_store_value(data,i[z].data[y].processSteps[S].parameters=O,i),updateDataProcess(T,y)}function p(T,y,S){let O=i.findIndex(z=>z.id===T);i[O].data[y].processSteps.splice(S,1),updateDataProcess(T,y),i[O].data[y].processSteps.length===0&&set_store_value(data,i[O].data[y].processedData=[],i)}function h(T,y){set_store_value(contextMenu,r={labels:[],funcs:[]},r);const S=getFieldType(T,y),O=Object.keys(componentMap);for(let z=0;z<O.length;z++)componentMap[O[z]].forTypes.includes(S)&&(set_store_value(contextMenu,r.labels[z]=O[z],r),set_store_value(contextMenu,r.funcs[z]=()=>addProcess(O[z],T,y),r))}function _(T,y){e.$$.not_equal(y.displayName,T)&&(y.displayName=T,data.set(i))}const g=(T,y)=>{y.preventDefault(),d(T.id)},b=(T,y)=>{y.preventDefault(),f(T.id)};function v(T,y,S){e.$$.not_equal(y.data[S].name,T)&&(y.data[S].name=T,data.set(i))}return[i,f,d,m,p,h,_,g,b,v,(T,y,S)=>{S.preventDefault(),h(T.id,y)},(T,y,S,O)=>{O.preventDefault(),p(T.id,y,S)},(T,y,S,O)=>m(T.id,y,S,O.detail.params)]}class DataTree extends SvelteComponent{constructor(t){super(),init(this,t,instance$v,create_fragment$v,safe_not_equal,{})}}function create_if_block$l(e){let t,a;return{c(){t=element("div"),a=text(e[0]),set_style(t,"top",e[3]+"px"),set_style(t,"left",e[2]+"px"),attr(t,"class","tooltip svelte-1ryw8s3")},m(r,i){insert(r,t,i),append(t,a)},p(r,i){i&1&&set_data(a,r[0]),i&8&&set_style(t,"top",r[3]+"px"),i&4&&set_style(t,"left",r[2]+"px")},d(r){r&&detach(t)}}}function create_fragment$u(e){let t,a,r,i,o;const u=e[8].default,c=create_slot(u,e,e[7],null);let f=e[1]&&create_if_block$l(e);return{c(){t=element("div"),c&&c.c(),a=space(),f&&f.c(),set_style(t,"position","relative")},m(d,m){insert(d,t,m),c&&c.m(t,null),append(t,a),f&&f.m(t,null),r=!0,i||(o=[listen(t,"mouseover",e[4]),listen(t,"mouseleave",e[6]),listen(t,"mousemove",e[5])],i=!0)},p(d,[m]){c&&c.p&&(!r||m&128)&&update_slot_base(c,u,d,d[7],r?get_slot_changes(u,d[7],m,null):get_all_dirty_from_scope(d[7]),null),d[1]?f?f.p(d,m):(f=create_if_block$l(d),f.c(),f.m(t,null)):f&&(f.d(1),f=null)},i(d){r||(transition_in(c,d),r=!0)},o(d){transition_out(c,d),r=!1},d(d){d&&detach(t),c&&c.d(d),f&&f.d(),i=!1,run_all(o)}}}function instance$u(e,t,a){let{$$slots:r={},$$scope:i}=t,{tipcontent:o=""}=t,u=!1,c,f;function d(h){a(1,u=!0),a(2,c=15),a(3,f=35)}function m(h){a(2,c=15),a(3,f=35)}function p(){a(1,u=!1)}return e.$$set=h=>{"tipcontent"in h&&a(0,o=h.tipcontent),"$$scope"in h&&a(7,i=h.$$scope)},[o,u,c,f,d,m,p,i,r]}class Tooltip extends SvelteComponent{constructor(t){super(),init(this,t,instance$u,create_fragment$u,safe_not_equal,{tipcontent:0})}}function exportSVG(){if(get_store_value(activeGraphTab)<0){console.log("Nothing to export");return}const e=document.getElementById("thePlot").querySelector("svg").outerHTML,t=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),a=URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download=get_store_value(graphTabs)[get_store_value(activeGraphTab)].name+".svg",document.body.appendChild(r),r.click(),URL.revokeObjectURL(a)}function create_default_slot$8(e){let t,a,r;return{c(){t=element("div"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" stroke-width="1.5" stroke="currentColor"><path d="M2 2L2 18L18 18" stroke="#292929" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',attr(t,"class","button svelte-owaav"),attr(t,"id","scaleRaw")},m(i,o){insert(i,t,o),a||(r=listen(t,"click",e[2]),a=!0)},p:noop,d(i){i&&detach(t),a=!1,r()}}}function create_fragment$t(e){let t,a;return t=new Tooltip({props:{tipcontent:"Auto scale axes",$$slots:{default:[create_default_slot$8]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},m(r,i){mount_component(t,r,i),a=!0},p(r,[i]){const o={};i&128&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){a||(transition_in(t.$$.fragment,r),a=!0)},o(r){transition_out(t.$$.fragment,r),a=!1},d(r){destroy_component(t,r)}}}function instance$t(e,t,a){let r,i,o,u;component_subscribe(e,addedNewChartData,m=>a(1,r=m)),component_subscribe(e,activeGraphTab,m=>a(3,i=m)),component_subscribe(e,graphs,m=>a(4,o=m)),component_subscribe(e,data,m=>a(5,u=m));function c(){var A;let m=1/0,p=-1/0,h=1/0,_=-1/0,g=[],b=[],v,k;if(((A=o[i])==null?void 0:A.graph)==="Raw"){o[i].sourceData.forEach((w,T)=>{u.findIndex(y=>y.id===w.tableID),w.chartvalues.x.field!=""&&(v=getDataFromSource(T,w.chartvalues.x)),w.chartvalues.y.field!=""&&(k=getDataFromSource(T,w.chartvalues.y)),g.push(v),b.push(k)});for(let w=0;w<g.length;w++){const T=g[w].filter(S=>!isNaN(S));min(T)<m&&(m=min(T)),max(T)>p&&(p=max(T));const y=b[w].filter(S=>!isNaN(S));min(y)<h&&(h=min(y)),max(y)>_&&(_=max(y))}set_store_value(graphs,o[i].params.xDomainMin=m,o),set_store_value(graphs,o[i].params.xDomainMax=p,o),set_store_value(graphs,o[i].params.yDomainMin=h,o),set_store_value(graphs,o[i].params.yDomainMax=_,o)}}function f(m){m&&(c(),set_store_value(addedNewChartData,r=!1,r))}const d=m=>c();return e.$$.update=()=>{e.$$.dirty&2&&f(r)},[c,r,d]}class Raw_tools extends SvelteComponent{constructor(t){super(),init(this,t,instance$t,create_fragment$t,safe_not_equal,{})}}const Raw_tools$1=Object.freeze(Object.defineProperty({__proto__:null,default:Raw_tools},Symbol.toStringTag,{value:"Module"}));function create_if_block$k(e){let t,a;return t=new Raw_tools({}),{c(){create_component(t.$$.fragment)},m(r,i){mount_component(t,r,i),a=!0},i(r){a||(transition_in(t.$$.fragment,r),a=!0)},o(r){transition_out(t.$$.fragment,r),a=!1},d(r){destroy_component(t,r)}}}function create_default_slot_2$3(e){let t,a,r;return{c(){t=element("div"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M304 192v32c0 6.6-5.4 12-12 12h-56v56c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-56h-56c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h56v-56c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v56h56c6.6 0 12 5.4 12 12zm201 284.7L476.7 505c-9.4 9.4-24.6 9.4-33.9 0L343 405.3c-4.5-4.5-7-10.6-7-17V372c-35.3 27.6-79.7 44-128 44C93.1 416 0 322.9 0 208S93.1 0 208 0s208 93.1 208 208c0 48.3-16.4 92.7-44 128h16.3c6.4 0 12.5 2.5 17 7l99.7 99.7c9.3 9.4 9.3 24.6 0 34zM344 208c0-75.2-60.8-136-136-136S72 132.8 72 208s60.8 136 136 136 136-60.8 136-136z" style="transform: scale(0.04); fill: var(--font-color); "></path></svg>',attr(t,"class","button svelte-10g9qi8"),attr(t,"id","Zoom in")},m(i,o){insert(i,t,o),a||(r=listen(t,"click",e[3]),a=!0)},p:noop,d(i){i&&detach(t),a=!1,r()}}}function create_default_slot_1$3(e){let t,a,r;return{c(){t=element("div"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M304 192v32c0 6.6-5.4 12-12 12H124c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm201 284.7L476.7 505c-9.4 9.4-24.6 9.4-33.9 0L343 405.3c-4.5-4.5-7-10.6-7-17V372c-35.3 27.6-79.7 44-128 44C93.1 416 0 322.9 0 208S93.1 0 208 0s208 93.1 208 208c0 48.3-16.4 92.7-44 128h16.3c6.4 0 12.5 2.5 17 7l99.7 99.7c9.3 9.4 9.3 24.6 0 34zM344 208c0-75.2-60.8-136-136-136S72 132.8 72 208s60.8 136 136 136 136-60.8 136-136z" style="transform: scale(0.04); fill: var(--font-color); "></path></svg>',attr(t,"class","button svelte-10g9qi8"),attr(t,"id","Zoom in")},m(i,o){insert(i,t,o),a||(r=listen(t,"click",e[4]),a=!0)},p:noop,d(i){i&&detach(t),a=!1,r()}}}function create_default_slot$7(e){let t,a,r;return{c(){t=element("div"),t.textContent="",attr(t,"class","button svelte-10g9qi8"),attr(t,"id","export")},m(i,o){insert(i,t,o),a||(r=listen(t,"click",e[5]),a=!0)},p:noop,d(i){i&&detach(t),a=!1,r()}}}function create_fragment$s(e){var m;let t,a,r,i,o,u,c,f,d=((m=e[1][e[0]])==null?void 0:m.graph)==="Raw"&&create_if_block$k();return r=new Tooltip({props:{tipcontent:"Zoom in",$$slots:{default:[create_default_slot_2$3]},$$scope:{ctx:e}}}),o=new Tooltip({props:{tipcontent:"Zoom out",$$slots:{default:[create_default_slot_1$3]},$$scope:{ctx:e}}}),c=new Tooltip({props:{tipcontent:"Save",$$slots:{default:[create_default_slot$7]},$$scope:{ctx:e}}}),{c(){t=element("div"),d&&d.c(),a=space(),create_component(r.$$.fragment),i=space(),create_component(o.$$.fragment),u=space(),create_component(c.$$.fragment),attr(t,"id","chartTools"),attr(t,"class","svelte-10g9qi8")},m(p,h){insert(p,t,h),d&&d.m(t,null),append(t,a),mount_component(r,t,null),append(t,i),mount_component(o,t,null),append(t,u),mount_component(c,t,null),f=!0},p(p,[h]){var v;((v=p[1][p[0]])==null?void 0:v.graph)==="Raw"?d?h&3&&transition_in(d,1):(d=create_if_block$k(),d.c(),transition_in(d,1),d.m(t,a)):d&&(group_outros(),transition_out(d,1,1,()=>{d=null}),check_outros());const _={};h&64&&(_.$$scope={dirty:h,ctx:p}),r.$set(_);const g={};h&64&&(g.$$scope={dirty:h,ctx:p}),o.$set(g);const b={};h&64&&(b.$$scope={dirty:h,ctx:p}),c.$set(b)},i(p){f||(transition_in(d),transition_in(r.$$.fragment,p),transition_in(o.$$.fragment,p),transition_in(c.$$.fragment,p),f=!0)},o(p){transition_out(d),transition_out(r.$$.fragment,p),transition_out(o.$$.fragment,p),transition_out(c.$$.fragment,p),f=!1},d(p){p&&detach(t),d&&d.d(),destroy_component(r),destroy_component(o),destroy_component(c)}}}function instance$s(e,t,a){let r,i;component_subscribe(e,activeGraphTab,d=>a(0,r=d)),component_subscribe(e,graphs,d=>a(1,i=d));function o(d="in"){const m=document.getElementById("svgContainer");var h=parseFloat(m.style.transform.slice(m.style.transform.indexOf("scale")+6));d==="in"?h+=.1:h-=.1,set_store_value(graphs,i[r].zoom=h,i),m.style.transform="scale("+h+")",m.style.width=""}return[r,i,o,d=>o("in"),()=>o("out"),()=>exportSVG()]}class Charttools extends SvelteComponent{constructor(t){super(),init(this,t,instance$s,create_fragment$s,safe_not_equal,{})}}const Charttools$1=Object.freeze(Object.defineProperty({__proto__:null,default:Charttools},Symbol.toStringTag,{value:"Module"}));function get_each_context$e(e,t,a){const r=e.slice();return r[8]=t[a],r[9]=t,r[10]=a,r}function create_else_block$5(e){let t,a,r,i,o,u=ensure_array_like(e[0]),c=[];for(let d=0;d<u.length;d+=1)c[d]=create_each_block$e(get_each_context$e(e,u,d));const f=d=>transition_out(c[d],1,1,()=>{c[d]=null});return i=new Charttools({}),{c(){t=element("nav"),a=element("ul");for(let d=0;d<c.length;d+=1)c[d].c();r=space(),create_component(i.$$.fragment),attr(a,"class","svelte-1gfrvzx"),attr(t,"class","svelte-1gfrvzx")},m(d,m){insert(d,t,m),append(t,a);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(a,null);insert(d,r,m),mount_component(i,d,m),o=!0},p(d,m){if(m&15){u=ensure_array_like(d[0]);let p;for(p=0;p<u.length;p+=1){const h=get_each_context$e(d,u,p);c[p]?(c[p].p(h,m),transition_in(c[p],1)):(c[p]=create_each_block$e(h),c[p].c(),transition_in(c[p],1),c[p].m(a,null))}for(group_outros(),p=u.length;p<c.length;p+=1)f(p);check_outros()}},i(d){if(!o){for(let m=0;m<u.length;m+=1)transition_in(c[m]);transition_in(i.$$.fragment,d),o=!0}},o(d){c=c.filter(Boolean);for(let m=0;m<c.length;m+=1)transition_out(c[m]);transition_out(i.$$.fragment,d),o=!1},d(d){d&&(detach(t),detach(r)),destroy_each(c,d),destroy_component(i,d)}}}function create_if_block$j(e){let t;return{c(){t=element("h3"),t.textContent="Need to add a chart"},m(a,r){insert(a,t,r)},p:noop,i:noop,o:noop,d(a){a&&detach(t)}}}function create_each_block$e(e){let t,a,r,i,o,u,c,f,d,m,p;function h(v){e[4](v,e[8])}let _={};e[8].name!==void 0&&(_.value=e[8].name),r=new InPlaceEdit({props:_}),binding_callbacks.push(()=>bind(r,"value",h));function g(){return e[5](e[10])}function b(){return e[6](e[10])}return{c(){t=element("li"),a=element("span"),create_component(r.$$.fragment),o=space(),u=element("button"),u.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="svelte-1gfrvzx"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg>',c=space(),attr(a,"class","tabname svelte-1gfrvzx"),attr(u,"class","closeButton svelte-1gfrvzx"),attr(t,"class",f=null_to_empty(e[1]===e[10]?"active":"")+" svelte-1gfrvzx")},m(v,k){insert(v,t,k),append(t,a),mount_component(r,a,null),append(t,o),append(t,u),append(t,c),d=!0,m||(p=[listen(a,"click",g),listen(u,"click",b)],m=!0)},p(v,k){e=v;const A={};!i&&k&1&&(i=!0,A.value=e[8].name,add_flush_callback(()=>i=!1)),r.$set(A),(!d||k&2&&f!==(f=null_to_empty(e[1]===e[10]?"active":"")+" svelte-1gfrvzx"))&&attr(t,"class",f)},i(v){d||(transition_in(r.$$.fragment,v),d=!0)},o(v){transition_out(r.$$.fragment,v),d=!1},d(v){v&&detach(t),destroy_component(r),m=!1,run_all(p)}}}function create_fragment$r(e){let t,a,r,i;const o=[create_if_block$j,create_else_block$5],u=[];function c(f,d){return f[1]<0?0:1}return a=c(e),r=u[a]=o[a](e),{c(){t=element("div"),r.c(),attr(t,"id","graphTabs"),set_style(t,"margin","0 1em"),attr(t,"class","svelte-1gfrvzx")},m(f,d){insert(f,t,d),u[a].m(t,null),i=!0},p(f,[d]){let m=a;a=c(f),a===m?u[a].p(f,d):(group_outros(),transition_out(u[m],1,1,()=>{u[m]=null}),check_outros(),r=u[a],r?r.p(f,d):(r=u[a]=o[a](f),r.c()),transition_in(r,1),r.m(t,null))},i(f){i||(transition_in(r),i=!0)},o(f){transition_out(r),i=!1},d(f){f&&detach(t),u[a].d()}}}function instance$r(e,t,a){let r,i,o;component_subscribe(e,graphTabs,p=>a(0,r=p)),component_subscribe(e,graphs,p=>a(7,i=p)),component_subscribe(e,activeGraphTab,p=>a(1,o=p));function u(p){set_store_value(activeGraphTab,o=p,o)}function c(p){i.splice(p,1),r.splice(p,1),set_store_value(activeGraphTab,o=i.length-1,o),console.log(o),graphs.set(i),graphTabs.set(r)}function f(p,h){e.$$.not_equal(h.name,p)&&(h.name=p,graphTabs.set(r))}return[r,o,u,c,f,p=>u(p),p=>c(p)]}class GraphTabs extends SvelteComponent{constructor(t){super(),init(this,t,instance$r,create_fragment$r,safe_not_equal,{})}}function create_else_block_1$1(e){let t=e[1][e[0]].graph+"",a;return{c(){a=text(t)},m(r,i){insert(r,a,i)},p(r,i){i&3&&t!==(t=r[1][r[0]].graph+"")&&set_data(a,t)},i:noop,o:noop,d(r){r&&detach(a)}}}function create_if_block_3$4(e){let t,a,r;var i=graphMap[e[1][e[0]].graph].graph;function o(u,c){return{}}return i&&(t=construct_svelte_component(i,o())),{c(){t&&create_component(t.$$.fragment),a=empty$1()},m(u,c){t&&mount_component(t,u,c),insert(u,a,c),r=!0},p(u,c){if(c&3&&i!==(i=graphMap[u[1][u[0]].graph].graph)){if(t){group_outros();const f=t;transition_out(f.$$.fragment,1,0,()=>{destroy_component(f,1)}),check_outros()}i?(t=construct_svelte_component(i,o()),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,a.parentNode,a)):t=null}},i(u){r||(t&&transition_in(t.$$.fragment,u),r=!0)},o(u){t&&transition_out(t.$$.fragment,u),r=!1},d(u){u&&detach(a),t&&destroy_component(t,u)}}}function create_if_block_2$4(e){return{c:noop,m:noop,p:noop,i:noop,o:noop,d:noop}}function create_default_slot_3$2(e){let t,a,r,i,o,u;t=new GraphTabs({});const c=[create_if_block_2$4,create_if_block_3$4,create_else_block_1$1],f=[];function d(m,p){return m[0]<0?0:m[1][m[0]].graph in graphMap?1:2}return i=d(e),o=f[i]=c[i](e),{c(){create_component(t.$$.fragment),a=space(),r=element("div"),o.c(),attr(r,"id","thePlot"),set_style(r,"height","calc(100% - 4em)"),set_style(r,"overflow","auto"),set_style(r,"width","auto")},m(m,p){mount_component(t,m,p),insert(m,a,p),insert(m,r,p),f[i].m(r,null),u=!0},p(m,p){let h=i;i=d(m),i===h?f[i].p(m,p):(group_outros(),transition_out(f[h],1,1,()=>{f[h]=null}),check_outros(),o=f[i],o?o.p(m,p):(o=f[i]=c[i](m),o.c()),transition_in(o,1),o.m(r,null))},i(m){u||(transition_in(t.$$.fragment,m),transition_in(o),u=!0)},o(m){transition_out(t.$$.fragment,m),transition_out(o),u=!1},d(m){m&&(detach(a),detach(r)),destroy_component(t,m),f[i].d()}}}function create_else_block$4(e){let t=JSON.stringify(e[1][e[0]].sourceData)+"",a;return{c(){a=text(t)},m(r,i){insert(r,a,i)},p(r,i){i&3&&t!==(t=JSON.stringify(r[1][r[0]].sourceData)+"")&&set_data(a,t)},i:noop,o:noop,d(r){r&&detach(a)}}}function create_if_block_1$9(e){let t,a,r,i,o;var u=graphMap[e[1][e[0]].graph].controls;function c(f,d){return{}}return u&&(i=construct_svelte_component(u,c())),{c(){t=element("div"),a=element("div"),a.innerHTML="<h1>Controls</h1>",r=space(),i&&create_component(i.$$.fragment),set_style(a,"display","flex"),set_style(a,"min-width","200px"),attr(t,"id","chartControlsTree"),set_style(t,"height","100%"),set_style(t,"width","auto"),set_style(t,"overflow","auto")},m(f,d){insert(f,t,d),append(t,a),append(t,r),i&&mount_component(i,t,null),o=!0},p(f,d){if(d&3&&u!==(u=graphMap[f[1][f[0]].graph].controls)){if(i){group_outros();const m=i;transition_out(m.$$.fragment,1,0,()=>{destroy_component(m,1)}),check_outros()}u?(i=construct_svelte_component(u,c()),create_component(i.$$.fragment),transition_in(i.$$.fragment,1),mount_component(i,t,null)):i=null}},i(f){o||(i&&transition_in(i.$$.fragment,f),o=!0)},o(f){i&&transition_out(i.$$.fragment,f),o=!1},d(f){f&&detach(t),i&&destroy_component(i)}}}function create_if_block$i(e){return{c:noop,m:noop,p:noop,i:noop,o:noop,d:noop}}function create_default_slot_2$2(e){let t,a,r,i;const o=[create_if_block$i,create_if_block_1$9,create_else_block$4],u=[];function c(f,d){return f[0]<0?0:f[1][f[0]].graph in graphMap?1:2}return t=c(e),a=u[t]=o[t](e),{c(){a.c(),r=empty$1()},m(f,d){u[t].m(f,d),insert(f,r,d),i=!0},p(f,d){let m=t;t=c(f),t===m?u[t].p(f,d):(group_outros(),transition_out(u[m],1,1,()=>{u[m]=null}),check_outros(),a=u[t],a?a.p(f,d):(a=u[t]=o[t](f),a.c()),transition_in(a,1),a.m(r.parentNode,r))},i(f){i||(transition_in(a),i=!0)},o(f){transition_out(a),i=!1},d(f){f&&detach(r),u[t].d(f)}}}function create_default_slot_1$2(e){let t,a,r,i;return t=new Pane({props:{$$slots:{default:[create_default_slot_3$2]},$$scope:{ctx:e}}}),r=new Pane({props:{size:25,$$slots:{default:[create_default_slot_2$2]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment),a=space(),create_component(r.$$.fragment)},m(o,u){mount_component(t,o,u),insert(o,a,u),mount_component(r,o,u),i=!0},p(o,u){const c={};u&7&&(c.$$scope={dirty:u,ctx:o}),t.$set(c);const f={};u&7&&(f.$$scope={dirty:u,ctx:o}),r.$set(f)},i(o){i||(transition_in(t.$$.fragment,o),transition_in(r.$$.fragment,o),i=!0)},o(o){transition_out(t.$$.fragment,o),transition_out(r.$$.fragment,o),i=!1},d(o){o&&detach(a),destroy_component(t,o),destroy_component(r,o)}}}function create_default_slot$6(e){let t,a;return t=new Splitpanes({props:{theme:"modern-theme",style:"height: 100%;",pushOtherPanes:!1,dblClickSplitter:!1,$$slots:{default:[create_default_slot_1$2]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},m(r,i){mount_component(t,r,i),a=!0},p(r,i){const o={};i&7&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){a||(transition_in(t.$$.fragment,r),a=!0)},o(r){transition_out(t.$$.fragment,r),a=!1},d(r){destroy_component(t,r)}}}function create_fragment$q(e){let t,a;return t=new Pane({props:{size:80,$$slots:{default:[create_default_slot$6]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},m(r,i){mount_component(t,r,i),a=!0},p(r,[i]){const o={};i&7&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){a||(transition_in(t.$$.fragment,r),a=!0)},o(r){transition_out(t.$$.fragment,r),a=!1},d(r){destroy_component(t,r)}}}function instance$q(e,t,a){let r,i;return component_subscribe(e,activeGraphTab,o=>a(0,r=o)),component_subscribe(e,graphs,o=>a(1,i=o)),[r,i]}class GraphMaster extends SvelteComponent{constructor(t){super(),init(this,t,instance$q,create_fragment$q,safe_not_equal,{})}}function get_each_context$d(e,t,a){const r=e.slice();return r[22]=t[a],r[23]=t,r[24]=a,r}function get_each_context_1$9(e,t,a){const r=e.slice();return r[25]=t[a],r[26]=t,r[27]=a,r}function get_each_context_2$6(e,t,a){const r=e.slice();return r[25]=t[a],r[28]=t,r[29]=a,r}function get_each_context_3$1(e,t,a){const r=e.slice();return r[30]=t[a],r[32]=a,r}function create_else_block$3(e){let t,a,r,i=ensure_array_like(e[2]),o=[];for(let c=0;c<i.length;c+=1)o[c]=create_each_block_3$1(get_each_context_3$1(e,i,c));const u=c=>transition_out(o[c],1,1,()=>{o[c]=null});return{c(){t=element("nav"),a=element("ul");for(let c=0;c<o.length;c+=1)o[c].c();attr(a,"class","svelte-nulfcf"),attr(t,"class","svelte-nulfcf")},m(c,f){insert(c,t,f),append(t,a);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(a,null);r=!0},p(c,f){if(f[0]&1550){i=ensure_array_like(c[2]);let d;for(d=0;d<i.length;d+=1){const m=get_each_context_3$1(c,i,d);o[d]?(o[d].p(m,f),transition_in(o[d],1)):(o[d]=create_each_block_3$1(m),o[d].c(),transition_in(o[d],1),o[d].m(a,null))}for(group_outros(),d=i.length;d<o.length;d+=1)u(d);check_outros()}},i(c){if(!r){for(let f=0;f<i.length;f+=1)transition_in(o[f]);r=!0}},o(c){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)transition_out(o[f]);r=!1},d(c){c&&detach(t),destroy_each(o,c)}}}function create_if_block_3$3(e){let t;return{c(){t=element("h3"),t.textContent="Need to add a table"},m(a,r){insert(a,t,r)},p:noop,i:noop,o:noop,d(a){a&&detach(t)}}}function create_each_block_3$1(e){let t,a,r,i,o,u,c,f,d,m,p;function h(v){e[11](v)}let _={};e[3][e[3].findIndex(e[12])].displayName!==void 0&&(_.value=e[3][e[3].findIndex(e[12])].displayName),r=new InPlaceEdit({props:_}),binding_callbacks.push(()=>bind(r,"value",h));function g(){return e[13](e[32])}function b(){return e[14](e[32])}return{c(){t=element("li"),a=element("span"),create_component(r.$$.fragment),o=space(),u=element("button"),u.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 svelte-nulfcf"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg>',c=space(),attr(a,"class","tabname svelte-nulfcf"),attr(u,"class","closeButton svelte-nulfcf"),attr(t,"class",f=null_to_empty(e[1]===e[32]?"active":"")+" svelte-nulfcf")},m(v,k){insert(v,t,k),append(t,a),mount_component(r,a,null),append(t,o),append(t,u),append(t,c),d=!0,m||(p=[listen(u,"click",g),listen(t,"click",b)],m=!0)},p(v,k){e=v;const A={};!i&&k[0]&14&&(i=!0,A.value=e[3][e[3].findIndex(e[12])].displayName,add_flush_callback(()=>i=!1)),r.$set(A),(!d||k[0]&2&&f!==(f=null_to_empty(e[1]===e[32]?"active":"")+" svelte-nulfcf"))&&attr(t,"class",f)},i(v){d||(transition_in(r.$$.fragment,v),d=!0)},o(v){transition_out(r.$$.fragment,v),d=!1},d(v){v&&detach(t),destroy_component(r),m=!1,run_all(p)}}}function create_if_block$h(e){let t,a,r,i,o,u,c,f,d,m,p,h,_,g,b,v,k,A,w,T,y,S,O,z,I=ensure_array_like(Object.keys(e[0].data)),M=[];for(let D=0;D<I.length;D+=1)M[D]=create_each_block_2$6(get_each_context_2$6(e,I,D));const E=D=>transition_out(M[D],1,1,()=>{M[D]=null});let W=ensure_array_like(range$1(Math.max(0,e[4]-1),Math.min(e[5]-1,e[6]))),H=[];for(let D=0;D<W.length;D+=1)H[D]=create_each_block$d(get_each_context$d(e,W,D));const $=D=>transition_out(H[D],1,1,()=>{H[D]=null});return{c(){t=element("main"),a=element("div"),r=text("Show rows "),i=element("input"),u=text(`
      to
      `),c=element("input"),d=text(`
      of `),m=text(e[6]),p=space(),h=element("table"),_=element("thead"),g=element("tr"),b=element("td"),v=space();for(let D=0;D<M.length;D+=1)M[D].c();k=space(),A=element("td"),w=element("button"),w.textContent="+",T=space(),y=element("tbody");for(let D=0;D<H.length;D+=1)H[D].c();attr(i,"type","number"),attr(i,"id","min"),attr(i,"min","0"),attr(i,"max",o=e[5]-1),attr(c,"type","number"),attr(c,"id","min"),attr(c,"min",f=e[4]+1),attr(c,"max",e[6]),attr(a,"id","editTablePagination"),attr(b,"class","svelte-nulfcf"),attr(A,"class","svelte-nulfcf"),attr(h,"class","svelte-nulfcf")},m(D,N){insert(D,t,N),append(t,a),append(a,r),append(a,i),set_input_value(i,e[4]),append(a,u),append(a,c),set_input_value(c,e[5]),append(a,d),append(a,m),append(t,p),append(t,h),append(h,_),append(_,g),append(g,b),append(g,v);for(let F=0;F<M.length;F+=1)M[F]&&M[F].m(g,null);append(g,k),append(g,A),append(A,w),append(h,T),append(h,y);for(let F=0;F<H.length;F+=1)H[F]&&H[F].m(y,null);S=!0,O||(z=[listen(i,"input",e[15]),listen(c,"input",e[16]),listen(w,"click",e[7])],O=!0)},p(D,N){if((!S||N[0]&32&&o!==(o=D[5]-1))&&attr(i,"max",o),N[0]&16&&to_number(i.value)!==D[4]&&set_input_value(i,D[4]),(!S||N[0]&16&&f!==(f=D[4]+1))&&attr(c,"min",f),(!S||N[0]&64)&&attr(c,"max",D[6]),N[0]&32&&to_number(c.value)!==D[5]&&set_input_value(c,D[5]),(!S||N[0]&64)&&set_data(m,D[6]),N[0]&257){I=ensure_array_like(Object.keys(D[0].data));let F;for(F=0;F<I.length;F+=1){const L=get_each_context_2$6(D,I,F);M[F]?(M[F].p(L,N),transition_in(M[F],1)):(M[F]=create_each_block_2$6(L),M[F].c(),transition_in(M[F],1),M[F].m(g,k))}for(group_outros(),F=I.length;F<M.length;F+=1)E(F);check_outros()}if(N[0]&369){W=ensure_array_like(range$1(Math.max(0,D[4]-1),Math.min(D[5]-1,D[6])));let F;for(F=0;F<W.length;F+=1){const L=get_each_context$d(D,W,F);H[F]?(H[F].p(L,N),transition_in(H[F],1)):(H[F]=create_each_block$d(L),H[F].c(),transition_in(H[F],1),H[F].m(y,null))}for(group_outros(),F=W.length;F<H.length;F+=1)$(F);check_outros()}},i(D){if(!S){for(let N=0;N<I.length;N+=1)transition_in(M[N]);for(let N=0;N<W.length;N+=1)transition_in(H[N]);S=!0}},o(D){M=M.filter(Boolean);for(let N=0;N<M.length;N+=1)transition_out(M[N]);H=H.filter(Boolean);for(let N=0;N<H.length;N+=1)transition_out(H[N]);S=!1},d(D){D&&detach(t),destroy_each(M,D),destroy_each(H,D),O=!1,run_all(z)}}}function create_if_block_2$3(e){let t,a,r=e[0].data[e[25]].name+"",i,o;return{c(){t=element("td"),a=element("i"),i=text(r),o=text("*"),attr(t,"class","svelte-nulfcf")},m(u,c){insert(u,t,c),append(t,a),append(a,i),append(a,o)},p(u,c){c[0]&1&&r!==(r=u[0].data[u[25]].name+"")&&set_data(i,r)},d(u){u&&detach(t)}}}function create_each_block_2$6(e){let t,a,r,i,o,u;function c(p){e[17](p,e[25])}function f(...p){return e[18](e[25],...p)}let d={};e[0].data[e[25]].name!==void 0&&(d.value=e[0].data[e[25]].name),a=new InPlaceEdit({props:d}),binding_callbacks.push(()=>bind(a,"value",c)),a.$on("submit",f);let m=e[0].data[e[25]].type=="time"&&create_if_block_2$3(e);return{c(){t=element("td"),create_component(a.$$.fragment),i=space(),m&&m.c(),o=empty$1(),attr(t,"class","svelte-nulfcf")},m(p,h){insert(p,t,h),mount_component(a,t,null),insert(p,i,h),m&&m.m(p,h),insert(p,o,h),u=!0},p(p,h){e=p;const _={};!r&&h[0]&1&&(r=!0,_.value=e[0].data[e[25]].name,add_flush_callback(()=>r=!1)),a.$set(_),e[0].data[e[25]].type=="time"?m?m.p(e,h):(m=create_if_block_2$3(e),m.c(),m.m(o.parentNode,o)):m&&(m.d(1),m=null)},i(p){u||(transition_in(a.$$.fragment,p),u=!0)},o(p){transition_out(a.$$.fragment,p),u=!1},d(p){p&&(detach(t),detach(i),detach(o)),destroy_component(a),m&&m.d(p)}}}function create_if_block_1$8(e){let t,a,r=e[0].data[e[25]].timeData[e[22]]+"",i;return{c(){t=element("td"),a=element("i"),i=text(r),attr(t,"class","svelte-nulfcf")},m(o,u){insert(o,t,u),append(t,a),append(a,i)},p(o,u){u[0]&113&&r!==(r=o[0].data[o[25]].timeData[o[22]]+"")&&set_data(i,r)},d(o){o&&detach(t)}}}function create_each_block_1$9(e){let t,a,r,i,o,u;function c(p){e[19](p,e[25],e[22])}function f(...p){return e[20](e[22],e[27],...p)}let d={};e[0].data[e[25]].data[e[22]]!==void 0&&(d.value=e[0].data[e[25]].data[e[22]]),a=new InPlaceEdit({props:d}),binding_callbacks.push(()=>bind(a,"value",c)),a.$on("submit",f);let m=e[0].data[e[25]].type=="time"&&create_if_block_1$8(e);return{c(){t=element("td"),create_component(a.$$.fragment),i=space(),m&&m.c(),o=empty$1(),attr(t,"class","svelte-nulfcf")},m(p,h){insert(p,t,h),mount_component(a,t,null),insert(p,i,h),m&&m.m(p,h),insert(p,o,h),u=!0},p(p,h){e=p;const _={};!r&&h[0]&113&&(r=!0,_.value=e[0].data[e[25]].data[e[22]],add_flush_callback(()=>r=!1)),a.$set(_),e[0].data[e[25]].type=="time"?m?m.p(e,h):(m=create_if_block_1$8(e),m.c(),m.m(o.parentNode,o)):m&&(m.d(1),m=null)},i(p){u||(transition_in(a.$$.fragment,p),u=!0)},o(p){transition_out(a.$$.fragment,p),u=!1},d(p){p&&(detach(t),detach(i),detach(o)),destroy_component(a),m&&m.d(p)}}}function create_each_block$d(e){let t,a,r,i=e[22]+1+"",o,u,c,f,d=ensure_array_like(Object.keys(e[0].data)),m=[];for(let h=0;h<d.length;h+=1)m[h]=create_each_block_1$9(get_each_context_1$9(e,d,h));const p=h=>transition_out(m[h],1,1,()=>{m[h]=null});return{c(){t=element("tr"),a=element("td"),r=element("i"),o=text(i),u=space();for(let h=0;h<m.length;h+=1)m[h].c();c=space(),attr(a,"class","svelte-nulfcf")},m(h,_){insert(h,t,_),append(t,a),append(a,r),append(r,o),append(t,u);for(let g=0;g<m.length;g+=1)m[g]&&m[g].m(t,null);append(t,c),f=!0},p(h,_){if((!f||_[0]&112)&&i!==(i=h[22]+1+"")&&set_data(o,i),_[0]&369){d=ensure_array_like(Object.keys(h[0].data));let g;for(g=0;g<d.length;g+=1){const b=get_each_context_1$9(h,d,g);m[g]?(m[g].p(b,_),transition_in(m[g],1)):(m[g]=create_each_block_1$9(b),m[g].c(),transition_in(m[g],1),m[g].m(t,c))}for(group_outros(),g=d.length;g<m.length;g+=1)p(g);check_outros()}},i(h){if(!f){for(let _=0;_<d.length;_+=1)transition_in(m[_]);f=!0}},o(h){m=m.filter(Boolean);for(let _=0;_<m.length;_+=1)transition_out(m[_]);f=!1},d(h){h&&detach(t),destroy_each(m,h)}}}function create_fragment$p(e){let t,a,r,i,o,u;const c=[create_if_block_3$3,create_else_block$3],f=[];function d(p,h){return p[1]<0?0:1}a=d(e),r=f[a]=c[a](e);let m=e[1]>=0&&create_if_block$h(e);return{c(){t=element("div"),r.c(),i=space(),m&&m.c(),o=empty$1(),attr(t,"id","tableTabs"),set_style(t,"margin","0 1em"),attr(t,"class","svelte-nulfcf")},m(p,h){insert(p,t,h),f[a].m(t,null),insert(p,i,h),m&&m.m(p,h),insert(p,o,h),u=!0},p(p,h){let _=a;a=d(p),a===_?f[a].p(p,h):(group_outros(),transition_out(f[_],1,1,()=>{f[_]=null}),check_outros(),r=f[a],r?r.p(p,h):(r=f[a]=c[a](p),r.c()),transition_in(r,1),r.m(t,null)),p[1]>=0?m?(m.p(p,h),h[0]&2&&transition_in(m,1)):(m=create_if_block$h(p),m.c(),transition_in(m,1),m.m(o.parentNode,o)):m&&(group_outros(),transition_out(m,1,1,()=>{m=null}),check_outros())},i(p){u||(transition_in(r),transition_in(m),u=!0)},o(p){transition_out(r),transition_out(m),u=!1},d(p){p&&(detach(t),detach(i),detach(o)),f[a].d(),m&&m.d(p)}}}function range$1(e,t){const a=[];let r=e;for(;r<=t;)a.push(r),r+=1;return a}function instance$p(e,t,a){let r,i,o,u,c,f;component_subscribe(e,activeTableTab,I=>a(1,o=I)),component_subscribe(e,dataIDsforTables,I=>a(2,u=I)),component_subscribe(e,data,I=>a(3,c=I)),component_subscribe(e,showalldata,I=>a(21,f=I));function d(){const I=range$1(0,i),M={name:"test",type:"value",originalData:I,processSteps:[],data:I},E="processed_"+(Object.keys(c.find(W=>W.id===u[o]).data).length+1);c.find(W=>W.id===u[o]).data[E]=M,data.set(c),console.log(c)}function m(I,M,E){if(console.log(c.find(W=>W.id===u[o])),M=="heading")c.find(W=>W.id===u[o]).data[E].name=I.detail,data.set(c);else{let W=Object.keys(c.find(H=>H.id===u[o]).data)[E];c.find(H=>H.id===u[o]).data[W].data[M]=I.detail,data.set(c),c.find(H=>H.id===u[o]).data[W].type=="time"&&(console.log("updating the time data also"),c.find(H=>H.id===u[o]).data[W].timeData=forceFormat(c.find(H=>H.id===u[o]).data[W].data,c.find(H=>H.id===u[o]).data[W].timeFormat)),data.set(c)}}let p=1,h=10;function _(I){set_store_value(activeTableTab,o=I,o)}function g(I){u.splice(I,1),dataIDsforTables.set(u),f.splice(I,1),showalldata.set(f),set_store_value(activeTableTab,o=u.length>0?0:-1,o)}const b=I=>I.id===u[o];function v(I){e.$$.not_equal(c[c.findIndex(M=>M.id===u[o])].displayName,I)&&(c[c.findIndex(M=>M.id===u[o])].displayName=I,data.set(c))}const k=I=>g(I),A=I=>_(I);function w(){p=to_number(this.value),a(4,p)}function T(){h=to_number(this.value),a(5,h)}function y(I,M){e.$$.not_equal(r.data[M].name,I)&&(r.data[M].name=I,a(0,r),a(3,c),a(2,u),a(1,o))}const S=(I,M)=>m(M,"heading",I);function O(I,M,E){e.$$.not_equal(r.data[M].data[E],I)&&(r.data[M].data[E]=I,a(0,r),a(3,c),a(2,u),a(1,o))}const z=(I,M,E)=>m(E,I,M);return e.$$.update=()=>{e.$$.dirty[0]&14&&a(0,r=c.find(I=>I.id===u[o])||{data:{}}),e.$$.dirty[0]&1&&a(6,i=r.datalength)},[r,o,u,c,p,h,i,d,m,_,g,v,b,k,A,w,T,y,S,O,z]}class TableTabs extends SvelteComponent{constructor(t){super(),init(this,t,instance$p,create_fragment$p,safe_not_equal,{},null,[-1,-1])}}function get_each_context$c(e,t,a){const r=e.slice();return r[10]=t[a],r[11]=t,r[12]=a,r}function create_default_slot_3$1(e){let t,a,r;return a=new TableTabs({}),{c(){t=element("div"),create_component(a.$$.fragment),attr(t,"id","TableMain"),set_style(t,"height","100%"),set_style(t,"width","auto"),set_style(t,"overflow","auto")},m(i,o){insert(i,t,o),mount_component(a,t,null),r=!0},p:noop,i(i){r||(transition_in(a.$$.fragment,i),r=!0)},o(i){transition_out(a.$$.fragment,i),r=!1},d(i){i&&detach(t),destroy_component(a)}}}function create_if_block$g(e){let t,a;return t=new Pane({props:{size:30,$$slots:{default:[create_default_slot_2$1]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},m(r,i){mount_component(t,r,i),a=!0},p(r,i){const o={};i&8193&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){a||(transition_in(t.$$.fragment,r),a=!0)},o(r){transition_out(t.$$.fragment,r),a=!1},d(r){destroy_component(t,r)}}}function create_if_block_1$7(e){let t,a=e[0].data[e[10]].name+"",r,i,o,u,c,f,d,m,p=e[0].data[e[10]].recordPeriod.minDiff+"",h,_,g=e[0].data[e[10]].recordPeriod.constant?"equal":"unequal",b,v,k,A;function w(){e[7].call(o,e[10])}function T(...S){return e[8](e[10],...S)}function y(...S){return e[9](e[10],...S)}return{c(){t=element("div"),r=text(a),i=space(),o=element("input"),u=space(),c=element("button"),c.textContent="",f=space(),d=element("div"),m=text("Sampling freq: "),h=text(p),_=text(`
                  hrs,
                  `),b=text(g),v=space(),attr(o,"type","text"),attr(c,"class","guessFmtBtn svelte-1wt1n0s"),set_style(t,"display","flex"),set_style(t,"margin","5px"),set_style(d,"display","flex"),set_style(d,"margin","5px"),set_style(d,"margin-left","1em")},m(S,O){insert(S,t,O),append(t,r),append(t,i),append(t,o),set_input_value(o,e[0].data[e[10]].timeFormat),append(t,u),append(t,c),insert(S,f,O),insert(S,d,O),append(d,m),append(d,h),append(d,_),append(d,b),append(d,v),k||(A=[listen(o,"input",w),listen(o,"change",T),listen(c,"click",y)],k=!0)},p(S,O){e=S,O&1&&a!==(a=e[0].data[e[10]].name+"")&&set_data(r,a),O&1&&o.value!==e[0].data[e[10]].timeFormat&&set_input_value(o,e[0].data[e[10]].timeFormat),O&1&&p!==(p=e[0].data[e[10]].recordPeriod.minDiff+"")&&set_data(h,p),O&1&&g!==(g=e[0].data[e[10]].recordPeriod.constant?"equal":"unequal")&&set_data(b,g)},d(S){S&&(detach(t),detach(f),detach(d)),k=!1,run_all(A)}}}function create_each_block$c(e){let t,a=e[0].data[e[10]].type==="time"&&create_if_block_1$7(e);return{c(){a&&a.c(),t=empty$1()},m(r,i){a&&a.m(r,i),insert(r,t,i)},p(r,i){r[0].data[r[10]].type==="time"?a?a.p(r,i):(a=create_if_block_1$7(r),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},d(r){r&&detach(t),a&&a.d(r)}}}function create_default_slot_2$1(e){let t,a,r,i,o=e[0].displayName+"",u,c,f,d,m=e[0].importedFrom+"",p,h,_,g,b=e[0].data[Object.keys(e[0].data)[0]].data.length+"",v,k,A=ensure_array_like(Object.keys(e[0].data)),w=[];for(let T=0;T<A.length;T+=1)w[T]=create_each_block$c(get_each_context$c(e,A,T));return{c(){t=element("div"),a=element("div"),r=element("div"),i=text("Data: "),u=text(o),c=space(),f=element("div"),d=text("Imported: "),p=text(m),h=space(),_=element("div"),g=text("Data length: "),v=text(b),k=space();for(let T=0;T<w.length;T+=1)w[T].c();attr(a,"class","tableData"),attr(t,"id","TableMeta"),set_style(t,"height","100%"),set_style(t,"width","auto"),set_style(t,"overflow","auto")},m(T,y){insert(T,t,y),append(t,a),append(a,r),append(r,i),append(r,u),append(a,c),append(a,f),append(f,d),append(f,p),append(a,h),append(a,_),append(_,g),append(_,v),append(a,k);for(let S=0;S<w.length;S+=1)w[S]&&w[S].m(a,null)},p(T,y){if(y&1&&o!==(o=T[0].displayName+"")&&set_data(u,o),y&1&&m!==(m=T[0].importedFrom+"")&&set_data(p,m),y&1&&b!==(b=T[0].data[Object.keys(T[0].data)[0]].data.length+"")&&set_data(v,b),y&13){A=ensure_array_like(Object.keys(T[0].data));let S;for(S=0;S<A.length;S+=1){const O=get_each_context$c(T,A,S);w[S]?w[S].p(O,y):(w[S]=create_each_block$c(O),w[S].c(),w[S].m(a,null))}for(;S<w.length;S+=1)w[S].d(1);w.length=A.length}},d(T){T&&detach(t),destroy_each(w,T)}}}function create_default_slot_1$1(e){let t,a,r,i;t=new Pane({props:{$$slots:{default:[create_default_slot_3$1]},$$scope:{ctx:e}}});let o=e[1]&&create_if_block$g(e);return{c(){create_component(t.$$.fragment),a=space(),o&&o.c(),r=empty$1()},m(u,c){mount_component(t,u,c),insert(u,a,c),o&&o.m(u,c),insert(u,r,c),i=!0},p(u,c){const f={};c&8192&&(f.$$scope={dirty:c,ctx:u}),t.$set(f),u[1]?o?(o.p(u,c),c&2&&transition_in(o,1)):(o=create_if_block$g(u),o.c(),transition_in(o,1),o.m(r.parentNode,r)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros())},i(u){i||(transition_in(t.$$.fragment,u),transition_in(o),i=!0)},o(u){transition_out(t.$$.fragment,u),transition_out(o),i=!1},d(u){u&&(detach(a),detach(r)),destroy_component(t,u),o&&o.d(u)}}}function create_default_slot$5(e){let t,a;return t=new Splitpanes({props:{theme:"modern-theme",style:"height: 100%",pushOtherPanes:!1,dblClickSplitter:!1,$$slots:{default:[create_default_slot_1$1]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},m(r,i){mount_component(t,r,i),a=!0},p(r,i){const o={};i&8195&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){a||(transition_in(t.$$.fragment,r),a=!0)},o(r){transition_out(t.$$.fragment,r),a=!1},d(r){destroy_component(t,r)}}}function create_fragment$o(e){let t,a;return t=new Pane({props:{$$slots:{default:[create_default_slot$5]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},m(r,i){mount_component(t,r,i),a=!0},p(r,[i]){const o={};i&8195&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){a||(transition_in(t.$$.fragment,r),a=!0)},o(r){transition_out(t.$$.fragment,r),a=!1},d(r){destroy_component(t,r)}}}function instance$o(e,t,a){let r,i,o,u,c;component_subscribe(e,activeTableTab,_=>a(4,o=_)),component_subscribe(e,dataIDsforTables,_=>a(5,u=_)),component_subscribe(e,data,_=>a(6,c=_));function f(_){console.log(i),set_store_value(data,c[c.findIndex(g=>g.id===u[o])].data[_].timeData=forceFormat(i.data[_].data,i.data[_].timeFormat),c),set_store_value(data,c[c.findIndex(g=>g.id===u[o])].data[_].recordPeriod=getPeriod(i.data[_].data,i.data[_].timeFormat),c),updateDataProcess(u[o],_)}function d(_){set_store_value(data,c[c.findIndex(g=>g.id===u[o])].data[_].timeFormat=getGuessedFormat(i.data[_].data),c),f(_)}function m(_){i.data[_].timeFormat=this.value,a(0,i),a(6,c),a(5,u),a(4,o)}const p=(_,g)=>{f(_)},h=(_,g)=>{d(_)};return e.$$.update=()=>{e.$$.dirty&16&&a(1,r=o>=0),e.$$.dirty&112&&a(0,i=c[c.findIndex(_=>_.id===u[o])])},[i,r,f,d,o,u,c,m,p,h]}class TableMaster extends SvelteComponent{constructor(t){super(),init(this,t,instance$o,create_fragment$o,safe_not_equal,{})}}function create_fragment$n(e){let t,a,r;return{c(){t=svg_element("svg"),a=svg_element("circle"),attr(a,"role","presentation"),attr(a,"cx","16"),attr(a,"cy","16"),attr(a,"r",e[4]),attr(a,"stroke",e[2]),attr(a,"fill","none"),attr(a,"stroke-width",e[3]),attr(a,"stroke-dasharray",r=e[5]+",100"),attr(a,"stroke-linecap","round"),attr(t,"height",e[0]),attr(t,"width",e[0]),set_style(t,"animation-duration",e[1]+"ms"),attr(t,"class","svelte-spinner svelte-ynopmf"),attr(t,"viewBox","0 0 32 32")},m(i,o){insert(i,t,o),append(t,a)},p(i,[o]){o&16&&attr(a,"r",i[4]),o&4&&attr(a,"stroke",i[2]),o&8&&attr(a,"stroke-width",i[3]),o&32&&r!==(r=i[5]+",100")&&attr(a,"stroke-dasharray",r),o&1&&attr(t,"height",i[0]),o&1&&attr(t,"width",i[0]),o&2&&set_style(t,"animation-duration",i[1]+"ms")},i:noop,o:noop,d(i){i&&detach(t)}}}function instance$n(e,t,a){let{size:r=25}=t,{speed:i=750}=t,{color:o="rgba(0,0,0,0.4)"}=t,{thickness:u=5}=t,{gap:c=30}=t,{radius:f=15}=t,d;return e.$$set=m=>{"size"in m&&a(0,r=m.size),"speed"in m&&a(1,i=m.speed),"color"in m&&a(2,o=m.color),"thickness"in m&&a(3,u=m.thickness),"gap"in m&&a(6,c=m.gap),"radius"in m&&a(4,f=m.radius)},e.$$.update=()=>{e.$$.dirty&80&&a(5,d=2*Math.PI*f*(100-c)/100)},[r,i,o,u,f,d,c]}class Spinner extends SvelteComponent{constructor(t){super(),init(this,t,instance$n,create_fragment$n,safe_not_equal,{size:0,speed:1,color:2,thickness:3,gap:6,radius:4})}}function get_each_context$b(e,t,a){const r=e.slice();return r[8]=t[a],r}function create_each_block$b(e){let t,a=e[8].display+"";return{c(){t=element("p")},m(r,i){insert(r,t,i),t.innerHTML=a},p(r,i){i&2&&a!==(a=r[8].display+"")&&(t.innerHTML=a)},d(r){r&&detach(t)}}}function create_fragment$m(e){let t,a,r,i,o,u,c,f,d,m,p,h,_,g;i=new Spinner({props:{size:"1em",color:"var(--primary-color)"}});let b=ensure_array_like(e[1]),v=[];for(let k=0;k<b.length;k+=1)v[k]=create_each_block$b(get_each_context$b(e,b,k));return{c(){t=element("div"),a=element("h3"),a.textContent="statusbar",r=space(),create_component(i.$$.fragment),o=space();for(let k=0;k<v.length;k+=1)v[k].c();u=space(),c=element("p"),c.textContent="debugging",f=space(),d=element("button"),d.textContent="data",m=space(),p=element("button"),p.textContent="graphs",set_style(t,"height","100%"),set_style(t,"overflow","auto")},m(k,A){insert(k,t,A),append(t,a),append(t,r),mount_component(i,t,null),append(t,o);for(let w=0;w<v.length;w+=1)v[w]&&v[w].m(t,null);append(t,u),append(t,c),append(t,f),append(t,d),append(t,m),append(t,p),e[6](t),h=!0,_||(g=[listen(d,"click",e[4]),listen(p,"click",e[5])],_=!0)},p(k,[A]){if(A&2){b=ensure_array_like(k[1]);let w;for(w=0;w<b.length;w+=1){const T=get_each_context$b(k,b,w);v[w]?v[w].p(T,A):(v[w]=create_each_block$b(T),v[w].c(),v[w].m(t,u))}for(;w<v.length;w+=1)v[w].d(1);v.length=b.length}},i(k){h||(transition_in(i.$$.fragment,k),h=!0)},o(k){transition_out(i.$$.fragment,k),h=!1},d(k){k&&detach(t),destroy_component(i),destroy_each(v,k),e[6](null),_=!1,run_all(g)}}}function instance$m(e,t,a){let r,i,o;component_subscribe(e,statusData,p=>a(1,r=p)),component_subscribe(e,data,p=>a(2,i=p)),component_subscribe(e,graphs,p=>a(3,o=p));let u;afterUpdate(()=>{statusData&&c(u)});const c=async p=>{p.scroll({top:p.scrollHeight,behavior:"smooth"})},f=()=>console.log(i),d=()=>console.log(o);function m(p){binding_callbacks[p?"unshift":"push"](()=>{u=p,a(0,u)})}return[u,r,i,o,f,d,m]}class StatusMaster extends SvelteComponent{constructor(t){super(),init(this,t,instance$m,create_fragment$m,safe_not_equal,{})}}function saveStoreData(){const e=get_store_value(data),t=get_store_value(graphTabs),a=get_store_value(activeGraphTab),r=get_store_value(graphs),i=get_store_value(dataIDsforTables),o=get_store_value(showalldata),u=get_store_value(activeTableTab),c=get_store_value(selectedTheme),f=get_store_value(userStyle),d=get_store_value(statusData),m={_data:e,_graphTabs:t,_activeGraphTab:a,_graphs:r,_dataIDsforTables:i,_showalldata:o,_activeTableTab:u,_selectedTheme:c,_userStyle:f,_statusData:d},p="testStore.ancir",h=JSON.stringify(m),_=new Blob([h],{type:"application/json"}),g=URL.createObjectURL(_),b=document.createElement("a");b.href=g,b.download=p,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(g)}function loadStoreData(){const e=document.createElement("input");e.type="file",e.id="fileInput",e.style.display="none",document.body.appendChild(e),e.addEventListener("change",handleFileSelect),e.click()}function loadTheData(jsonString){console.log("TODO: load script not working ");const loadedObject=JSON.parse(jsonString);for(const key in loadedObject)if(loadedObject.hasOwnProperty(key)){const modifiedKey=key.substring(1);loadedObject[key],eval(`${modifiedKey}.update((current) => {return loadedObject[key]});`)}}function handleFileSelect(e){const t=e.target.files[0];if(t){const a=new FileReader;a.onload=function(r){const i=r.target.result,o=loadTheData(i);console.log(o)},a.readAsText(t)}}function create_if_block$f(e){let t,a;return t=new Dialog({props:{title:"Change colours",$$slots:{default:[create_default_slot$4]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},m(r,i){mount_component(t,r,i),a=!0},p(r,i){const o={};i&2048&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){a||(transition_in(t.$$.fragment,r),a=!0)},o(r){transition_out(t.$$.fragment,r),a=!1},d(r){destroy_component(t,r)}}}function create_default_slot$4(e){let t,a,r,i,o,u,c,f,d,m,p,h,_,g,b,v,k,A,w,T,y,S,O,z;return{c(){t=element("label"),t.textContent="Background color",a=element("input"),r=space(),i=element("br"),o=space(),u=element("label"),u.textContent="Font color",c=element("input"),f=space(),d=element("br"),m=space(),p=element("label"),p.textContent="Hover color",h=element("input"),_=space(),g=element("br"),b=space(),v=element("label"),v.textContent="Primary color",k=element("input"),A=space(),w=element("br"),T=space(),y=element("label"),y.textContent="Secondary color",S=element("input"),set_style(a,"padding","0"),attr(a,"type","color"),set_style(c,"padding","0"),attr(c,"type","color"),set_style(h,"padding","0"),attr(h,"type","color"),set_style(k,"padding","0"),attr(k,"type","color"),set_style(S,"padding","0"),attr(S,"type","color")},m(I,M){insert(I,t,M),insert(I,a,M),set_input_value(a,userStyle["--bg-color"]),insert(I,r,M),insert(I,i,M),insert(I,o,M),insert(I,u,M),insert(I,c,M),set_input_value(c,userStyle["--font-color"]),insert(I,f,M),insert(I,d,M),insert(I,m,M),insert(I,p,M),insert(I,h,M),set_input_value(h,userStyle["--hover-color"]),insert(I,_,M),insert(I,g,M),insert(I,b,M),insert(I,v,M),insert(I,k,M),set_input_value(k,userStyle["--primary-color"]),insert(I,A,M),insert(I,w,M),insert(I,T,M),insert(I,y,M),insert(I,S,M),set_input_value(S,userStyle["--secondary-color"]),O||(z=[listen(a,"input",e[1]),listen(a,"input",e[2]),listen(c,"input",e[3]),listen(c,"input",e[4]),listen(h,"input",e[5]),listen(h,"input",e[6]),listen(k,"input",e[7]),listen(k,"input",e[8]),listen(S,"input",e[9]),listen(S,"input",e[10])],O=!0)},p(I,M){set_input_value(a,userStyle["--bg-color"]),M&0&&set_input_value(c,userStyle["--font-color"]),M&0&&set_input_value(h,userStyle["--hover-color"]),M&0&&set_input_value(k,userStyle["--primary-color"]),M&0&&set_input_value(S,userStyle["--secondary-color"])},d(I){I&&(detach(t),detach(a),detach(r),detach(i),detach(o),detach(u),detach(c),detach(f),detach(d),detach(m),detach(p),detach(h),detach(_),detach(g),detach(b),detach(v),detach(k),detach(A),detach(w),detach(T),detach(y),detach(S)),O=!1,run_all(z)}}}function create_fragment$l(e){let t,a,r=e[0]==="styling"&&create_if_block$f(e);return{c(){r&&r.c(),t=empty$1()},m(i,o){r&&r.m(i,o),insert(i,t,o),a=!0},p(i,[o]){i[0]==="styling"?r?(r.p(i,o),o&1&&transition_in(r,1)):(r=create_if_block$f(i),r.c(),transition_in(r,1),r.m(t.parentNode,t)):r&&(group_outros(),transition_out(r,1,1,()=>{r=null}),check_outros())},i(i){a||(transition_in(r),a=!0)},o(i){transition_out(r),a=!1},d(i){i&&detach(t),r&&r.d(i)}}}const lightStyles={"--bg-color":"#fff","--font-color":"#424242","--hover-color":"#eee","--primary-color":"lightblue","--secondary-color":"#888888"},darkStyles={"--bg-color":"#161625","--font-color":"#e1e1ff","--hover-color":"#888888","--primary-color":"#9a97f3","--secondary-color":"#888888"};function changeStyle(e){console.log("changing "+e),e=="light"&&(selectedTheme.update(t=>"light"),Object.entries(lightStyles).forEach(([t,a])=>{document.documentElement.style.setProperty(t,a)})),e=="dark"&&(selectedTheme.update(t=>"dark"),Object.entries(darkStyles).forEach(([t,a])=>{document.documentElement.style.setProperty(t,a)})),e=="user"&&(selectedTheme.update(t=>"user"),Object.entries(userStyle).forEach(([t,a])=>{document.documentElement.style.setProperty(t,a)}))}function instance$l(e,t,a){let r;component_subscribe(e,menuModalType,g=>a(0,r=g));function i(){userStyle["--bg-color"]=this.value}const o=()=>changeStyle(get_store_value(selectedTheme));function u(){userStyle["--font-color"]=this.value}const c=()=>changeStyle(selectedTheme);function f(){userStyle["--hover-color"]=this.value}const d=()=>changeStyle(selectedTheme);function m(){userStyle["--primary-color"]=this.value}const p=()=>changeStyle(selectedTheme);function h(){userStyle["--secondary-color"]=this.value}return[r,i,o,u,c,f,d,m,p,h,()=>changeStyle(selectedTheme)]}class Styling extends SvelteComponent{constructor(t){super(),init(this,t,instance$l,create_fragment$l,safe_not_equal,{})}}function create_fragment$k(e){let t,a,r,i,o,u,c,f,d,m,p,h,_,g,b,v,k;return{c(){t=element("div"),a=element("div"),r=element("input"),i=space(),o=element("label"),o.innerHTML='<div class="inside svelte-1jbm41o"></div>',u=space(),c=element("input"),f=space(),d=element("label"),d.innerHTML='<div class="inside svelte-1jbm41o"></div>',m=space(),p=element("input"),h=space(),_=element("label"),_.innerHTML='<div class="inside svelte-1jbm41o"></div>',g=space(),b=element("span"),r.checked=!0,attr(r,"type","radio"),attr(r,"name","toggle"),r.value="light",attr(r,"class","svelte-1jbm41o"),attr(o,"class","toggle toggle-yes svelte-1jbm41o"),attr(c,"type","radio"),attr(c,"name","toggle"),c.value="user",attr(c,"class","svelte-1jbm41o"),attr(d,"class","toggle toggle-yes svelte-1jbm41o"),attr(p,"type","radio"),attr(p,"name","toggle"),p.value="dark",attr(p,"class","svelte-1jbm41o"),attr(_,"class","toggle toggle-yes svelte-1jbm41o"),attr(b,"class","svelte-1jbm41o"),attr(a,"class","tw-toggle svelte-1jbm41o"),attr(t,"class","flex-box")},m(A,w){insert(A,t,w),append(t,a),append(a,r),append(a,i),append(a,o),append(a,u),append(a,c),append(a,f),append(a,d),append(a,m),append(a,p),append(a,h),append(a,_),append(a,g),append(a,b),v||(k=[listen(r,"change",e[0]),listen(c,"change",e[1]),listen(p,"change",e[2])],v=!0)},p:noop,i:noop,o:noop,d(A){A&&detach(t),v=!1,run_all(k)}}}function instance$k(e){return onMount(()=>{changeStyle("light")}),[()=>changeStyle("light"),()=>changeStyle("user"),()=>changeStyle("dark")]}class ThemeChanger extends SvelteComponent{constructor(t){super(),init(this,t,instance$k,create_fragment$k,safe_not_equal,{})}}function get_each_context$a(e,t,a){const r=e.slice();return r[19]=t[a],r[20]=t,r[21]=a,r}function get_each_context_1$8(e,t,a){const r=e.slice();return r[22]=t[a],r[23]=t,r[24]=a,r}function get_each_context_2$5(e,t,a){const r=e.slice();return r[25]=t[a],r}function create_if_block$e(e){let t,a=ensure_array_like(e[19].items),r=[];for(let i=0;i<a.length;i+=1)r[i]=create_each_block_1$8(get_each_context_1$8(e,a,i));return{c(){t=element("ul");for(let i=0;i<r.length;i+=1)r[i].c();attr(t,"class","secondmenu dontclose svelte-n42nv6")},m(i,o){insert(i,t,o);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(t,null)},p(i,o){if(o&11){a=ensure_array_like(i[19].items);let u;for(u=0;u<a.length;u+=1){const c=get_each_context_1$8(i,a,u);r[u]?r[u].p(c,o):(r[u]=create_each_block_1$8(c),r[u].c(),r[u].m(t,null))}for(;u<r.length;u+=1)r[u].d(1);r.length=a.length}},d(i){i&&detach(t),destroy_each(r,i)}}}function create_else_block$2(e){let t,a,r=e[22].displayText+"",i,o;function u(...c){return e[13](e[22],...c)}return{c(){t=element("li"),a=element("button"),attr(a,"class","svelte-n42nv6"),attr(t,"class","svelte-n42nv6")},m(c,f){insert(c,t,f),append(t,a),a.innerHTML=r,i||(o=listen(a,"click",u),i=!0)},p(c,f){e=c,f&2&&r!==(r=e[22].displayText+"")&&(a.innerHTML=r)},d(c){c&&detach(t),i=!1,o()}}}function create_if_block_3$2(e){let t,a,r,i=e[22].displayText+"",o,u,c,f,d;function m(){return e[8](e[22],e[23],e[24])}function p(){return e[9](e[22],e[23],e[24])}let h=(e[22].visibleState||e[0])&&create_if_block_4$2(e);return{c(){t=element("li"),a=element("button"),r=new HtmlTag(!1),o=space(),u=element("span"),u.textContent="",c=space(),h&&h.c(),r.a=o,set_style(u,"float","right"),attr(a,"class","svelte-n42nv6"),attr(t,"class","svelte-n42nv6")},m(_,g){insert(_,t,g),append(t,a),r.m(i,a),append(a,o),append(a,u),append(t,c),h&&h.m(t,null),f||(d=[listen(a,"mouseover",m),listen(a,"mouseleave",p)],f=!0)},p(_,g){e=_,g&2&&i!==(i=e[22].displayText+"")&&r.p(i),e[22].visibleState||e[0]?h?h.p(e,g):(h=create_if_block_4$2(e),h.c(),h.m(t,null)):h&&(h.d(1),h=null)},d(_){_&&detach(t),h&&h.d(),f=!1,run_all(d)}}}function create_if_block_2$2(e){let t;return{c(){t=element("hr"),attr(t,"class","svelte-n42nv6")},m(a,r){insert(a,t,r)},p:noop,d(a){a&&detach(t)}}}function create_if_block_1$6(e){return{c:noop,m:noop,p:noop,d:noop}}function create_if_block_4$2(e){let t,a,r,i=ensure_array_like(e[22].items[0]),o=[];for(let u=0;u<i.length;u+=1)o[u]=create_each_block_2$5(get_each_context_2$5(e,i,u));return{c(){t=element("ul");for(let u=0;u<o.length;u+=1)o[u].c();attr(t,"class","thirdmenu dontclose svelte-n42nv6")},m(u,c){insert(u,t,c);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(t,null);a||(r=[listen(t,"mouseover",e[11]),listen(t,"mouseleave",e[12])],a=!0)},p(u,c){if(c&10){i=ensure_array_like(u[22].items[0]);let f;for(f=0;f<i.length;f+=1){const d=get_each_context_2$5(u,i,f);o[f]?o[f].p(d,c):(o[f]=create_each_block_2$5(d),o[f].c(),o[f].m(t,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=i.length}},d(u){u&&detach(t),destroy_each(o,u),a=!1,run_all(r)}}}function create_each_block_2$5(e){let t,a,r=e[25].displayText+"",i,o,u,c;function f(...d){return e[10](e[25],...d)}return{c(){t=element("li"),a=element("button"),i=text(r),o=space(),attr(a,"class","svelte-n42nv6"),attr(t,"class","svelte-n42nv6")},m(d,m){insert(d,t,m),append(t,a),append(a,i),append(t,o),u||(c=listen(a,"click",f),u=!0)},p(d,m){e=d,m&2&&r!==(r=e[25].displayText+"")&&set_data(i,r)},d(d){d&&detach(t),u=!1,c()}}}function create_each_block_1$8(e){let t;function a(o,u){return o[22]===null?create_if_block_1$6:o[22].displayText==="--hr"?create_if_block_2$2:o[22].items?create_if_block_3$2:create_else_block$2}let r=a(e),i=r(e);return{c(){i.c(),t=space()},m(o,u){i.m(o,u),insert(o,t,u)},p(o,u){r===(r=a(o))&&i?i.p(o,u):(i.d(1),i=r(o),i&&(i.c(),i.m(t.parentNode,t)))},d(o){o&&detach(t),i.d(o)}}}function create_each_block$a(e){let t,a,r=e[19].displayText+"",i,o,u,c;function f(){return e[6](e[19],e[20],e[21])}function d(){return e[7](e[19])}let m=e[19].visibleState&&create_if_block$e(e);return{c(){t=element("li"),a=element("button"),i=space(),m&&m.c(),o=space(),attr(a,"class","dontclose svelte-n42nv6"),attr(t,"class","svelte-n42nv6")},m(p,h){insert(p,t,h),append(t,a),a.innerHTML=r,append(t,i),m&&m.m(t,null),append(t,o),u||(c=[listen(a,"click",f),listen(a,"mouseover",d)],u=!0)},p(p,h){e=p,h&2&&r!==(r=e[19].displayText+"")&&(a.innerHTML=r),e[19].visibleState?m?m.p(e,h):(m=create_if_block$e(e),m.c(),m.m(t,o)):m&&(m.d(1),m=null)},d(p){p&&detach(t),m&&m.d(),u=!1,run_all(c)}}}function create_fragment$j(e){let t,a,r,i,o,u,c=ensure_array_like(e[1]),f=[];for(let d=0;d<c.length;d+=1)f[d]=create_each_block$a(get_each_context$a(e,c,d));return o=new ThemeChanger({}),{c(){t=element("nav"),a=element("div"),r=element("ul");for(let d=0;d<f.length;d+=1)f[d].c();i=space(),create_component(o.$$.fragment),attr(r,"class","topmenu svelte-n42nv6"),attr(a,"class","applicationmenu svelte-n42nv6"),attr(t,"class","svelte-n42nv6")},m(d,m){insert(d,t,m),append(t,a),append(a,r);for(let p=0;p<f.length;p+=1)f[p]&&f[p].m(r,null);append(a,i),mount_component(o,a,null),u=!0},p(d,[m]){if(m&31){c=ensure_array_like(d[1]);let p;for(p=0;p<c.length;p+=1){const h=get_each_context$a(d,c,p);f[p]?f[p].p(h,m):(f[p]=create_each_block$a(h),f[p].c(),f[p].m(r,null))}for(;p<f.length;p+=1)f[p].d(1);f.length=c.length}},i(d){u||(transition_in(o.$$.fragment,d),u=!0)},o(d){transition_out(o.$$.fragment,d),u=!1},d(d){d&&detach(t),destroy_each(f,d),destroy_component(o)}}}function createMenuItem(e,t,a=!1){return a?null:{displayText:e,onClick:t,visibleState:!1}}function instance$j(e,t,a){let r,i,o,u;component_subscribe(e,activeGraphTab,y=>a(5,i=y)),component_subscribe(e,menuModalType,y=>a(14,o=y)),component_subscribe(e,graphTabs,y=>a(15,u=y));let c=!1;function f(){return Object.keys(graphMap).map(S=>createMenuItem(S,()=>makeNewChart(S.toString())))}function d(y){var S;return[{displayText:"Data",items:[createMenuItem("Import Data",()=>set_store_value(menuModalType,o="import",o)),createMenuItem("Simulate Data",()=>{set_store_value(menuModalType,o="generateSim",o)}),{displayText:"--hr"},createMenuItem("Save session",saveStoreData),createMenuItem("Load session",loadStoreData)]},{displayText:"Chart",items:[{displayText:"Insert Chart",items:[f()]},createMenuItem("Export <i>"+((S=u[y])==null?void 0:S.name)+"</i>",()=>exportSVG(),y<0)]},{displayText:"Help",items:[createMenuItem("About",()=>{set_store_value(menuModalType,o="about",o)}),createMenuItem("Style",()=>{set_store_value(menuModalType,o="styling",o)})]}]}function m(y){r.forEach(S=>{S!==y&&S.visibleState&&(S.visibleState=!1)}),a(1,r),a(5,i)}function p(){r.forEach(y=>{y.visibleState=!1}),a(1,r),a(5,i)}function h(y){r.forEach(S=>{S!==y&&S.visibleState?S.visibleState=!1:S===y&&(S.visibleState=!0)}),a(1,r),a(5,i)}onMount(async()=>{await graphFilesLoaded,makeNewChart("Actigram"),addDataToGraph(0,{time:"time",values:"values"},{col:{hex:getRandomHexColour(),alpha:.5},onsets:[{type:"onset",showOnsets:!0,excludeOnsets:[],MAD:2,filterStart:1,filterEnd:28,centileThresh:80,M:3,N:3,lmFit:{slope:0,intercept:0,rSquared:0},col:{hex:getRandomHexColour(),alpha:.5},showLine:!0}]}),makeNewChart("Raw"),addDataToGraph(0,{x:"any",y:"any"},{col:{hex:getRandomHexColour(),alpha:.5},size:2,strokeWidth:1,strokeCol:{hex:getRandomHexColour(),alpha:.9}}),makeNewChart("Periodogram"),addDataToGraph(0,{time:"any",values:"any"},{col:{hex:getRandomHexColour(),alpha:.5}}),set_store_value(activeGraphTab,i=0,i);const y=S=>{try{S.srcElement&&S.srcElement.className.includes("dontclose")||p()}catch{p()}};return document.addEventListener("click",y),()=>{document.removeEventListener("click",y)}});const _=(y,S,O)=>{a(1,S[O].visibleState=!y.visibleState,r),m(y)},g=y=>{r.some(S=>S.visibleState)&&h(y)},b=(y,S,O)=>a(1,S[O].visibleState=!0,r),v=(y,S,O)=>setTimeout(()=>{a(1,S[O].visibleState=!1,r)},50),k=(y,S)=>{y.onClick(),p()},A=()=>{a(0,c=!0)},w=()=>{setTimeout(()=>a(0,c=!1),50)},T=(y,S)=>{y.onClick(),p()};return e.$$.update=()=>{e.$$.dirty&32&&a(1,r=d(i))},[c,r,m,p,h,i,_,g,b,v,k,A,w,T]}class MenuMaster extends SvelteComponent{constructor(t){super(),init(this,t,instance$j,create_fragment$j,safe_not_equal,{})}}const{window:window_1}=globals;function get_each_context$9(e,t,a){const r=e.slice();return r[9]=t[a],r[11]=a,r}function create_if_block$d(e){let t,a,r,i,o,u=ensure_array_like(e[2].labels),c=[];for(let f=0;f<u.length;f+=1)c[f]=create_each_block$9(get_each_context$9(e,u,f));return{c(){t=element("nav"),a=element("div"),r=element("ul");for(let f=0;f<c.length;f+=1)c[f].c();attr(r,"class","svelte-ouzgb9"),attr(a,"class","navbar svelte-ouzgb9"),attr(a,"id","navbar"),set_style(t,"position","absolute"),set_style(t,"top",e[0].y+"px"),set_style(t,"left",e[0].x+"px"),set_style(t,"z-index","999")},m(f,d){insert(f,t,d),append(t,a),append(a,r);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(r,null);i||(o=action_destroyer(e[4].call(null,t)),i=!0)},p(f,d){if(d&6){u=ensure_array_like(f[2].labels);let m;for(m=0;m<u.length;m+=1){const p=get_each_context$9(f,u,m);c[m]?c[m].p(p,d):(c[m]=create_each_block$9(p),c[m].c(),c[m].m(r,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=u.length}d&1&&set_style(t,"top",f[0].y+"px"),d&1&&set_style(t,"left",f[0].x+"px")},d(f){f&&detach(t),destroy_each(c,f),i=!1,o()}}}function create_each_block$9(e){let t,a,r=e[9]+"",i,o,u,c;function f(...d){return e[6](e[11],...d)}return{c(){t=element("li"),a=element("button"),i=text(r),o=space(),attr(a,"class","svelte-ouzgb9"),attr(t,"class","svelte-ouzgb9")},m(d,m){insert(d,t,m),append(t,a),append(a,i),append(t,o),u||(c=listen(a,"click",f),u=!0)},p(d,m){e=d,m&4&&r!==(r=e[9]+"")&&set_data(i,r)},d(d){d&&detach(t),u=!1,c()}}}function create_fragment$i(e){let t,a,r,i=e[1]&&create_if_block$d(e);return{c(){i&&i.c(),t=empty$1()},m(o,u){i&&i.m(o,u),insert(o,t,u),a||(r=listen(window_1,"click",e[3]),a=!0)},p(o,[u]){o[1]?i?i.p(o,u):(i=create_if_block$d(o),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},i:noop,o:noop,d(o){o&&detach(t),i&&i.d(o),a=!1,r()}}}function instance$i(e,t,a){let r;component_subscribe(e,contextMenu,h=>a(2,r=h));let i={x:0,y:0},o={h:100,w:76},u={h:0,w:0},c;function f(h){h.stopPropagation(),u={w:window.innerWidth,h:window.innerHeight},a(0,i={x:h.clientX,y:h.clientY}),u.h-i.y<o.h&&a(0,i.y=i.y-o.h,i),u.w-i.x<o.w&&a(0,i.x=i.x-o.w,i),a(1,c=!0)}function d(h){try{h.srcElement.className.includes("showContextMenu")?f(h):a(1,c=!1)}catch{a(1,c=!1)}}function m(h){let _=h.offsetHeight,g=h.offsetWidth;o={h:_,w:g}}return[i,c,r,d,m,f,(h,_)=>{r.funcs[h](),a(1,c=!1)}]}class ContextMenu extends SvelteComponent{constructor(t){super(),init(this,t,instance$i,create_fragment$i,safe_not_equal,{rightClickContextMenu:5})}get rightClickContextMenu(){return this.$$.ctx[5]}}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var a=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};a.prototype=t.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(a,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),a}var papaparse={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){(function(a,r){e.exports=r()})(commonjsGlobal,function a(){var r=function(){return typeof self<"u"?self:typeof window<"u"?window:typeof r<"u"?r:{}}();function i(){var $=r.URL||r.webkitURL||null,D=a.toString();return d.BLOB_URL||(d.BLOB_URL=$.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",D,")();"],{type:"text/javascript"})))}var o=!r.document&&!!r.postMessage,u=r.IS_PAPA_WORKER||!1,c={},f=0,d={};if(d.parse=p,d.unparse=h,d.RECORD_SEP="",d.UNIT_SEP="",d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!o&&!!r.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=1024*1024*10,d.RemoteChunkSize=1024*1024*5,d.DefaultDelimiter=",",d.Parser=y,d.ParserHandle=w,d.NetworkStreamer=g,d.FileStreamer=b,d.StringStreamer=v,d.ReadableStreamStreamer=k,typeof PAPA_BROWSER_CONTEXT>"u"&&(d.DuplexStreamStreamer=A),r.jQuery){var m=r.jQuery;m.fn.parse=function($){var D=$.config||{},N=[];return this.each(function(P){var V=m(this).prop("tagName").toUpperCase()==="INPUT"&&m(this).attr("type").toLowerCase()==="file"&&r.FileReader;if(!V||!this.files||this.files.length===0)return!0;for(var q=0;q<this.files.length;q++)N.push({file:this.files[q],inputElem:this,instanceConfig:m.extend({},D)})}),F(),this;function F(){if(N.length===0){H($.complete)&&$.complete();return}var P=N[0];if(H($.before)){var V=$.before(P.file,P.inputElem);if(typeof V=="object")if(V.action==="abort"){L("AbortError",P.file,P.inputElem,V.reason);return}else if(V.action==="skip"){C();return}else typeof V.config=="object"&&(P.instanceConfig=m.extend(P.instanceConfig,V.config));else if(V==="skip"){C();return}}var q=P.instanceConfig.complete;P.instanceConfig.complete=function(j){H(q)&&q(j,P.file,P.inputElem),C()},d.parse(P.file,P.instanceConfig)}function L(P,V,q,j){H($.error)&&$.error({name:P},V,q,j)}function C(){N.splice(0,1),F()}}}u&&(r.onmessage=M);function p($,D){D=D||{};var N=D.dynamicTyping||!1;if(H(N)&&(D.dynamicTypingFunction=N,N={}),D.dynamicTyping=N,D.transform=H(D.transform)?D.transform:!1,D.worker&&d.WORKERS_SUPPORTED){var F=S();F.userStep=D.step,F.userChunk=D.chunk,F.userComplete=D.complete,F.userError=D.error,D.step=H(D.step),D.chunk=H(D.chunk),D.complete=H(D.complete),D.error=H(D.error),delete D.worker,F.postMessage({input:$,config:D,workerId:F.id});return}var L=null;if($===d.NODE_STREAM_INPUT&&typeof PAPA_BROWSER_CONTEXT>"u")return L=new A(D),L.getStream();return typeof $=="string"?($=C($),D.download?L=new g(D):L=new v(D)):$.readable===!0&&H($.read)&&H($.on)?L=new k(D):(r.File&&$ instanceof File||$ instanceof Object)&&(L=new b(D)),L.stream($);function C(P){return P.charCodeAt(0)===65279?P.slice(1):P}}function h($,D){var N=!1,F=!0,L=",",C=`\r
`,P='"',V=P+P,q=!1,j=null,x=!1;ne();var B=new RegExp(T(P),"g");if(typeof $=="string"&&($=JSON.parse($)),Array.isArray($)){if(!$.length||Array.isArray($[0]))return oe(null,$,q);if(typeof $[0]=="object")return oe(j||Object.keys($[0]),$,q)}else if(typeof $=="object")return typeof $.data=="string"&&($.data=JSON.parse($.data)),Array.isArray($.data)&&($.fields||($.fields=$.meta&&$.meta.fields||j),$.fields||($.fields=Array.isArray($.data[0])?$.fields:typeof $.data[0]=="object"?Object.keys($.data[0]):[]),!Array.isArray($.data[0])&&typeof $.data[0]!="object"&&($.data=[$.data])),oe($.fields||[],$.data||[],q);throw new Error("Unable to serialize unrecognized input");function ne(){if(typeof D=="object"){if(typeof D.delimiter=="string"&&!d.BAD_DELIMITERS.filter(function(ae){return D.delimiter.indexOf(ae)!==-1}).length&&(L=D.delimiter),(typeof D.quotes=="boolean"||typeof D.quotes=="function"||Array.isArray(D.quotes))&&(N=D.quotes),(typeof D.skipEmptyLines=="boolean"||typeof D.skipEmptyLines=="string")&&(q=D.skipEmptyLines),typeof D.newline=="string"&&(C=D.newline),typeof D.quoteChar=="string"&&(P=D.quoteChar),typeof D.header=="boolean"&&(F=D.header),Array.isArray(D.columns)){if(D.columns.length===0)throw new Error("Option columns is empty");j=D.columns}D.escapeChar!==void 0&&(V=D.escapeChar+P),(typeof D.escapeFormulae=="boolean"||D.escapeFormulae instanceof RegExp)&&(x=D.escapeFormulae instanceof RegExp?D.escapeFormulae:/^[=+\-@\t\r].*$/)}}function oe(ae,me,fe){var ue="";typeof ae=="string"&&(ae=JSON.parse(ae)),typeof me=="string"&&(me=JSON.parse(me));var be=Array.isArray(ae)&&ae.length>0,le=!Array.isArray(me[0]);if(be&&F){for(var ke=0;ke<ae.length;ke++)ke>0&&(ue+=L),ue+=Z(ae[ke],ke);me.length>0&&(ue+=C)}for(var Y=0;Y<me.length;Y++){var pe=be?ae.length:me[Y].length,se=!1,ye=be?Object.keys(me[Y]).length===0:me[Y].length===0;if(fe&&!be&&(se=fe==="greedy"?me[Y].join("").trim()==="":me[Y].length===1&&me[Y][0].length===0),fe==="greedy"&&be){for(var X=[],he=0;he<pe;he++){var we=le?ae[he]:he;X.push(me[Y][we])}se=X.join("").trim()===""}if(!se){for(var ce=0;ce<pe;ce++){ce>0&&!ye&&(ue+=L);var ie=be&&le?ae[ce]:ce;ue+=Z(me[Y][ie],ce)}Y<me.length-1&&(!fe||pe>0&&!ye)&&(ue+=C)}}return ue}function Z(ae,me){if(typeof ae>"u"||ae===null)return"";if(ae.constructor===Date)return JSON.stringify(ae).slice(1,25);var fe=!1;x&&typeof ae=="string"&&x.test(ae)&&(ae="'"+ae,fe=!0);var ue=ae.toString().replace(B,V);return fe=fe||N===!0||typeof N=="function"&&N(ae,me)||Array.isArray(N)&&N[me]||ve(ue,d.BAD_DELIMITERS)||ue.indexOf(L)>-1||ue.charAt(0)===" "||ue.charAt(ue.length-1)===" ",fe?P+ue+P:ue}function ve(ae,me){for(var fe=0;fe<me.length;fe++)if(ae.indexOf(me[fe])>-1)return!0;return!1}}function _($){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},D.call(this,$),this.parseChunk=function(N,F){if(this.isFirstChunk&&H(this._config.beforeFirstChunk)){var L=this._config.beforeFirstChunk(N);L!==void 0&&(N=L)}this.isFirstChunk=!1,this._halted=!1;var C=this._partialLine+N;this._partialLine="";var P=this._handle.parse(C,this._baseIndex,!this._finished);if(this._handle.paused()||this._handle.aborted()){this._halted=!0;return}var V=P.meta.cursor;this._finished||(this._partialLine=C.substring(V-this._baseIndex),this._baseIndex=V),P&&P.data&&(this._rowCount+=P.data.length);var q=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(u)r.postMessage({results:P,workerId:d.WORKER_ID,finished:q});else if(H(this._config.chunk)&&!F){if(this._config.chunk(P,this._handle),this._handle.paused()||this._handle.aborted()){this._halted=!0;return}P=void 0,this._completeResults=void 0}return!this._config.step&&!this._config.chunk&&(this._completeResults.data=this._completeResults.data.concat(P.data),this._completeResults.errors=this._completeResults.errors.concat(P.errors),this._completeResults.meta=P.meta),!this._completed&&q&&H(this._config.complete)&&(!P||!P.meta.aborted)&&(this._config.complete(this._completeResults,this._input),this._completed=!0),!q&&(!P||!P.meta.paused)&&this._nextChunk(),P},this._sendError=function(N){H(this._config.error)?this._config.error(N):u&&this._config.error&&r.postMessage({workerId:d.WORKER_ID,error:N,finished:!1})};function D(N){var F=E(N);F.chunkSize=parseInt(F.chunkSize),!N.step&&!N.chunk&&(F.chunkSize=null),this._handle=new w(F),this._handle.streamer=this,this._config=F}}function g($){$=$||{},$.chunkSize||($.chunkSize=d.RemoteChunkSize),_.call(this,$);var D;o?this._nextChunk=function(){this._readChunk(),this._chunkLoaded()}:this._nextChunk=function(){this._readChunk()},this.stream=function(F){this._input=F,this._nextChunk()},this._readChunk=function(){if(this._finished){this._chunkLoaded();return}if(D=new XMLHttpRequest,this._config.withCredentials&&(D.withCredentials=this._config.withCredentials),o||(D.onload=W(this._chunkLoaded,this),D.onerror=W(this._chunkError,this)),D.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var F=this._config.downloadRequestHeaders;for(var L in F)D.setRequestHeader(L,F[L])}if(this._config.chunkSize){var C=this._start+this._config.chunkSize-1;D.setRequestHeader("Range","bytes="+this._start+"-"+C)}try{D.send(this._config.downloadRequestBody)}catch(P){this._chunkError(P.message)}o&&D.status===0&&this._chunkError()},this._chunkLoaded=function(){if(D.readyState===4){if(D.status<200||D.status>=400){this._chunkError();return}this._start+=this._config.chunkSize?this._config.chunkSize:D.responseText.length,this._finished=!this._config.chunkSize||this._start>=N(D),this.parseChunk(D.responseText)}},this._chunkError=function(F){var L=D.statusText||F;this._sendError(new Error(L))};function N(F){var L=F.getResponseHeader("Content-Range");return L===null?-1:parseInt(L.substring(L.lastIndexOf("/")+1))}}g.prototype=Object.create(_.prototype),g.prototype.constructor=g;function b($){$=$||{},$.chunkSize||($.chunkSize=d.LocalChunkSize),_.call(this,$);var D,N,F=typeof FileReader<"u";this.stream=function(L){this._input=L,N=L.slice||L.webkitSlice||L.mozSlice,F?(D=new FileReader,D.onload=W(this._chunkLoaded,this),D.onerror=W(this._chunkError,this)):D=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){!this._finished&&(!this._config.preview||this._rowCount<this._config.preview)&&this._readChunk()},this._readChunk=function(){var L=this._input;if(this._config.chunkSize){var C=Math.min(this._start+this._config.chunkSize,this._input.size);L=N.call(L,this._start,C)}var P=D.readAsText(L,this._config.encoding);F||this._chunkLoaded({target:{result:P}})},this._chunkLoaded=function(L){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(L.target.result)},this._chunkError=function(){this._sendError(D.error)}}b.prototype=Object.create(_.prototype),b.prototype.constructor=b;function v($){$=$||{},_.call(this,$);var D;this.stream=function(N){return D=N,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var N=this._config.chunkSize,F;return N?(F=D.substring(0,N),D=D.substring(N)):(F=D,D=""),this._finished=!D,this.parseChunk(F)}}}v.prototype=Object.create(v.prototype),v.prototype.constructor=v;function k($){$=$||{},_.call(this,$);var D=[],N=!0,F=!1;this.pause=function(){_.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){_.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(L){this._input=L,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){F&&D.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),D.length?this.parseChunk(D.shift()):N=!0},this._streamData=W(function(L){try{D.push(typeof L=="string"?L:L.toString(this._config.encoding)),N&&(N=!1,this._checkIsFinished(),this.parseChunk(D.shift()))}catch(C){this._streamError(C)}},this),this._streamError=W(function(L){this._streamCleanUp(),this._sendError(L)},this),this._streamEnd=W(function(){this._streamCleanUp(),F=!0,this._streamData("")},this),this._streamCleanUp=W(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}k.prototype=Object.create(_.prototype),k.prototype.constructor=k;function A($){var D=require$$0.Duplex,N=E($),F=!0,L=!1,C=[],P=null;this._onCsvData=function(V){var q=V.data;!P.push(q)&&!this._handle.paused()&&this._handle.pause()},this._onCsvComplete=function(){P.push(null)},N.step=W(this._onCsvData,this),N.complete=W(this._onCsvComplete,this),_.call(this,N),this._nextChunk=function(){L&&C.length===1&&(this._finished=!0),C.length?C.shift()():F=!0},this._addToParseQueue=function(V,q){C.push(W(function(){if(this.parseChunk(typeof V=="string"?V:V.toString(N.encoding)),H(q))return q()},this)),F&&(F=!1,this._nextChunk())},this._onRead=function(){this._handle.paused()&&this._handle.resume()},this._onWrite=function(V,q,j){this._addToParseQueue(V,j)},this._onWriteComplete=function(){L=!0,this._addToParseQueue("")},this.getStream=function(){return P},P=new D({readableObjectMode:!0,decodeStrings:!1,read:W(this._onRead,this),write:W(this._onWrite,this)}),P.once("finish",W(this._onWriteComplete,this))}typeof PAPA_BROWSER_CONTEXT>"u"&&(A.prototype=Object.create(_.prototype),A.prototype.constructor=A);function w($){var D=Math.pow(2,53),N=-D,F=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,L=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,C=this,P=0,V=0,q,j,x=!1,B=!1,ne,oe=[],Z={data:[],errors:[],meta:{}};if(H($.step)){var ve=$.step;$.step=function(X){if(Z=X,ue())fe();else{if(fe(),Z.data.length===0)return;P+=X.data.length,$.preview&&P>$.preview?j.abort():(Z.data=Z.data[0],ve(Z,C))}}}this.parse=function(X,he,we){var ce=$.quoteChar||'"';if($.newline||($.newline=se(X,ce)),ne=!1,$.delimiter)H($.delimiter)&&($.delimiter=$.delimiter(X),Z.meta.delimiter=$.delimiter);else{var ie=pe(X,$.newline,$.skipEmptyLines,$.comments,$.delimitersToGuess);ie.successful?$.delimiter=ie.bestDelimiter:(ne=!0,$.delimiter=d.DefaultDelimiter),Z.meta.delimiter=$.delimiter}var ge=E($);return $.preview&&$.header&&ge.preview++,q=X,j=new y(ge),Z=j.parse(q,he,we),fe(),x?{meta:{paused:!0}}:Z||{meta:{paused:!1}}},this.paused=function(){return x},this.pause=function(){x=!0,j.abort(),q=H($.chunk)?"":q.substring(j.getCharIndex())},this.resume=function(){C.streamer._halted?(x=!1,C.streamer.parseChunk(q,!0)):setTimeout(C.resume,3)},this.aborted=function(){return B},this.abort=function(){B=!0,j.abort(),Z.meta.aborted=!0,H($.complete)&&$.complete(Z),q=""};function ae(X){return $.skipEmptyLines==="greedy"?X.join("").trim()==="":X.length===1&&X[0].length===0}function me(X){if(F.test(X)){var he=parseFloat(X);if(he>N&&he<D)return!0}return!1}function fe(){return Z&&ne&&(ye("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),ne=!1),$.skipEmptyLines&&(Z.data=Z.data.filter(function(X){return!ae(X)})),ue()&&be(),Y()}function ue(){return $.header&&oe.length===0}function be(){if(!Z)return;function X(we,ce){H($.transformHeader)&&(we=$.transformHeader(we,ce)),oe.push(we)}if(Array.isArray(Z.data[0])){for(var he=0;ue()&&he<Z.data.length;he++)Z.data[he].forEach(X);Z.data.splice(0,1)}else Z.data.forEach(X)}function le(X){return $.dynamicTypingFunction&&$.dynamicTyping[X]===void 0&&($.dynamicTyping[X]=$.dynamicTypingFunction(X)),($.dynamicTyping[X]||$.dynamicTyping)===!0}function ke(X,he){return le(X)?he==="true"||he==="TRUE"?!0:he==="false"||he==="FALSE"?!1:me(he)?parseFloat(he):L.test(he)?new Date(he):he===""?null:he:he}function Y(){if(!Z||!$.header&&!$.dynamicTyping&&!$.transform)return Z;function X(we,ce){var ie=$.header?{}:[],ge;for(ge=0;ge<we.length;ge++){var G=ge,R=we[ge];$.header&&(G=ge>=oe.length?"__parsed_extra":oe[ge]),$.transform&&(R=$.transform(R,G)),R=ke(G,R),G==="__parsed_extra"?(ie[G]=ie[G]||[],ie[G].push(R)):ie[G]=R}return $.header&&(ge>oe.length?ye("FieldMismatch","TooManyFields","Too many fields: expected "+oe.length+" fields but parsed "+ge,V+ce):ge<oe.length&&ye("FieldMismatch","TooFewFields","Too few fields: expected "+oe.length+" fields but parsed "+ge,V+ce)),ie}var he=1;return!Z.data.length||Array.isArray(Z.data[0])?(Z.data=Z.data.map(X),he=Z.data.length):Z.data=X(Z.data,0),$.header&&Z.meta&&(Z.meta.fields=oe),V+=he,Z}function pe(X,he,we,ce,ie){var ge,G,R,ee;ie=ie||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var Q=0;Q<ie.length;Q++){var J=ie[Q],de=0,te=0,U=0;R=void 0;for(var K=new y({comments:ce,delimiter:J,newline:he,preview:10}).parse(X),_e=0;_e<K.data.length;_e++){if(we&&ae(K.data[_e])){U++;continue}var Te=K.data[_e].length;if(te+=Te,typeof R>"u"){R=Te;continue}else Te>0&&(de+=Math.abs(Te-R),R=Te)}K.data.length>0&&(te/=K.data.length-U),(typeof G>"u"||de<=G)&&(typeof ee>"u"||te>ee)&&te>1.99&&(G=de,ge=J,ee=te)}return $.delimiter=ge,{successful:!!ge,bestDelimiter:ge}}function se(X,he){X=X.substring(0,1024*1024);var we=new RegExp(T(he)+"([^]*?)"+T(he),"gm");X=X.replace(we,"");var ce=X.split("\r"),ie=X.split(`
`),ge=ie.length>1&&ie[0].length<ce[0].length;if(ce.length===1||ge)return`
`;for(var G=0,R=0;R<ce.length;R++)ce[R][0]===`
`&&G++;return G>=ce.length/2?`\r
`:"\r"}function ye(X,he,we,ce){var ie={type:X,code:he,message:we};ce!==void 0&&(ie.row=ce),Z.errors.push(ie)}}function T($){return $.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y($){$=$||{};var D=$.delimiter,N=$.newline,F=$.comments,L=$.step,C=$.preview,P=$.fastMode,V;$.quoteChar===void 0||$.quoteChar===null?V='"':V=$.quoteChar;var q=V;if($.escapeChar!==void 0&&(q=$.escapeChar),(typeof D!="string"||d.BAD_DELIMITERS.indexOf(D)>-1)&&(D=","),F===D)throw new Error("Comment character same as delimiter");F===!0?F="#":(typeof F!="string"||d.BAD_DELIMITERS.indexOf(F)>-1)&&(F=!1),N!==`
`&&N!=="\r"&&N!==`\r
`&&(N=`
`);var j=0,x=!1;this.parse=function(B,ne,oe){if(typeof B!="string")throw new Error("Input must be a string");var Z=B.length,ve=D.length,ae=N.length,me=F.length,fe=H(L);j=0;var ue=[],be=[],le=[],ke=0;if(!B)return Me();if($.header&&!ne){var Y=B.split(N)[0],pe=Y.split(D),se="_",ye=[],X={},he=!1;for(var we in pe){var ce=pe[we];H($.transformHeader)&&(ce=$.transformHeader(ce,we));var ie=ce,ge=X[ce]||0;for(ge>0&&(he=!0,ie=ce+se+ge),X[ce]=ge+1;ye.includes(ie);)ie=ie+se+ge;ye.push(ie)}if(he){var G=B.split(N);G[0]=ye.join(D),B=G.join(N)}}if(P||P!==!1&&B.indexOf(V)===-1){for(var R=B.split(N),ee=0;ee<R.length;ee++){if(le=R[ee],j+=le.length,ee!==R.length-1)j+=N.length;else if(oe)return Me();if(!(F&&le.substring(0,me)===F)){if(fe){if(ue=[],$e(le.split(D)),Oe(),x)return Me()}else $e(le.split(D));if(C&&ee>=C)return ue=ue.slice(0,C),Me(!0)}}return Me()}for(var Q=B.indexOf(D,j),J=B.indexOf(N,j),de=new RegExp(T(q)+T(V),"g"),te=B.indexOf(V,j);;){if(B[j]===V){for(te=j,j++;;){if(te=B.indexOf(V,te+1),te===-1)return oe||be.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ue.length,index:j}),Se();if(te===Z-1){var U=B.substring(j,te).replace(de,V);return Se(U)}if(V===q&&B[te+1]===q){te++;continue}if(!(V!==q&&te!==0&&B[te-1]===q)){Q!==-1&&Q<te+1&&(Q=B.indexOf(D,te+1)),J!==-1&&J<te+1&&(J=B.indexOf(N,te+1));var K=J===-1?Q:Math.min(Q,J),_e=Ae(K);if(B.substr(te+1+_e,ve)===D){le.push(B.substring(j,te).replace(de,V)),j=te+1+_e+ve,B[te+1+_e+ve]!==V&&(te=B.indexOf(V,j)),Q=B.indexOf(D,j),J=B.indexOf(N,j);break}var Te=Ae(J);if(B.substring(te+1+Te,te+1+Te+ae)===N){if(le.push(B.substring(j,te).replace(de,V)),Fe(te+1+Te+ae),Q=B.indexOf(D,j),te=B.indexOf(V,j),fe&&(Oe(),x))return Me();if(C&&ue.length>=C)return Me(!0);break}be.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ue.length,index:j}),te++}}continue}if(F&&le.length===0&&B.substring(j,j+me)===F){if(J===-1)return Me();j=J+ae,J=B.indexOf(N,j),Q=B.indexOf(D,j);continue}if(Q!==-1&&(Q<J||J===-1)){le.push(B.substring(j,Q)),j=Q+ve,Q=B.indexOf(D,j);continue}if(J!==-1){if(le.push(B.substring(j,J)),Fe(J+ae),fe&&(Oe(),x))return Me();if(C&&ue.length>=C)return Me(!0);continue}break}return Se();function $e(Ee){ue.push(Ee),ke=j}function Ae(Ee){var Ne=0;if(Ee!==-1){var Pe=B.substring(te+1,Ee);Pe&&Pe.trim()===""&&(Ne=Pe.length)}return Ne}function Se(Ee){return oe||(typeof Ee>"u"&&(Ee=B.substring(j)),le.push(Ee),j=Z,$e(le),fe&&Oe()),Me()}function Fe(Ee){j=Ee,$e(le),le=[],J=B.indexOf(N,j)}function Me(Ee){return{data:ue,errors:be,meta:{delimiter:D,linebreak:N,aborted:x,truncated:!!Ee,cursor:ke+(ne||0)}}}function Oe(){L(Me()),ue=[],be=[]}},this.abort=function(){x=!0},this.getCharIndex=function(){return j}}function S(){if(!d.WORKERS_SUPPORTED)return!1;var $=i(),D=new r.Worker($);return D.onmessage=O,D.id=f++,c[D.id]=D,D}function O($){var D=$.data,N=c[D.workerId],F=!1;if(D.error)N.userError(D.error,D.file);else if(D.results&&D.results.data){var L=function(){F=!0,z(D.workerId,{data:[],errors:[],meta:{aborted:!0}})},C={abort:L,pause:I,resume:I};if(H(N.userStep)){for(var P=0;P<D.results.data.length&&(N.userStep({data:D.results.data[P],errors:D.results.errors,meta:D.results.meta},C),!F);P++);delete D.results}else H(N.userChunk)&&(N.userChunk(D.results,C,D.file),delete D.results)}D.finished&&!F&&z(D.workerId,D.results)}function z($,D){var N=c[$];H(N.userComplete)&&N.userComplete(D),N.terminate(),delete c[$]}function I(){throw new Error("Not implemented.")}function M($){var D=$.data;if(typeof d.WORKER_ID>"u"&&D&&(d.WORKER_ID=D.workerId),typeof D.input=="string")r.postMessage({workerId:d.WORKER_ID,results:d.parse(D.input,D.config),finished:!0});else if(r.File&&D.input instanceof File||D.input instanceof Object){var N=d.parse(D.input,D.config);N&&r.postMessage({workerId:d.WORKER_ID,results:N,finished:!0})}}function E($){if(typeof $!="object"||$===null)return $;var D=Array.isArray($)?[]:{};for(var N in $)D[N]=E($[N]);return D}function W($,D){return function(){$.apply(D,arguments)}}function H($){return typeof $=="function"}return d})})(papaparse);var papaparseExports=papaparse.exports;const Papa=getDefaultExportFromCjs(papaparseExports);function create_if_block$c(e){let t,a;return t=new Dialog({props:{title:"IMPORT DATA",$$slots:{default:[create_default_slot$3]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},m(r,i){mount_component(t,r,i),a=!0},p(r,i){const o={};i[0]&119|i[1]&1&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){a||(transition_in(t.$$.fragment,r),a=!0)},o(r){transition_out(t.$$.fragment,r),a=!1},d(r){destroy_component(t,r)}}}function create_if_block_4$1(e){let t,a,r,i,o,u,c,f,d;return{c(){t=element("button"),t.textContent="Choose file",a=space(),r=element("lable"),r.textContent="Skip lines:",i=element("input"),o=space(),u=element("lable"),u.textContent="Header:",c=element("input"),attr(i,"type","number"),attr(c,"type","checkbox"),attr(c,"label","headers")},m(m,p){insert(m,t,p),insert(m,a,p),insert(m,r,p),insert(m,i,p),set_input_value(i,e[1]),insert(m,o,p),insert(m,u,p),insert(m,c,p),c.checked=e[2],f||(d=[listen(t,"click",e[7]),listen(i,"input",e[12]),listen(c,"change",e[13])],f=!0)},p(m,p){p[0]&2&&to_number(i.value)!==m[1]&&set_input_value(i,m[1]),p[0]&4&&(c.checked=m[2])},d(m){m&&(detach(t),detach(a),detach(r),detach(i),detach(o),detach(u),detach(c)),f=!1,run_all(d)}}}function create_if_block_3$1(e){let t,a=JSON.stringify(e[5])+"",r;return{c(){t=element("div"),r=text(a),attr(t,"class","error")},m(i,o){insert(i,t,o),append(t,r)},p(i,o){o[0]&32&&a!==(a=JSON.stringify(i[5])+"")&&set_data(r,a)},d(i){i&&detach(t)}}}function create_if_block_2$1(e){let t,a=e[0][0].name+"",r,i,o,u,c,f,d,m,p,h,_,g,b,v,k,A=e[10](e[4])+"",w,T,y,S,O,z;return{c(){t=element("p"),r=text(a),i=space(),o=element("button"),o.textContent="Change file",u=space(),c=element("label"),c.textContent="Header:",f=element("input"),d=space(),m=element("label"),m.textContent="Skip lines:",p=element("input"),h=space(),_=element("p"),_.textContent="Preview of the data:",g=space(),b=element("hr"),v=space(),k=element("p"),w=space(),T=element("hr"),y=space(),S=element("button"),S.textContent="Import",attr(f,"type","checkbox"),attr(f,"label","headers"),attr(p,"type","number")},m(I,M){insert(I,t,M),append(t,r),insert(I,i,M),insert(I,o,M),insert(I,u,M),insert(I,c,M),insert(I,f,M),f.checked=e[2],insert(I,d,M),insert(I,m,M),insert(I,p,M),set_input_value(p,e[1]),insert(I,h,M),insert(I,_,M),insert(I,g,M),insert(I,b,M),insert(I,v,M),insert(I,k,M),k.innerHTML=A,insert(I,w,M),insert(I,T,M),insert(I,y,M),insert(I,S,M),O||(z=[listen(o,"click",e[7]),listen(f,"change",e[18]),listen(f,"change",e[19]),listen(p,"input",e[20]),listen(p,"input",e[21]),listen(S,"click",e[9])],O=!0)},p(I,M){M[0]&1&&a!==(a=I[0][0].name+"")&&set_data(r,a),M[0]&4&&(f.checked=I[2]),M[0]&2&&to_number(p.value)!==I[1]&&set_input_value(p,I[1]),M[0]&16&&A!==(A=I[10](I[4])+"")&&(k.innerHTML=A)},d(I){I&&(detach(t),detach(i),detach(o),detach(u),detach(c),detach(f),detach(d),detach(m),detach(p),detach(h),detach(_),detach(g),detach(b),detach(v),detach(k),detach(w),detach(T),detach(y),detach(S)),O=!1,run_all(z)}}}function create_if_block_1$5(e){let t,a=e[0][0].name+"",r,i,o,u,c,f,d,m,p,h,_,g,b,v,k,A,w;return{c(){t=element("p"),r=text(a),i=space(),o=element("button"),o.textContent="Change file",u=space(),c=element("label"),c.textContent="Header:",f=element("input"),d=space(),m=element("label"),m.textContent="Skip lines:",p=element("input"),h=space(),_=element("hr"),g=space(),b=element("p"),b.textContent="There was an error reading the file.",v=space(),k=element("hr"),attr(f,"type","checkbox"),attr(f,"label","headers"),attr(p,"type","number")},m(T,y){insert(T,t,y),append(t,r),insert(T,i,y),insert(T,o,y),insert(T,u,y),insert(T,c,y),insert(T,f,y),f.checked=e[2],insert(T,d,y),insert(T,m,y),insert(T,p,y),set_input_value(p,e[1]),insert(T,h,y),insert(T,_,y),insert(T,g,y),insert(T,b,y),insert(T,v,y),insert(T,k,y),A||(w=[listen(o,"click",e[7]),listen(f,"change",e[14]),listen(f,"change",e[15]),listen(p,"input",e[16]),listen(p,"input",e[17])],A=!0)},p(T,y){y[0]&1&&a!==(a=T[0][0].name+"")&&set_data(r,a),y[0]&4&&(f.checked=T[2]),y[0]&2&&to_number(p.value)!==T[1]&&set_input_value(p,T[1])},d(T){T&&(detach(t),detach(i),detach(o),detach(u),detach(c),detach(f),detach(d),detach(m),detach(p),detach(h),detach(_),detach(g),detach(b),detach(v),detach(k)),A=!1,run_all(w)}}}function create_default_slot$3(e){let t,a,r=Object.keys(e[4]).length===0,i,o=Object.keys(e[5]).length,u,c,f,d,m,p=r&&create_if_block_4$1(e),h=o&&create_if_block_3$1(e);function _(v,k){if(k[0]&16&&(c=null),v[6])return create_if_block_1$5;if(c==null&&(c=!!Object.keys(v[4]).length),c)return create_if_block_2$1}let g=_(e,[-1,-1]),b=g&&g(e);return{c(){t=element("input"),a=space(),p&&p.c(),i=space(),h&&h.c(),u=space(),b&&b.c(),f=empty$1(),attr(t,"type","file"),attr(t,"id","fileInput"),attr(t,"accept",".csv, .txt, .TXT"),set_style(t,"display","none")},m(v,k){insert(v,t,k),insert(v,a,k),p&&p.m(v,k),insert(v,i,k),h&&h.m(v,k),insert(v,u,k),b&&b.m(v,k),insert(v,f,k),d||(m=listen(t,"change",e[11]),d=!0)},p(v,k){k[0]&16&&(r=Object.keys(v[4]).length===0),r?p?p.p(v,k):(p=create_if_block_4$1(v),p.c(),p.m(i.parentNode,i)):p&&(p.d(1),p=null),k[0]&32&&(o=Object.keys(v[5]).length),o?h?h.p(v,k):(h=create_if_block_3$1(v),h.c(),h.m(u.parentNode,u)):h&&(h.d(1),h=null),g===(g=_(v,k))&&b?b.p(v,k):(b&&b.d(1),b=g&&g(v),b&&(b.c(),b.m(f.parentNode,f)))},d(v){v&&(detach(t),detach(a),detach(i),detach(u),detach(f)),p&&p.d(v),h&&h.d(v),b&&b.d(v),d=!1,m()}}}function create_fragment$h(e){let t,a,r=e[3]==="import"&&create_if_block$c(e);return{c(){r&&r.c(),t=empty$1()},m(i,o){r&&r.m(i,o),insert(i,t,o),a=!0},p(i,o){i[3]==="import"?r?(r.p(i,o),o[0]&8&&transition_in(r,1)):(r=create_if_block$c(i),r.c(),transition_in(r,1),r.m(t.parentNode,t)):r&&(group_outros(),transition_out(r,1,1,()=>{r=null}),check_outros())},i(i){a||(transition_in(r),a=!0)},o(i){transition_out(r),a=!1},d(i){i&&detach(t),r&&r.d(i)}}}const previewTableNrows=6;function changeObjectKeys(e,t){console.log(e);const a={};return Object.keys(e).forEach((r,i)=>{const o=t[i]||r;e[r].splice(0,1),a[o]=e[r]}),a}function instance$h(e,t,a){let r,i;component_subscribe(e,data,L=>a(24,r=L)),component_subscribe(e,menuModalType,L=>a(3,i=L));const o=["NaN","NA","null"];let u,c={},f={},d=0,m=!0,p=!1,h=!1,_=!1;async function g(){a(4,c={}),a(5,f={}),a(2,m=!0),p=!1,a(6,h=!1),_=!1,await tick(),document.getElementById("fileInput").click()}function b(L=0){return a(6,h=!1),new Promise(C=>{console.log("doing papa previewIN= "+L+", useHeaders= "+m),Papa.parse(u[0],{preview:L,header:m,dynamicTyping:!0,skipEmptyLines:"greedy",error(P,V,q,j){console.log("Error: "+P+" | "+j),a(4,c={}),a(5,f={err:P,reason:j}),C()},beforeFirstChunk:P=>{var j;const V=P.split(/\r\n|\r|\n/);return console.log(V),(j=(d?V.splice(0,d):V[0].split(/[,;\t]/))[0])!=null&&j.includes("Actiware Export File")&&!_&&(console.log("ACTIWARE"),_="actiware",a(1,d=148),b(d+L+1)),V.join(`
`)},complete(P,V){console.log("Parsing complete:",P,V),console.log(P),P.errors.length>0&&a(6,h=!0),v(P.data),C()}})})}function v(L){if(console.log("DEALING WITH DATA..."),console.log(L),a(4,c=k(L)),_==="actiware"){a(4,c.DateTime=[],c);for(let C=0;C<c.Date.length;C++)c.DateTime.push(c.Date[C]+" "+c.Time[C].replace(/\b([ap])\.m\./gi,(P,V)=>V.toUpperCase()+"M"))}console.log(c)}function k(L){try{let C={};return L.forEach(P=>{Object.keys(P).forEach(V=>{C[V]||(C[V]=[]),C[V].push(P[V])})}),p&&m&&(C=changeObjectKeys(C,L[0])),C}catch(C){return console.error("Error converting array to object:",C),{}}}async function A(){console.log("loading..."),await b(0),console.log(c),w(c,u[0].name),set_store_value(menuModalType,i="",i)}function w(L,C){console.log(L),console.log(C);let P={id:T(),importedFrom:C,displayName:"data_"+T(),datalength:NaN,data:{}};P.datalength=L[Object.keys(L)[0]].length,Object.keys(L).forEach((V,q)=>{const j=`imported_${q}`,x=y(L[V]);if(console.log(x+" : "+guessDateofArray([x])),guessDateofArray([x])!=-1){const B=guessDateofArray([x]);console.log("guessedformat = "+B),P.data[j]={name:V,type:"time",data:L[V],timeFormat:B,timeData:forceFormat(L[V],B),recordPeriod:getPeriod(x,B)}}else isNaN(x)?P.data[j]={name:V,type:"category",data:L[V]}:P.data[j]={name:V,type:"value",data:L[V]}}),console.log(P),r.push(P),data.set(r)}function T(){if(r.length===0)return 0;let L=[];return r.forEach(C=>L.push(C.id)),Math.max(...L)+1}function y(L){for(const C of L)if(C!==null&&C!==""&&!o.includes(C))return C;return null}function S(L){if(Object.keys(L).length===0)return"There was an error reading the file "+u[0].name;let C="<table><thead><tr>";Object.keys(L).forEach(P=>C+=`<th>${P}</th>`),C+="</tr></thead><tbody>";for(let P=0;P<previewTableNrows;P++){C+="<tr>";for(let V=0;V<Object.keys(L).length;V++)C+=`<td>${L[Object.keys(L)[V]][P]}</td>`;C+="</tr>"}return C+="</tbody></table>",C}function O(){u=this.files,a(0,u)}function z(){d=to_number(this.value),a(1,d)}function I(){m=this.checked,a(2,m)}function M(){m=this.checked,a(2,m)}const E=()=>b(d+previewTableNrows+m);function W(){d=to_number(this.value),a(1,d)}const H=()=>b(d+previewTableNrows+m);function $(){m=this.checked,a(2,m)}const D=()=>b(d+previewTableNrows+m);function N(){d=to_number(this.value),a(1,d)}const F=()=>b(d+previewTableNrows+m);return e.$$.update=()=>{e.$$.dirty[0]&8&&i==="import"&&g(),e.$$.dirty[0]&7&&u&&b(d+previewTableNrows+m)},[u,d,m,i,c,f,h,g,b,A,S,O,z,I,M,E,W,H,$,D,N,F]}class ImportData extends SvelteComponent{constructor(t){super(),init(this,t,instance$h,create_fragment$h,safe_not_equal,{},null,[-1,-1])}}const version="3.0.1";function create_if_block$b(e){let t,a;return t=new Dialog({props:{title:"ABOUT AnCiR",$$slots:{default:[create_default_slot$2]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},m(r,i){mount_component(t,r,i),a=!0},i(r){a||(transition_in(t.$$.fragment,r),a=!0)},o(r){transition_out(t.$$.fragment,r),a=!1},d(r){destroy_component(t,r)}}}function create_default_slot$2(e){let t,a,r,i,o,u,c,f,d,m,p,h,_,g,b,v,k,A,w,T,y,S,O,z,I;return{c(){t=element("h3"),t.textContent="Analysis of Circadian Rhythms (AnCiR)",a=space(),r=element("p"),r.textContent=`This is our 'AnCiR' to the need for a simple-to-use (GUI; no coding) tool
      for analysis of circadian rhythms. Currently, the tool only allows for
      import of csv data and plotting of actigrams.`,i=space(),o=element("p"),o.innerHTML=`This is written in Svelte, using D3, with help from <a href="https://github.com/korur">@korur</a>
      and <a href="https://github.com/khromov">@khromov</a> - thank you!`,u=space(),c=element("h4"),c.textContent="For users",f=space(),d=element("p"),d.innerHTML=`AnCiR should start with some sample data already in the <strong>Data</strong> section on the left hand side. If you want to generate more sample data,
      just click on _Data_&gt;_Create_ and a new Sample set should appear. Similarly,
      if you have your own .csv file, then you can import it and it should show up
      in the list.`,m=space(),p=element("p"),p.textContent=`Clicking on the name of the data table should display the contents in the
      bottom viewer, so you can see what the data look like.`,h=space(),_=element("p"),_.textContent=`To create an actigram, click on _Plot_>_Actigram_. You can change the data
      that is used by using the dropdown lists under _Data for this plot_ on the
      right hand panel. You can add multiple data sources and change their
      colours. To see the post-processed data useed in the plot, click on the
      hyperlinked data for each source and see it appear in the data tabs below.`,g=space(),b=element("p"),b.textContent="The other controls for the actigram should be self-explanatory.",v=space(),k=element("p"),k.textContent=`The Periodogram plot is what it says it is, and raw is just a plot of the
      data - with similar controls to the actigram.`,A=space(),w=element("p"),w.textContent="Have fun.",T=space(),y=element("h4"),y.textContent="For developers",S=space(),O=element("p"),O.innerHTML='Any advice or offers of support will be welcommed - email <a href="mailto:d.cumin@auckland.ac.nz?subject=AnCiR">d.cumin@auckland.ac.nz</a>',z=text(`

    The following packages code was used in this project:
    `),I=element("ul"),I.innerHTML=`<li><a href="https://svelte.dev/">Svelte</a> is used as the framework/library/compiler
        of the code.</li> <li><a href="https://d3js.org/">D3</a> is used for plotting.</li> <li><a href="https://www.papaparse.com/">Papaparse</a> is used for importing
        the data.</li> <li><a href="https://svelte.dev/repl/79d35c3691cf4ed0924e7e98dc9af55e?version=4.2.8">In-place editing</a> for updating items.</li> <li><a href="https://www.npmjs.com/package/moment-guess">Moment-guess</a>
        was adapted to guess the time format of data.</li> <li><a href="https://svelte.dev/repl/dd6754a2ad0547c5b1c1ea37c0293fef?version=4.2.10">Tooltip</a> was adapted for this project.</li> <li><a href="https://github.com/EmilTholin/svelte-spinner/">Spinner</a> was taken
        to use for the spinner.</li> <li><a href="https://www.npmjs.com/package/luxon">Luxon</a> is used for date
        manipulation and caluclations.</li>`},m(M,E){insert(M,t,E),insert(M,a,E),insert(M,r,E),insert(M,i,E),insert(M,o,E),insert(M,u,E),insert(M,c,E),insert(M,f,E),insert(M,d,E),insert(M,m,E),insert(M,p,E),insert(M,h,E),insert(M,_,E),insert(M,g,E),insert(M,b,E),insert(M,v,E),insert(M,k,E),insert(M,A,E),insert(M,w,E),insert(M,T,E),insert(M,y,E),insert(M,S,E),insert(M,O,E),insert(M,z,E),insert(M,I,E)},p:noop,d(M){M&&(detach(t),detach(a),detach(r),detach(i),detach(o),detach(u),detach(c),detach(f),detach(d),detach(m),detach(p),detach(h),detach(_),detach(g),detach(b),detach(v),detach(k),detach(A),detach(w),detach(T),detach(y),detach(S),detach(O),detach(z),detach(I))}}}function create_fragment$g(e){let t,a,r=e[0]==="about"&&create_if_block$b(e);return{c(){r&&r.c(),t=empty$1()},m(i,o){r&&r.m(i,o),insert(i,t,o),a=!0},p(i,[o]){i[0]==="about"?r?o&1&&transition_in(r,1):(r=create_if_block$b(i),r.c(),transition_in(r,1),r.m(t.parentNode,t)):r&&(group_outros(),transition_out(r,1,1,()=>{r=null}),check_outros())},i(i){a||(transition_in(r),a=!0)},o(i){transition_out(r),a=!1},d(i){i&&detach(t),r&&r.d(i)}}}function instance$g(e,t,a){let r;return component_subscribe(e,menuModalType,i=>a(0,r=i)),[r]}class About extends SvelteComponent{constructor(t){super(),init(this,t,instance$g,create_fragment$g,safe_not_equal,{})}}function create_if_block$a(e){let t,a;return t=new Dialog({props:{title:"Make new column",$$slots:{default:[create_default_slot$1]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},m(r,i){mount_component(t,r,i),a=!0},i(r){a||(transition_in(t.$$.fragment,r),a=!0)},o(r){transition_out(t.$$.fragment,r),a=!1},d(r){destroy_component(t,r)}}}function create_default_slot$1(e){let t;return{c(){t=text("Do stuff in here")},m(a,r){insert(a,t,r)},d(a){a&&detach(t)}}}function create_fragment$f(e){let t,a,r=e[0]==="createData"&&create_if_block$a(e);return{c(){r&&r.c(),t=empty$1()},m(i,o){r&&r.m(i,o),insert(i,t,o),a=!0},p(i,[o]){i[0]==="createData"?r?o&1&&transition_in(r,1):(r=create_if_block$a(i),r.c(),transition_in(r,1),r.m(t.parentNode,t)):r&&(group_outros(),transition_out(r,1,1,()=>{r=null}),check_outros())},i(i){a||(transition_in(r),a=!0)},o(i){transition_out(r),a=!1},d(i){i&&detach(t),r&&r.d(i)}}}function instance$f(e,t,a){let r;return component_subscribe(e,menuModalType,i=>a(0,r=i)),[r]}class CreateNewData extends SvelteComponent{constructor(t){super(),init(this,t,instance$f,create_fragment$f,safe_not_equal,{})}}function create_default_slot_6(e){let t,a;return t=new DataTree({}),{c(){create_component(t.$$.fragment)},m(r,i){mount_component(t,r,i),a=!0},i(r){a||(transition_in(t.$$.fragment,r),a=!0)},o(r){transition_out(t.$$.fragment,r),a=!1},d(r){destroy_component(t,r)}}}function create_default_slot_5(e){let t,a,r,i;return t=new GraphMaster({}),r=new TableMaster({}),{c(){create_component(t.$$.fragment),a=space(),create_component(r.$$.fragment)},m(o,u){mount_component(t,o,u),insert(o,a,u),mount_component(r,o,u),i=!0},i(o){i||(transition_in(t.$$.fragment,o),transition_in(r.$$.fragment,o),i=!0)},o(o){transition_out(t.$$.fragment,o),transition_out(r.$$.fragment,o),i=!1},d(o){o&&detach(a),destroy_component(t,o),destroy_component(r,o)}}}function create_default_slot_4(e){let t,a;return t=new Splitpanes({props:{theme:"modern-theme",horizontal:!0,style:"height: 100%;",pushOtherPanes:!1,dblClickSplitter:!1,$$slots:{default:[create_default_slot_5]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},m(r,i){mount_component(t,r,i),a=!0},p(r,i){const o={};i&1&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){a||(transition_in(t.$$.fragment,r),a=!0)},o(r){transition_out(t.$$.fragment,r),a=!1},d(r){destroy_component(t,r)}}}function create_default_slot_3(e){let t,a,r,i;return t=new Pane({props:{size:18,$$slots:{default:[create_default_slot_6]},$$scope:{ctx:e}}}),r=new Pane({props:{$$slots:{default:[create_default_slot_4]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment),a=space(),create_component(r.$$.fragment)},m(o,u){mount_component(t,o,u),insert(o,a,u),mount_component(r,o,u),i=!0},p(o,u){const c={};u&1&&(c.$$scope={dirty:u,ctx:o}),t.$set(c);const f={};u&1&&(f.$$scope={dirty:u,ctx:o}),r.$set(f)},i(o){i||(transition_in(t.$$.fragment,o),transition_in(r.$$.fragment,o),i=!0)},o(o){transition_out(t.$$.fragment,o),transition_out(r.$$.fragment,o),i=!1},d(o){o&&detach(a),destroy_component(t,o),destroy_component(r,o)}}}function create_default_slot_2(e){let t,a;return t=new Splitpanes({props:{theme:"modern-theme",style:"height: 100%;",pushOtherPanes:!1,dblClickSplitter:!0,$$slots:{default:[create_default_slot_3]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},m(r,i){mount_component(t,r,i),a=!0},p(r,i){const o={};i&1&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){a||(transition_in(t.$$.fragment,r),a=!0)},o(r){transition_out(t.$$.fragment,r),a=!1},d(r){destroy_component(t,r)}}}function create_default_slot_1(e){let t,a;return t=new StatusMaster({}),{c(){create_component(t.$$.fragment)},m(r,i){mount_component(t,r,i),a=!0},i(r){a||(transition_in(t.$$.fragment,r),a=!0)},o(r){transition_out(t.$$.fragment,r),a=!1},d(r){destroy_component(t,r)}}}function create_default_slot(e){let t,a,r,i;return t=new Pane({props:{minSize:30,$$slots:{default:[create_default_slot_2]},$$scope:{ctx:e}}}),r=new Pane({props:{size:10,$$slots:{default:[create_default_slot_1]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment),a=space(),create_component(r.$$.fragment)},m(o,u){mount_component(t,o,u),insert(o,a,u),mount_component(r,o,u),i=!0},p(o,u){const c={};u&1&&(c.$$scope={dirty:u,ctx:o}),t.$set(c);const f={};u&1&&(f.$$scope={dirty:u,ctx:o}),r.$set(f)},i(o){i||(transition_in(t.$$.fragment,o),transition_in(r.$$.fragment,o),i=!0)},o(o){transition_out(t.$$.fragment,o),transition_out(r.$$.fragment,o),i=!1},d(o){o&&detach(a),destroy_component(t,o),destroy_component(r,o)}}}function create_fragment$e(e){let t,a,r,i,o,u,c,f,d,m,p,h,_,g,b,v,k,A,w,T,y;return document.title="AnCiR v ."+version,a=new ContextMenu({}),i=new GenerateSimulated({}),u=new About({}),f=new Styling({}),m=new ImportData({}),h=new CreateNewData({}),v=new MenuMaster({}),A=new Splitpanes({props:{theme:"modern-theme",horizontal:!0,style:"height: calc(100vh - 3.4em); width: calc(100vw - 1em);",pushOtherPanes:!1,$$slots:{default:[create_default_slot]},$$scope:{ctx:e}}}),T=new ProcessStep({}),{c(){t=space(),create_component(a.$$.fragment),r=space(),create_component(i.$$.fragment),o=space(),create_component(u.$$.fragment),c=space(),create_component(f.$$.fragment),d=space(),create_component(m.$$.fragment),p=space(),create_component(h.$$.fragment),_=space(),g=element("div"),b=element("div"),create_component(v.$$.fragment),k=space(),create_component(A.$$.fragment),w=space(),create_component(T.$$.fragment),set_style(b,"max-width","100vw")},m(S,O){insert(S,t,O),mount_component(a,S,O),insert(S,r,O),mount_component(i,S,O),insert(S,o,O),mount_component(u,S,O),insert(S,c,O),mount_component(f,S,O),insert(S,d,O),mount_component(m,S,O),insert(S,p,O),mount_component(h,S,O),insert(S,_,O),insert(S,g,O),append(g,b),mount_component(v,b,null),append(g,k),mount_component(A,g,null),append(g,w),mount_component(T,g,null),y=!0},p(S,[O]){const z={};O&1&&(z.$$scope={dirty:O,ctx:S}),A.$set(z)},i(S){y||(transition_in(a.$$.fragment,S),transition_in(i.$$.fragment,S),transition_in(u.$$.fragment,S),transition_in(f.$$.fragment,S),transition_in(m.$$.fragment,S),transition_in(h.$$.fragment,S),transition_in(v.$$.fragment,S),transition_in(A.$$.fragment,S),transition_in(T.$$.fragment,S),y=!0)},o(S){transition_out(a.$$.fragment,S),transition_out(i.$$.fragment,S),transition_out(u.$$.fragment,S),transition_out(f.$$.fragment,S),transition_out(m.$$.fragment,S),transition_out(h.$$.fragment,S),transition_out(v.$$.fragment,S),transition_out(A.$$.fragment,S),transition_out(T.$$.fragment,S),y=!1},d(S){S&&(detach(t),detach(r),detach(o),detach(c),detach(d),detach(p),detach(_),detach(g)),destroy_component(a,S),destroy_component(i,S),destroy_component(u,S),destroy_component(f,S),destroy_component(m,S),destroy_component(h,S),destroy_component(v),destroy_component(A),destroy_component(T)}}}function instance$e(e){return console.log("VERSION: "+version),[]}class App extends SvelteComponent{constructor(t){super(),init(this,t,instance$e,create_fragment$e,safe_not_equal,{})}}new App({target:document.getElementById("app")});function create_if_block_1$4(e){let t,a,r;function i(u){e[4](u)}let o={min:-20,max:20,step:.5,label:"Add (hrs):"};return e[0].val!==void 0&&(o.value=e[0].val),t=new Slider({props:o}),binding_callbacks.push(()=>bind(t,"value",i)),{c(){create_component(t.$$.fragment)},m(u,c){mount_component(t,u,c),r=!0},p(u,c){const f={};!a&&c&1&&(a=!0,f.value=u[0].val,add_flush_callback(()=>a=!1)),t.$set(f)},i(u){r||(transition_in(t.$$.fragment,u),r=!0)},o(u){transition_out(t.$$.fragment,u),r=!1},d(u){destroy_component(t,u)}}}function create_if_block$9(e){let t,a,r;function i(u){e[3](u)}let o={min:-20,max:20,label:"Add:"};return e[0].val!==void 0&&(o.value=e[0].val),t=new Slider({props:o}),binding_callbacks.push(()=>bind(t,"value",i)),{c(){create_component(t.$$.fragment)},m(u,c){mount_component(t,u,c),r=!0},p(u,c){const f={};!a&&c&1&&(a=!0,f.value=u[0].val,add_flush_callback(()=>a=!1)),t.$set(f)},i(u){r||(transition_in(t.$$.fragment,u),r=!0)},o(u){transition_out(t.$$.fragment,u),r=!1},d(u){destroy_component(t,u)}}}function create_fragment$d(e){let t,a,r,i;const o=[create_if_block$9,create_if_block_1$4],u=[];function c(f,d){return f[1].type==="value"?0:f[1].type==="time"?1:-1}return~(t=c(e))&&(a=u[t]=o[t](e)),{c(){a&&a.c(),r=empty$1()},m(f,d){~t&&u[t].m(f,d),insert(f,r,d),i=!0},p(f,[d]){let m=t;t=c(f),t===m?~t&&u[t].p(f,d):(a&&(group_outros(),transition_out(u[m],1,1,()=>{u[m]=null}),check_outros()),~t?(a=u[t],a?a.p(f,d):(a=u[t]=o[t](f),a.c()),transition_in(a,1),a.m(r.parentNode,r)):a=null)},i(f){i||(transition_in(a),i=!0)},o(f){transition_out(a),i=!1},d(f){f&&detach(r),~t&&u[t].d(f)}}}const forTypes$2=["value","time"],startParams$2={val:0};function Add(e=[1,2,3],t={val:0}){var a=[...e];for(let r=0;r<a.length;r++)a[r]=a[r]+t.val;return a}function instance$d(e,t,a){const r=createEventDispatcher();let{paramsStart:i}=t,{typeTime:o}=t,{params:u={val:0}}=t;Object.keys(i).length>0&&(u=Object.assign({},i));function c(d){e.$$.not_equal(u.val,d)&&(u.val=d,a(0,u))}function f(d){e.$$.not_equal(u.val,d)&&(u.val=d,a(0,u))}return e.$$set=d=>{"paramsStart"in d&&a(2,i=d.paramsStart),"typeTime"in d&&a(1,o=d.typeTime),"params"in d&&a(0,u=d.params)},e.$$.update=()=>{e.$$.dirty&1&&r("update",{params:u})},[u,o,i,c,f]}class Add_1 extends SvelteComponent{constructor(t){super(),init(this,t,instance$d,create_fragment$d,safe_not_equal,{paramsStart:2,typeTime:1,params:0})}}const Add$1=Object.freeze(Object.defineProperty({__proto__:null,Add,default:Add_1,forTypes:forTypes$2,startParams:startParams$2},Symbol.toStringTag,{value:"Module"}));function create_if_block_1$3(e){let t,a,r,i,o,u;function c(p){e[5](p)}let f={min:dataMin-1,max:dataMax+1,label:"Min (hrs):"};e[0].min!==void 0&&(f.value=e[0].min),t=new Slider({props:f}),binding_callbacks.push(()=>bind(t,"value",c));function d(p){e[6](p)}let m={min:dataMin-1,max:dataMax+1,label:"Max (hrs):"};return e[0].max!==void 0&&(m.value=e[0].max),i=new Slider({props:m}),binding_callbacks.push(()=>bind(i,"value",d)),{c(){create_component(t.$$.fragment),r=space(),create_component(i.$$.fragment)},m(p,h){mount_component(t,p,h),insert(p,r,h),mount_component(i,p,h),u=!0},p(p,h){const _={};!a&&h&1&&(a=!0,_.value=p[0].min,add_flush_callback(()=>a=!1)),t.$set(_);const g={};!o&&h&1&&(o=!0,g.value=p[0].max,add_flush_callback(()=>o=!1)),i.$set(g)},i(p){u||(transition_in(t.$$.fragment,p),transition_in(i.$$.fragment,p),u=!0)},o(p){transition_out(t.$$.fragment,p),transition_out(i.$$.fragment,p),u=!1},d(p){p&&detach(r),destroy_component(t,p),destroy_component(i,p)}}}function create_if_block$8(e){let t,a,r,i,o,u;function c(p){e[3](p)}let f={min:dataMin-1,max:dataMax+1,label:"Min:"};e[0].min!==void 0&&(f.value=e[0].min),t=new Slider({props:f}),binding_callbacks.push(()=>bind(t,"value",c));function d(p){e[4](p)}let m={min:dataMin-1,max:dataMax+1,label:"Max:"};return e[0].max!==void 0&&(m.value=e[0].max),i=new Slider({props:m}),binding_callbacks.push(()=>bind(i,"value",d)),{c(){create_component(t.$$.fragment),r=space(),create_component(i.$$.fragment)},m(p,h){mount_component(t,p,h),insert(p,r,h),mount_component(i,p,h),u=!0},p(p,h){const _={};!a&&h&1&&(a=!0,_.value=p[0].min,add_flush_callback(()=>a=!1)),t.$set(_);const g={};!o&&h&1&&(o=!0,g.value=p[0].max,add_flush_callback(()=>o=!1)),i.$set(g)},i(p){u||(transition_in(t.$$.fragment,p),transition_in(i.$$.fragment,p),u=!0)},o(p){transition_out(t.$$.fragment,p),transition_out(i.$$.fragment,p),u=!1},d(p){p&&detach(r),destroy_component(t,p),destroy_component(i,p)}}}function create_fragment$c(e){let t,a,r,i;const o=[create_if_block$8,create_if_block_1$3],u=[];function c(f,d){return f[1].type==="value"?0:f[1].type==="time"?1:-1}return~(t=c(e))&&(a=u[t]=o[t](e)),{c(){a&&a.c(),r=empty$1()},m(f,d){~t&&u[t].m(f,d),insert(f,r,d),i=!0},p(f,[d]){let m=t;t=c(f),t===m?~t&&u[t].p(f,d):(a&&(group_outros(),transition_out(u[m],1,1,()=>{u[m]=null}),check_outros()),~t?(a=u[t],a?a.p(f,d):(a=u[t]=o[t](f),a.c()),transition_in(a,1),a.m(r.parentNode,r)):a=null)},i(f){i||(transition_in(a),i=!0)},o(f){transition_out(a),i=!1},d(f){f&&detach(r),~t&&u[t].d(f)}}}const forTypes$1=["value","time"],startParams$1={min:0,max:100};function Filter(e=[1,2,3],t={min:0,max:12}){Math.min(...e),Math.max(...e);var a=[...e];for(let r=0;r<a.length;r++)a[r]<t.min?a[r]=NaN:a[r]>t.max&&(a[r]=NaN);return a}const dataMin=0,dataMax=1e4;function instance$c(e,t,a){const r=createEventDispatcher();let{paramsStart:i}=t,{typeTime:o}=t,{params:u={min:dataMin,max:dataMax}}=t;Object.keys(i).length>0&&(u=Object.assign({},i));function c(p){e.$$.not_equal(u.min,p)&&(u.min=p,a(0,u))}function f(p){e.$$.not_equal(u.max,p)&&(u.max=p,a(0,u))}function d(p){e.$$.not_equal(u.min,p)&&(u.min=p,a(0,u))}function m(p){e.$$.not_equal(u.max,p)&&(u.max=p,a(0,u))}return e.$$set=p=>{"paramsStart"in p&&a(2,i=p.paramsStart),"typeTime"in p&&a(1,o=p.typeTime),"params"in p&&a(0,u=p.params)},e.$$.update=()=>{e.$$.dirty&1&&u.max<u.min&&a(0,u.max=u.min,u),e.$$.dirty&1&&r("update",{params:u})},[u,o,i,c,f,d,m]}class Filter_1 extends SvelteComponent{constructor(t){super(),init(this,t,instance$c,create_fragment$c,safe_not_equal,{paramsStart:2,typeTime:1,params:0})}}const Filter$1=Object.freeze(Object.defineProperty({__proto__:null,Filter,default:Filter_1,forTypes:forTypes$1,startParams:startParams$1},Symbol.toStringTag,{value:"Module"}));function create_fragment$b(e){let t,a,r,i,o,u,c;return{c(){t=element("label"),t.textContent="From:",a=element("input"),r=space(),i=element("label"),i.textContent="To:",o=element("input")},m(f,d){insert(f,t,d),insert(f,a,d),set_input_value(a,e[0].from),insert(f,r,d),insert(f,i,d),insert(f,o,d),set_input_value(o,e[0].to),u||(c=[listen(a,"input",e[3]),listen(o,"input",e[4])],u=!0)},p(f,[d]){d&1&&a.value!==f[0].from&&set_input_value(a,f[0].from),d&1&&o.value!==f[0].to&&set_input_value(o,f[0].to)},i:noop,o:noop,d(f){f&&(detach(t),detach(a),detach(r),detach(i),detach(o)),u=!1,run_all(c)}}}const forTypes=["value","time"],startParams={from:-999,to:NaN};function Replace(e=[1,2,3],t={from:0,to:100}){var a=[...e];for(let r=0;r<a.length;r++)a[r]==t.from&&(a[r]=t.to);return a}function instance$b(e,t,a){const r=createEventDispatcher();let{paramsStart:i}=t,{typeTime:o}=t,{params:u={from:0,to:100}}=t;Object.keys(i).length>0&&(u=Object.assign({},i));function c(){u.from=this.value,a(0,u)}function f(){u.to=this.value,a(0,u)}return e.$$set=d=>{"paramsStart"in d&&a(1,i=d.paramsStart),"typeTime"in d&&a(2,o=d.typeTime),"params"in d&&a(0,u=d.params)},e.$$.update=()=>{e.$$.dirty&1&&r("update",{params:u})},[u,i,o,c,f]}class Replace_1 extends SvelteComponent{constructor(t){super(),init(this,t,instance$b,create_fragment$b,safe_not_equal,{paramsStart:1,typeTime:2,params:0})}}const Replace$1=Object.freeze(Object.defineProperty({__proto__:null,Replace,default:Replace_1,forTypes,startParams},Symbol.toStringTag,{value:"Module"}));function ascending$1(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function descending(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bisector(e){let t,a,r;e.length!==2?(t=ascending$1,a=(c,f)=>ascending$1(e(c),f),r=(c,f)=>e(c)-f):(t=e===ascending$1||e===descending?e:zero$1,a=e,r=e);function i(c,f,d=0,m=c.length){if(d<m){if(t(f,f)!==0)return m;do{const p=d+m>>>1;a(c[p],f)<0?d=p+1:m=p}while(d<m)}return d}function o(c,f,d=0,m=c.length){if(d<m){if(t(f,f)!==0)return m;do{const p=d+m>>>1;a(c[p],f)<=0?d=p+1:m=p}while(d<m)}return d}function u(c,f,d=0,m=c.length){const p=i(c,f,d,m-1);return p>d&&r(c[p-1],f)>-r(c[p],f)?p-1:p}return{left:i,center:u,right:o}}function zero$1(){return 0}function number$2(e){return e===null?NaN:+e}const ascendingBisect=bisector(ascending$1),bisectRight=ascendingBisect.right;bisector(number$2).center;class InternMap extends Map{constructor(t,a=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:a}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(intern_get(this,t))}has(t){return super.has(intern_get(this,t))}set(t,a){return super.set(intern_set(this,t),a)}delete(t){return super.delete(intern_delete(this,t))}}function intern_get({_intern:e,_key:t},a){const r=t(a);return e.has(r)?e.get(r):a}function intern_set({_intern:e,_key:t},a){const r=t(a);return e.has(r)?e.get(r):(e.set(r,a),a)}function intern_delete({_intern:e,_key:t},a){const r=t(a);return e.has(r)&&(a=e.get(r),e.delete(r)),a}function keyof(e){return e!==null&&typeof e=="object"?e.valueOf():e}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(e,t,a){const r=(t-e)/Math.max(0,a),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),u=o>=e10?10:o>=e5?5:o>=e2?2:1;let c,f,d;return i<0?(d=Math.pow(10,-i)/u,c=Math.round(e*d),f=Math.round(t*d),c/d<e&&++c,f/d>t&&--f,d=-d):(d=Math.pow(10,i)*u,c=Math.round(e/d),f=Math.round(t/d),c*d<e&&++c,f*d>t&&--f),f<c&&.5<=a&&a<2?tickSpec(e,t,a*2):[c,f,d]}function ticks(e,t,a){if(t=+t,e=+e,a=+a,!(a>0))return[];if(e===t)return[e];const r=t<e,[i,o,u]=r?tickSpec(t,e,a):tickSpec(e,t,a);if(!(o>=i))return[];const c=o-i+1,f=new Array(c);if(r)if(u<0)for(let d=0;d<c;++d)f[d]=(o-d)/-u;else for(let d=0;d<c;++d)f[d]=(o-d)*u;else if(u<0)for(let d=0;d<c;++d)f[d]=(i+d)/-u;else for(let d=0;d<c;++d)f[d]=(i+d)*u;return f}function tickIncrement(e,t,a){return t=+t,e=+e,a=+a,tickSpec(e,t,a)[2]}function tickStep(e,t,a){t=+t,e=+e,a=+a;const r=t<e,i=r?tickIncrement(t,e,a):tickIncrement(e,t,a);return(r?-1:1)*(i<0?1/-i:i)}function range(e,t,a){e=+e,t=+t,a=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+a;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/a))|0,o=new Array(i);++r<i;)o[r]=e+r*a;return o}function initRange(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const implicit=Symbol("implicit");function ordinal(){var e=new InternMap,t=[],a=[],r=implicit;function i(o){let u=e.get(o);if(u===void 0){if(r!==implicit)return r;e.set(o,u=t.push(o)-1)}return a[u%a.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new InternMap;for(const u of o)e.has(u)||e.set(u,t.push(u)-1);return i},i.range=function(o){return arguments.length?(a=Array.from(o),i):a.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return ordinal(t,a).unknown(r)},initRange.apply(i,arguments),i}function band(){var e=ordinal().unknown(void 0),t=e.domain,a=e.range,r=0,i=1,o,u,c=!1,f=0,d=0,m=.5;delete e.unknown;function p(){var h=t().length,_=i<r,g=_?i:r,b=_?r:i;o=(b-g)/Math.max(1,h-f+d*2),c&&(o=Math.floor(o)),g+=(b-g-o*(h-f))*m,u=o*(1-f),c&&(g=Math.round(g),u=Math.round(u));var v=range(h).map(function(k){return g+o*k});return a(_?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),p()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,c=!0,p()},e.bandwidth=function(){return u},e.step=function(){return o},e.round=function(h){return arguments.length?(c=!!h,p()):c},e.padding=function(h){return arguments.length?(f=Math.min(1,d=+h),p()):f},e.paddingInner=function(h){return arguments.length?(f=Math.min(1,h),p()):f},e.paddingOuter=function(h){return arguments.length?(d=+h,p()):d},e.align=function(h){return arguments.length?(m=Math.max(0,Math.min(1,h)),p()):m},e.copy=function(){return band(t(),[r,i]).round(c).paddingInner(f).paddingOuter(d).align(m)},initRange.apply(p(),arguments)}function define(e,t,a){e.prototype=t.prototype=a,a.constructor=e}function extend(e,t){var a=Object.create(e.prototype);for(var r in t)a[r]=t[r];return a}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(e){var t,a;return e=(e+"").trim().toLowerCase(),(t=reHex.exec(e))?(a=t[1].length,t=parseInt(t[1],16),a===6?rgbn(t):a===3?new Rgb(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):a===8?rgba(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):a===4?rgba(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=reRgbInteger.exec(e))?new Rgb(t[1],t[2],t[3],1):(t=reRgbPercent.exec(e))?new Rgb(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=reRgbaInteger.exec(e))?rgba(t[1],t[2],t[3],t[4]):(t=reRgbaPercent.exec(e))?rgba(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=reHslPercent.exec(e))?hsla(t[1],t[2]/100,t[3]/100,1):(t=reHslaPercent.exec(e))?hsla(t[1],t[2]/100,t[3]/100,t[4]):named.hasOwnProperty(e)?rgbn(named[e]):e==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(e){return new Rgb(e>>16&255,e>>8&255,e&255,1)}function rgba(e,t,a,r){return r<=0&&(e=t=a=NaN),new Rgb(e,t,a,r)}function rgbConvert(e){return e instanceof Color||(e=color(e)),e?(e=e.rgb(),new Rgb(e.r,e.g,e.b,e.opacity)):new Rgb}function rgb$1(e,t,a,r){return arguments.length===1?rgbConvert(e):new Rgb(e,t,a,r??1)}function Rgb(e,t,a,r){this.r=+e,this.g=+t,this.b=+a,this.opacity=+r}define(Rgb,rgb$1,extend(Color,{brighter(e){return e=e==null?brighter:Math.pow(brighter,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?darker:Math.pow(darker,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const e=clampa(this.opacity);return`${e===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${e===1?")":`, ${e})`}`}function clampa(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function clampi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function hex(e){return e=clampi(e),(e<16?"0":"")+e.toString(16)}function hsla(e,t,a,r){return r<=0?e=t=a=NaN:a<=0||a>=1?e=t=NaN:t<=0&&(e=NaN),new Hsl(e,t,a,r)}function hslConvert(e){if(e instanceof Hsl)return new Hsl(e.h,e.s,e.l,e.opacity);if(e instanceof Color||(e=color(e)),!e)return new Hsl;if(e instanceof Hsl)return e;e=e.rgb();var t=e.r/255,a=e.g/255,r=e.b/255,i=Math.min(t,a,r),o=Math.max(t,a,r),u=NaN,c=o-i,f=(o+i)/2;return c?(t===o?u=(a-r)/c+(a<r)*6:a===o?u=(r-t)/c+2:u=(t-a)/c+4,c/=f<.5?o+i:2-o-i,u*=60):c=f>0&&f<1?0:u,new Hsl(u,c,f,e.opacity)}function hsl(e,t,a,r){return arguments.length===1?hslConvert(e):new Hsl(e,t,a,r??1)}function Hsl(e,t,a,r){this.h=+e,this.s=+t,this.l=+a,this.opacity=+r}define(Hsl,hsl,extend(Color,{brighter(e){return e=e==null?brighter:Math.pow(brighter,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?darker:Math.pow(darker,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,a=this.l,r=a+(a<.5?a:1-a)*t,i=2*a-r;return new Rgb(hsl2rgb(e>=240?e-240:e+120,i,r),hsl2rgb(e,i,r),hsl2rgb(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=clampa(this.opacity);return`${e===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function clamph(e){return e=(e||0)%360,e<0?e+360:e}function clampt(e){return Math.max(0,Math.min(1,e||0))}function hsl2rgb(e,t,a){return(e<60?t+(a-t)*e/60:e<180?a:e<240?t+(a-t)*(240-e)/60:t)*255}const constant$1=e=>()=>e;function linear$1(e,t){return function(a){return e+a*t}}function exponential(e,t,a){return e=Math.pow(e,a),t=Math.pow(t,a)-e,a=1/a,function(r){return Math.pow(e+r*t,a)}}function gamma(e){return(e=+e)==1?nogamma:function(t,a){return a-t?exponential(t,a,e):constant$1(isNaN(t)?a:t)}}function nogamma(e,t){var a=t-e;return a?linear$1(e,a):constant$1(isNaN(e)?t:e)}const rgb=function e(t){var a=gamma(t);function r(i,o){var u=a((i=rgb$1(i)).r,(o=rgb$1(o)).r),c=a(i.g,o.g),f=a(i.b,o.b),d=nogamma(i.opacity,o.opacity);return function(m){return i.r=u(m),i.g=c(m),i.b=f(m),i.opacity=d(m),i+""}}return r.gamma=e,r}(1);function numberArray(e,t){t||(t=[]);var a=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<a;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function isNumberArray(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function genericArray(e,t){var a=t?t.length:0,r=e?Math.min(a,e.length):0,i=new Array(r),o=new Array(a),u;for(u=0;u<r;++u)i[u]=interpolate(e[u],t[u]);for(;u<a;++u)o[u]=t[u];return function(c){for(u=0;u<r;++u)o[u]=i[u](c);return o}}function date(e,t){var a=new Date;return e=+e,t=+t,function(r){return a.setTime(e*(1-r)+t*r),a}}function interpolateNumber(e,t){return e=+e,t=+t,function(a){return e*(1-a)+t*a}}function object(e,t){var a={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?a[i]=interpolate(e[i],t[i]):r[i]=t[i];return function(o){for(i in a)r[i]=a[i](o);return r}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(e){return function(){return e}}function one(e){return function(t){return e(t)+""}}function string(e,t){var a=reA.lastIndex=reB.lastIndex=0,r,i,o,u=-1,c=[],f=[];for(e=e+"",t=t+"";(r=reA.exec(e))&&(i=reB.exec(t));)(o=i.index)>a&&(o=t.slice(a,o),c[u]?c[u]+=o:c[++u]=o),(r=r[0])===(i=i[0])?c[u]?c[u]+=i:c[++u]=i:(c[++u]=null,f.push({i:u,x:interpolateNumber(r,i)})),a=reB.lastIndex;return a<t.length&&(o=t.slice(a),c[u]?c[u]+=o:c[++u]=o),c.length<2?f[0]?one(f[0].x):zero(t):(t=f.length,function(d){for(var m=0,p;m<t;++m)c[(p=f[m]).i]=p.x(d);return c.join("")})}function interpolate(e,t){var a=typeof t,r;return t==null||a==="boolean"?constant$1(t):(a==="number"?interpolateNumber:a==="string"?(r=color(t))?(t=r,rgb):string:t instanceof color?rgb:t instanceof Date?date:isNumberArray(t)?numberArray:Array.isArray(t)?genericArray:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?object:interpolateNumber)(e,t)}function interpolateRound(e,t){return e=+e,t=+t,function(a){return Math.round(e*(1-a)+t*a)}}function constants(e){return function(){return e}}function number$1(e){return+e}var unit=[0,1];function identity$2(e){return e}function normalize(e,t){return(t-=e=+e)?function(a){return(a-e)/t}:constants(isNaN(t)?NaN:.5)}function clamper(e,t){var a;return e>t&&(a=e,e=t,t=a),function(r){return Math.max(e,Math.min(t,r))}}function bimap(e,t,a){var r=e[0],i=e[1],o=t[0],u=t[1];return i<r?(r=normalize(i,r),o=a(u,o)):(r=normalize(r,i),o=a(o,u)),function(c){return o(r(c))}}function polymap(e,t,a){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),u=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<r;)i[u]=normalize(e[u],e[u+1]),o[u]=a(t[u],t[u+1]);return function(c){var f=bisectRight(e,c,1,r)-1;return o[f](i[f](c))}}function copy(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function transformer(){var e=unit,t=unit,a=interpolate,r,i,o,u=identity$2,c,f,d;function m(){var h=Math.min(e.length,t.length);return u!==identity$2&&(u=clamper(e[0],e[h-1])),c=h>2?polymap:bimap,f=d=null,p}function p(h){return h==null||isNaN(h=+h)?o:(f||(f=c(e.map(r),t,a)))(r(u(h)))}return p.invert=function(h){return u(i((d||(d=c(t,e.map(r),interpolateNumber)))(h)))},p.domain=function(h){return arguments.length?(e=Array.from(h,number$1),m()):e.slice()},p.range=function(h){return arguments.length?(t=Array.from(h),m()):t.slice()},p.rangeRound=function(h){return t=Array.from(h),a=interpolateRound,m()},p.clamp=function(h){return arguments.length?(u=h?!0:identity$2,m()):u!==identity$2},p.interpolate=function(h){return arguments.length?(a=h,m()):a},p.unknown=function(h){return arguments.length?(o=h,p):o},function(h,_){return r=h,i=_,m()}}function continuous(){return transformer()(identity$2,identity$2)}function formatDecimal(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function formatDecimalParts(e,t){if((a=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var a,r=e.slice(0,a);return[r.length>1?r[0]+r.slice(2):r,+e.slice(a+1)]}function exponent(e){return e=formatDecimalParts(Math.abs(e)),e?e[1]:NaN}function formatGroup(e,t){return function(a,r){for(var i=a.length,o=[],u=0,c=e[0],f=0;i>0&&c>0&&(f+c+1>r&&(c=Math.max(1,r-f)),o.push(a.substring(i-=c,i+c)),!((f+=c+1)>r));)c=e[u=(u+1)%e.length];return o.reverse().join(t)}}function formatNumerals(e){return function(t){return t.replace(/[0-9]/g,function(a){return e[+a]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(e){if(!(t=re.exec(e)))throw new Error("invalid format: "+e);var t;return new FormatSpecifier({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(e){e:for(var t=e.length,a=1,r=-1,i;a<t;++a)switch(e[a]){case".":r=i=a;break;case"0":r===0&&(r=a),i=a;break;default:if(!+e[a])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var prefixExponent;function formatPrefixAuto(e,t){var a=formatDecimalParts(e,t);if(!a)return e+"";var r=a[0],i=a[1],o=i-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+formatDecimalParts(e,Math.max(0,t+o-1))[0]}function formatRounded(e,t){var a=formatDecimalParts(e,t);if(!a)return e+"";var r=a[0],i=a[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const formatTypes={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:formatDecimal,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>formatRounded(e*100,t),r:formatRounded,s:formatPrefixAuto,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function identity$1(e){return e}var map=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale(e){var t=e.grouping===void 0||e.thousands===void 0?identity$1:formatGroup(map.call(e.grouping,Number),e.thousands+""),a=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?identity$1:formatNumerals(map.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function d(p){p=formatSpecifier(p);var h=p.fill,_=p.align,g=p.sign,b=p.symbol,v=p.zero,k=p.width,A=p.comma,w=p.precision,T=p.trim,y=p.type;y==="n"?(A=!0,y="g"):formatTypes[y]||(w===void 0&&(w=12),T=!0,y="g"),(v||h==="0"&&_==="=")&&(v=!0,h="0",_="=");var S=b==="$"?a:b==="#"&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",O=b==="$"?r:/[%p]/.test(y)?u:"",z=formatTypes[y],I=/[defgprs%]/.test(y);w=w===void 0?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function M(E){var W=S,H=O,$,D,N;if(y==="c")H=z(E)+H,E="";else{E=+E;var F=E<0||1/E<0;if(E=isNaN(E)?f:z(Math.abs(E),w),T&&(E=formatTrim(E)),F&&+E==0&&g!=="+"&&(F=!1),W=(F?g==="("?g:c:g==="-"||g==="("?"":g)+W,H=(y==="s"?prefixes[8+prefixExponent/3]:"")+H+(F&&g==="("?")":""),I){for($=-1,D=E.length;++$<D;)if(N=E.charCodeAt($),48>N||N>57){H=(N===46?i+E.slice($+1):E.slice($))+H,E=E.slice(0,$);break}}}A&&!v&&(E=t(E,1/0));var L=W.length+E.length+H.length,C=L<k?new Array(k-L+1).join(h):"";switch(A&&v&&(E=t(C+E,C.length?k-H.length:1/0),C=""),_){case"<":E=W+E+H+C;break;case"=":E=W+C+E+H;break;case"^":E=C.slice(0,L=C.length>>1)+W+E+H+C.slice(L);break;default:E=C+W+E+H;break}return o(E)}return M.toString=function(){return p+""},M}function m(p,h){var _=d((p=formatSpecifier(p),p.type="f",p)),g=Math.max(-8,Math.min(8,Math.floor(exponent(h)/3)))*3,b=Math.pow(10,-g),v=prefixes[8+g/3];return function(k){return _(b*k)+v}}return{format:d,formatPrefix:m}}var locale,format,formatPrefix;defaultLocale({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale(e){return locale=formatLocale(e),format=locale.format,formatPrefix=locale.formatPrefix,locale}function precisionFixed(e){return Math.max(0,-exponent(Math.abs(e)))}function precisionPrefix(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(t)/3)))*3-exponent(Math.abs(e)))}function precisionRound(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,exponent(t)-exponent(e))+1}function tickFormat(e,t,a,r){var i=tickStep(e,t,a),o;switch(r=formatSpecifier(r??",f"),r.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=precisionPrefix(i,u))&&(r.precision=o),formatPrefix(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=precisionRound(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=precisionFixed(i))&&(r.precision=o-(r.type==="%")*2);break}}return format(r)}function linearish(e){var t=e.domain;return e.ticks=function(a){var r=t();return ticks(r[0],r[r.length-1],a??10)},e.tickFormat=function(a,r){var i=t();return tickFormat(i[0],i[i.length-1],a??10,r)},e.nice=function(a){a==null&&(a=10);var r=t(),i=0,o=r.length-1,u=r[i],c=r[o],f,d,m=10;for(c<u&&(d=u,u=c,c=d,d=i,i=o,o=d);m-- >0;){if(d=tickIncrement(u,c,a),d===f)return r[i]=u,r[o]=c,t(r);if(d>0)u=Math.floor(u/d)*d,c=Math.ceil(c/d)*d;else if(d<0)u=Math.ceil(u*d)/d,c=Math.floor(c*d)/d;else break;f=d}return e},e}function linear(){var e=continuous();return e.copy=function(){return copy(e,linear())},initRange.apply(e,arguments),linearish(e)}var xhtml="http://www.w3.org/1999/xhtml";const namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(e){var t=e+="",a=t.indexOf(":");return a>=0&&(t=e.slice(0,a))!=="xmlns"&&(e=e.slice(a+1)),namespaces.hasOwnProperty(t)?{space:namespaces[t],local:e}:e}function creatorInherit(e){return function(){var t=this.ownerDocument,a=this.namespaceURI;return a===xhtml&&t.documentElement.namespaceURI===xhtml?t.createElement(e):t.createElementNS(a,e)}}function creatorFixed(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function creator(e){var t=namespace(e);return(t.local?creatorFixed:creatorInherit)(t)}function none(){}function selector(e){return e==null?none:function(){return this.querySelector(e)}}function selection_select(e){typeof e!="function"&&(e=selector(e));for(var t=this._groups,a=t.length,r=new Array(a),i=0;i<a;++i)for(var o=t[i],u=o.length,c=r[i]=new Array(u),f,d,m=0;m<u;++m)(f=o[m])&&(d=e.call(f,f.__data__,m,o))&&("__data__"in f&&(d.__data__=f.__data__),c[m]=d);return new Selection(r,this._parents)}function array(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function empty(){return[]}function selectorAll(e){return e==null?empty:function(){return this.querySelectorAll(e)}}function arrayAll(e){return function(){return array(e.apply(this,arguments))}}function selection_selectAll(e){typeof e=="function"?e=arrayAll(e):e=selectorAll(e);for(var t=this._groups,a=t.length,r=[],i=[],o=0;o<a;++o)for(var u=t[o],c=u.length,f,d=0;d<c;++d)(f=u[d])&&(r.push(e.call(f,f.__data__,d,u)),i.push(f));return new Selection(r,i)}function matcher(e){return function(){return this.matches(e)}}function childMatcher(e){return function(t){return t.matches(e)}}var find=Array.prototype.find;function childFind(e){return function(){return find.call(this.children,e)}}function childFirst(){return this.firstElementChild}function selection_selectChild(e){return this.select(e==null?childFirst:childFind(typeof e=="function"?e:childMatcher(e)))}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(e){return function(){return filter.call(this.children,e)}}function selection_selectChildren(e){return this.selectAll(e==null?children:childrenFilter(typeof e=="function"?e:childMatcher(e)))}function selection_filter(e){typeof e!="function"&&(e=matcher(e));for(var t=this._groups,a=t.length,r=new Array(a),i=0;i<a;++i)for(var o=t[i],u=o.length,c=r[i]=[],f,d=0;d<u;++d)(f=o[d])&&e.call(f,f.__data__,d,o)&&c.push(f);return new Selection(r,this._parents)}function sparse(e){return new Array(e.length)}function selection_enter(){return new Selection(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}EnterNode.prototype={constructor:EnterNode,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function constant(e){return function(){return e}}function bindIndex(e,t,a,r,i,o){for(var u=0,c,f=t.length,d=o.length;u<d;++u)(c=t[u])?(c.__data__=o[u],r[u]=c):a[u]=new EnterNode(e,o[u]);for(;u<f;++u)(c=t[u])&&(i[u]=c)}function bindKey(e,t,a,r,i,o,u){var c,f,d=new Map,m=t.length,p=o.length,h=new Array(m),_;for(c=0;c<m;++c)(f=t[c])&&(h[c]=_=u.call(f,f.__data__,c,t)+"",d.has(_)?i[c]=f:d.set(_,f));for(c=0;c<p;++c)_=u.call(e,o[c],c,o)+"",(f=d.get(_))?(r[c]=f,f.__data__=o[c],d.delete(_)):a[c]=new EnterNode(e,o[c]);for(c=0;c<m;++c)(f=t[c])&&d.get(h[c])===f&&(i[c]=f)}function datum(e){return e.__data__}function selection_data(e,t){if(!arguments.length)return Array.from(this,datum);var a=t?bindKey:bindIndex,r=this._parents,i=this._groups;typeof e!="function"&&(e=constant(e));for(var o=i.length,u=new Array(o),c=new Array(o),f=new Array(o),d=0;d<o;++d){var m=r[d],p=i[d],h=p.length,_=arraylike(e.call(m,m&&m.__data__,d,r)),g=_.length,b=c[d]=new Array(g),v=u[d]=new Array(g),k=f[d]=new Array(h);a(m,p,b,v,k,_,t);for(var A=0,w=0,T,y;A<g;++A)if(T=b[A]){for(A>=w&&(w=A+1);!(y=v[w])&&++w<g;);T._next=y||null}}return u=new Selection(u,r),u._enter=c,u._exit=f,u}function arraylike(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function selection_exit(){return new Selection(this._exit||this._groups.map(sparse),this._parents)}function selection_join(e,t,a){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),a==null?o.remove():a(o),r&&i?r.merge(i).order():i}function selection_merge(e){for(var t=e.selection?e.selection():e,a=this._groups,r=t._groups,i=a.length,o=r.length,u=Math.min(i,o),c=new Array(i),f=0;f<u;++f)for(var d=a[f],m=r[f],p=d.length,h=c[f]=new Array(p),_,g=0;g<p;++g)(_=d[g]||m[g])&&(h[g]=_);for(;f<i;++f)c[f]=a[f];return new Selection(c,this._parents)}function selection_order(){for(var e=this._groups,t=-1,a=e.length;++t<a;)for(var r=e[t],i=r.length-1,o=r[i],u;--i>=0;)(u=r[i])&&(o&&u.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(u,o),o=u);return this}function selection_sort(e){e||(e=ascending);function t(p,h){return p&&h?e(p.__data__,h.__data__):!p-!h}for(var a=this._groups,r=a.length,i=new Array(r),o=0;o<r;++o){for(var u=a[o],c=u.length,f=i[o]=new Array(c),d,m=0;m<c;++m)(d=u[m])&&(f[m]=d);f.sort(t)}return new Selection(i,this._parents).order()}function ascending(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function selection_call(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var e=this._groups,t=0,a=e.length;t<a;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null}function selection_size(){let e=0;for(const t of this)++e;return e}function selection_empty(){return!this.node()}function selection_each(e){for(var t=this._groups,a=0,r=t.length;a<r;++a)for(var i=t[a],o=0,u=i.length,c;o<u;++o)(c=i[o])&&e.call(c,c.__data__,o,i);return this}function attrRemove(e){return function(){this.removeAttribute(e)}}function attrRemoveNS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function attrConstant(e,t){return function(){this.setAttribute(e,t)}}function attrConstantNS(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function attrFunction(e,t){return function(){var a=t.apply(this,arguments);a==null?this.removeAttribute(e):this.setAttribute(e,a)}}function attrFunctionNS(e,t){return function(){var a=t.apply(this,arguments);a==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,a)}}function selection_attr(e,t){var a=namespace(e);if(arguments.length<2){var r=this.node();return a.local?r.getAttributeNS(a.space,a.local):r.getAttribute(a)}return this.each((t==null?a.local?attrRemoveNS:attrRemove:typeof t=="function"?a.local?attrFunctionNS:attrFunction:a.local?attrConstantNS:attrConstant)(a,t))}function defaultView(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function styleRemove(e){return function(){this.style.removeProperty(e)}}function styleConstant(e,t,a){return function(){this.style.setProperty(e,t,a)}}function styleFunction(e,t,a){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,a)}}function selection_style(e,t,a){return arguments.length>1?this.each((t==null?styleRemove:typeof t=="function"?styleFunction:styleConstant)(e,t,a??"")):styleValue(this.node(),e)}function styleValue(e,t){return e.style.getPropertyValue(t)||defaultView(e).getComputedStyle(e,null).getPropertyValue(t)}function propertyRemove(e){return function(){delete this[e]}}function propertyConstant(e,t){return function(){this[e]=t}}function propertyFunction(e,t){return function(){var a=t.apply(this,arguments);a==null?delete this[e]:this[e]=a}}function selection_property(e,t){return arguments.length>1?this.each((t==null?propertyRemove:typeof t=="function"?propertyFunction:propertyConstant)(e,t)):this.node()[e]}function classArray(e){return e.trim().split(/^|\s+/)}function classList(e){return e.classList||new ClassList(e)}function ClassList(e){this._node=e,this._names=classArray(e.getAttribute("class")||"")}ClassList.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function classedAdd(e,t){for(var a=classList(e),r=-1,i=t.length;++r<i;)a.add(t[r])}function classedRemove(e,t){for(var a=classList(e),r=-1,i=t.length;++r<i;)a.remove(t[r])}function classedTrue(e){return function(){classedAdd(this,e)}}function classedFalse(e){return function(){classedRemove(this,e)}}function classedFunction(e,t){return function(){(t.apply(this,arguments)?classedAdd:classedRemove)(this,e)}}function selection_classed(e,t){var a=classArray(e+"");if(arguments.length<2){for(var r=classList(this.node()),i=-1,o=a.length;++i<o;)if(!r.contains(a[i]))return!1;return!0}return this.each((typeof t=="function"?classedFunction:t?classedTrue:classedFalse)(a,t))}function textRemove(){this.textContent=""}function textConstant(e){return function(){this.textContent=e}}function textFunction(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function selection_text(e){return arguments.length?this.each(e==null?textRemove:(typeof e=="function"?textFunction:textConstant)(e)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(e){return function(){this.innerHTML=e}}function htmlFunction(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function selection_html(e){return arguments.length?this.each(e==null?htmlRemove:(typeof e=="function"?htmlFunction:htmlConstant)(e)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(e){var t=typeof e=="function"?e:creator(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function constantNull(){return null}function selection_insert(e,t){var a=typeof e=="function"?e:creator(e),r=t==null?constantNull:typeof t=="function"?t:selector(t);return this.select(function(){return this.insertBefore(a.apply(this,arguments),r.apply(this,arguments)||null)})}function remove(){var e=this.parentNode;e&&e.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function selection_cloneDeep(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function selection_clone(e){return this.select(e?selection_cloneDeep:selection_cloneShallow)}function selection_datum(e){return arguments.length?this.property("__data__",e):this.node().__data__}function contextListener(e){return function(t){e.call(this,t,this.__data__)}}function parseTypenames(e){return e.trim().split(/^|\s+/).map(function(t){var a="",r=t.indexOf(".");return r>=0&&(a=t.slice(r+1),t=t.slice(0,r)),{type:t,name:a}})}function onRemove(e){return function(){var t=this.__on;if(t){for(var a=0,r=-1,i=t.length,o;a<i;++a)o=t[a],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function onAdd(e,t,a){return function(){var r=this.__on,i,o=contextListener(t);if(r){for(var u=0,c=r.length;u<c;++u)if((i=r[u]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=a),i.value=t;return}}this.addEventListener(e.type,o,a),i={type:e.type,name:e.name,value:t,listener:o,options:a},r?r.push(i):this.__on=[i]}}function selection_on(e,t,a){var r=parseTypenames(e+""),i,o=r.length,u;if(arguments.length<2){var c=this.node().__on;if(c){for(var f=0,d=c.length,m;f<d;++f)for(i=0,m=c[f];i<o;++i)if((u=r[i]).type===m.type&&u.name===m.name)return m.value}return}for(c=t?onAdd:onRemove,i=0;i<o;++i)this.each(c(r[i],t,a));return this}function dispatchEvent(e,t,a){var r=defaultView(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,a):(i=r.document.createEvent("Event"),a?(i.initEvent(t,a.bubbles,a.cancelable),i.detail=a.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function dispatchConstant(e,t){return function(){return dispatchEvent(this,e,t)}}function dispatchFunction(e,t){return function(){return dispatchEvent(this,e,t.apply(this,arguments))}}function selection_dispatch(e,t){return this.each((typeof t=="function"?dispatchFunction:dispatchConstant)(e,t))}function*selection_iterator(){for(var e=this._groups,t=0,a=e.length;t<a;++t)for(var r=e[t],i=0,o=r.length,u;i<o;++i)(u=r[i])&&(yield u)}var root=[null];function Selection(e,t){this._groups=e,this._parents=t}function selection_selection(){return this}Selection.prototype={constructor:Selection,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};function select(e){return typeof e=="string"?new Selection([[document.querySelector(e)]],[document.documentElement]):new Selection([[e]],root)}function identity(e){return e}var top=1,right=2,bottom=3,left=4,epsilon=1e-6;function translateX(e){return"translate("+e+",0)"}function translateY(e){return"translate(0,"+e+")"}function number(e){return t=>+e(t)}function center(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),a=>+e(a)+t}function entering(){return!this.__axis}function axis(e,t){var a=[],r=null,i=null,o=6,u=6,c=3,f=typeof window<"u"&&window.devicePixelRatio>1?0:.5,d=e===top||e===left?-1:1,m=e===left||e===right?"x":"y",p=e===top||e===bottom?translateX:translateY;function h(_){var g=r??(t.ticks?t.ticks.apply(t,a):t.domain()),b=i??(t.tickFormat?t.tickFormat.apply(t,a):identity),v=Math.max(o,0)+c,k=t.range(),A=+k[0]+f,w=+k[k.length-1]+f,T=(t.bandwidth?center:number)(t.copy(),f),y=_.selection?_.selection():_,S=y.selectAll(".domain").data([null]),O=y.selectAll(".tick").data(g,t).order(),z=O.exit(),I=O.enter().append("g").attr("class","tick"),M=O.select("line"),E=O.select("text");S=S.merge(S.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),O=O.merge(I),M=M.merge(I.append("line").attr("stroke","currentColor").attr(m+"2",d*o)),E=E.merge(I.append("text").attr("fill","currentColor").attr(m,d*v).attr("dy",e===top?"0em":e===bottom?"0.71em":"0.32em")),_!==y&&(S=S.transition(_),O=O.transition(_),M=M.transition(_),E=E.transition(_),z=z.transition(_).attr("opacity",epsilon).attr("transform",function(W){return isFinite(W=T(W))?p(W+f):this.getAttribute("transform")}),I.attr("opacity",epsilon).attr("transform",function(W){var H=this.parentNode.__axis;return p((H&&isFinite(H=H(W))?H:T(W))+f)})),z.remove(),S.attr("d",e===left||e===right?u?"M"+d*u+","+A+"H"+f+"V"+w+"H"+d*u:"M"+f+","+A+"V"+w:u?"M"+A+","+d*u+"V"+f+"H"+w+"V"+d*u:"M"+A+","+f+"H"+w),O.attr("opacity",1).attr("transform",function(W){return p(T(W)+f)}),M.attr(m+"2",d*o),E.attr(m,d*v).text(b),y.filter(entering).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===right?"start":e===left?"end":"middle"),y.each(function(){this.__axis=T})}return h.scale=function(_){return arguments.length?(t=_,h):t},h.ticks=function(){return a=Array.from(arguments),h},h.tickArguments=function(_){return arguments.length?(a=_==null?[]:Array.from(_),h):a.slice()},h.tickValues=function(_){return arguments.length?(r=_==null?null:Array.from(_),h):r&&r.slice()},h.tickFormat=function(_){return arguments.length?(i=_,h):i},h.tickSize=function(_){return arguments.length?(o=u=+_,h):o},h.tickSizeInner=function(_){return arguments.length?(o=+_,h):o},h.tickSizeOuter=function(_){return arguments.length?(u=+_,h):u},h.tickPadding=function(_){return arguments.length?(c=+_,h):c},h.offset=function(_){return arguments.length?(f=+_,h):f},h}function axisTop(e){return axis(top,e)}function axisRight(e){return axis(right,e)}function axisBottom(e){return axis(bottom,e)}function axisLeft(e){return axis(left,e)}function create_fragment$a(e){let t;return{c(){t=svg_element("g"),attr(t,"class","axis"),attr(t,"transform",e[1])},m(a,r){insert(a,t,r),e[10](t)},p(a,[r]){r&2&&attr(t,"transform",a[1])},i:noop,o:noop,d(a){a&&detach(t),e[10](null)}}}function instance$a(e,t,a){let{innerHeight:r=0}=t,{width:i=0}=t,{yoffset:o=0}=t,{xoffset:u=0}=t,{position:c="left"}=t,{scale:f}=t,{nticks:d=5}=t,{colour:m=""}=t,p,h;function _(g){binding_callbacks[g?"unshift":"push"](()=>{h=g,a(0,h)})}return e.$$set=g=>{"innerHeight"in g&&a(3,r=g.innerHeight),"width"in g&&a(4,i=g.width),"yoffset"in g&&a(5,o=g.yoffset),"xoffset"in g&&a(6,u=g.xoffset),"position"in g&&a(7,c=g.position),"scale"in g&&a(8,f=g.scale),"nticks"in g&&a(9,d=g.nticks),"colour"in g&&a(2,m=g.colour)},e.$$.update=()=>{if(e.$$.dirty&1021){select(h).selectAll("*").remove(),m===""&&a(2,m=getComputedStyle(document.documentElement).getPropertyValue("--font-color"));let g;switch(c){case"bottom":g=axisBottom(f).tickSizeOuter(0).ticks(d),a(1,p=`translate(0, ${r})`);break;case"top":g=axisTop(f).tickSizeOuter(0).ticks(d),a(1,p="translate(0, 0)");break;case"left":g=axisLeft(f).tickSizeOuter(0).ticks(d),a(1,p=`translate(${u}, ${o})`);break;case"right":g=axisRight(f).tickSizeOuter(0).ticks(d),a(1,p=`translate(${u+i}, ${o})`);break}select(h).call(g).selectAll("path").style("stroke",m),select(h).call(g).selectAll("text").style("fill",m)}},[h,p,m,r,i,o,u,c,f,d,_]}class Axis extends SvelteComponent{constructor(t){super(),init(this,t,instance$a,create_fragment$a,safe_not_equal,{innerHeight:3,width:4,yoffset:5,xoffset:6,position:7,scale:8,nticks:9,colour:2})}}const Axis$1=Object.freeze(Object.defineProperty({__proto__:null,default:Axis},Symbol.toStringTag,{value:"Module"}));function get_each_context$8(e,t,a){const r=e.slice();return r[32]=t[a],r[34]=a,r}function get_each_context_1$7(e,t,a){const r=e.slice();return r[35]=t[a],r[37]=a,r}function get_each_context_2$4(e,t,a){const r=e.slice();return r[38]=t[a],r[40]=a,r}function get_each_context_3(e,t,a){const r=e.slice();return r[37]=t[a],r}function create_if_block$7(e){let t,a,r,i,o,u,c,f,d,m,p,h,_,g,b;const v=[create_if_block_5,create_else_block_1],k=[];function A(y,S){return y[7].length>0?0:1}u=A(e),c=k[u]=v[u](e),d=new Axis({props:{innerHeight:e[10],yoffset:"0",scale:e[9],position:"top",nticks:e[4][e[3]].params.periodHrs}});let w=ensure_array_like(e[4][e[3]].chartData.onsets),T=[];for(let y=0;y<w.length;y+=1)T[y]=create_each_block$8(get_each_context$8(e,w,y));return{c(){t=element("div"),r=space(),i=svg_element("svg"),o=svg_element("g"),c.c(),f=empty$1(),create_component(d.$$.fragment);for(let y=0;y<T.length;y+=1)T[y].c();attr(t,"class","overlay svelte-1hj8mph"),attr(t,"style",a=e[5]?"display:block; left:"+e[6].x+"px; top:"+e[6].y+"px;":"display:none;"),attr(o,"transform",m=`translate(${e[0].left},${e[0].top})`),attr(i,"id","svgContainer"),attr(i,"margin-lr",p=e[0].left+e[0].right),attr(i,"style",h="transform-origin: top left; transform:scale("+e[4][e[3]].zoom+");"),attr(i,"width",e[1]),attr(i,"height",e[2])},m(y,S){insert(y,t,S),insert(y,r,S),insert(y,i,S),append(i,o),k[u].m(o,null),append(o,f),mount_component(d,o,null);for(let O=0;O<T.length;O+=1)T[O]&&T[O].m(o,null);_=!0,g||(b=[listen(i,"mousedown",e[16]),listen(i,"mousemove",e[17]),listen(i,"mouseup",e[18]),listen(i,"click",click_handler),listen(i,"dblclick",e[19])],g=!0)},p(y,S){(!_||S[0]&96&&a!==(a=y[5]?"display:block; left:"+y[6].x+"px; top:"+y[6].y+"px;":"display:none;"))&&attr(t,"style",a);let O=u;u=A(y),u===O?k[u].p(y,S):(group_outros(),transition_out(k[O],1,1,()=>{k[O]=null}),check_outros(),c=k[u],c?c.p(y,S):(c=k[u]=v[u](y),c.c()),transition_in(c,1),c.m(o,f));const z={};if(S[0]&1024&&(z.innerHeight=y[10]),S[0]&512&&(z.scale=y[9]),S[0]&24&&(z.nticks=y[4][y[3]].params.periodHrs),d.$set(z),S[0]&6680){w=ensure_array_like(y[4][y[3]].chartData.onsets);let I;for(I=0;I<w.length;I+=1){const M=get_each_context$8(y,w,I);T[I]?T[I].p(M,S):(T[I]=create_each_block$8(M),T[I].c(),T[I].m(o,null))}for(;I<T.length;I+=1)T[I].d(1);T.length=w.length}(!_||S[0]&1&&m!==(m=`translate(${y[0].left},${y[0].top})`))&&attr(o,"transform",m),(!_||S[0]&1&&p!==(p=y[0].left+y[0].right))&&attr(i,"margin-lr",p),(!_||S[0]&24&&h!==(h="transform-origin: top left; transform:scale("+y[4][y[3]].zoom+");"))&&attr(i,"style",h),(!_||S[0]&2)&&attr(i,"width",y[1]),(!_||S[0]&4)&&attr(i,"height",y[2])},i(y){_||(transition_in(c),transition_in(d.$$.fragment,y),_=!0)},o(y){transition_out(c),transition_out(d.$$.fragment,y),_=!1},d(y){y&&(detach(t),detach(r),detach(i)),k[u].d(),destroy_component(d),destroy_each(T,y),g=!1,run_all(b)}}}function create_else_block_1(e){let t;return{c(){t=svg_element("text"),attr(t,"x","50%"),attr(t,"y","50%"),attr(t,"text-anchor","middle"),attr(t,"fill","red")},m(a,r){insert(a,t,r)},p:noop,i:noop,o:noop,d(a){a&&detach(t)}}}function create_if_block_5(e){let t,a,r=ensure_array_like(e[7]),i=[];for(let u=0;u<r.length;u+=1)i[u]=create_each_block_2$4(get_each_context_2$4(e,r,u));const o=u=>transition_out(i[u],1,1,()=>{i[u]=null});return{c(){for(let u=0;u<i.length;u+=1)i[u].c();t=empty$1()},m(u,c){for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(u,c);insert(u,t,c),a=!0},p(u,c){if(c[0]&7579){r=ensure_array_like(u[7]);let f;for(f=0;f<r.length;f+=1){const d=get_each_context_2$4(u,r,f);i[f]?(i[f].p(d,c),transition_in(i[f],1)):(i[f]=create_each_block_2$4(d),i[f].c(),transition_in(i[f],1),i[f].m(t.parentNode,t))}for(group_outros(),f=r.length;f<i.length;f+=1)o(f);check_outros()}},i(u){if(!a){for(let c=0;c<r.length;c+=1)transition_in(i[c]);a=!0}},o(u){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)transition_out(i[c]);a=!1},d(u){u&&detach(t),destroy_each(i,u)}}}function create_if_block_6(e){let t,a;return t=new Axis({props:{innerHeight:e[10],yoffset:e[37]*(e[12]+e[11]),xoffset:15*e[40],width:e[1]-e[0].left-e[0].right-15,scale:e[8][e[40]][e[37]],position:e[40]===0?"left":"right",nticks:e[12]/30+1,colour:e[4][e[3]].sourceData[e[40]].col.hex}}),{c(){create_component(t.$$.fragment)},m(r,i){mount_component(t,r,i),a=!0},p(r,i){const o={};i[0]&1024&&(o.innerHeight=r[10]),i[0]&6272&&(o.yoffset=r[37]*(r[12]+r[11])),i[0]&3&&(o.width=r[1]-r[0].left-r[0].right-15),i[0]&384&&(o.scale=r[8][r[40]][r[37]]),i[0]&4096&&(o.nticks=r[12]/30+1),i[0]&24&&(o.colour=r[4][r[3]].sourceData[r[40]].col.hex),t.$set(o)},i(r){a||(transition_in(t.$$.fragment,r),a=!0)},o(r){transition_out(t.$$.fragment,r),a=!1},d(r){destroy_component(t,r)}}}function create_each_block_3(e){let t,a,r,i,o,u,c=e[4][e[3]].params.showAxes&&create_if_block_6(e);return{c(){t=svg_element("path"),c&&c.c(),o=empty$1(),attr(t,"d",a=e[7][e[40]][e[37]]),attr(t,"fill",r=e[4][e[3]].sourceData[e[40]].col.hex),attr(t,"fill-opacity",i=e[4][e[3]].sourceData[e[40]].col.alpha)},m(f,d){insert(f,t,d),c&&c.m(f,d),insert(f,o,d),u=!0},p(f,d){(!u||d[0]&128&&a!==(a=f[7][f[40]][f[37]]))&&attr(t,"d",a),(!u||d[0]&24&&r!==(r=f[4][f[3]].sourceData[f[40]].col.hex))&&attr(t,"fill",r),(!u||d[0]&24&&i!==(i=f[4][f[3]].sourceData[f[40]].col.alpha))&&attr(t,"fill-opacity",i),f[4][f[3]].params.showAxes?c?(c.p(f,d),d[0]&24&&transition_in(c,1)):(c=create_if_block_6(f),c.c(),transition_in(c,1),c.m(o.parentNode,o)):c&&(group_outros(),transition_out(c,1,1,()=>{c=null}),check_outros())},i(f){u||(transition_in(c),u=!0)},o(f){transition_out(c),u=!1},d(f){f&&(detach(t),detach(o)),c&&c.d(f)}}}function create_each_block_2$4(e){let t,a,r=ensure_array_like(createSequenceArray(0,e[7][e[40]].length-1)),i=[];for(let u=0;u<r.length;u+=1)i[u]=create_each_block_3(get_each_context_3(e,r,u));const o=u=>transition_out(i[u],1,1,()=>{i[u]=null});return{c(){for(let u=0;u<i.length;u+=1)i[u].c();t=empty$1()},m(u,c){for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(u,c);insert(u,t,c),a=!0},p(u,c){if(c[0]&7579){r=ensure_array_like(createSequenceArray(0,u[7][u[40]].length-1));let f;for(f=0;f<r.length;f+=1){const d=get_each_context_3(u,r,f);i[f]?(i[f].p(d,c),transition_in(i[f],1)):(i[f]=create_each_block_3(d),i[f].c(),transition_in(i[f],1),i[f].m(t.parentNode,t))}for(group_outros(),f=r.length;f<i.length;f+=1)o(f);check_outros()}},i(u){if(!a){for(let c=0;c<r.length;c+=1)transition_in(i[c]);a=!0}},o(u){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)transition_out(i[c]);a=!1},d(u){u&&detach(t),destroy_each(i,u)}}}function create_if_block_1$2(e){let t,a=ensure_array_like(e[32].onsetTimes),r=[];for(let i=0;i<a.length;i+=1)r[i]=create_each_block_1$7(get_each_context_1$7(e,a,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=empty$1()},m(i,o){for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(i,o);insert(i,t,o)},p(i,o){if(o[0]&6680){a=ensure_array_like(i[32].onsetTimes);let u;for(u=0;u<a.length;u+=1){const c=get_each_context_1$7(i,a,u);r[u]?r[u].p(c,o):(r[u]=create_each_block_1$7(c),r[u].c(),r[u].m(t.parentNode,t))}for(;u<r.length;u+=1)r[u].d(1);r.length=a.length}},d(i){i&&detach(t),destroy_each(r,i)}}}function create_if_block_3(e){let t,a;function r(u,c){return c[0]&24&&(t=null),t==null&&(t=!!u[32].excludeOnsets.includes(u[37])),t?create_if_block_4:create_else_block$1}let i=r(e,[-1,-1]),o=i(e);return{c(){o.c(),a=empty$1()},m(u,c){o.m(u,c),insert(u,a,c)},p(u,c){i===(i=r(u,c))&&o?o.p(u,c):(o.d(1),o=i(u),o&&(o.c(),o.m(a.parentNode,a)))},d(u){u&&detach(a),o.d(u)}}}function create_else_block$1(e){let t,a,r,i,o;return{c(){t=svg_element("circle"),attr(t,"cx",a=e[9](e[35]-e[37]*e[4][e[3]].params.periodHrs)),attr(t,"cy",r=e[37]*(e[12]+e[11])+e[12]),attr(t,"r","4"),attr(t,"fill",i=e[32].col.hex),attr(t,"fill-opacity",o=e[32].col.alpha),attr(t,"stroke-width","0.5"),attr(t,"stroke","black")},m(u,c){insert(u,t,c)},p(u,c){c[0]&536&&a!==(a=u[9](u[35]-u[37]*u[4][u[3]].params.periodHrs))&&attr(t,"cx",a),c[0]&6144&&r!==(r=u[37]*(u[12]+u[11])+u[12])&&attr(t,"cy",r),c[0]&24&&i!==(i=u[32].col.hex)&&attr(t,"fill",i),c[0]&24&&o!==(o=u[32].col.alpha)&&attr(t,"fill-opacity",o)},d(u){u&&detach(t)}}}function create_if_block_4(e){let t,a,r,i;return{c(){t=svg_element("circle"),attr(t,"cx",a=e[9](e[35]-e[37]*e[4][e[3]].params.periodHrs)),attr(t,"cy",r=e[37]*(e[12]+e[11])+e[12]),attr(t,"r","4"),attr(t,"fill",i=e[32].col.hex),attr(t,"fill-opacity","0"),attr(t,"stroke-width","0.5"),attr(t,"stroke","black")},m(o,u){insert(o,t,u)},p(o,u){u[0]&536&&a!==(a=o[9](o[35]-o[37]*o[4][o[3]].params.periodHrs))&&attr(t,"cx",a),u[0]&6144&&r!==(r=o[37]*(o[12]+o[11])+o[12])&&attr(t,"cy",r),u[0]&24&&i!==(i=o[32].col.hex)&&attr(t,"fill",i)},d(o){o&&detach(t)}}}function create_if_block_2(e){let t,a,r,i,o,u;return{c(){t=svg_element("line"),attr(t,"x1",a=e[9](e[32].lmFit.intercept)),attr(t,"y1",r=0*(e[12]+e[11])+e[12]),attr(t,"x2",i=e[9](e[32].lmFit.intercept+(e[32].onsetTimes.length-1)*e[32].lmFit.slope*e[4][e[3]].params.periodHrs)),attr(t,"y2",o=(e[32].onsetTimes.length-1)*(e[12]+e[11])+e[12]),attr(t,"stroke",u=e[32].col.hex)},m(c,f){insert(c,t,f)},p(c,f){f[0]&536&&a!==(a=c[9](c[32].lmFit.intercept))&&attr(t,"x1",a),f[0]&6144&&r!==(r=0*(c[12]+c[11])+c[12])&&attr(t,"y1",r),f[0]&536&&i!==(i=c[9](c[32].lmFit.intercept+(c[32].onsetTimes.length-1)*c[32].lmFit.slope*c[4][c[3]].params.periodHrs))&&attr(t,"x2",i),f[0]&6168&&o!==(o=(c[32].onsetTimes.length-1)*(c[12]+c[11])+c[12])&&attr(t,"y2",o),f[0]&24&&u!==(u=c[32].col.hex)&&attr(t,"stroke",u)},d(c){c&&detach(t)}}}function create_each_block_1$7(e){let t,a,r=e[37]>=e[32].filterStart-1&&e[37]<=e[32].filterEnd-1&&create_if_block_3(e),i=e[32].showLine&&create_if_block_2(e);return{c(){r&&r.c(),t=empty$1(),i&&i.c(),a=empty$1()},m(o,u){r&&r.m(o,u),insert(o,t,u),i&&i.m(o,u),insert(o,a,u)},p(o,u){o[37]>=o[32].filterStart-1&&o[37]<=o[32].filterEnd-1?r?r.p(o,u):(r=create_if_block_3(o),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null),o[32].showLine?i?i.p(o,u):(i=create_if_block_2(o),i.c(),i.m(a.parentNode,a)):i&&(i.d(1),i=null)},d(o){o&&(detach(t),detach(a)),r&&r.d(o),i&&i.d(o)}}}function create_each_block$8(e){let t,a=e[32].show&&create_if_block_1$2(e);return{c(){a&&a.c(),t=empty$1()},m(r,i){a&&a.m(r,i),insert(r,t,i)},p(r,i){r[32].show?a?a.p(r,i):(a=create_if_block_1$2(r),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},d(r){r&&detach(t),a&&a.d(r)}}}function create_fragment$9(e){var i;let t,a,r=((i=e[4][e[3]])==null?void 0:i.graph)==="Actigram"&&e[4][e[3]].sourceData.length>0&&create_if_block$7(e);return{c(){r&&r.c(),t=empty$1()},m(o,u){r&&r.m(o,u),insert(o,t,u),a=!0},p(o,u){var c;((c=o[4][o[3]])==null?void 0:c.graph)==="Actigram"&&o[4][o[3]].sourceData.length>0?r?(r.p(o,u),u[0]&24&&transition_in(r,1)):(r=create_if_block$7(o),r.c(),transition_in(r,1),r.m(t.parentNode,t)):r&&(group_outros(),transition_out(r,1,1,()=>{r=null}),check_outros())},i(o){a||(transition_in(r),a=!0)},o(o){transition_out(r),a=!1},d(o){o&&detach(t),r&&r.d(o)}}}function findCentileValue(e,t){const r=e.filter(u=>!isNaN(u)&&u!==0).slice().sort((u,c)=>u-c),i=Math.ceil(t/100*r.length)-1;return r[i]}function findBestMatchIndex(e,t){let a=-1,r=-1/0;for(let i=0;i<=e.length-t.length;i++){let o=0;for(let u=0;u<t.length;u++)o+=e[i+u]*t[u];o>r&&(r=o,a=i)}return a}const click_handler=e=>{e.preventDefault()};function instance$9(e,t,a){let r,i,o,u,c,f,d,m,p,h,_;component_subscribe(e,activeGraphTab,C=>a(3,m=C)),component_subscribe(e,graphs,C=>a(4,p=C)),component_subscribe(e,statusData,C=>a(22,h=C)),component_subscribe(e,data,C=>a(23,_=C));let g={top:50,bottom:20,left:80,right:80},b=!1,v={x:0,y:0},k="",A=[],w=linear().domain([0,100]).range([0,d]);function T(C){C?a(0,g={top:50,bottom:20,left:80,right:80}):a(0,g={top:50,bottom:20,left:50,right:50})}function y(C,P,V){var q,j,x;if(((q=p[m])==null?void 0:q.graph)==="Actigram"){let B=(x=p[m].chartData.data[0])==null?void 0:x.day[((j=p[m].chartData.data[0])==null?void 0:j.day.length)-1];return console.log(B),S(p[m].sourceData,p[m].params.binSizeHrs,p[m].params.periodHrs,p[m].params.startTime),a(2,r=C.top+C.bottom+(P+V)*B-V),r<C.top+C.bottom&&a(2,r=C.top+C.bottom),console.log(r),r}}function S(C,P,V,q){var j;if(((j=p[m])==null?void 0:j.graph)==="Actigram"){let x,B,ne={data:[{time:[],values:[],day:[],scaleLimits:[]}],startOffsets:[],onsets:[]};C.forEach((oe,Z)=>{oe.chartvalues.time.field!=""&&(x=getDataFromSource(Z,oe.chartvalues.time)),oe.chartvalues.values.field!=""&&(B=getDataFromSource(Z,oe.chartvalues.values));const ve=averageBinnedValues(x,B,P);ne.startOffsets=O(q,m),Z>0&&(ne.data[Z]={time:[],values:[],day:[],scaleLimits:[]}),ne.data[Z].time=ve.time,ne.data[Z].values=ve.values;let ae=Math.floor(ve.time[0]/V);for(let me=0;me<ve.time.length;me++){const fe=Math.floor(ve.time[me]/V);if(ne.data[Z].day[me]=fe,fe===ae){const ue=ve.values[me];ne.data[Z].scaleLimits[fe]?(ne.data[Z].scaleLimits[fe].min=Math.min(ue,ne.data[Z].scaleLimits[fe].min),ne.data[Z].scaleLimits[fe].max=Math.max(ue,ne.data[Z].scaleLimits[fe].max)):ne.data[Z].scaleLimits[fe]={min:ue,max:ue}}else ae=fe,ne.data[Z].scaleLimits[ae]={min:ve.values[me],max:ve.values[me]}}}),set_store_value(graphs,p[m].chartData=ne,p);for(let oe=0;oe<C.length;oe++)I(oe)}}function O(C,P){let V=[];if(p[P].graph==="Actigram"&&p[P].sourceData.length>0){V=Array.from({length:p[P].sourceData.length},()=>0);for(let q=0;q<p[P].sourceData.length;q++){const j=p[P].sourceData[q].chartvalues.time.field,x=_.findIndex(B=>B.id===p[P].sourceData[q].tableID);if(_[x].data[j].type=="time"){const B=_[x].data[j].data[0];V[q]=getstartTimeOffset(C,B,_[x].data[j].timeFormat);const ne=p[m].params.periodHrs*p[m].params.doublePlot;V[q]>=ne&&(V[q]=0,set_store_value(graphs,p[m].params.startTime=getISODate(B,_[x].data[j].timeFormat),p))}}}else V=Array.from({length:1},()=>0);return set_store_value(graphs,p[m].chartData.startOffsets=V,p),V}function z(C,P,V,q,j){if(C&&p[m].graph==="Actigram"){const B=Math.ceil(q/j),ne=p[m].chartData.data.length;a(9,w=linear().domain([0,p[m].params.periodHrs*p[m].params.doublePlot]).range([0,d]));const oe=w(i/2);a(7,k=[]),a(8,A=[]);for(let Z=0;Z<ne;Z++){a(7,k[Z]=[],k),a(8,A[Z]=[],A);const ve=p[m].chartData.data[Z].scaleLimits.length;var x=linear().domain([min(p[m].chartData.data[Z].values),max(p[m].chartData.data[Z].values)]).range([P,0]);for(let ae=0;ae<ve;ae++){a(7,k[Z][ae]="",k);const me=ae*(P+c);if(p[m].params.scaleAxes==="byPlot"){let be=p[m].chartData.data[Z].scaleLimits[ae].min,le=p[m].chartData.data[Z].scaleLimits[ae].max;for(let ke=ae;ke<Math.min(ae+V,p[m].chartData.data[Z].scaleLimits.length);ke++)p[m].chartData.data[Z].scaleLimits[ke].min<be&&(be=p[m].chartData.data[Z].scaleLimits[ke].min),p[m].chartData.data[Z].scaleLimits[ke].max>le&&(le=p[m].chartData.data[Z].scaleLimits[ke].max);x=linear().domain([be,le]).range([P,0])}a(8,A[Z][ae]=x,A);const fe=`M0,${ae*(P+c)+P}`;a(7,k[Z][ae]=k[Z][ae]+fe+" ",k);for(let be=ae*B;be<Math.min(C.data[Z].time.length,(ae+V)*B);be++){const le=C.data[Z].time[be]-ae*q,ke=C.data[Z].values[be],Y=x(ke)+me,pe=w(le),se=`${pe-oe},${me+P}  ${pe-oe},${Y} ${pe+oe},${Y} ${pe+oe},${me+P}`;pe!=null&&pe!=null&&!isNaN(pe)&&Y!=null&&Y!=null&&!isNaN(Y)&&a(7,k[Z][ae]=k[Z][ae]+se+" ",k)}const ue=`${w(q*V)},${ae*(P+c)+P} 0,${ae*(P+c)+P}`;a(7,k[Z][ae]=k[Z][ae]+ue+" Z",k)}}return k}}function I(C){var x,B;p[m].chartData.data[C].time;const P=p[m].chartData.data[C].values,V=p[m].params.binSizeHrs,q=p[m].params.periodHrs,j=Math.ceil(q/V);p[m].params.doublePlot;for(let ne=0;ne<p[m].sourceData[C].onsets.length;ne++){const oe=p[m].sourceData[C].onsets[ne].centileThresh,Z=p[m].sourceData[C].onsets[ne].N,ve=p[m].sourceData[C].onsets[ne].M,ae=M(Z,ve,V,p[m].sourceData[C].onsets[ne].type),me=findCentileValue(P,oe),fe=P.map(X=>X<=me||isNaN(X)?-1:1);let ue=[],be=[];for(let X=0;X<fe.length/j;X++)ue[X]=findBestMatchIndex(fe.slice(X*j,(X+1)*j).concat(Array.from({length:5*ve},()=>-1)),ae)+Math.round(Z/V),be[X]=p[m].chartData.data[C].time[ue[X]+X*j];let le;if(p[m].sourceData[C].onsets[ne].MAD>0){be.length;const X=be.map((ce,ie)=>{var ge;return ce-((ge=p[m])==null?void 0:ge.params.periodHrs)*ie}),he=calculateMedian(X),we=calculateMAD(X,calculateMedian(X));le=X.map((ce,ie)=>({value:ce,index:ie})).filter(({value:ce})=>Math.abs(ce-he)>p[m].sourceData[C].onsets[ne].MAD*we).map(({index:ce})=>ce)}else le=[];let ke=[];for(let X=0;X<be.length;X++)ke[X]=w(be[X]-X*p[m].params.periodHrs)+g.left,X*(u+c)+u+g.top;const Y=calculateMedian(ke);let pe=[],se=[];for(let X=p[m].sourceData[C].onsets[ne].filterStart-1;X<p[m].sourceData[C].onsets[ne].filterEnd;X++)console.log(X),le.includes(X)||(pe.push(X*((x=p[m])==null?void 0:x.params.periodHrs)),se.push(be.slice(X,X+1)-X*((B=p[m])==null?void 0:B.params.periodHrs)));console.log(se);const ye=linearRegression(pe,se);set_store_value(graphs,p[m].sourceData[C].onsets[ne].lmFit=ye,p),set_store_value(graphs,p[m].chartData.onsets=[...p[m].chartData.onsets,{onsetTimes:be,excludeOnsets:le,MAD:p[m].sourceData[C].onsets[ne].MAD,show:p[m].sourceData[C].onsets[ne].showOnsets,col:p[m].sourceData[C].onsets[ne].col,alpha:p[m].sourceData[C].onsets[ne].alpha,filterStart:p[m].sourceData[C].onsets[ne].filterStart,filterEnd:p[m].sourceData[C].onsets[ne].filterEnd,median:Y,lmFit:ye,showLine:p[m].sourceData[C].onsets[ne].showLine}],p)}}function M(C,P,V,q){const j=Math.round(C/V),x=Math.round(P/V);let B;return q==="onset"?B=Array.from({length:j},()=>-1).concat(Array.from({length:x},()=>1)):B=Array.from({length:j},()=>1).concat(Array.from({length:x},()=>-1)),B}function E(C){if(C.offsetX<g.left||C.offsetX>g.left+o||C.offsetY<g.top||C.offsetY>g.top+f)return null;const P=p[m].params.periodHrs,V=p[m].params.doublePlot,q=Math.floor((C.offsetY-g.top)/(u+c)),j=(C.offsetX-g.left)/d*P*V;return q*P+j}function W(C){C&&(h.push({display:H(C)}),statusData.set(h))}function H(C){Math.floor(C/p[m].params.periodHrs);let P=Math.round((C-p[m].chartData.data[0].time[0])/p[m].params.binSizeHrs);P<0&&(P=0);let V="";V=addTime(p[m].params.startTime,p[m].chartData.data[0].time[P]);for(let q=0;q<p[m].chartData.data.length;q++)V+="<br><a style='color:"+p[m].sourceData[q].col.hex+";''>"+getFieldName(p[m].sourceData[q].tableID,p[m].sourceData[q].chartvalues.values.field)+": "+p[m].chartData.data[q].values[P].toFixed(2)+"</a>";return V}function $(C){a(6,v={x:10+C.pageX,y:-10+C.pageY}),(C.offsetX<g.left||C.offsetX>g.left+d||C.offsetY<g.top||C.offsetY>g.top+f)&&a(5,b=!1);try{var P=document.querySelector(".overlay");const V=E(C);P.innerHTML=H(V)}catch{a(5,b=!1)}}const D=C=>{C.preventDefault(),a(5,b=!0),$(C)},N=C=>{b&&(C.preventDefault(),E(C),$(C))},F=C=>{C.preventDefault(),a(5,b=!1),E(C)},L=C=>{C.preventDefault();const P=E(C);W(P)};return e.$$.update=()=>{var C,P,V,q,j,x,B,ne,oe,Z,ve,ae,me,fe,ue,be;e.$$.dirty[0]&24&&T((C=p[m])==null?void 0:C.params.showAxes),e.$$.dirty[0]&25&&a(2,r=y(g,(P=p[m])==null?void 0:P.params.dayHeight,(V=p[m])==null?void 0:V.params.betweenHeight)),e.$$.dirty[0]&24&&(i=(q=p[m])==null?void 0:q.params.binSizeHrs),e.$$.dirty[0]&24&&a(1,o=(j=p[m])==null?void 0:j.params.width),e.$$.dirty[0]&24&&a(12,u=(x=p[m])==null?void 0:x.params.dayHeight),e.$$.dirty[0]&24&&a(11,c=(B=p[m])==null?void 0:B.params.betweenHeight),e.$$.dirty[0]&5&&a(10,f=r-g.top-g.bottom),e.$$.dirty[0]&3&&(d=o-g.left-g.right),e.$$.dirty[0]&24&&S((ne=p[m])==null?void 0:ne.sourceData,(oe=p[m])==null?void 0:oe.params.binSizeHrs,(Z=p[m])==null?void 0:Z.params.periodHrs,(ve=p[m])==null?void 0:ve.params.startTime),e.$$.dirty[0]&24&&a(7,k=z((ae=p[m])==null?void 0:ae.chartData,(me=p[m])==null?void 0:me.params.dayHeight,(fe=p[m])==null?void 0:fe.params.doublePlot,(ue=p[m])==null?void 0:ue.params.periodHrs,(be=p[m])==null?void 0:be.params.binSizeHrs))},[g,o,r,m,p,b,v,k,A,w,f,c,u,E,W,$,D,N,F,L]}class Actigram extends SvelteComponent{constructor(t){super(),init(this,t,instance$9,create_fragment$9,safe_not_equal,{},null,[-1,-1])}}const Actigram$1=Object.freeze(Object.defineProperty({__proto__:null,default:Actigram},Symbol.toStringTag,{value:"Module"}));function create_fragment$8(e){let t,a,r,i,o,u,c,f,d,m,p,h,_,g,b,v,k;return{c(){t=element("div"),a=element("div"),r=element("input"),i=space(),o=element("label"),o.textContent="Periods",u=space(),c=element("input"),f=space(),d=element("div"),m=element("span"),p=space(),h=element("div"),_=element("input"),g=space(),b=element("input"),attr(r,"type","number"),attr(r,"name","min"),attr(r,"min",e[2]),attr(r,"max",e[3]),attr(r,"step",e[4]),attr(r,"class","svelte-1s2t95a"),attr(o,"class","svelte-1s2t95a"),attr(c,"type","number"),attr(c,"name","max"),attr(c,"min",e[2]),attr(c,"max",e[3]),attr(c,"step",e[4]),attr(c,"class","svelte-1s2t95a"),attr(a,"class","range-num svelte-1s2t95a"),attr(m,"class","range-selected svelte-1s2t95a"),attr(d,"class","range-slider svelte-1s2t95a"),attr(_,"type","range"),attr(_,"class","min svelte-1s2t95a"),set_style(_,"left","-0.4em"),attr(_,"min",e[2]),attr(_,"max",e[3]),attr(_,"step",e[4]),attr(b,"type","range"),attr(b,"class","max svelte-1s2t95a"),attr(b,"min",e[2]),attr(b,"max",e[3]),attr(b,"step",e[4]),attr(h,"class","range-input svelte-1s2t95a"),attr(t,"class","range svelte-1s2t95a")},m(A,w){insert(A,t,w),append(t,a),append(a,r),set_input_value(r,e[0]),append(a,i),append(a,o),append(a,u),append(a,c),set_input_value(c,e[1]),append(t,f),append(t,d),append(d,m),e[9](m),append(t,p),append(t,h),append(h,_),set_input_value(_,e[0]),append(h,g),append(h,b),set_input_value(b,e[1]),v||(k=[listen(r,"input",e[7]),listen(r,"input",e[6]),listen(c,"input",e[8]),listen(c,"input",e[6]),listen(_,"change",e[10]),listen(_,"input",e[10]),listen(_,"input",e[6]),listen(b,"change",e[11]),listen(b,"input",e[11]),listen(b,"input",e[6])],v=!0)},p(A,[w]){w&4&&attr(r,"min",A[2]),w&8&&attr(r,"max",A[3]),w&16&&attr(r,"step",A[4]),w&1&&to_number(r.value)!==A[0]&&set_input_value(r,A[0]),w&4&&attr(c,"min",A[2]),w&8&&attr(c,"max",A[3]),w&16&&attr(c,"step",A[4]),w&2&&to_number(c.value)!==A[1]&&set_input_value(c,A[1]),w&4&&attr(_,"min",A[2]),w&8&&attr(_,"max",A[3]),w&16&&attr(_,"step",A[4]),w&1&&set_input_value(_,A[0]),w&4&&attr(b,"min",A[2]),w&8&&attr(b,"max",A[3]),w&16&&attr(b,"step",A[4]),w&2&&set_input_value(b,A[1])},i:noop,o:noop,d(A){A&&detach(t),e[9](null),v=!1,run_all(k)}}}function instance$8(e,t,a){let{min:r=300}=t,{max:i=700}=t,{minValue:o=0}=t,{maxValue:u=1e3}=t,{step:c=1}=t,f;function d(){if(r>i){const b=i;a(1,i=r),a(0,r=b)}a(5,f.style.left=r/u*100-2+"%",f),a(5,f.style.right=100-i/u*100+"%",f)}function m(){r=to_number(this.value),a(0,r)}function p(){i=to_number(this.value),a(1,i)}function h(b){binding_callbacks[b?"unshift":"push"](()=>{f=b,a(5,f)})}function _(){r=to_number(this.value),a(0,r)}function g(){i=to_number(this.value),a(1,i)}return e.$$set=b=>{"min"in b&&a(0,r=b.min),"max"in b&&a(1,i=b.max),"minValue"in b&&a(2,o=b.minValue),"maxValue"in b&&a(3,u=b.maxValue),"step"in b&&a(4,c=b.step)},[r,i,o,u,c,f,d,m,p,h,_,g]}class Sliderdouble extends SvelteComponent{constructor(t){super(),init(this,t,instance$8,create_fragment$8,safe_not_equal,{min:0,max:1,minValue:2,maxValue:3,step:4})}}function get_each_context$7(e,t,a){const r=e.slice();return r[16]=t[a],r[17]=t,r[18]=a,r}function create_each_block$7(e){let t,a,r,i,o,u,c,f,d,m,p,h,_,g,b,v=(e[1][e[2]].sourceData[e[0]].onsets[e[18]].lmFit.slope*e[1][e[2]].params.periodHrs+e[1][e[2]].params.periodHrs).toFixed(2)+"",k,A,w,T,y,S,O,z,I,M,E,W,H,$,D,N,F,L,C,P,V,q,j,x=e[1][e[2]].sourceData[e[0]].onsets[e[18]].lmFit.rSquared.toFixed(2)+"",B,ne,oe,Z,ve=e[1][e[2]].sourceData[e[0]].onsets[e[18]].lmFit.rmse.toFixed(2)+"",ae,me,fe,ue,be,le,ke,Y,pe,se,ye,X,he,we,ce,ie,ge,G,R,ee,Q,J,de,te;function U(){e[4].call(r,e[18])}function K(...De){return e[5](e[18],...De)}function _e(){e[6].call(h,e[18])}function Te(De){e[7](De,e[18])}function $e(De){e[8](De,e[18])}let Ae={minValue:"1",maxValue:e[1][e[2]].chartData.data[0].scaleLimits.length,step:"1"};e[1][e[2]].sourceData[e[0]].onsets[e[18]].filterStart!==void 0&&(Ae.min=e[1][e[2]].sourceData[e[0]].onsets[e[18]].filterStart),e[1][e[2]].sourceData[e[0]].onsets[e[18]].filterEnd!==void 0&&(Ae.max=e[1][e[2]].sourceData[e[0]].onsets[e[18]].filterEnd),y=new Sliderdouble({props:Ae}),binding_callbacks.push(()=>bind(y,"min",Te)),binding_callbacks.push(()=>bind(y,"max",$e));function Se(){e[9].call(M,e[18])}function Fe(De){e[10](De,e[18])}let Me={min:"0",max:"1",step:"0.01",limits:[0,1],label:"Alpha: "};e[1][e[2]].sourceData[e[0]].onsets[e[18]].col.alpha!==void 0&&(Me.value=e[1][e[2]].sourceData[e[0]].onsets[e[18]].col.alpha),H=new Slider({props:Me}),binding_callbacks.push(()=>bind(H,"value",Fe));function Oe(){e[11].call(L,e[18])}function Ee(De){e[12](De,e[18])}let Ne={min:"0",max:"100",step:"1",limits:[0,100],label:"Centile threshold: "};e[1][e[2]].sourceData[e[0]].onsets[e[18]].centileThresh!==void 0&&(Ne.value=e[1][e[2]].sourceData[e[0]].onsets[e[18]].centileThresh),ke=new Slider({props:Ne}),binding_callbacks.push(()=>bind(ke,"value",Ee));function Pe(De){e[13](De,e[18])}let Le={min:"0",max:"10",step:"1",limits:[0,100],label:"Template hours before: "};e[1][e[2]].sourceData[e[0]].onsets[e[18]].N!==void 0&&(Le.value=e[1][e[2]].sourceData[e[0]].onsets[e[18]].N),ye=new Slider({props:Le}),binding_callbacks.push(()=>bind(ye,"value",Pe));function Ze(De){e[14](De,e[18])}let ze={min:"0",max:"10",step:"1",limits:[0,100],label:"Template hours after: "};e[1][e[2]].sourceData[e[0]].onsets[e[18]].M!==void 0&&(ze.value=e[1][e[2]].sourceData[e[0]].onsets[e[18]].M),ce=new Slider({props:ze}),binding_callbacks.push(()=>bind(ce,"value",Ze));function Ye(De){e[15](De,e[18])}let He={min:"0",max:"10",step:"0.25",limits:[0,10],label:"MAD threshold to exclude: "};return e[1][e[2]].sourceData[e[0]].onsets[e[18]].MAD!==void 0&&(He.value=e[1][e[2]].sourceData[e[0]].onsets[e[18]].MAD),R=new Slider({props:He}),binding_callbacks.push(()=>bind(R,"value",Ye)),{c(){t=element("div"),a=element("div"),r=element("select"),i=element("option"),i.textContent="Onset",o=element("option"),o.textContent="Offset",u=space(),c=element("div"),c.textContent="",f=space(),d=element("br"),m=space(),p=element("label"),p.textContent="show:",h=element("input"),_=space(),g=element("span"),b=text("Est : "),k=text(v),A=text(" hrs"),w=space(),T=element("div"),create_component(y.$$.fragment),z=space(),I=element("div"),M=element("input"),E=space(),W=element("div"),create_component(H.$$.fragment),D=space(),N=element("div"),F=element("label"),F.textContent="Show Line",L=element("input"),C=space(),P=element("br"),V=space(),q=element("span"),j=text("R-squared: "),B=text(x),ne=space(),oe=element("span"),Z=text("Error: "),ae=text(ve),me=space(),fe=element("details"),ue=element("summary"),ue.innerHTML="<label>Advanced</label>",be=space(),le=element("div"),create_component(ke.$$.fragment),pe=space(),se=element("div"),create_component(ye.$$.fragment),he=space(),we=element("div"),create_component(ce.$$.fragment),ge=space(),G=element("div"),create_component(R.$$.fragment),Q=space(),i.__value="onset",set_input_value(i,i.__value),o.__value="offset",set_input_value(o,o.__value),attr(r,"name","onsettype"),set_style(r,"float","none"),e[1][e[2]].sourceData[e[0]].onsets[e[18]].type===void 0&&add_render_callback(U),attr(c,"class","deleteTable hoverbutton"),attr(h,"type","checkbox"),set_style(g,"cursor","text"),attr(T,"class","onsetRange"),attr(M,"class","colourPicker"),attr(M,"id",e[0]),attr(M,"type","color"),set_style(M,"background",e[1][e[2]].sourceData[e[0]].onsets[e[18]].col.hex),attr(W,"class","sliderContainer"),attr(I,"class","colour"),attr(L,"type","checkbox"),set_style(q,"cursor","text"),set_style(oe,"cursor","text"),set_style(le,"padding","5px"),set_style(se,"padding","5px"),set_style(we,"padding","5px"),set_style(G,"padding","5px"),attr(a,"class","itemsliderContainer"),attr(t,"class","otherItemDetail")},m(De,Ce){insert(De,t,Ce),append(t,a),append(a,r),append(r,i),append(r,o),select_option(r,e[1][e[2]].sourceData[e[0]].onsets[e[18]].type,!0),append(a,u),append(a,c),append(a,f),append(a,d),append(a,m),append(a,p),append(a,h),h.checked=e[1][e[2]].sourceData[e[0]].onsets[e[18]].showOnsets,append(a,_),append(a,g),append(g,b),append(g,k),append(g,A),append(a,w),append(a,T),mount_component(y,T,null),append(a,z),append(a,I),append(I,M),set_input_value(M,e[1][e[2]].sourceData[e[0]].onsets[e[18]].col.hex),append(I,E),append(I,W),mount_component(H,W,null),append(a,D),append(a,N),append(N,F),append(N,L),L.checked=e[1][e[2]].sourceData[e[0]].onsets[e[18]].showLine,append(N,C),append(N,P),append(N,V),append(N,q),append(q,j),append(q,B),append(N,ne),append(N,oe),append(oe,Z),append(oe,ae),append(a,me),append(a,fe),append(fe,ue),append(fe,be),append(fe,le),mount_component(ke,le,null),append(fe,pe),append(fe,se),mount_component(ye,se,null),append(fe,he),append(fe,we),mount_component(ce,we,null),append(fe,ge),append(fe,G),mount_component(R,G,null),append(t,Q),J=!0,de||(te=[listen(r,"change",U),listen(c,"click",K),listen(h,"change",_e),listen(g,"click",click_handler_1),listen(M,"input",Se),listen(L,"change",Oe),listen(q,"click",click_handler_2),listen(oe,"click",click_handler_3)],de=!0)},p(De,Ce){e=De,Ce&7&&select_option(r,e[1][e[2]].sourceData[e[0]].onsets[e[18]].type),Ce&7&&(h.checked=e[1][e[2]].sourceData[e[0]].onsets[e[18]].showOnsets),(!J||Ce&7)&&v!==(v=(e[1][e[2]].sourceData[e[0]].onsets[e[18]].lmFit.slope*e[1][e[2]].params.periodHrs+e[1][e[2]].params.periodHrs).toFixed(2)+"")&&set_data(k,v);const Re={};Ce&6&&(Re.maxValue=e[1][e[2]].chartData.data[0].scaleLimits.length),!S&&Ce&7&&(S=!0,Re.min=e[1][e[2]].sourceData[e[0]].onsets[e[18]].filterStart,add_flush_callback(()=>S=!1)),!O&&Ce&7&&(O=!0,Re.max=e[1][e[2]].sourceData[e[0]].onsets[e[18]].filterEnd,add_flush_callback(()=>O=!1)),y.$set(Re),(!J||Ce&1)&&attr(M,"id",e[0]),(!J||Ce&7)&&set_style(M,"background",e[1][e[2]].sourceData[e[0]].onsets[e[18]].col.hex),Ce&7&&set_input_value(M,e[1][e[2]].sourceData[e[0]].onsets[e[18]].col.hex);const We={};!$&&Ce&7&&($=!0,We.value=e[1][e[2]].sourceData[e[0]].onsets[e[18]].col.alpha,add_flush_callback(()=>$=!1)),H.$set(We),Ce&7&&(L.checked=e[1][e[2]].sourceData[e[0]].onsets[e[18]].showLine),(!J||Ce&7)&&x!==(x=e[1][e[2]].sourceData[e[0]].onsets[e[18]].lmFit.rSquared.toFixed(2)+"")&&set_data(B,x),(!J||Ce&7)&&ve!==(ve=e[1][e[2]].sourceData[e[0]].onsets[e[18]].lmFit.rmse.toFixed(2)+"")&&set_data(ae,ve);const Ve={};!Y&&Ce&7&&(Y=!0,Ve.value=e[1][e[2]].sourceData[e[0]].onsets[e[18]].centileThresh,add_flush_callback(()=>Y=!1)),ke.$set(Ve);const qe={};!X&&Ce&7&&(X=!0,qe.value=e[1][e[2]].sourceData[e[0]].onsets[e[18]].N,add_flush_callback(()=>X=!1)),ye.$set(qe);const Ue={};!ie&&Ce&7&&(ie=!0,Ue.value=e[1][e[2]].sourceData[e[0]].onsets[e[18]].M,add_flush_callback(()=>ie=!1)),ce.$set(Ue);const je={};!ee&&Ce&7&&(ee=!0,je.value=e[1][e[2]].sourceData[e[0]].onsets[e[18]].MAD,add_flush_callback(()=>ee=!1)),R.$set(je)},i(De){J||(transition_in(y.$$.fragment,De),transition_in(H.$$.fragment,De),transition_in(ke.$$.fragment,De),transition_in(ye.$$.fragment,De),transition_in(ce.$$.fragment,De),transition_in(R.$$.fragment,De),J=!0)},o(De){transition_out(y.$$.fragment,De),transition_out(H.$$.fragment,De),transition_out(ke.$$.fragment,De),transition_out(ye.$$.fragment,De),transition_out(ce.$$.fragment,De),transition_out(R.$$.fragment,De),J=!1},d(De){De&&detach(t),destroy_component(y),destroy_component(H),destroy_component(ke),destroy_component(ye),destroy_component(ce),destroy_component(R),de=!1,run_all(te)}}}function create_fragment$7(e){let t,a,r=ensure_array_like(e[1][e[2]].sourceData[e[0]].onsets),i=[];for(let u=0;u<r.length;u+=1)i[u]=create_each_block$7(get_each_context$7(e,r,u));const o=u=>transition_out(i[u],1,1,()=>{i[u]=null});return{c(){for(let u=0;u<i.length;u+=1)i[u].c();t=empty$1()},m(u,c){for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(u,c);insert(u,t,c),a=!0},p(u,[c]){if(c&15){r=ensure_array_like(u[1][u[2]].sourceData[u[0]].onsets);let f;for(f=0;f<r.length;f+=1){const d=get_each_context$7(u,r,f);i[f]?(i[f].p(d,c),transition_in(i[f],1)):(i[f]=create_each_block$7(d),i[f].c(),transition_in(i[f],1),i[f].m(t.parentNode,t))}for(group_outros(),f=r.length;f<i.length;f+=1)o(f);check_outros()}},i(u){if(!a){for(let c=0;c<r.length;c+=1)transition_in(i[c]);a=!0}},o(u){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)transition_out(i[c]);a=!1},d(u){u&&detach(t),destroy_each(i,u)}}}const click_handler_1=e=>{e.preventDefault()},click_handler_2=e=>{e.preventDefault()},click_handler_3=e=>{e.preventDefault()};function instance$7(e,t,a){let r,i;component_subscribe(e,graphs,w=>a(1,r=w)),component_subscribe(e,activeGraphTab,w=>a(2,i=w));let{sourceIndex:o=0}=t;function u(w,T){r[i].sourceData[w].onsets.splice(T,1),graphs.set(r)}function c(w){r[i].sourceData[o].onsets[w].type=select_value(this),graphs.set(r)}const f=(w,T)=>{T.preventDefault(),u(o,w)};function d(w){r[i].sourceData[o].onsets[w].showOnsets=this.checked,graphs.set(r)}function m(w,T){e.$$.not_equal(r[i].sourceData[o].onsets[T].filterStart,w)&&(r[i].sourceData[o].onsets[T].filterStart=w,graphs.set(r))}function p(w,T){e.$$.not_equal(r[i].sourceData[o].onsets[T].filterEnd,w)&&(r[i].sourceData[o].onsets[T].filterEnd=w,graphs.set(r))}function h(w){r[i].sourceData[o].onsets[w].col.hex=this.value,graphs.set(r)}function _(w,T){e.$$.not_equal(r[i].sourceData[o].onsets[T].col.alpha,w)&&(r[i].sourceData[o].onsets[T].col.alpha=w,graphs.set(r))}function g(w){r[i].sourceData[o].onsets[w].showLine=this.checked,graphs.set(r)}function b(w,T){e.$$.not_equal(r[i].sourceData[o].onsets[T].centileThresh,w)&&(r[i].sourceData[o].onsets[T].centileThresh=w,graphs.set(r))}function v(w,T){e.$$.not_equal(r[i].sourceData[o].onsets[T].N,w)&&(r[i].sourceData[o].onsets[T].N=w,graphs.set(r))}function k(w,T){e.$$.not_equal(r[i].sourceData[o].onsets[T].M,w)&&(r[i].sourceData[o].onsets[T].M=w,graphs.set(r))}function A(w,T){e.$$.not_equal(r[i].sourceData[o].onsets[T].MAD,w)&&(r[i].sourceData[o].onsets[T].MAD=w,graphs.set(r))}return e.$$set=w=>{"sourceIndex"in w&&a(0,o=w.sourceIndex)},[o,r,i,u,c,f,d,m,p,h,_,g,b,v,k,A]}class Onset extends SvelteComponent{constructor(t){super(),init(this,t,instance$7,create_fragment$7,safe_not_equal,{sourceIndex:0})}}const Onset$1=Object.freeze(Object.defineProperty({__proto__:null,default:Onset},Symbol.toStringTag,{value:"Module"})),defaultParams$3={startTime:DateTime.now().set({hour:0,minute:0,second:0,millisecond:0}).toISO().slice(0,16),periodHrs:24,binSizeHrs:.25,width:800,dayHeight:10,betweenHeight:2,doublePlot:2,scaleAxes:"byPlot",showAxes:!1},defaultchartvalues$3={time:"time",values:"values"},defaultother$3={col:{hex:"#1B1D50",alpha:.5},onsets:[]},defaultChartData$1={data:[{time:[],values:[],day:[],scaleLimits:[]}],startOffsets:[],onsets:[]};class Actigram_defaults extends SvelteComponent{constructor(t){super(),init(this,t,null,null,safe_not_equal,{})}}const Actigram_defaults$1=Object.freeze(Object.defineProperty({__proto__:null,default:Actigram_defaults,defaultChartData:defaultChartData$1,defaultParams:defaultParams$3,defaultchartvalues:defaultchartvalues$3,defaultother:defaultother$3},Symbol.toStringTag,{value:"Module"}));function get_each_context$6(e,t,a){const r=e.slice();return r[27]=t[a],r[28]=t,r[29]=a,r}function get_each_context_1$6(e,t,a){const r=e.slice();return r[30]=t[a],r[31]=t,r[32]=a,r}function get_each_context_2$3(e,t,a){const r=e.slice();return r[33]=t[a],r}function create_if_block$6(e){var de,te;let t,a,r,i,o,u=formatTimeFromISO(e[1][e[0]].params.startTime)+"",c,f,d,m,p,h,_,g,b,v,k,A,w,T,y,S,O,z,I,M,E,W,H,$,D,N,F,L,C,P,V,q,j,x,B,ne,oe,Z,ve=e[2][e[0]].name+"",ae,me,fe,ue,be,le,ke,Y,pe;function se(U){e[10](U)}let ye={min:10,max:40,limits:[1,1/0],label:"Period (hrs):"};e[1][e[0]].params.periodHrs!==void 0&&(ye.value=e[1][e[0]].params.periodHrs),h=new Slider({props:ye}),binding_callbacks.push(()=>bind(h,"value",se));function X(U){e[11](U)}let he={min:.05,max:1,step:"0.05",limits:[.05,(de=e[1][e[0]])==null?void 0:de.params.periodHrs],label:"Bin size (hrs):"};e[1][e[0]].params.binSizeHrs!==void 0&&(he.value=e[1][e[0]].params.binSizeHrs),v=new Slider({props:he}),binding_callbacks.push(()=>bind(v,"value",X));function we(U){e[12](U)}let ce={min:100,max:1e3,step:"1",limits:[5,1/0],label:"Width: "};e[1][e[0]].params.width!==void 0&&(ce.value=e[1][e[0]].params.width),T=new Slider({props:ce}),binding_callbacks.push(()=>bind(T,"value",we));function ie(U){e[13](U)}let ge={min:10,max:30,step:"1",limits:[5,1/0],label:"Row Height:"};e[1][e[0]].params.dayHeight!==void 0&&(ge.value=e[1][e[0]].params.dayHeight),z=new Slider({props:ge}),binding_callbacks.push(()=>bind(z,"value",ie));function G(U){e[14](U)}let R={min:1,max:20,step:"1",limits:[-((te=e[1][e[0]])==null?void 0:te.params.dayHeight),1/0],label:"Between gap:"};e[1][e[0]].params.betweenHeight!==void 0&&(R.value=e[1][e[0]].params.betweenHeight),W=new Slider({props:R}),binding_callbacks.push(()=>bind(W,"value",G));let ee=ensure_array_like(e[1][e[0]].sourceData),Q=[];for(let U=0;U<ee.length;U+=1)Q[U]=create_each_block$6(get_each_context$6(e,ee,U));const J=U=>transition_out(Q[U],1,1,()=>{Q[U]=null});return{c(){t=element("div"),a=element("div"),r=element("span"),r.textContent="Start time:",i=space(),o=element("div"),c=text(u),f=space(),d=element("input"),m=space(),p=element("div"),create_component(h.$$.fragment),g=space(),b=element("div"),create_component(v.$$.fragment),A=space(),w=element("div"),create_component(T.$$.fragment),S=space(),O=element("div"),create_component(z.$$.fragment),M=space(),E=element("div"),create_component(W.$$.fragment),$=space(),D=element("div"),N=element("a"),N.textContent="Show y-axes:",F=space(),L=element("input"),C=space(),P=element("div"),V=element("a"),V.textContent="Scale:",q=space(),j=element("select"),x=element("option"),x.textContent="By row",B=element("option"),B.textContent="Overall",ne=space(),oe=element("div"),Z=element("h1"),ae=text(ve),me=text(" Data"),fe=space(),ue=element("span"),ue.textContent="+",be=space(),le=element("div");for(let U=0;U<Q.length;U+=1)Q[U].c();attr(r,"class","svelte-1uxwljh"),attr(o,"class","datepicklabel datepicklabelshow svelte-1uxwljh"),set_style(o,"display","inline-block"),set_style(o,"margin-right","2px"),set_style(o,"margin-left","auto"),set_style(o,"text-align","center"),attr(d,"class","dateInput svelte-1uxwljh"),set_style(d,"width","0px"),set_style(d,"height","0px"),attr(d,"type","datetime-local"),attr(d,"id","startTime"),attr(d,"name","startTime"),attr(a,"class","sliderContainer svelte-1uxwljh"),attr(p,"class","sliderContainer svelte-1uxwljh"),attr(b,"class","sliderContainer svelte-1uxwljh"),attr(w,"class","sliderContainer svelte-1uxwljh"),attr(O,"class","sliderContainer svelte-1uxwljh"),attr(E,"class","sliderContainer svelte-1uxwljh"),set_style(N,"align-self","center"),attr(N,"class","svelte-1uxwljh"),attr(L,"type","checkbox"),attr(L,"class","svelte-1uxwljh"),attr(D,"class","sliderContainer svelte-1uxwljh"),set_style(V,"align-self","center"),attr(V,"class","svelte-1uxwljh"),x.__value="byPlot",set_input_value(x,x.__value),attr(x,"class","svelte-1uxwljh"),B.__value="overall",set_input_value(B,B.__value),attr(B,"class","svelte-1uxwljh"),attr(j,"class","selectField svelte-1uxwljh"),set_style(j,"margin-right","0",1),e[1][e[0]].params.scaleAxes===void 0&&add_render_callback(()=>e[16].call(j)),attr(P,"class","sliderContainer svelte-1uxwljh"),attr(t,"class","chartControls svelte-1uxwljh"),set_style(Z,"display","inline"),attr(Z,"class","svelte-1uxwljh"),attr(ue,"class","addbutton hoverbutton showContextMenu svelte-1uxwljh"),set_style(oe,"margin","1em 1em 0 0"),attr(oe,"class","svelte-1uxwljh"),attr(le,"class","graphDataTree svelte-1uxwljh")},m(U,K){insert(U,t,K),append(t,a),append(a,r),append(a,i),append(a,o),append(o,c),append(a,f),append(a,d),set_input_value(d,e[1][e[0]].params.startTime),append(t,m),append(t,p),mount_component(h,p,null),append(t,g),append(t,b),mount_component(v,b,null),append(t,A),append(t,w),mount_component(T,w,null),append(t,S),append(t,O),mount_component(z,O,null),append(t,M),append(t,E),mount_component(W,E,null),append(t,$),append(t,D),append(D,N),append(D,F),append(D,L),L.checked=e[1][e[0]].params.showAxes,append(t,C),append(t,P),append(P,V),append(P,q),append(P,j),append(j,x),append(j,B),select_option(j,e[1][e[0]].params.scaleAxes,!0),insert(U,ne,K),insert(U,oe,K),append(oe,Z),append(Z,ae),append(Z,me),append(oe,fe),append(oe,ue),insert(U,be,K),insert(U,le,K);for(let _e=0;_e<Q.length;_e+=1)Q[_e]&&Q[_e].m(le,null);ke=!0,Y||(pe=[listen(o,"click",e[6]),listen(d,"input",e[7]),listen(d,"change",e[8]),listen(d,"keydown",e[9]),listen(L,"change",e[15]),listen(j,"change",e[16]),listen(ue,"click",e[17])],Y=!0)},p(U,K){var Fe,Me;(!ke||K[0]&3)&&u!==(u=formatTimeFromISO(U[1][U[0]].params.startTime)+"")&&set_data(c,u),K[0]&3&&set_input_value(d,U[1][U[0]].params.startTime);const _e={};!_&&K[0]&3&&(_=!0,_e.value=U[1][U[0]].params.periodHrs,add_flush_callback(()=>_=!1)),h.$set(_e);const Te={};K[0]&3&&(Te.limits=[.05,(Fe=U[1][U[0]])==null?void 0:Fe.params.periodHrs]),!k&&K[0]&3&&(k=!0,Te.value=U[1][U[0]].params.binSizeHrs,add_flush_callback(()=>k=!1)),v.$set(Te);const $e={};!y&&K[0]&3&&(y=!0,$e.value=U[1][U[0]].params.width,add_flush_callback(()=>y=!1)),T.$set($e);const Ae={};!I&&K[0]&3&&(I=!0,Ae.value=U[1][U[0]].params.dayHeight,add_flush_callback(()=>I=!1)),z.$set(Ae);const Se={};if(K[0]&3&&(Se.limits=[-((Me=U[1][U[0]])==null?void 0:Me.params.dayHeight),1/0]),!H&&K[0]&3&&(H=!0,Se.value=U[1][U[0]].params.betweenHeight,add_flush_callback(()=>H=!1)),W.$set(Se),K[0]&3&&(L.checked=U[1][U[0]].params.showAxes),K[0]&3&&select_option(j,U[1][U[0]].params.scaleAxes),(!ke||K[0]&5)&&ve!==(ve=U[2][U[0]].name+"")&&set_data(ae,ve),K[0]&27){ee=ensure_array_like(U[1][U[0]].sourceData);let Oe;for(Oe=0;Oe<ee.length;Oe+=1){const Ee=get_each_context$6(U,ee,Oe);Q[Oe]?(Q[Oe].p(Ee,K),transition_in(Q[Oe],1)):(Q[Oe]=create_each_block$6(Ee),Q[Oe].c(),transition_in(Q[Oe],1),Q[Oe].m(le,null))}for(group_outros(),Oe=ee.length;Oe<Q.length;Oe+=1)J(Oe);check_outros()}},i(U){if(!ke){transition_in(h.$$.fragment,U),transition_in(v.$$.fragment,U),transition_in(T.$$.fragment,U),transition_in(z.$$.fragment,U),transition_in(W.$$.fragment,U);for(let K=0;K<ee.length;K+=1)transition_in(Q[K]);ke=!0}},o(U){transition_out(h.$$.fragment,U),transition_out(v.$$.fragment,U),transition_out(T.$$.fragment,U),transition_out(z.$$.fragment,U),transition_out(W.$$.fragment,U),Q=Q.filter(Boolean);for(let K=0;K<Q.length;K+=1)transition_out(Q[K]);ke=!1},d(U){U&&(detach(t),detach(ne),detach(oe),detach(be),detach(le)),destroy_component(h),destroy_component(v),destroy_component(T),destroy_component(z),destroy_component(W),destroy_each(Q,U),Y=!1,run_all(pe)}}}function create_each_block_2$3(e){let t,a=e[3][e[3].findIndex(o)].data[e[33]].name+"",r,i;function o(...u){return e[22](e[27],...u)}return{c(){t=element("option"),r=text(a),t.__value=i=e[33],set_input_value(t,t.__value),attr(t,"class","svelte-1uxwljh")},m(u,c){insert(u,t,c),append(t,r)},p(u,c){e=u,c[0]&11&&a!==(a=e[3][e[3].findIndex(o)].data[e[33]].name+"")&&set_data(r,a),c[0]&3&&i!==(i=e[33])&&(t.__value=i,set_input_value(t,t.__value))},d(u){u&&detach(t)}}}function create_each_block_1$6(e){let t,a,r=e[30]+"",i,o,u,c,f,d,m,p=ensure_array_like(getFieldNames(e[27])),h=[];for(let g=0;g<p.length;g+=1)h[g]=create_each_block_2$3(get_each_context_2$3(e,p,g));function _(){e[23].call(c,e[30],e[28],e[29])}return{c(){t=element("details"),a=element("summary"),i=text(r),o=text(`:
              
              

              `),u=element("span"),c=element("select");for(let g=0;g<h.length;g+=1)h[g].c();f=space(),attr(c,"class","selectField svelte-1uxwljh"),e[27].chartvalues[e[30]].field===void 0&&add_render_callback(_),attr(u,"class","svelte-1uxwljh"),attr(a,"class","svelte-1uxwljh"),t.open=!0,attr(t,"class","field no-arrow svelte-1uxwljh")},m(g,b){insert(g,t,b),append(t,a),append(a,i),append(a,o),append(a,u),append(u,c);for(let v=0;v<h.length;v+=1)h[v]&&h[v].m(c,null);select_option(c,e[27].chartvalues[e[30]].field,!0),append(t,f),d||(m=listen(c,"change",_),d=!0)},p(g,b){if(e=g,b[0]&3&&r!==(r=e[30]+"")&&set_data(i,r),b[0]&11){p=ensure_array_like(getFieldNames(e[27]));let v;for(v=0;v<p.length;v+=1){const k=get_each_context_2$3(e,p,v);h[v]?h[v].p(k,b):(h[v]=create_each_block_2$3(k),h[v].c(),h[v].m(c,null))}for(;v<h.length;v+=1)h[v].d(1);h.length=p.length}b[0]&3&&select_option(c,e[27].chartvalues[e[30]].field)},d(g){g&&detach(t),destroy_each(h,g),d=!1,m()}}}function create_each_block$6(e){let t,a,r,i,o,u,c,f,d,m,p,h=e[3].find(N).displayName+"",_,g,b,v,k,A,w,T,y,S,O,z,I,M,E;function W(q){e[18](q,e[27])}let H={};e[27].name!==void 0&&(H.value=e[27].name),r=new InPlaceEdit({props:H}),binding_callbacks.push(()=>bind(r,"value",W));function $(...q){return e[19](e[29],...q)}function D(...q){return e[20](e[29],...q)}function N(...q){return e[21](e[27],...q)}let F=ensure_array_like(Object.keys(e[27].chartvalues)),L=[];for(let q=0;q<F.length;q+=1)L[q]=create_each_block_1$6(get_each_context_1$6(e,F,q));function C(){e[24].call(k,e[29])}function P(q){e[25](q,e[29])}let V={min:"0",max:"1",step:"0.01",limits:[0,1],label:"Alpha: "};return e[1][e[0]].sourceData[e[29]].col.alpha!==void 0&&(V.value=e[1][e[0]].sourceData[e[29]].col.alpha),T=new Slider({props:V}),binding_callbacks.push(()=>bind(T,"value",P)),O=new Onset({props:{sourceIndex:e[29]}}),{c(){t=element("details"),a=element("summary"),create_component(r.$$.fragment),o=space(),u=element("div"),u.textContent="",c=space(),f=element("div"),f.textContent="",d=space(),m=element("div"),p=text("Table: "),_=text(h),g=space();for(let q=0;q<L.length;q+=1)L[q].c();b=space(),v=element("div"),k=element("input"),A=space(),w=element("div"),create_component(T.$$.fragment),S=space(),create_component(O.$$.fragment),z=space(),attr(u,"class","deleteTable hoverbutton svelte-1uxwljh"),set_style(u,"padding","0.2em 0.5em"),set_style(u,"margin","-0.2em 0.2em"),attr(f,"class","deleteTable hoverbutton svelte-1uxwljh"),attr(a,"class","svelte-1uxwljh"),attr(m,"class","tableLabel svelte-1uxwljh"),attr(k,"class","colourPicker svelte-1uxwljh"),attr(k,"id",e[29]),attr(k,"type","color"),set_style(k,"background",e[1][e[0]].sourceData[e[29]].col.hex),attr(w,"class","sliderContainer svelte-1uxwljh"),attr(v,"class","colour svelte-1uxwljh"),t.open=!0,attr(t,"class","dataTable svelte-1uxwljh")},m(q,j){insert(q,t,j),append(t,a),mount_component(r,a,null),append(a,o),append(a,u),append(a,c),append(a,f),append(t,d),append(t,m),append(m,p),append(m,_),append(t,g);for(let x=0;x<L.length;x+=1)L[x]&&L[x].m(t,null);append(t,b),append(t,v),append(v,k),set_input_value(k,e[1][e[0]].sourceData[e[29]].col.hex),append(v,A),append(v,w),mount_component(T,w,null),append(t,S),mount_component(O,t,null),insert(q,z,j),I=!0,M||(E=[listen(u,"click",$),listen(f,"click",D),listen(k,"input",C)],M=!0)},p(q,j){e=q;const x={};if(!i&&j[0]&3&&(i=!0,x.value=e[27].name,add_flush_callback(()=>i=!1)),r.$set(x),(!I||j[0]&11)&&h!==(h=e[3].find(N).displayName+"")&&set_data(_,h),j[0]&11){F=ensure_array_like(Object.keys(e[27].chartvalues));let ne;for(ne=0;ne<F.length;ne+=1){const oe=get_each_context_1$6(e,F,ne);L[ne]?L[ne].p(oe,j):(L[ne]=create_each_block_1$6(oe),L[ne].c(),L[ne].m(t,b))}for(;ne<L.length;ne+=1)L[ne].d(1);L.length=F.length}(!I||j[0]&3)&&set_style(k,"background",e[1][e[0]].sourceData[e[29]].col.hex),j[0]&3&&set_input_value(k,e[1][e[0]].sourceData[e[29]].col.hex);const B={};!y&&j[0]&3&&(y=!0,B.value=e[1][e[0]].sourceData[e[29]].col.alpha,add_flush_callback(()=>y=!1)),T.$set(B)},i(q){I||(transition_in(r.$$.fragment,q),transition_in(T.$$.fragment,q),transition_in(O.$$.fragment,q),I=!0)},o(q){transition_out(r.$$.fragment,q),transition_out(T.$$.fragment,q),transition_out(O.$$.fragment,q),I=!1},d(q){q&&(detach(t),detach(z)),destroy_component(r),destroy_each(L,q),destroy_component(T),destroy_component(O),M=!1,run_all(E)}}}function create_fragment$6(e){let t,a,r=e[0]>=0&&e[1][e[0]].graph==="Actigram"&&create_if_block$6(e);return{c(){r&&r.c(),t=empty$1()},m(i,o){r&&r.m(i,o),insert(i,t,o),a=!0},p(i,o){i[0]>=0&&i[1][i[0]].graph==="Actigram"?r?(r.p(i,o),o[0]&3&&transition_in(r,1)):(r=create_if_block$6(i),r.c(),transition_in(r,1),r.m(t.parentNode,t)):r&&(group_outros(),transition_out(r,1,1,()=>{r=null}),check_outros())},i(i){a||(transition_in(r),a=!0)},o(i){transition_out(r),a=!1},d(i){i&&detach(t),r&&r.d(i)}}}function instance$6(e,t,a){let r,i,o,u;component_subscribe(e,activeGraphTab,$=>a(0,r=$)),component_subscribe(e,graphs,$=>a(1,i=$)),component_subscribe(e,graphTabs,$=>a(2,o=$)),component_subscribe(e,data,$=>a(3,u=$));function c($){set_store_value(graphs,i[r].sourceData[$].onsets[i[r].sourceData[$].onsets.length]={type:"onset",showOnsets:!0,excludeOnsets:[],MAD:2,filterStart:1,filterEnd:i[r].chartData.data[0].scaleLimits.length,centileThresh:80,M:3,N:3,lmFit:{slope:0,intercept:0,rSquared:0},col:{hex:getRandomHexColour(),alpha:.5,rSquared:0},showLine:!1},i)}let f=!0;function d(){f=!f;const $=document.querySelector(".datepicklabel"),D=document.querySelector(".dateInput");f?($.style.display="inline-block",D.style.width="0px",D.style.height="0px"):($.style.display="none",D.style.width="60%",D.style.height="100%")}const m=$=>{d()};function p(){i[r].params.startTime=this.value,graphs.set(i)}const h=$=>{console.log("value = "+$.target.value),console.log("pre st = "+i[r].params.startTime)},_=$=>{$.key==="Enter"&&d()};function g($){e.$$.not_equal(i[r].params.periodHrs,$)&&(i[r].params.periodHrs=$,graphs.set(i))}function b($){e.$$.not_equal(i[r].params.binSizeHrs,$)&&(i[r].params.binSizeHrs=$,graphs.set(i))}function v($){e.$$.not_equal(i[r].params.width,$)&&(i[r].params.width=$,graphs.set(i))}function k($){e.$$.not_equal(i[r].params.dayHeight,$)&&(i[r].params.dayHeight=$,graphs.set(i))}function A($){e.$$.not_equal(i[r].params.betweenHeight,$)&&(i[r].params.betweenHeight=$,graphs.set(i))}function w(){i[r].params.showAxes=this.checked,graphs.set(i)}function T(){i[r].params.scaleAxes=select_value(this),graphs.set(i)}const y=$=>{$.preventDefault(),createnewDataForGraph(defaultchartvalues$3,defaultother$3)};function S($,D){e.$$.not_equal(D.name,$)&&(D.name=$,graphs.set(i))}const O=($,D)=>{D.preventDefault(),c($)},z=($,D)=>{D.preventDefault(),removeGraphData($)},I=($,D)=>D.id===$.tableID,M=($,D)=>D.id===$.tableID;function E($,D,N){D[N].chartvalues[$].field=select_value(this),graphs.set(i)}function W($){i[r].sourceData[$].col.hex=this.value,graphs.set(i)}function H($,D){e.$$.not_equal(i[r].sourceData[D].col.alpha,$)&&(i[r].sourceData[D].col.alpha=$,graphs.set(i))}return[r,i,o,u,c,d,m,p,h,_,g,b,v,k,A,w,T,y,S,O,z,I,M,E,W,H]}class Actigram_controls extends SvelteComponent{constructor(t){super(),init(this,t,instance$6,create_fragment$6,safe_not_equal,{},null,[-1,-1])}}const Actigram_controls$1=Object.freeze(Object.defineProperty({__proto__:null,default:Actigram_controls},Symbol.toStringTag,{value:"Module"}));function get_each_context$5(e,t,a){const r=e.slice();return r[11]=t[a],r[13]=a,r}function get_each_context_1$5(e,t,a){const r=e.slice();return r[11]=t[a],r[13]=a,r}function create_if_block$5(e){let t,a,r,i,o,u=ensure_array_like(e[0]),c=[];for(let m=0;m<u.length;m+=1)c[m]=create_each_block_1$5(get_each_context_1$5(e,u,m));let f=ensure_array_like(e[0]),d=[];for(let m=0;m<f.length;m+=1)d[m]=create_each_block$5(get_each_context$5(e,f,m));return{c(){t=element("div"),a=svg_element("svg"),r=svg_element("g");for(let m=0;m<c.length;m+=1)c[m].c();o=space();for(let m=0;m<d.length;m+=1)d[m].c();attr(r,"class","bar"),attr(a,"id","svgContainer"),attr(a,"width",e[3]),attr(a,"height",e[2]),attr(a,"style",i="transform-origin: top left; transform:scale("+e[5][e[4]].zoom+");"),attr(t,"class","barplot")},m(m,p){insert(m,t,p),append(t,a),append(a,r);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(r,null);append(t,o);for(let h=0;h<d.length;h+=1)d[h]&&d[h].m(t,null)},p(m,p){if(p&387){u=ensure_array_like(m[0]);let h;for(h=0;h<u.length;h+=1){const _=get_each_context_1$5(m,u,h);c[h]?c[h].p(_,p):(c[h]=create_each_block_1$5(_),c[h].c(),c[h].m(r,null))}for(;h<c.length;h+=1)c[h].d(1);c.length=u.length}if(p&8&&attr(a,"width",m[3]),p&4&&attr(a,"height",m[2]),p&48&&i!==(i="transform-origin: top left; transform:scale("+m[5][m[4]].zoom+");")&&attr(a,"style",i),p&67){f=ensure_array_like(m[0]);let h;for(h=0;h<f.length;h+=1){const _=get_each_context$5(m,f,h);d[h]?d[h].p(_,p):(d[h]=create_each_block$5(_),d[h].c(),d[h].m(t,null))}for(;h<d.length;h+=1)d[h].d(1);d.length=f.length}},d(m){m&&detach(t),destroy_each(c,m),destroy_each(d,m)}}}function create_each_block_1$5(e){let t,a,r,i,o;return{c(){t=svg_element("rect"),attr(t,"x",a=e[7](e[11])),attr(t,"y",r=e[8](e[1][e[13]])),attr(t,"height",i=e[8](0)-e[8](e[1][e[13]])),attr(t,"width",o=e[7].bandwidth()),attr(t,"fill","red")},m(u,c){insert(u,t,c)},p(u,c){c&129&&a!==(a=u[7](u[11]))&&attr(t,"x",a),c&258&&r!==(r=u[8](u[1][u[13]]))&&attr(t,"y",r),c&258&&i!==(i=u[8](0)-u[8](u[1][u[13]]))&&attr(t,"height",i),c&128&&o!==(o=u[7].bandwidth())&&attr(t,"width",o)},d(u){u&&detach(t)}}}function create_each_block$5(e){let t,a=e[11]+"",r,i,o=e[1][e[13]]+"",u,c,f=e[6][e[13]]+"",d,m;return{c(){t=element("div"),r=text(a),i=text(": Mean = "),u=text(o),c=text(", Std Dev = "),d=text(f),m=space()},m(p,h){insert(p,t,h),append(t,r),append(t,i),append(t,u),append(t,c),append(t,d),append(t,m)},p(p,h){h&1&&a!==(a=p[11]+"")&&set_data(r,a),h&2&&o!==(o=p[1][p[13]]+"")&&set_data(u,o),h&64&&f!==(f=p[6][p[13]]+"")&&set_data(d,f)},d(p){p&&detach(t)}}}function create_fragment$5(e){var r,i;let t,a=((r=e[5][e[4]])==null?void 0:r.graph)==="Barplot"&&((i=e[5][e[4]])==null?void 0:i.sourceData.length)>0&&create_if_block$5(e);return{c(){a&&a.c(),t=empty$1()},m(o,u){a&&a.m(o,u),insert(o,t,u)},p(o,[u]){var c,f;((c=o[5][o[4]])==null?void 0:c.graph)==="Barplot"&&((f=o[5][o[4]])==null?void 0:f.sourceData.length)>0?a?a.p(o,u):(a=create_if_block$5(o),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},i:noop,o:noop,d(o){o&&detach(t),a&&a.d(o)}}}function instance$5(e,t,a){let r,i,o,u,c;component_subscribe(e,activeGraphTab,g=>a(4,o=g)),component_subscribe(e,graphs,g=>a(5,u=g)),component_subscribe(e,data,g=>a(9,c=g));const f={top:20,bottom:60,left:60,right:20};let d,m,p,h,_;return e.$$.update=()=>{var g,b,v;if(e.$$.dirty&48&&a(3,r=(g=u[o])==null?void 0:g.params.width),e.$$.dirty&48&&a(2,i=(b=u[o])==null?void 0:b.params.height),e.$$.dirty&575){const k={};let A,w;if(((v=u[o])==null?void 0:v.graph)==="Barplot"){u[o].sourceData.forEach((y,S)=>{c.findIndex(O=>O.id===y.tableID),y.chartvalues.categories.field!=""&&(A=getDataFromSource(S,y.chartvalues.categories)),y.chartvalues.yax.field!=""&&(w=getDataFromSource(S,y.chartvalues.yax)),w.forEach((O,z)=>{const I=A[z];k[I]||(k[I]={sum:0,count:0,values:[]}),k[I].sum+=O,k[I].count+=1,k[I].values.push(O)})}),a(0,d=Object.keys(k)),a(1,m=[]),a(6,p=[]);let T=0;for(const y in k){const S=k[y],O=S.sum/S.count,z=S.values.reduce((M,E)=>M+Math.pow(E-O,2),0)/S.count,I=Math.sqrt(z);a(1,m[T]=O,m),a(6,p[T]=I,p),T=T+1}a(7,h=band().domain(d).range([f.left,r-f.right]).paddingInner(u[o].params.barspace)),a(8,_=linear().domain([0,max(m)]).range([i-f.bottom,f.top]))}}},[d,m,i,r,o,u,p,h,_,c]}class Barplot extends SvelteComponent{constructor(t){super(),init(this,t,instance$5,create_fragment$5,safe_not_equal,{})}}const Barplot$1=Object.freeze(Object.defineProperty({__proto__:null,default:Barplot},Symbol.toStringTag,{value:"Module"})),defaultParams$2={width:800,height:500,barspace:.01,summary:"mean"},defaultchartvalues$2={yax:"values",categories:"category"},defaultother$2={cols:[]},defaultChartData={data:[{yax:[],category:[],errorbars:[]}]};class Barplot_defaults extends SvelteComponent{constructor(t){super(),init(this,t,null,null,safe_not_equal,{})}}const Barplot_defaults$1=Object.freeze(Object.defineProperty({__proto__:null,default:Barplot_defaults,defaultChartData,defaultParams:defaultParams$2,defaultchartvalues:defaultchartvalues$2,defaultother:defaultother$2},Symbol.toStringTag,{value:"Module"}));function get_each_context$4(e,t,a){const r=e.slice();return r[13]=t[a],r[14]=t,r[15]=a,r}function get_each_context_1$4(e,t,a){const r=e.slice();return r[16]=t[a],r[17]=t,r[18]=a,r}function get_each_context_2$2(e,t,a){const r=e.slice();return r[19]=t[a],r}function create_if_block$4(e){let t,a,r,i,o,u,c,f,d,m,p,h,_,g,b,v=e[2][e[0]].name+"",k,A,w,T,y,S,O,z,I;function M(C){e[4](C)}let E={min:100,max:1e3,limits:[5,1/0],label:"Width:"};e[1][e[0]].params.width!==void 0&&(E.value=e[1][e[0]].params.width),r=new Slider({props:E}),binding_callbacks.push(()=>bind(r,"value",M));function W(C){e[5](C)}let H={min:10,max:3e3,limits:[5,1/0],label:"Height: "};e[1][e[0]].params.height!==void 0&&(H.value=e[1][e[0]].params.height),c=new Slider({props:H}),binding_callbacks.push(()=>bind(c,"value",W));function $(C){e[6](C)}let D={min:0,max:1,limits:[0,1],step:"0.01",label:"Spacing: "};e[1][e[0]].params.barspace!==void 0&&(D.value=e[1][e[0]].params.barspace),p=new Slider({props:D}),binding_callbacks.push(()=>bind(p,"value",$));let N=ensure_array_like(e[1][e[0]].sourceData),F=[];for(let C=0;C<N.length;C+=1)F[C]=create_each_block$4(get_each_context$4(e,N,C));const L=C=>transition_out(F[C],1,1,()=>{F[C]=null});return{c(){t=element("div"),a=element("div"),create_component(r.$$.fragment),o=space(),u=element("div"),create_component(c.$$.fragment),d=space(),m=element("div"),create_component(p.$$.fragment),_=space(),g=element("div"),b=element("h1"),k=text(v),A=text(" Data"),w=space(),T=element("span"),T.textContent="+",y=space(),S=element("div");for(let C=0;C<F.length;C+=1)F[C].c();attr(a,"class","sliderContainer"),attr(u,"class","sliderContainer"),attr(m,"class","sliderContainer"),attr(t,"class","chartControls"),set_style(b,"display","inline"),attr(T,"class","addbutton hoverbutton showContextMenu"),set_style(g,"margin","1em 1em 0 0"),attr(S,"class","graphDataTree")},m(C,P){insert(C,t,P),append(t,a),mount_component(r,a,null),append(t,o),append(t,u),mount_component(c,u,null),append(t,d),append(t,m),mount_component(p,m,null),insert(C,_,P),insert(C,g,P),append(g,b),append(b,k),append(b,A),append(g,w),append(g,T),insert(C,y,P),insert(C,S,P);for(let V=0;V<F.length;V+=1)F[V]&&F[V].m(S,null);O=!0,z||(I=listen(T,"click",e[7]),z=!0)},p(C,P){const V={};!i&&P&3&&(i=!0,V.value=C[1][C[0]].params.width,add_flush_callback(()=>i=!1)),r.$set(V);const q={};!f&&P&3&&(f=!0,q.value=C[1][C[0]].params.height,add_flush_callback(()=>f=!1)),c.$set(q);const j={};if(!h&&P&3&&(h=!0,j.value=C[1][C[0]].params.barspace,add_flush_callback(()=>h=!1)),p.$set(j),(!O||P&5)&&v!==(v=C[2][C[0]].name+"")&&set_data(k,v),P&11){N=ensure_array_like(C[1][C[0]].sourceData);let x;for(x=0;x<N.length;x+=1){const B=get_each_context$4(C,N,x);F[x]?(F[x].p(B,P),transition_in(F[x],1)):(F[x]=create_each_block$4(B),F[x].c(),transition_in(F[x],1),F[x].m(S,null))}for(group_outros(),x=N.length;x<F.length;x+=1)L(x);check_outros()}},i(C){if(!O){transition_in(r.$$.fragment,C),transition_in(c.$$.fragment,C),transition_in(p.$$.fragment,C);for(let P=0;P<N.length;P+=1)transition_in(F[P]);O=!0}},o(C){transition_out(r.$$.fragment,C),transition_out(c.$$.fragment,C),transition_out(p.$$.fragment,C),F=F.filter(Boolean);for(let P=0;P<F.length;P+=1)transition_out(F[P]);O=!1},d(C){C&&(detach(t),detach(_),detach(g),detach(y),detach(S)),destroy_component(r),destroy_component(c),destroy_component(p),destroy_each(F,C),z=!1,I()}}}function create_each_block_2$2(e){let t,a=e[3][e[3].findIndex(o)].data[e[19]].name+"",r,i;function o(...u){return e[11](e[13],...u)}return{c(){t=element("option"),r=text(a),t.__value=i=e[19],set_input_value(t,t.__value)},m(u,c){insert(u,t,c),append(t,r)},p(u,c){e=u,c&11&&a!==(a=e[3][e[3].findIndex(o)].data[e[19]].name+"")&&set_data(r,a),c&3&&i!==(i=e[19])&&(t.__value=i,set_input_value(t,t.__value))},d(u){u&&detach(t)}}}function create_each_block_1$4(e){let t,a,r=e[16]+"",i,o,u,c,f,d,m,p=ensure_array_like(getFieldNames(e[13])),h=[];for(let g=0;g<p.length;g+=1)h[g]=create_each_block_2$2(get_each_context_2$2(e,p,g));function _(){e[12].call(c,e[16],e[14],e[15])}return{c(){t=element("details"),a=element("summary"),i=text(r),o=text(`:
              
              

              `),u=element("span"),c=element("select");for(let g=0;g<h.length;g+=1)h[g].c();f=space(),attr(c,"class","selectField"),e[13].chartvalues[e[16]].field===void 0&&add_render_callback(_),t.open=!0,attr(t,"class","field no-arrow")},m(g,b){insert(g,t,b),append(t,a),append(a,i),append(a,o),append(a,u),append(u,c);for(let v=0;v<h.length;v+=1)h[v]&&h[v].m(c,null);select_option(c,e[13].chartvalues[e[16]].field,!0),append(t,f),d||(m=listen(c,"change",_),d=!0)},p(g,b){if(e=g,b&3&&r!==(r=e[16]+"")&&set_data(i,r),b&11){p=ensure_array_like(getFieldNames(e[13]));let v;for(v=0;v<p.length;v+=1){const k=get_each_context_2$2(e,p,v);h[v]?h[v].p(k,b):(h[v]=create_each_block_2$2(k),h[v].c(),h[v].m(c,null))}for(;v<h.length;v+=1)h[v].d(1);h.length=p.length}b&3&&select_option(c,e[13].chartvalues[e[16]].field)},d(g){g&&detach(t),destroy_each(h,g),d=!1,m()}}}function create_each_block$4(e){let t,a,r,i,o,u,c,f,d,m=e[3].find(T).displayName+"",p,h,_,g,b,v;function k(O){e[8](O,e[13])}let A={};e[13].name!==void 0&&(A.value=e[13].name),r=new InPlaceEdit({props:A}),binding_callbacks.push(()=>bind(r,"value",k));function w(...O){return e[9](e[15],...O)}function T(...O){return e[10](e[13],...O)}let y=ensure_array_like(Object.keys(e[13].chartvalues)),S=[];for(let O=0;O<y.length;O+=1)S[O]=create_each_block_1$4(get_each_context_1$4(e,y,O));return{c(){t=element("details"),a=element("summary"),create_component(r.$$.fragment),o=space(),u=element("div"),u.textContent="",c=space(),f=element("div"),d=text("Table: "),p=text(m),h=space();for(let O=0;O<S.length;O+=1)S[O].c();_=space(),attr(u,"class","deleteTable hoverbutton"),attr(f,"class","tableLabel"),t.open=!0,attr(t,"class","dataTable")},m(O,z){insert(O,t,z),append(t,a),mount_component(r,a,null),append(a,o),append(a,u),append(t,c),append(t,f),append(f,d),append(f,p),append(t,h);for(let I=0;I<S.length;I+=1)S[I]&&S[I].m(t,null);insert(O,_,z),g=!0,b||(v=listen(u,"click",w),b=!0)},p(O,z){e=O;const I={};if(!i&&z&3&&(i=!0,I.value=e[13].name,add_flush_callback(()=>i=!1)),r.$set(I),(!g||z&11)&&m!==(m=e[3].find(T).displayName+"")&&set_data(p,m),z&11){y=ensure_array_like(Object.keys(e[13].chartvalues));let M;for(M=0;M<y.length;M+=1){const E=get_each_context_1$4(e,y,M);S[M]?S[M].p(E,z):(S[M]=create_each_block_1$4(E),S[M].c(),S[M].m(t,null))}for(;M<S.length;M+=1)S[M].d(1);S.length=y.length}},i(O){g||(transition_in(r.$$.fragment,O),g=!0)},o(O){transition_out(r.$$.fragment,O),g=!1},d(O){O&&(detach(t),detach(_)),destroy_component(r),destroy_each(S,O),b=!1,v()}}}function create_fragment$4(e){let t,a,r=e[0]>=0&&e[1][e[0]].graph==="Barplot"&&create_if_block$4(e);return{c(){r&&r.c(),t=empty$1()},m(i,o){r&&r.m(i,o),insert(i,t,o),a=!0},p(i,[o]){i[0]>=0&&i[1][i[0]].graph==="Barplot"?r?(r.p(i,o),o&3&&transition_in(r,1)):(r=create_if_block$4(i),r.c(),transition_in(r,1),r.m(t.parentNode,t)):r&&(group_outros(),transition_out(r,1,1,()=>{r=null}),check_outros())},i(i){a||(transition_in(r),a=!0)},o(i){transition_out(r),a=!1},d(i){i&&detach(t),r&&r.d(i)}}}function instance$4(e,t,a){let r,i,o,u;component_subscribe(e,activeGraphTab,v=>a(0,r=v)),component_subscribe(e,graphs,v=>a(1,i=v)),component_subscribe(e,graphTabs,v=>a(2,o=v)),component_subscribe(e,data,v=>a(3,u=v));function c(v){e.$$.not_equal(i[r].params.width,v)&&(i[r].params.width=v,graphs.set(i))}function f(v){e.$$.not_equal(i[r].params.height,v)&&(i[r].params.height=v,graphs.set(i))}function d(v){e.$$.not_equal(i[r].params.barspace,v)&&(i[r].params.barspace=v,graphs.set(i))}const m=v=>{v.preventDefault(),createnewDataForGraph(defaultchartvalues$2,defaultother$2)};function p(v,k){e.$$.not_equal(k.name,v)&&(k.name=v,graphs.set(i))}const h=(v,k)=>{k.preventDefault(),removeGraphData(v)},_=(v,k)=>k.id===v.tableID,g=(v,k)=>k.id===v.tableID;function b(v,k,A){k[A].chartvalues[v].field=select_value(this),graphs.set(i)}return[r,i,o,u,c,f,d,m,p,h,_,g,b]}class Barplot_controls extends SvelteComponent{constructor(t){super(),init(this,t,instance$4,create_fragment$4,safe_not_equal,{})}}const Barplot_controls$1=Object.freeze(Object.defineProperty({__proto__:null,default:Barplot_controls},Symbol.toStringTag,{value:"Module"}));function bisection(e,t,a,r,i){var o=function(d){return d>0?1:d<0?-1:0},u=o(e(t));o(e(a));for(var c=.5*(t+a),f=e(c);a-t>i&&a-t>r*Math.abs(c)&&Math.abs(f)>i;)f*u>0?(t=c,u=o(f)):a=c,c=.5*(t+a),f=e(c);return c}function gamnln(e){var t=[.5723649429247001,0,-.1207822376352452,0,.2846828704729192,.6931471805599453,1.200973602347074,1.791759469228055,2.453736570842442,3.178053830347946,3.957813967618717,4.787491742782046,5.662562059857142,6.579251212010101,7.534364236758733,8.525161361065415,9.549267257300997,10.60460290274525,11.68933342079727,12.80182748008147,13.94062521940376,15.10441257307552,16.29200047656724,17.50230784587389,18.73434751193645,19.98721449566188,21.2600761562447,22.55216385312342,23.86276584168909,25.19122118273868,26.53691449111561,27.89927138384089,29.27775451504082,30.67186010608068,32.08111489594736,33.50507345013689,34.94331577687682,36.39544520803305,37.86108650896109,39.3398841871995,40.8315009745308,42.33561646075349,43.85192586067515,45.3801388984769,46.91997879580877,48.47118135183522,50.03349410501914,51.60667556776437,53.19049452616927,54.78472939811231,56.38916764371993,58.00360522298051,59.62784609588432,61.26170176100199,62.9049908288765,64.55753862700632,66.21917683354901,67.88974313718154,69.56908092082364,71.257038967168,72.9534711841694,74.65823634883016,76.37119786778275,78.0922235533153,79.82118541361436,81.55795945611503,83.30242550295004,85.05446701758153,86.81397094178108,88.58082754219767,90.35493026581838,92.1361756036871,93.92446296229978,95.71969454214322,97.52177522288821,99.33061245478741,101.1461161558646,102.9681986145138,104.7967743971583,106.6317602606435,108.4730750690654,110.3206397147574,112.1743770431779,114.0342117814617,115.9000704704145,117.7718813997451,119.6495745463449,121.5330815154387,123.4223354844396,125.3172711493569,127.2178246736118,129.1239336391272,131.0355369995686,132.9525750356163,134.8749893121619,136.8027226373264,138.7357190232026,140.6739236482343,142.617282821146,144.5657439463449,146.5192554907206,148.477766951773,150.4412288270019,152.4095925844974,154.3828106346716,156.3608363030788,158.3436238042692,160.3311282166309,162.3233054581712,164.3201122631952,166.3215061598404,168.3274454484277,170.3378891805928,172.3527971391628,174.3721298187452,176.3958484069973,178.4239147665485,180.4562914175438,182.4929415207863,184.5338288614495,186.5789178333379,188.6281734236716,190.6815611983747,192.7390472878449,194.8005983731871,196.86618167289,198.9357649299295,201.0093163992815,203.0868048358281,205.1681994826412,207.2534700596299,209.3425867525368,211.435520202271,213.5322414945632,215.6327221499328,217.7369341139542,219.8448497478113,221.9564418191303,224.0716834930795,226.1905483237276,228.3130102456502,230.4390435657769,232.5686229554685,234.7017234428182,236.8383204051684,238.9783895618343,241.121906967029,243.2688490029827,245.4191923732478,247.5729140961868,249.7299914986334,251.8904022097232,254.0541241548883,256.2211355500095,258.3914148957209,260.5649409718632,262.7416928320802,264.9216497985528,267.1047914568685,269.2910976510198,271.4805484785288,273.6731242856937,275.8688056629533,278.0675734403662,280.2694086832001,282.4742926876305,284.6822069765408,286.893133295427,289.1070536083976,291.3239500942703,293.5438051427607,295.7666013507606,297.9923215187034,300.2209486470141,302.4524659326413,304.6868567656687,306.9241047260048,309.1641935801469,311.4071072780187,313.652829949879,315.9013459032995,318.1526396202093,320.4066957540055,322.6634991267262,324.9230347262869,327.1852877037753,329.4502433708053,331.7178871969285,333.9882048070999,336.2611819791985,338.5368046415996,340.815058870799,343.0959308890863,345.3794070622669,347.6654738974312,349.9541180407703,352.245326275435,354.5390855194408,356.835382823613,359.1342053695754];if(e<201)return t[e-1];var a=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],r=2.5066282746310007,i=.5*e,o=i,u=i+5.5;u=(i+.5)*Math.log(u)-u;for(var c=1.000000000190015,f=0;f<6;f++)o=o+1,c=c+a[f]/o;var d=u+Math.log(r*c/i);return d}function gser(e,t){for(var a=1e8,r=1e-8,i=gamnln(e),o=.5*e,u=o,c=1/o,f=c,e=1;e<a&&(u++,f=f*t/u,c+=f,!(f<c*r));e++);return c*Math.exp(-t+o*Math.log(t)-i)}function gcf(e,t){for(var a=1e8,r=1e-8,i=gamnln(e),o=.5*e,u=t+1-o,c=1e-300,f=1/c,d=1/u,m=d,p=1;p<a;p++){var h=-p*(p-o);u+=2,d=h*d+u,Math.abs(d)<c&&(d=c),f=u+h/f,Math.abs(f)<c&&(f=c),d=1/d;var _=d*f;if(m=m*_,Math.abs(_-1)<r)break}return m*Math.exp(-t+o*Math.log(t)-i)}function gammp(e,t){return t<.5*e+1?gser(e,t):1-gcf(e,t)}function gammq(e,t){return t<.5*e+1?1-gser(e,t):gcf(e,t)}function pchisq(e,t,a=1){return a==1?gammq(t,.5*e):gammp(t,.5*e)}function qchisq(e,t,a=1){if(a==1){if(e==0)return 1/0;if(e==1)return 0}if(a==2){if(e==0)return 0;if(e==1)return 1/0}var r=1e-6,i=0,o=Math.sqrt(2*t),u=2*o,c=1;for(a==2&&(c=-1);c*pchisq(u,t,a)>e*c;)i=u,u+=2*o;var f=function(d){return pchisq(d,t,a)-e};return bisection(f,i,u,r,0)}function get_each_context$3(e,t,a){const r=e.slice();return r[11]=t[a],r[13]=a,r}function get_each_context_1$3(e,t,a){const r=e.slice();return r[14]=t[a],r[16]=a,r}function create_if_block$3(e){let t,a,r,i,o,u,c,f,d,m,p,h,_,g,b;function v(w,T){return w[3][w[2]].chartData.data.periods.length>0?create_if_block_1$1:create_else_block}let k=v(e),A=k(e);return o=new Axis({props:{innerHeight:e[6],yoffset:"0",scale:e[3][e[2]].chartData.xScale,position:"bottom"}}),u=new Axis({props:{innerHeight:e[6],yoffset:"0",scale:e[3][e[2]].chartData.yScale,position:"left"}}),{c(){t=element("div"),a=svg_element("svg"),r=svg_element("g"),A.c(),i=empty$1(),create_component(o.$$.fragment),create_component(u.$$.fragment),c=svg_element("text"),f=text("Chi-sq"),m=svg_element("text"),p=text("Period"),set_style(c,"text-anchor","middle"),attr(c,"transform",d=`translate(-50,${e[6]/2}) rotate(-90)     `),set_style(m,"text-anchor","middle"),attr(m,"x",h=e[7]/2),attr(m,"y",_=e[6]+32),attr(r,"transform",`translate(${e[8].left},${e[8].top})`),attr(a,"id","svgContainer"),attr(a,"width",e[1]),attr(a,"height",e[0]),attr(a,"style",g="transform-origin: top left; transform:scale("+e[3][e[2]].zoom+");"),attr(t,"class","periodogram")},m(w,T){insert(w,t,T),append(t,a),append(a,r),A.m(r,null),append(r,i),mount_component(o,r,null),mount_component(u,r,null),append(r,c),append(c,f),append(r,m),append(m,p),b=!0},p(w,T){k===(k=v(w))&&A?A.p(w,T):(A.d(1),A=k(w),A&&(A.c(),A.m(r,i)));const y={};T&64&&(y.innerHeight=w[6]),T&12&&(y.scale=w[3][w[2]].chartData.xScale),o.$set(y);const S={};T&64&&(S.innerHeight=w[6]),T&12&&(S.scale=w[3][w[2]].chartData.yScale),u.$set(S),(!b||T&64&&d!==(d=`translate(-50,${w[6]/2}) rotate(-90)     `))&&attr(c,"transform",d),(!b||T&128&&h!==(h=w[7]/2))&&attr(m,"x",h),(!b||T&64&&_!==(_=w[6]+32))&&attr(m,"y",_),(!b||T&2)&&attr(a,"width",w[1]),(!b||T&1)&&attr(a,"height",w[0]),(!b||T&12&&g!==(g="transform-origin: top left; transform:scale("+w[3][w[2]].zoom+");"))&&attr(a,"style",g)},i(w){b||(transition_in(o.$$.fragment,w),transition_in(u.$$.fragment,w),b=!0)},o(w){transition_out(o.$$.fragment,w),transition_out(u.$$.fragment,w),b=!1},d(w){w&&detach(t),A.d(),destroy_component(o),destroy_component(u)}}}function create_else_block(e){let t,a;return{c(){t=svg_element("text"),a=text("No Data "),attr(t,"x","50%"),attr(t,"y","50%"),attr(t,"text-anchor","middle"),attr(t,"fill","red")},m(r,i){insert(r,t,i),append(t,a)},p:noop,d(r){r&&detach(t)}}}function create_if_block_1$1(e){let t,a=ensure_array_like(e[3][e[2]].chartData.data.periods),r=[];for(let i=0;i<a.length;i+=1)r[i]=create_each_block$3(get_each_context$3(e,a,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=empty$1()},m(i,o){for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(i,o);insert(i,t,o)},p(i,o){if(o&60){a=ensure_array_like(i[3][i[2]].chartData.data.periods);let u;for(u=0;u<a.length;u+=1){const c=get_each_context$3(i,a,u);r[u]?r[u].p(c,o):(r[u]=create_each_block$3(c),r[u].c(),r[u].m(t.parentNode,t))}for(;u<r.length;u+=1)r[u].d(1);r.length=a.length}},d(i){i&&detach(t),destroy_each(r,i)}}}function create_each_block_1$3(e){let t,a,r,i,o,u,c,f;return{c(){t=svg_element("circle"),attr(t,"tipcontent",a=e[14].toFixed(2)+", "+e[3][e[2]].chartData.data.power[e[13]][e[16]].toFixed(2)+" ("+e[3][e[2]].chartData.data.pvalue[e[13]][e[16]].toFixed(2)+")"),attr(t,"cx",r=e[3][e[2]].chartData.xScale(e[14])),attr(t,"cy",i=e[3][e[2]].chartData.yScale(e[3][e[2]].chartData.data.power[e[13]][e[16]])),attr(t,"r","3"),attr(t,"fill",o=e[3][e[2]].sourceData[e[13]].col.hex),attr(t,"fill-opacity",u=e[3][e[2]].sourceData[e[13]].col.alpha)},m(d,m){insert(d,t,m),c||(f=action_destroyer(tooltip.call(null,t)),c=!0)},p(d,m){m&12&&a!==(a=d[14].toFixed(2)+", "+d[3][d[2]].chartData.data.power[d[13]][d[16]].toFixed(2)+" ("+d[3][d[2]].chartData.data.pvalue[d[13]][d[16]].toFixed(2)+")")&&attr(t,"tipcontent",a),m&12&&r!==(r=d[3][d[2]].chartData.xScale(d[14]))&&attr(t,"cx",r),m&12&&i!==(i=d[3][d[2]].chartData.yScale(d[3][d[2]].chartData.data.power[d[13]][d[16]]))&&attr(t,"cy",i),m&12&&o!==(o=d[3][d[2]].sourceData[d[13]].col.hex)&&attr(t,"fill",o),m&12&&u!==(u=d[3][d[2]].sourceData[d[13]].col.alpha)&&attr(t,"fill-opacity",u)},d(d){d&&detach(t),c=!1,f()}}}function create_each_block$3(e){let t,a,r,i,o,u,c,f=ensure_array_like(e[11]),d=[];for(let m=0;m<f.length;m+=1)d[m]=create_each_block_1$3(get_each_context_1$3(e,f,m));return{c(){for(let m=0;m<d.length;m+=1)d[m].c();t=svg_element("path"),o=svg_element("path"),attr(t,"d",a=e[4][e[13]]),attr(t,"fill","none"),attr(t,"stroke",r=e[3][e[2]].sourceData[e[13]].col.hex),attr(t,"stroke-opacity",i=e[3][e[2]].sourceData[e[13]].col.alpha),attr(t,"stroke-width","2px"),attr(o,"d",u=e[5][e[13]]),attr(o,"fill","none"),attr(o,"stroke","red"),attr(o,"stroke-opacity",c=e[3][e[2]].sourceData[e[13]].col.alpha),attr(o,"stroke-width","1px")},m(m,p){for(let h=0;h<d.length;h+=1)d[h]&&d[h].m(m,p);insert(m,t,p),insert(m,o,p)},p(m,p){if(p&12){f=ensure_array_like(m[11]);let h;for(h=0;h<f.length;h+=1){const _=get_each_context_1$3(m,f,h);d[h]?d[h].p(_,p):(d[h]=create_each_block_1$3(_),d[h].c(),d[h].m(t.parentNode,t))}for(;h<d.length;h+=1)d[h].d(1);d.length=f.length}p&16&&a!==(a=m[4][m[13]])&&attr(t,"d",a),p&12&&r!==(r=m[3][m[2]].sourceData[m[13]].col.hex)&&attr(t,"stroke",r),p&12&&i!==(i=m[3][m[2]].sourceData[m[13]].col.alpha)&&attr(t,"stroke-opacity",i),p&32&&u!==(u=m[5][m[13]])&&attr(o,"d",u),p&12&&c!==(c=m[3][m[2]].sourceData[m[13]].col.alpha)&&attr(o,"stroke-opacity",c)},d(m){m&&(detach(t),detach(o)),destroy_each(d,m)}}}function create_fragment$3(e){var i,o;let t,a,r=((i=e[3][e[2]])==null?void 0:i.graph)==="Periodogram"&&((o=e[3][e[2]])==null?void 0:o.sourceData.length)>0&&create_if_block$3(e);return{c(){r&&r.c(),t=empty$1()},m(u,c){r&&r.m(u,c),insert(u,t,c),a=!0},p(u,[c]){var f,d;((f=u[3][u[2]])==null?void 0:f.graph)==="Periodogram"&&((d=u[3][u[2]])==null?void 0:d.sourceData.length)>0?r?(r.p(u,c),c&12&&transition_in(r,1)):(r=create_if_block$3(u),r.c(),transition_in(r,1),r.m(t.parentNode,t)):r&&(group_outros(),transition_out(r,1,1,()=>{r=null}),check_outros())},i(u){a||(transition_in(r),a=!0)},o(u){transition_out(r),a=!1},d(u){u&&detach(t),r&&r.d(u)}}}function instance$3(e,t,a){let r,i,o,u,c,f;component_subscribe(e,activeGraphTab,g=>a(2,c=g)),component_subscribe(e,graphs,g=>a(3,f=g));let d={top:20,bottom:40,left:80,right:20},m=[],p=[];function h(g,b,v,k,A){var w;if(((w=f[c])==null?void 0:w.graph)==="Periodogram"){let y,S,O={data:{periods:[],power:[],sigThreshold:[],pvalue:[]},xScale:linear().domain([v,k]).range([0,u]),yScale:linear().domain([0,100]).range([i,0])},z={ymin:1/0,ymax:-1/0};g.forEach((I,M)=>{I.chartvalues.time.field!=""&&(y=getDataFromSource(M,I.chartvalues.time)),I.chartvalues.values.field!=""&&(S=getDataFromSource(M,I.chartvalues.values));const E=averageBinnedValues(y,S,b);O.data.periods[M]=[],O.data.power[M]=[],O.data.pvalue[M]=[],O.data.sigThreshold[M]=[];let W=0;const H=1+(k-v)/A,$=Math.pow(1-.05,1/H);for(let D=v;D<k;D+=A)O.data.periods[M][W]=D,O.data.power[M][W]=_(E.values,b,D),O.data.pvalue[M][W]=pchisq(O.data.power[M][W],Math.round(D/b)),O.data.sigThreshold[M][W]=qchisq($,Math.round(D/b)),O.data.power[M][W]<z.ymin&&(z.ymin=O.data.power[M][W]),O.data.power[M][W]>z.ymax&&(z.ymax=O.data.power[M][W]),W++}),set_store_value(graphs,f[c].chartData=O,f),set_store_value(graphs,f[c].chartData.yScale=linear().domain([z.ymin,z.ymax]).range([o,0]),f),g.forEach((I,M)=>{for(let E=0;E<O.data.power[M].length;E++)E===0&&(a(4,m[M]="M ",m),a(5,p[M]="M",p)),a(4,m[M]+=`${f[c].chartData.xScale(O.data.periods[M][E])} ${f[c].chartData.yScale(O.data.power[M][E])} `,m),a(5,p[M]+=`${f[c].chartData.xScale(O.data.periods[M][E])} ${f[c].chartData.yScale(O.data.sigThreshold[M][E])} `,p)})}}function _(g,b,v){const k=Math.round(v/b),A=Math.ceil(g.length/k),w=Array.from({length:k},(O,z)=>{const I=z,M=Array.from({length:A},(E,W)=>g[I+W*k]).filter(E=>E!==void 0&&!isNaN(E));return mean(M)}),T=mean(g),y=w.reduce((O,z)=>O+Math.pow(z-T,2),0)*(g.length*A),S=g.reduce((O,z)=>O+Math.pow(z-T,2),0);return y/S}return e.$$.update=()=>{var g,b,v,k,A,w,T;e.$$.dirty&12&&a(1,r=(g=f[c])==null?void 0:g.params.width),e.$$.dirty&12&&a(0,i=(b=f[c])==null?void 0:b.params.height),e.$$.dirty&1&&a(6,o=i-d.top-d.bottom),e.$$.dirty&2&&a(7,u=r-d.left-d.right),e.$$.dirty&12&&h((v=f[c])==null?void 0:v.sourceData,(k=f[c])==null?void 0:k.params.binSizeHrs,(A=f[c])==null?void 0:A.params.minPeriod,(w=f[c])==null?void 0:w.params.maxPeriod,(T=f[c])==null?void 0:T.params.stepPeriod)},[i,r,c,f,m,p,o,u,d]}class Periodogram extends SvelteComponent{constructor(t){super(),init(this,t,instance$3,create_fragment$3,safe_not_equal,{})}}const Periodogram$1=Object.freeze(Object.defineProperty({__proto__:null,default:Periodogram},Symbol.toStringTag,{value:"Module"})),defaultParams$1={width:600,height:200,minPeriod:4,maxPeriod:30,stepPeriod:.25,binSizeHrs:.25},defaultchartvalues$1={time:"any",values:"any"},defaultother$1={col:{hex:"#78322e",alpha:.5}};class Periodogram_defaults extends SvelteComponent{constructor(t){super(),init(this,t,null,null,safe_not_equal,{})}}const Periodogram_defaults$1=Object.freeze(Object.defineProperty({__proto__:null,default:Periodogram_defaults,defaultParams:defaultParams$1,defaultchartvalues:defaultchartvalues$1,defaultother:defaultother$1},Symbol.toStringTag,{value:"Module"}));function get_each_context$2(e,t,a){const r=e.slice();return r[18]=t[a],r[19]=t,r[20]=a,r}function get_each_context_1$2(e,t,a){const r=e.slice();return r[21]=t[a],r[22]=t,r[23]=a,r}function get_each_context_2$1(e,t,a){const r=e.slice();return r[24]=t[a],r}function create_if_block$2(e){let t,a,r,i,o,u,c,f,d,m,p,h,_,g,b,v,k,A,w,T,y,S,O,z,I,M,E,W=e[2][e[0]].name+"",H,$,D,N,F,L,C,P,V;function q(Y){e[4](Y)}let j={min:10,max:e[1][e[0]].params.maxPeriod,limits:[1,1/0],label:"Min period:"};e[1][e[0]].params.minPeriod!==void 0&&(j.value=e[1][e[0]].params.minPeriod),r=new Slider({props:j}),binding_callbacks.push(()=>bind(r,"value",q));function x(Y){e[5](Y)}let B={min:e[1][e[0]].params.minPeriod,max:30,limits:[1,1/0],label:"Max period:"};e[1][e[0]].params.maxPeriod!==void 0&&(B.value=e[1][e[0]].params.maxPeriod),c=new Slider({props:B}),binding_callbacks.push(()=>bind(c,"value",x));function ne(Y){e[6](Y)}let oe={min:.1,max:1,step:.01,limits:[.1,1],label:"Period step:"};e[1][e[0]].params.stepPeriod!==void 0&&(oe.value=e[1][e[0]].params.stepPeriod),p=new Slider({props:oe}),binding_callbacks.push(()=>bind(p,"value",ne));function Z(Y){e[7](Y)}let ve={min:.05,max:1,step:"0.05",limits:[.05,e[1][e[0]].params.maxPeriod],label:"Bin size (hrs):"};e[1][e[0]].params.binSizeHrs!==void 0&&(ve.value=e[1][e[0]].params.binSizeHrs),b=new Slider({props:ve}),binding_callbacks.push(()=>bind(b,"value",Z));function ae(Y){e[8](Y)}let me={min:100,max:1e3,step:"1",limits:[5,1/0],label:"Width: "};e[1][e[0]].params.width!==void 0&&(me.value=e[1][e[0]].params.width),w=new Slider({props:me}),binding_callbacks.push(()=>bind(w,"value",ae));function fe(Y){e[9](Y)}let ue={min:10,max:30,step:"1",limits:[5,1/0],label:"Height:"};e[1][e[0]].params.height!==void 0&&(ue.value=e[1][e[0]].params.height),O=new Slider({props:ue}),binding_callbacks.push(()=>bind(O,"value",fe));let be=ensure_array_like(e[1][e[0]].sourceData),le=[];for(let Y=0;Y<be.length;Y+=1)le[Y]=create_each_block$2(get_each_context$2(e,be,Y));const ke=Y=>transition_out(le[Y],1,1,()=>{le[Y]=null});return{c(){t=element("div"),a=element("div"),create_component(r.$$.fragment),o=space(),u=element("div"),create_component(c.$$.fragment),d=space(),m=element("div"),create_component(p.$$.fragment),_=space(),g=element("div"),create_component(b.$$.fragment),k=space(),A=element("div"),create_component(w.$$.fragment),y=space(),S=element("div"),create_component(O.$$.fragment),I=space(),M=element("div"),E=element("h1"),H=text(W),$=text(" Data"),D=space(),N=element("span"),N.textContent="+",F=space(),L=element("div");for(let Y=0;Y<le.length;Y+=1)le[Y].c();attr(a,"class","sliderContainer"),attr(u,"class","sliderContainer"),attr(m,"class","sliderContainer"),attr(g,"class","sliderContainer"),attr(A,"class","sliderContainer"),attr(S,"class","sliderContainer"),attr(t,"class","chartControls"),set_style(E,"display","inline"),attr(N,"class","addbutton hoverbutton showContextMenu"),set_style(M,"margin","1em 1em 0 0"),attr(L,"class","graphDataTree")},m(Y,pe){insert(Y,t,pe),append(t,a),mount_component(r,a,null),append(t,o),append(t,u),mount_component(c,u,null),append(t,d),append(t,m),mount_component(p,m,null),append(t,_),append(t,g),mount_component(b,g,null),append(t,k),append(t,A),mount_component(w,A,null),append(t,y),append(t,S),mount_component(O,S,null),insert(Y,I,pe),insert(Y,M,pe),append(M,E),append(E,H),append(E,$),append(M,D),append(M,N),insert(Y,F,pe),insert(Y,L,pe);for(let se=0;se<le.length;se+=1)le[se]&&le[se].m(L,null);C=!0,P||(V=listen(N,"click",e[10]),P=!0)},p(Y,pe){const se={};pe&3&&(se.max=Y[1][Y[0]].params.maxPeriod),!i&&pe&3&&(i=!0,se.value=Y[1][Y[0]].params.minPeriod,add_flush_callback(()=>i=!1)),r.$set(se);const ye={};pe&3&&(ye.min=Y[1][Y[0]].params.minPeriod),!f&&pe&3&&(f=!0,ye.value=Y[1][Y[0]].params.maxPeriod,add_flush_callback(()=>f=!1)),c.$set(ye);const X={};!h&&pe&3&&(h=!0,X.value=Y[1][Y[0]].params.stepPeriod,add_flush_callback(()=>h=!1)),p.$set(X);const he={};pe&3&&(he.limits=[.05,Y[1][Y[0]].params.maxPeriod]),!v&&pe&3&&(v=!0,he.value=Y[1][Y[0]].params.binSizeHrs,add_flush_callback(()=>v=!1)),b.$set(he);const we={};!T&&pe&3&&(T=!0,we.value=Y[1][Y[0]].params.width,add_flush_callback(()=>T=!1)),w.$set(we);const ce={};if(!z&&pe&3&&(z=!0,ce.value=Y[1][Y[0]].params.height,add_flush_callback(()=>z=!1)),O.$set(ce),(!C||pe&5)&&W!==(W=Y[2][Y[0]].name+"")&&set_data(H,W),pe&11){be=ensure_array_like(Y[1][Y[0]].sourceData);let ie;for(ie=0;ie<be.length;ie+=1){const ge=get_each_context$2(Y,be,ie);le[ie]?(le[ie].p(ge,pe),transition_in(le[ie],1)):(le[ie]=create_each_block$2(ge),le[ie].c(),transition_in(le[ie],1),le[ie].m(L,null))}for(group_outros(),ie=be.length;ie<le.length;ie+=1)ke(ie);check_outros()}},i(Y){if(!C){transition_in(r.$$.fragment,Y),transition_in(c.$$.fragment,Y),transition_in(p.$$.fragment,Y),transition_in(b.$$.fragment,Y),transition_in(w.$$.fragment,Y),transition_in(O.$$.fragment,Y);for(let pe=0;pe<be.length;pe+=1)transition_in(le[pe]);C=!0}},o(Y){transition_out(r.$$.fragment,Y),transition_out(c.$$.fragment,Y),transition_out(p.$$.fragment,Y),transition_out(b.$$.fragment,Y),transition_out(w.$$.fragment,Y),transition_out(O.$$.fragment,Y),le=le.filter(Boolean);for(let pe=0;pe<le.length;pe+=1)transition_out(le[pe]);C=!1},d(Y){Y&&(detach(t),detach(I),detach(M),detach(F),detach(L)),destroy_component(r),destroy_component(c),destroy_component(p),destroy_component(b),destroy_component(w),destroy_component(O),destroy_each(le,Y),P=!1,V()}}}function create_each_block_2$1(e){let t,a=e[3][e[3].findIndex(o)].data[e[24]].name+"",r,i;function o(...u){return e[14](e[18],...u)}return{c(){t=element("option"),r=text(a),t.__value=i=e[24],set_input_value(t,t.__value)},m(u,c){insert(u,t,c),append(t,r)},p(u,c){e=u,c&11&&a!==(a=e[3][e[3].findIndex(o)].data[e[24]].name+"")&&set_data(r,a),c&3&&i!==(i=e[24])&&(t.__value=i,set_input_value(t,t.__value))},d(u){u&&detach(t)}}}function create_each_block_1$2(e){let t,a,r=e[21]+"",i,o,u,c,f,d,m,p=ensure_array_like(getFieldNames(e[18])),h=[];for(let g=0;g<p.length;g+=1)h[g]=create_each_block_2$1(get_each_context_2$1(e,p,g));function _(){e[15].call(c,e[21],e[19],e[20])}return{c(){t=element("details"),a=element("summary"),i=text(r),o=text(`:
              
              

              `),u=element("span"),c=element("select");for(let g=0;g<h.length;g+=1)h[g].c();f=space(),attr(c,"class","selectField"),e[18].chartvalues[e[21]].field===void 0&&add_render_callback(_),t.open=!0,attr(t,"class","field no-arrow")},m(g,b){insert(g,t,b),append(t,a),append(a,i),append(a,o),append(a,u),append(u,c);for(let v=0;v<h.length;v+=1)h[v]&&h[v].m(c,null);select_option(c,e[18].chartvalues[e[21]].field,!0),append(t,f),d||(m=listen(c,"change",_),d=!0)},p(g,b){if(e=g,b&3&&r!==(r=e[21]+"")&&set_data(i,r),b&11){p=ensure_array_like(getFieldNames(e[18]));let v;for(v=0;v<p.length;v+=1){const k=get_each_context_2$1(e,p,v);h[v]?h[v].p(k,b):(h[v]=create_each_block_2$1(k),h[v].c(),h[v].m(c,null))}for(;v<h.length;v+=1)h[v].d(1);h.length=p.length}b&3&&select_option(c,e[18].chartvalues[e[21]].field)},d(g){g&&detach(t),destroy_each(h,g),d=!1,m()}}}function create_each_block$2(e){let t,a,r,i,o,u,c,f,d,m=e[3].find(E).displayName+"",p,h,_,g,b,v,k,A,w,T,y,S,O;function z(F){e[11](F,e[18])}let I={};e[18].name!==void 0&&(I.value=e[18].name),r=new InPlaceEdit({props:I}),binding_callbacks.push(()=>bind(r,"value",z));function M(...F){return e[12](e[20],...F)}function E(...F){return e[13](e[18],...F)}let W=ensure_array_like(Object.keys(e[18].chartvalues)),H=[];for(let F=0;F<W.length;F+=1)H[F]=create_each_block_1$2(get_each_context_1$2(e,W,F));function $(){e[16].call(b,e[20])}function D(F){e[17](F,e[20])}let N={min:"0",max:"1",step:"0.01",limits:[0,1],label:"Alpha: "};return e[1][e[0]].sourceData[e[20]].col.alpha!==void 0&&(N.value=e[1][e[0]].sourceData[e[20]].col.alpha),A=new Slider({props:N}),binding_callbacks.push(()=>bind(A,"value",D)),{c(){t=element("details"),a=element("summary"),create_component(r.$$.fragment),o=space(),u=element("div"),u.textContent="",c=space(),f=element("div"),d=text("Table: "),p=text(m),h=space();for(let F=0;F<H.length;F+=1)H[F].c();_=space(),g=element("div"),b=element("input"),v=space(),k=element("div"),create_component(A.$$.fragment),T=space(),attr(u,"class","deleteTable hoverbutton"),attr(f,"class","tableLabel"),attr(b,"class","colourPicker"),attr(b,"id",e[20]),attr(b,"type","color"),set_style(b,"background",e[1][e[0]].sourceData[e[20]].col.hex),attr(k,"class","sliderContainer"),attr(g,"class","colour"),t.open=!0,attr(t,"class","dataTable")},m(F,L){insert(F,t,L),append(t,a),mount_component(r,a,null),append(a,o),append(a,u),append(t,c),append(t,f),append(f,d),append(f,p),append(t,h);for(let C=0;C<H.length;C+=1)H[C]&&H[C].m(t,null);append(t,_),append(t,g),append(g,b),set_input_value(b,e[1][e[0]].sourceData[e[20]].col.hex),append(g,v),append(g,k),mount_component(A,k,null),insert(F,T,L),y=!0,S||(O=[listen(u,"click",M),listen(b,"input",$)],S=!0)},p(F,L){e=F;const C={};if(!i&&L&3&&(i=!0,C.value=e[18].name,add_flush_callback(()=>i=!1)),r.$set(C),(!y||L&11)&&m!==(m=e[3].find(E).displayName+"")&&set_data(p,m),L&11){W=ensure_array_like(Object.keys(e[18].chartvalues));let V;for(V=0;V<W.length;V+=1){const q=get_each_context_1$2(e,W,V);H[V]?H[V].p(q,L):(H[V]=create_each_block_1$2(q),H[V].c(),H[V].m(t,_))}for(;V<H.length;V+=1)H[V].d(1);H.length=W.length}(!y||L&3)&&set_style(b,"background",e[1][e[0]].sourceData[e[20]].col.hex),L&3&&set_input_value(b,e[1][e[0]].sourceData[e[20]].col.hex);const P={};!w&&L&3&&(w=!0,P.value=e[1][e[0]].sourceData[e[20]].col.alpha,add_flush_callback(()=>w=!1)),A.$set(P)},i(F){y||(transition_in(r.$$.fragment,F),transition_in(A.$$.fragment,F),y=!0)},o(F){transition_out(r.$$.fragment,F),transition_out(A.$$.fragment,F),y=!1},d(F){F&&(detach(t),detach(T)),destroy_component(r),destroy_each(H,F),destroy_component(A),S=!1,run_all(O)}}}function create_fragment$2(e){let t,a,r=e[0]>=0&&e[1][e[0]].graph==="Periodogram"&&create_if_block$2(e);return{c(){r&&r.c(),t=empty$1()},m(i,o){r&&r.m(i,o),insert(i,t,o),a=!0},p(i,[o]){i[0]>=0&&i[1][i[0]].graph==="Periodogram"?r?(r.p(i,o),o&3&&transition_in(r,1)):(r=create_if_block$2(i),r.c(),transition_in(r,1),r.m(t.parentNode,t)):r&&(group_outros(),transition_out(r,1,1,()=>{r=null}),check_outros())},i(i){a||(transition_in(r),a=!0)},o(i){transition_out(r),a=!1},d(i){i&&detach(t),r&&r.d(i)}}}function instance$2(e,t,a){let r,i,o,u;component_subscribe(e,activeGraphTab,y=>a(0,r=y)),component_subscribe(e,graphs,y=>a(1,i=y)),component_subscribe(e,graphTabs,y=>a(2,o=y)),component_subscribe(e,data,y=>a(3,u=y));function c(y){e.$$.not_equal(i[r].params.minPeriod,y)&&(i[r].params.minPeriod=y,graphs.set(i))}function f(y){e.$$.not_equal(i[r].params.maxPeriod,y)&&(i[r].params.maxPeriod=y,graphs.set(i))}function d(y){e.$$.not_equal(i[r].params.stepPeriod,y)&&(i[r].params.stepPeriod=y,graphs.set(i))}function m(y){e.$$.not_equal(i[r].params.binSizeHrs,y)&&(i[r].params.binSizeHrs=y,graphs.set(i))}function p(y){e.$$.not_equal(i[r].params.width,y)&&(i[r].params.width=y,graphs.set(i))}function h(y){e.$$.not_equal(i[r].params.height,y)&&(i[r].params.height=y,graphs.set(i))}const _=y=>{y.preventDefault(),createnewDataForGraph(defaultchartvalues$1,defaultother$1)};function g(y,S){e.$$.not_equal(S.name,y)&&(S.name=y,graphs.set(i))}const b=(y,S)=>{S.preventDefault(),removeGraphData(y)},v=(y,S)=>S.id===y.tableID,k=(y,S)=>S.id===y.tableID;function A(y,S,O){S[O].chartvalues[y].field=select_value(this),graphs.set(i)}function w(y){i[r].sourceData[y].col.hex=this.value,graphs.set(i)}function T(y,S){e.$$.not_equal(i[r].sourceData[S].col.alpha,y)&&(i[r].sourceData[S].col.alpha=y,graphs.set(i))}return[r,i,o,u,c,f,d,m,p,h,_,g,b,v,k,A,w,T]}class Periodogram_controls extends SvelteComponent{constructor(t){super(),init(this,t,instance$2,create_fragment$2,safe_not_equal,{})}}const Periodogram_controls$1=Object.freeze(Object.defineProperty({__proto__:null,default:Periodogram_controls},Symbol.toStringTag,{value:"Module"}));function get_each_context$1(e,t,a){const r=e.slice();return r[12]=t[a],r[14]=a,r}function get_each_context_1$1(e,t,a){const r=e.slice();return r[15]=t[a],r[17]=a,r}function create_if_block$1(e){let t,a,r,i,o,u,c,f=e[7][e[6]].params.yAxisLabel+"",d,m,p,h=e[7][e[6]].params.xAxisLabel+"",_,g,b,v,k,A=ensure_array_like(e[1]),w=[];for(let T=0;T<A.length;T+=1)w[T]=create_each_block$1(get_each_context$1(e,A,T));return o=new Axis({props:{innerHeight:e[2],scale:e[8],position:"bottom"}}),u=new Axis({props:{innerHeight:e[2],scale:e[9],position:"left"}}),{c(){t=element("div"),a=svg_element("svg"),r=svg_element("g");for(let T=0;T<w.length;T+=1)w[T].c();i=empty$1(),create_component(o.$$.fragment),create_component(u.$$.fragment),c=svg_element("text"),d=text(f),p=svg_element("text"),_=text(h),set_style(c,"text-anchor","middle"),attr(c,"transform",m=`translate(-30,${e[2]/2}) rotate(-90)     `),set_style(p,"text-anchor","middle"),attr(p,"x",g=e[3]/2),attr(p,"y",b=e[2]+32),attr(r,"transform",`translate(${e[10].left},${e[10].right})`),attr(a,"id","svgContainer"),attr(a,"width",e[4]),attr(a,"height",e[5]),attr(a,"style",v="transform-origin: top left; transform:scale("+e[7][e[6]].zoom+");"),attr(t,"class","rawGraph")},m(T,y){insert(T,t,y),append(t,a),append(a,r);for(let S=0;S<w.length;S+=1)w[S]&&w[S].m(r,null);append(r,i),mount_component(o,r,null),mount_component(u,r,null),append(r,c),append(c,d),append(r,p),append(p,_),k=!0},p(T,y){if(y&963){A=ensure_array_like(T[1]);let z;for(z=0;z<A.length;z+=1){const I=get_each_context$1(T,A,z);w[z]?w[z].p(I,y):(w[z]=create_each_block$1(I),w[z].c(),w[z].m(r,i))}for(;z<w.length;z+=1)w[z].d(1);w.length=A.length}const S={};y&4&&(S.innerHeight=T[2]),y&256&&(S.scale=T[8]),o.$set(S);const O={};y&4&&(O.innerHeight=T[2]),y&512&&(O.scale=T[9]),u.$set(O),(!k||y&192)&&f!==(f=T[7][T[6]].params.yAxisLabel+"")&&set_data(d,f),(!k||y&4&&m!==(m=`translate(-30,${T[2]/2}) rotate(-90)     `))&&attr(c,"transform",m),(!k||y&192)&&h!==(h=T[7][T[6]].params.xAxisLabel+"")&&set_data(_,h),(!k||y&8&&g!==(g=T[3]/2))&&attr(p,"x",g),(!k||y&4&&b!==(b=T[2]+32))&&attr(p,"y",b),(!k||y&16)&&attr(a,"width",T[4]),(!k||y&32)&&attr(a,"height",T[5]),(!k||y&192&&v!==(v="transform-origin: top left; transform:scale("+T[7][T[6]].zoom+");"))&&attr(a,"style",v)},i(T){k||(transition_in(o.$$.fragment,T),transition_in(u.$$.fragment,T),k=!0)},o(T){transition_out(o.$$.fragment,T),transition_out(u.$$.fragment,T),k=!1},d(T){T&&detach(t),destroy_each(w,T),destroy_component(o),destroy_component(u)}}}function create_if_block_1(e){let t,a,r,i,o,u,c,f,d,m,p,h;return{c(){t=svg_element("circle"),attr(t,"tipcontent",a=e[0][e[14]][e[17]]+", "+e[15]),attr(t,"cx",r=e[8](e[0][e[14]][e[17]])),attr(t,"cy",i=e[9](e[15])),attr(t,"r",o=e[7][e[6]].sourceData[e[14]].size),attr(t,"stroke",u=e[7][e[6]].sourceData[e[14]].strokeCol.hex),attr(t,"stroke-opacity",c=e[7][e[6]].sourceData[e[14]].strokeCol.alpha),attr(t,"stroke-width",f=e[7][e[6]].sourceData[e[14]].strokeWidth),attr(t,"fill",d=e[7][e[6]].sourceData[e[14]].col.hex),attr(t,"fill-opacity",m=e[7][e[6]].sourceData[e[14]].col.alpha)},m(_,g){insert(_,t,g),p||(h=action_destroyer(tooltip.call(null,t)),p=!0)},p(_,g){g&3&&a!==(a=_[0][_[14]][_[17]]+", "+_[15])&&attr(t,"tipcontent",a),g&257&&r!==(r=_[8](_[0][_[14]][_[17]]))&&attr(t,"cx",r),g&514&&i!==(i=_[9](_[15]))&&attr(t,"cy",i),g&192&&o!==(o=_[7][_[6]].sourceData[_[14]].size)&&attr(t,"r",o),g&192&&u!==(u=_[7][_[6]].sourceData[_[14]].strokeCol.hex)&&attr(t,"stroke",u),g&192&&c!==(c=_[7][_[6]].sourceData[_[14]].strokeCol.alpha)&&attr(t,"stroke-opacity",c),g&192&&f!==(f=_[7][_[6]].sourceData[_[14]].strokeWidth)&&attr(t,"stroke-width",f),g&192&&d!==(d=_[7][_[6]].sourceData[_[14]].col.hex)&&attr(t,"fill",d),g&192&&m!==(m=_[7][_[6]].sourceData[_[14]].col.alpha)&&attr(t,"fill-opacity",m)},d(_){_&&detach(t),p=!1,h()}}}function create_each_block_1$1(e){let t=e[15]!==null&&!isNaN(e[15])&&e[0][e[14]][e[17]]!==null&&!isNaN(e[0][e[14]][e[17]]),a,r=t&&create_if_block_1(e);return{c(){r&&r.c(),a=empty$1()},m(i,o){r&&r.m(i,o),insert(i,a,o)},p(i,o){o&3&&(t=i[15]!==null&&!isNaN(i[15])&&i[0][i[14]][i[17]]!==null&&!isNaN(i[0][i[14]][i[17]])),t?r?r.p(i,o):(r=create_if_block_1(i),r.c(),r.m(a.parentNode,a)):r&&(r.d(1),r=null)},d(i){i&&detach(a),r&&r.d(i)}}}function create_each_block$1(e){let t,a=ensure_array_like(e[12]),r=[];for(let i=0;i<a.length;i+=1)r[i]=create_each_block_1$1(get_each_context_1$1(e,a,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=empty$1()},m(i,o){for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(i,o);insert(i,t,o)},p(i,o){if(o&963){a=ensure_array_like(i[12]);let u;for(u=0;u<a.length;u+=1){const c=get_each_context_1$1(i,a,u);r[u]?r[u].p(c,o):(r[u]=create_each_block_1$1(c),r[u].c(),r[u].m(t.parentNode,t))}for(;u<r.length;u+=1)r[u].d(1);r.length=a.length}},d(i){i&&detach(t),destroy_each(r,i)}}}function create_fragment$1(e){var i,o;let t,a,r=((i=e[7][e[6]])==null?void 0:i.graph)==="Raw"&&((o=e[7][e[6]])==null?void 0:o.sourceData.length)>0&&create_if_block$1(e);return{c(){r&&r.c(),t=empty$1()},m(u,c){r&&r.m(u,c),insert(u,t,c),a=!0},p(u,[c]){var f,d;((f=u[7][u[6]])==null?void 0:f.graph)==="Raw"&&((d=u[7][u[6]])==null?void 0:d.sourceData.length)>0?r?(r.p(u,c),c&192&&transition_in(r,1)):(r=create_if_block$1(u),r.c(),transition_in(r,1),r.m(t.parentNode,t)):r&&(group_outros(),transition_out(r,1,1,()=>{r=null}),check_outros())},i(u){a||(transition_in(r),a=!0)},o(u){transition_out(r),a=!1},d(u){u&&detach(t),r&&r.d(u)}}}function instance$1(e,t,a){let r,i,o,u,c,f,d;component_subscribe(e,activeGraphTab,b=>a(6,c=b)),component_subscribe(e,graphs,b=>a(7,f=b)),component_subscribe(e,data,b=>a(11,d=b));const m={top:20,bottom:60,left:60,right:20};let p=[],h=[],_,g;return e.$$.update=()=>{var b,v,k;if(e.$$.dirty&192&&a(4,r=(b=f[c])==null?void 0:b.params.width),e.$$.dirty&192&&a(5,i=(v=f[c])==null?void 0:v.params.height),e.$$.dirty&32&&a(2,o=i-m.top-m.bottom),e.$$.dirty&16&&a(3,u=r-m.left-m.right),e.$$.dirty&2255){a(0,p=[]),a(1,h=[]);let A,w;((k=f[c])==null?void 0:k.graph)==="Raw"&&(f[c].sourceData.forEach((T,y)=>{d.findIndex(S=>S.id===T.tableID),T.chartvalues.x.field!=""&&(A=getDataFromSource(y,T.chartvalues.x)),T.chartvalues.y.field!=""&&(w=getDataFromSource(y,T.chartvalues.y)),p.push(A),h.push(w)}),a(8,_=linear().domain([f[c].params.xDomainMin,f[c].params.xDomainMax]).range([0,u])),a(9,g=linear().domain([f[c].params.yDomainMin,f[c].params.yDomainMax]).range([o,0])))}},[p,h,o,u,r,i,c,f,_,g,m,d]}class Raw extends SvelteComponent{constructor(t){super(),init(this,t,instance$1,create_fragment$1,safe_not_equal,{})}}const Raw$1=Object.freeze(Object.defineProperty({__proto__:null,default:Raw},Symbol.toStringTag,{value:"Module"})),defaultParams={width:600,height:200,yDomainMin:0,yDomainMax:200,xDomainMin:0,xDomainMax:680,yAxisLabel:"y-axis",xAxisLabel:"x-axis title here"},defaultchartvalues={x:"any",y:"any"},defaultother={col:{hex:"#78322e",alpha:.5},size:2,strokeWidth:1,strokeCol:{hex:"#000000",alpha:.9}};class Raw_defaults extends SvelteComponent{constructor(t){super(),init(this,t,null,null,safe_not_equal,{})}}const Raw_defaults$1=Object.freeze(Object.defineProperty({__proto__:null,default:Raw_defaults,defaultParams,defaultchartvalues,defaultother},Symbol.toStringTag,{value:"Module"}));function get_each_context(e,t,a){const r=e.slice();return r[24]=t[a],r[25]=t,r[26]=a,r}function get_each_context_1(e,t,a){const r=e.slice();return r[27]=t[a],r[28]=t,r[29]=a,r}function get_each_context_2(e,t,a){const r=e.slice();return r[30]=t[a],r}function create_if_block(e){let t,a,r,i,o,u,c,f,d,m,p,h,_,g,b,v,k,A,w,T,y,S,O,z,I,M,E,W,H,$,D,N,F,L,C,P,V,q=e[2][e[0]].name+"",j,x,B,ne,oe,Z,ve,ae,me;function fe(G){e[4](G)}let ue={min:100,max:1e3,limits:[5,1/0],label:"Width:"};e[1][e[0]].params.width!==void 0&&(ue.value=e[1][e[0]].params.width),r=new Slider({props:ue}),binding_callbacks.push(()=>bind(r,"value",fe));function be(G){e[5](G)}let le={min:10,max:3e3,limits:[5,1/0],label:"Height: "};e[1][e[0]].params.height!==void 0&&(le.value=e[1][e[0]].params.height),c=new Slider({props:le}),binding_callbacks.push(()=>bind(c,"value",be));function ke(G){e[7](G)}let Y={min:-10,max:30,label:"Min X:"};e[1][e[0]].params.xDomainMin!==void 0&&(Y.value=e[1][e[0]].params.xDomainMin),v=new Slider({props:Y}),binding_callbacks.push(()=>bind(v,"value",ke));function pe(G){e[8](G)}let se={min:-10,max:30,label:"Max X:"};e[1][e[0]].params.xDomainMax!==void 0&&(se.value=e[1][e[0]].params.xDomainMax),T=new Slider({props:se}),binding_callbacks.push(()=>bind(T,"value",pe));function ye(G){e[10](G)}let X={min:-10,max:30,label:"Min Y:"};e[1][e[0]].params.yDomainMin!==void 0&&(X.value=e[1][e[0]].params.yDomainMin),H=new Slider({props:X}),binding_callbacks.push(()=>bind(H,"value",ye));function he(G){e[11](G)}let we={min:-10,max:30,label:"Max Y:"};e[1][e[0]].params.yDomainMax!==void 0&&(we.value=e[1][e[0]].params.yDomainMax),F=new Slider({props:we}),binding_callbacks.push(()=>bind(F,"value",he));let ce=ensure_array_like(e[1][e[0]].sourceData),ie=[];for(let G=0;G<ce.length;G+=1)ie[G]=create_each_block(get_each_context(e,ce,G));const ge=G=>transition_out(ie[G],1,1,()=>{ie[G]=null});return{c(){t=element("div"),a=element("div"),create_component(r.$$.fragment),o=space(),u=element("div"),create_component(c.$$.fragment),d=space(),m=element("div"),p=element("label"),p.textContent="X-axis:",h=space(),_=element("input"),g=space(),b=element("div"),create_component(v.$$.fragment),A=space(),w=element("div"),create_component(T.$$.fragment),S=space(),O=element("div"),z=element("label"),z.textContent="Y-axis:",I=space(),M=element("input"),E=space(),W=element("div"),create_component(H.$$.fragment),D=space(),N=element("div"),create_component(F.$$.fragment),C=space(),P=element("div"),V=element("h1"),j=text(q),x=text(" Data"),B=space(),ne=element("span"),ne.textContent="+",oe=space(),Z=element("div");for(let G=0;G<ie.length;G+=1)ie[G].c();attr(a,"class","sliderContainer"),attr(u,"class","sliderContainer"),attr(p,"for","val"),attr(_,"type","text"),attr(_,"id","min"),attr(m,"class","sliderContainer"),attr(b,"class","sliderContainer"),attr(w,"class","sliderContainer"),attr(z,"for","val"),attr(M,"type","text"),attr(M,"id","min"),attr(O,"class","sliderContainer"),attr(W,"class","sliderContainer"),attr(N,"class","sliderContainer"),attr(t,"class","chartControls"),set_style(V,"display","inline"),attr(ne,"class","addbutton hoverbutton showContextMenu"),set_style(P,"margin","1em 1em 0 0"),attr(Z,"class","graphDataTree")},m(G,R){insert(G,t,R),append(t,a),mount_component(r,a,null),append(t,o),append(t,u),mount_component(c,u,null),append(t,d),append(t,m),append(m,p),append(m,h),append(m,_),set_input_value(_,e[1][e[0]].params.xAxisLabel),append(t,g),append(t,b),mount_component(v,b,null),append(t,A),append(t,w),mount_component(T,w,null),append(t,S),append(t,O),append(O,z),append(O,I),append(O,M),set_input_value(M,e[1][e[0]].params.yAxisLabel),append(t,E),append(t,W),mount_component(H,W,null),append(t,D),append(t,N),mount_component(F,N,null),insert(G,C,R),insert(G,P,R),append(P,V),append(V,j),append(V,x),append(P,B),append(P,ne),insert(G,oe,R),insert(G,Z,R);for(let ee=0;ee<ie.length;ee+=1)ie[ee]&&ie[ee].m(Z,null);ve=!0,ae||(me=[listen(_,"input",e[6]),listen(M,"input",e[9]),listen(ne,"click",e[12])],ae=!0)},p(G,R){const ee={};!i&&R[0]&3&&(i=!0,ee.value=G[1][G[0]].params.width,add_flush_callback(()=>i=!1)),r.$set(ee);const Q={};!f&&R[0]&3&&(f=!0,Q.value=G[1][G[0]].params.height,add_flush_callback(()=>f=!1)),c.$set(Q),R[0]&3&&_.value!==G[1][G[0]].params.xAxisLabel&&set_input_value(_,G[1][G[0]].params.xAxisLabel);const J={};!k&&R[0]&3&&(k=!0,J.value=G[1][G[0]].params.xDomainMin,add_flush_callback(()=>k=!1)),v.$set(J);const de={};!y&&R[0]&3&&(y=!0,de.value=G[1][G[0]].params.xDomainMax,add_flush_callback(()=>y=!1)),T.$set(de),R[0]&3&&M.value!==G[1][G[0]].params.yAxisLabel&&set_input_value(M,G[1][G[0]].params.yAxisLabel);const te={};!$&&R[0]&3&&($=!0,te.value=G[1][G[0]].params.yDomainMin,add_flush_callback(()=>$=!1)),H.$set(te);const U={};if(!L&&R[0]&3&&(L=!0,U.value=G[1][G[0]].params.yDomainMax,add_flush_callback(()=>L=!1)),F.$set(U),(!ve||R[0]&5)&&q!==(q=G[2][G[0]].name+"")&&set_data(j,q),R[0]&11){ce=ensure_array_like(G[1][G[0]].sourceData);let K;for(K=0;K<ce.length;K+=1){const _e=get_each_context(G,ce,K);ie[K]?(ie[K].p(_e,R),transition_in(ie[K],1)):(ie[K]=create_each_block(_e),ie[K].c(),transition_in(ie[K],1),ie[K].m(Z,null))}for(group_outros(),K=ce.length;K<ie.length;K+=1)ge(K);check_outros()}},i(G){if(!ve){transition_in(r.$$.fragment,G),transition_in(c.$$.fragment,G),transition_in(v.$$.fragment,G),transition_in(T.$$.fragment,G),transition_in(H.$$.fragment,G),transition_in(F.$$.fragment,G);for(let R=0;R<ce.length;R+=1)transition_in(ie[R]);ve=!0}},o(G){transition_out(r.$$.fragment,G),transition_out(c.$$.fragment,G),transition_out(v.$$.fragment,G),transition_out(T.$$.fragment,G),transition_out(H.$$.fragment,G),transition_out(F.$$.fragment,G),ie=ie.filter(Boolean);for(let R=0;R<ie.length;R+=1)transition_out(ie[R]);ve=!1},d(G){G&&(detach(t),detach(C),detach(P),detach(oe),detach(Z)),destroy_component(r),destroy_component(c),destroy_component(v),destroy_component(T),destroy_component(H),destroy_component(F),destroy_each(ie,G),ae=!1,run_all(me)}}}function create_each_block_2(e){let t,a=e[3][e[3].findIndex(o)].data[e[30]].name+"",r,i;function o(...u){return e[16](e[24],...u)}return{c(){t=element("option"),r=text(a),t.__value=i=e[30],set_input_value(t,t.__value)},m(u,c){insert(u,t,c),append(t,r)},p(u,c){e=u,c[0]&11&&a!==(a=e[3][e[3].findIndex(o)].data[e[30]].name+"")&&set_data(r,a),c[0]&3&&i!==(i=e[30])&&(t.__value=i,set_input_value(t,t.__value))},d(u){u&&detach(t)}}}function create_each_block_1(e){let t,a,r=e[27]+"",i,o,u,c,f,d,m,p=ensure_array_like(getFieldNames(e[24])),h=[];for(let g=0;g<p.length;g+=1)h[g]=create_each_block_2(get_each_context_2(e,p,g));function _(){e[17].call(c,e[27],e[25],e[26])}return{c(){t=element("details"),a=element("summary"),i=text(r),o=text(`:
              
              

              `),u=element("span"),c=element("select");for(let g=0;g<h.length;g+=1)h[g].c();f=space(),attr(c,"class","selectField"),e[24].chartvalues[e[27]].field===void 0&&add_render_callback(_),t.open=!0,attr(t,"class","field no-arrow")},m(g,b){insert(g,t,b),append(t,a),append(a,i),append(a,o),append(a,u),append(u,c);for(let v=0;v<h.length;v+=1)h[v]&&h[v].m(c,null);select_option(c,e[24].chartvalues[e[27]].field,!0),append(t,f),d||(m=listen(c,"change",_),d=!0)},p(g,b){if(e=g,b[0]&3&&r!==(r=e[27]+"")&&set_data(i,r),b[0]&11){p=ensure_array_like(getFieldNames(e[24]));let v;for(v=0;v<p.length;v+=1){const k=get_each_context_2(e,p,v);h[v]?h[v].p(k,b):(h[v]=create_each_block_2(k),h[v].c(),h[v].m(c,null))}for(;v<h.length;v+=1)h[v].d(1);h.length=p.length}b[0]&3&&select_option(c,e[24].chartvalues[e[27]].field)},d(g){g&&detach(t),destroy_each(h,g),d=!1,m()}}}function create_each_block(e){let t,a,r,i,o,u,c,f,d,m=e[3].find(ne).displayName+"",p,h,_,g,b,v,k,A,w,T,y,S,O,z,I,M,E,W,H,$,D,N,F,L,C,P,V,q;function j(se){e[13](se,e[24])}let x={};e[24].name!==void 0&&(x.value=e[24].name),r=new InPlaceEdit({props:x}),binding_callbacks.push(()=>bind(r,"value",j));function B(...se){return e[14](e[26],...se)}function ne(...se){return e[15](e[24],...se)}let oe=ensure_array_like(Object.keys(e[24].chartvalues)),Z=[];for(let se=0;se<oe.length;se+=1)Z[se]=create_each_block_1(get_each_context_1(e,oe,se));function ve(){e[18].call(b,e[26])}function ae(se){e[19](se,e[26])}let me={min:"0",max:"1",step:"0.01",limits:[0,1],label:"Alpha: "};e[1][e[0]].sourceData[e[26]].col.alpha!==void 0&&(me.value=e[1][e[0]].sourceData[e[26]].col.alpha),A=new Slider({props:me}),binding_callbacks.push(()=>bind(A,"value",ae));function fe(se){e[20](se,e[26])}let ue={min:"0.5",max:"10",step:"0.5",label:"Size: "};e[1][e[0]].sourceData[e[26]].size!==void 0&&(ue.value=e[1][e[0]].sourceData[e[26]].size),S=new Slider({props:ue}),binding_callbacks.push(()=>bind(S,"value",fe));function be(se){e[21](se,e[26])}let le={min:"0.5",max:"10",step:"0.5",label:"Stroke width: "};e[1][e[0]].sourceData[e[26]].strokeWidth!==void 0&&(le.value=e[1][e[0]].sourceData[e[26]].strokeWidth),M=new Slider({props:le}),binding_callbacks.push(()=>bind(M,"value",be));function ke(){e[22].call($,e[26])}function Y(se){e[23](se,e[26])}let pe={min:"0",max:"1",step:"0.01",limits:[0,1],label:"Stroke alpha: "};return e[1][e[0]].sourceData[e[26]].strokeCol.alpha!==void 0&&(pe.value=e[1][e[0]].sourceData[e[26]].strokeCol.alpha),F=new Slider({props:pe}),binding_callbacks.push(()=>bind(F,"value",Y)),{c(){t=element("details"),a=element("summary"),create_component(r.$$.fragment),o=space(),u=element("div"),u.textContent="",c=space(),f=element("div"),d=text("Table: "),p=text(m),h=space();for(let se=0;se<Z.length;se+=1)Z[se].c();_=space(),g=element("div"),b=element("input"),v=space(),k=element("div"),create_component(A.$$.fragment),T=space(),y=element("div"),create_component(S.$$.fragment),z=space(),I=element("div"),create_component(M.$$.fragment),W=space(),H=element("div"),$=element("input"),D=space(),N=element("div"),create_component(F.$$.fragment),C=space(),attr(u,"class","deleteTable hoverbutton"),attr(f,"class","tableLabel"),attr(b,"class","colourPicker"),attr(b,"id",e[26]),attr(b,"type","color"),set_style(b,"background",e[1][e[0]].sourceData[e[26]].col.hex),attr(k,"class","sliderContainer"),attr(g,"class","colour"),attr(y,"class","itemsliderContainer"),attr(I,"class","itemsliderContainer"),attr($,"class","colourPicker"),attr($,"id",e[26]),attr($,"type","color"),set_style($,"background",e[1][e[0]].sourceData[e[26]].strokeCol.hex),attr(N,"class","sliderContainer"),attr(H,"class","colour"),t.open=!0,attr(t,"class","dataTable")},m(se,ye){insert(se,t,ye),append(t,a),mount_component(r,a,null),append(a,o),append(a,u),append(t,c),append(t,f),append(f,d),append(f,p),append(t,h);for(let X=0;X<Z.length;X+=1)Z[X]&&Z[X].m(t,null);append(t,_),append(t,g),append(g,b),set_input_value(b,e[1][e[0]].sourceData[e[26]].col.hex),append(g,v),append(g,k),mount_component(A,k,null),append(t,T),append(t,y),mount_component(S,y,null),append(t,z),append(t,I),mount_component(M,I,null),append(t,W),append(t,H),append(H,$),set_input_value($,e[1][e[0]].sourceData[e[26]].strokeCol.hex),append(H,D),append(H,N),mount_component(F,N,null),insert(se,C,ye),P=!0,V||(q=[listen(u,"click",B),listen(b,"input",ve),listen($,"input",ke)],V=!0)},p(se,ye){e=se;const X={};if(!i&&ye[0]&3&&(i=!0,X.value=e[24].name,add_flush_callback(()=>i=!1)),r.$set(X),(!P||ye[0]&11)&&m!==(m=e[3].find(ne).displayName+"")&&set_data(p,m),ye[0]&11){oe=ensure_array_like(Object.keys(e[24].chartvalues));let ge;for(ge=0;ge<oe.length;ge+=1){const G=get_each_context_1(e,oe,ge);Z[ge]?Z[ge].p(G,ye):(Z[ge]=create_each_block_1(G),Z[ge].c(),Z[ge].m(t,_))}for(;ge<Z.length;ge+=1)Z[ge].d(1);Z.length=oe.length}(!P||ye[0]&3)&&set_style(b,"background",e[1][e[0]].sourceData[e[26]].col.hex),ye[0]&3&&set_input_value(b,e[1][e[0]].sourceData[e[26]].col.hex);const he={};!w&&ye[0]&3&&(w=!0,he.value=e[1][e[0]].sourceData[e[26]].col.alpha,add_flush_callback(()=>w=!1)),A.$set(he);const we={};!O&&ye[0]&3&&(O=!0,we.value=e[1][e[0]].sourceData[e[26]].size,add_flush_callback(()=>O=!1)),S.$set(we);const ce={};!E&&ye[0]&3&&(E=!0,ce.value=e[1][e[0]].sourceData[e[26]].strokeWidth,add_flush_callback(()=>E=!1)),M.$set(ce),(!P||ye[0]&3)&&set_style($,"background",e[1][e[0]].sourceData[e[26]].strokeCol.hex),ye[0]&3&&set_input_value($,e[1][e[0]].sourceData[e[26]].strokeCol.hex);const ie={};!L&&ye[0]&3&&(L=!0,ie.value=e[1][e[0]].sourceData[e[26]].strokeCol.alpha,add_flush_callback(()=>L=!1)),F.$set(ie)},i(se){P||(transition_in(r.$$.fragment,se),transition_in(A.$$.fragment,se),transition_in(S.$$.fragment,se),transition_in(M.$$.fragment,se),transition_in(F.$$.fragment,se),P=!0)},o(se){transition_out(r.$$.fragment,se),transition_out(A.$$.fragment,se),transition_out(S.$$.fragment,se),transition_out(M.$$.fragment,se),transition_out(F.$$.fragment,se),P=!1},d(se){se&&(detach(t),detach(C)),destroy_component(r),destroy_each(Z,se),destroy_component(A),destroy_component(S),destroy_component(M),destroy_component(F),V=!1,run_all(q)}}}function create_fragment(e){let t,a,r=e[0]>=0&&e[1][e[0]].graph==="Raw"&&create_if_block(e);return{c(){r&&r.c(),t=empty$1()},m(i,o){r&&r.m(i,o),insert(i,t,o),a=!0},p(i,o){i[0]>=0&&i[1][i[0]].graph==="Raw"?r?(r.p(i,o),o[0]&3&&transition_in(r,1)):(r=create_if_block(i),r.c(),transition_in(r,1),r.m(t.parentNode,t)):r&&(group_outros(),transition_out(r,1,1,()=>{r=null}),check_outros())},i(i){a||(transition_in(r),a=!0)},o(i){transition_out(r),a=!1},d(i){i&&detach(t),r&&r.d(i)}}}function instance(e,t,a){let r,i,o,u;component_subscribe(e,activeGraphTab,E=>a(0,r=E)),component_subscribe(e,graphs,E=>a(1,i=E)),component_subscribe(e,graphTabs,E=>a(2,o=E)),component_subscribe(e,data,E=>a(3,u=E));function c(E){e.$$.not_equal(i[r].params.width,E)&&(i[r].params.width=E,graphs.set(i))}function f(E){e.$$.not_equal(i[r].params.height,E)&&(i[r].params.height=E,graphs.set(i))}function d(){i[r].params.xAxisLabel=this.value,graphs.set(i)}function m(E){e.$$.not_equal(i[r].params.xDomainMin,E)&&(i[r].params.xDomainMin=E,graphs.set(i))}function p(E){e.$$.not_equal(i[r].params.xDomainMax,E)&&(i[r].params.xDomainMax=E,graphs.set(i))}function h(){i[r].params.yAxisLabel=this.value,graphs.set(i)}function _(E){e.$$.not_equal(i[r].params.yDomainMin,E)&&(i[r].params.yDomainMin=E,graphs.set(i))}function g(E){e.$$.not_equal(i[r].params.yDomainMax,E)&&(i[r].params.yDomainMax=E,graphs.set(i))}const b=E=>{E.preventDefault(),createnewDataForGraph(defaultchartvalues,defaultother)};function v(E,W){e.$$.not_equal(W.name,E)&&(W.name=E,graphs.set(i))}const k=(E,W)=>{W.preventDefault(),removeGraphData(E)},A=(E,W)=>W.id===E.tableID,w=(E,W)=>W.id===E.tableID;function T(E,W,H){W[H].chartvalues[E].field=select_value(this),graphs.set(i)}function y(E){i[r].sourceData[E].col.hex=this.value,graphs.set(i)}function S(E,W){e.$$.not_equal(i[r].sourceData[W].col.alpha,E)&&(i[r].sourceData[W].col.alpha=E,graphs.set(i))}function O(E,W){e.$$.not_equal(i[r].sourceData[W].size,E)&&(i[r].sourceData[W].size=E,graphs.set(i))}function z(E,W){e.$$.not_equal(i[r].sourceData[W].strokeWidth,E)&&(i[r].sourceData[W].strokeWidth=E,graphs.set(i))}function I(E){i[r].sourceData[E].strokeCol.hex=this.value,graphs.set(i)}function M(E,W){e.$$.not_equal(i[r].sourceData[W].strokeCol.alpha,E)&&(i[r].sourceData[W].strokeCol.alpha=E,graphs.set(i))}return[r,i,o,u,c,f,d,m,p,h,_,g,b,v,k,A,w,T,y,S,O,z,I,M]}class Raw_controls extends SvelteComponent{constructor(t){super(),init(this,t,instance,create_fragment,safe_not_equal,{},null,[-1,-1])}}const Raw_controls$1=Object.freeze(Object.defineProperty({__proto__:null,default:Raw_controls},Symbol.toStringTag,{value:"Module"}));

</script>
    <style>
*,html{font-size:10pt;color:var(--font-color)}body{-webkit-tap-highlight-color:transparent;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;background:var(--bg-color)}h1{padding:6px 6px 0;font-weight:700;font-size:1.2em;text-decoration:none}button{cursor:pointer}::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#f5f5f5}::-webkit-scrollbar{width:6px;height:6px;background-color:var(--bg-color)}::-webkit-scrollbar-thumb{background-color:var(--secondary-color)}.splitpanes.modern-theme .splitpanes__pane{background-color:hsl(var(--b1))}.splitpanes__splitter{position:relative;cursor:grab;padding:.2em;opacity:.6}.splitpanes--vertical>.splitpanes__splitter{cursor:col-resize}.splitpanes--horizontal>.splitpanes__splitter{cursor:row-resize}.splitpanes.modern-theme .splitpanes__splitter{background-color:var(--hover-color);position:relative}.splitpanes__splitter:before{content:"";position:absolute;left:0;top:0;transition:opacity .4s;background-color:var(--bg-color);opacity:0;z-index:1}.splitpanes__splitter:hover{opacity:.6}.splitpanes__splitter:hover:before{opacity:.6}.splitpanes--vertical>.splitpanes__splitter:before{left:-3px;right:-3px;height:100%}.splitpanes--horizontal>.splitpanes__splitter:before{top:-3px;bottom:-3px;width:100%}.chartControls{width:calc(100% - 28px);border-radius:0;min-width:184px;box-shadow:1px 1px 5px #888;padding:10px 8px;margin:10px 0 10px 6px}.sliderContainer{width:calc(100% - .5em);display:flex}.sliderContainer>label{line-height:1rem;align-self:center;display:flex;padding:15px 0}input[type=number]{width:4em;max-width:6em;height:1.1rem;border-radius:.5rem;margin-left:auto;align-self:center;padding-left:4px;border-width:1px;text-align:end;background:var(--bg-color)}input[type=text],input[type=datetime-local]{height:1.4em;border-radius:.5rem;align-self:center;padding-left:4px;border-width:1px;display:flex;margin-left:auto;width:60%;background:var(--bg-color)}select{height:1.5rem;align-self:center;border-radius:.5rem;width:50%;float:right;margin-right:calc(.5em + 2px);margin-top:-2px;background-color:var(--bg-color)}.processItem{flex-basis:100%;flex-grow:0;flex-shrink:0}g.axis>path{font-size:10pt;stroke:var(--font-color)!important}#thePlot svg{border:1px solid var(--hover-color)}.graphDataTree{width:calc(100% - 12px);border-radius:0;margin-left:6px;min-width:200px}details{padding:0 10px}summary{padding:0 10px;cursor:pointer}.dataTable{box-shadow:1px 1px 5px #888;padding:10px 0;margin:8px 0 10px}.dataTable>summary{font-size:1.1em;font-weight:700}.tableLabel{margin:1em 1em .5em}.field{margin-left:1.5em;padding:5px 0}.process[open]{margin-bottom:15px;margin-top:5px;margin-right:10px;box-shadow:1px 1px 5px #888}.process{margin-left:1.5em;padding:5px 0;margin-right:10px;box-shadow:1px 1px 5px #888}.otherItemDetail[open]{margin:10px;box-shadow:1px 1px 5px #888}.otherItemDetail{margin:10px;padding:5px 0;box-shadow:1px 1px 5px #888}.processDetails{padding:.5em}.no-arrow summary{list-style:none;cursor:default}.no-arrow summary:before{content:"";margin-left:-2px}.addbutton{float:right;cursor:pointer;margin-right:0}.addbutton:hover{background:var(--hover-color);padding:.2em .5em;margin-right:-.5em;margin-top:-.2em;border-radius:20%}.deleteTable{float:right;cursor:pointer;margin-right:0;z-index:2}.hoverbutton:hover{background:var(--hover-color);padding:.2em .5em;margin:-.2em -.5em;border-radius:20%;cursor:pointer}.deleteProcess{float:right;cursor:pointer;margin-right:0}.colour{display:flex;align-items:center;margin-left:1em;margin-right:1em}.colourPicker{border-radius:25px;height:2em;padding:0;width:2em;margin-right:1em}.colourPicker::-webkit-color-swatch{display:none}.colourPicker::-moz-color-swatch{display:none}.sliderContainer{width:calc(100% - 3.5em)}.itemsliderContainer{width:calc(100% - 2em);margin-left:1em}div.splitpanes--horizontal.splitpanes--dragging{cursor:row-resize}div.splitpanes--vertical.splitpanes--dragging{cursor:col-resize}.splitpanes{display:flex;width:100%;height:100%}.splitpanes--vertical{flex-direction:row}.splitpanes--horizontal{flex-direction:column}.splitpanes--dragging *{-webkit-user-select:none;-moz-user-select:none;user-select:none}.splitpanes__pane{width:100%;height:100%;overflow:hidden}.splitpanes--vertical .splitpanes__pane{transition:width .2s ease-out}.splitpanes--horizontal .splitpanes__pane{transition:height .2s ease-out}.splitpanes--vertical>.splitpanes__pane{transition:width .2s ease-out}.splitpanes--horizontal>.splitpanes__pane{transition:height .2s ease-out}.splitpanes--dragging .splitpanes__pane{transition:none;pointer-events:none}.splitpanes--freeze .splitpanes__pane{transition:none}.splitpanes__splitter{touch-action:none}.splitpanes--vertical>.splitpanes__splitter{min-width:1px}.splitpanes--horizontal>.splitpanes__splitter{min-height:1px}.splitpanes.default-theme .splitpanes__pane{background-color:#f2f2f2}.splitpanes.default-theme .splitpanes__splitter{background-color:#fff;box-sizing:border-box;position:relative;flex-shrink:0}.splitpanes.default-theme .splitpanes__splitter:before,.splitpanes.default-theme .splitpanes__splitter:after{content:"";position:absolute;top:50%;left:50%;background-color:#00000026;transition:background-color .3s}.splitpanes.default-theme .splitpanes__splitter:hover:before,.splitpanes.default-theme .splitpanes__splitter:hover:after{background-color:#00000040}.splitpanes.default-theme .splitpanes__splitter:first-child{cursor:auto}.default-theme.splitpanes .splitpanes .splitpanes__splitter{z-index:1}.default-theme.splitpanes--vertical>.splitpanes__splitter,.default-theme .splitpanes--vertical>.splitpanes__splitter{width:7px;border-left:1px solid #eee;cursor:col-resize}.default-theme.splitpanes--vertical>.splitpanes__splitter:before,.default-theme.splitpanes--vertical>.splitpanes__splitter:after,.default-theme .splitpanes--vertical>.splitpanes__splitter:before,.default-theme .splitpanes--vertical>.splitpanes__splitter:after{transform:translateY(-50%);width:1px;height:30px}.default-theme.splitpanes--vertical>.splitpanes__splitter:before,.default-theme .splitpanes--vertical>.splitpanes__splitter:before{margin-left:-2px}.default-theme.splitpanes--vertical>.splitpanes__splitter:after,.default-theme .splitpanes--vertical>.splitpanes__splitter:after{margin-left:1px}.default-theme.splitpanes--horizontal>.splitpanes__splitter,.default-theme .splitpanes--horizontal>.splitpanes__splitter{height:7px;border-top:1px solid #eee;cursor:row-resize}.default-theme.splitpanes--horizontal>.splitpanes__splitter:before,.default-theme.splitpanes--horizontal>.splitpanes__splitter:after,.default-theme .splitpanes--horizontal>.splitpanes__splitter:before,.default-theme .splitpanes--horizontal>.splitpanes__splitter:after{transform:translate(-50%);width:30px;height:1px}.default-theme.splitpanes--horizontal>.splitpanes__splitter:before,.default-theme .splitpanes--horizontal>.splitpanes__splitter:before{margin-top:-2px}.default-theme.splitpanes--horizontal>.splitpanes__splitter:after,.default-theme .splitpanes--horizontal>.splitpanes__splitter:after{margin-top:1px}.backdrop.svelte-r5e5cj{position:absolute;top:0;left:0;height:100vh;width:100vw;background:#fffc;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);z-index:9998}dialog.svelte-r5e5cj{display:block;position:absolute;top:10vh;z-index:1000;max-height:80vh;max-width:80vw;min-width:270px;overflow:auto;background:var(--bg-color);z-index:9999;box-shadow:5px 5px 15px var(--secondary-color);border:none;border-radius:5px}.closeDialogButton.svelte-r5e5cj{width:15px;cursor:pointer;padding:0;float:right;margin-right:5px;margin-top:-10px;border:none;background-color:var(--bg-color)}svg.svelte-r5e5cj:hover{stroke:red}.numberInput.svelte-3cymjj.svelte-3cymjj{width:40%;max-width:6em;float:right;height:1.1rem;border-radius:.5rem;margin-left:auto;align-self:center;padding-left:4px;border-width:1px;text-align:end;background:var(--bg-color)}.sliderInput.svelte-3cymjj.svelte-3cymjj{width:100%;accent-color:var(--primary-color);cursor:pointer;box-sizing:border-box}.sliderLabel.svelte-3cymjj.svelte-3cymjj{line-height:1rem;display:flex}.sliderLabel.svelte-3cymjj>span.svelte-3cymjj{align-self:center}.processItem.svelte-3cymjj.svelte-3cymjj{padding:5px 0}.min.svelte-3cymjj.svelte-3cymjj{font-size:.7em;display:block;margin-top:-.7em;margin-left:.2em}.max.svelte-3cymjj.svelte-3cymjj{font-size:.7em;display:block;margin-top:-1.3em;margin-left:.2em;float:right}.stop.svelte-3cymjj.svelte-3cymjj{font-style:italic;text-decoration:underline}.addSimDataButton.svelte-13hhe3j{float:right;margin-top:-2.2em}.addSimDataButton.svelte-13hhe3j:hover{background:var(--hover-color);padding:.2em .5em;margin:-2.4em -.5em;border-radius:20%;cursor:pointer}.dataTitle.svelte-13hhe3j{margin-top:10px}.datum.svelte-13hhe3j{box-shadow:1px 1px 5px var(--secondary-color);padding:2px 10px;margin:0 0 10px}.removeData.svelte-13hhe3j{display:inline-block;float:right;cursor:pointer;margin-top:-1.3em}.hoverbutton.svelte-13hhe3j:hover{background:var(--hover-color);padding:.2em .5em;margin:-1.5em -.5em;border-radius:20%;cursor:pointer}span.svelte-1tdrfqa{cursor:context-menu}form.svelte-1tdrfqa{display:inline}input.svelte-1tdrfqa{display:inherit;border:none;background:inherit;background-color:inherit;font-size:inherit;color:inherit;font-weight:inherit;text-align:inherit;box-shadow:none}.editing.svelte-1tdrfqa{font-style:italic}div.svelte-1wb4l5o{border:1px solid #ddd;box-shadow:1px 1px 1px #ddd;background:#fff;border-radius:4px;padding:4px;position:absolute}.dataTree.svelte-1vynm26.svelte-1vynm26{width:calc(100% - 6px);border-radius:0;margin-left:1px;min-width:200px}details.svelte-1vynm26.svelte-1vynm26{padding:0 10px}summary.svelte-1vynm26.svelte-1vynm26{padding:0 10px;cursor:pointer}.dataTable.svelte-1vynm26.svelte-1vynm26{box-shadow:1px 1px 5px #888;padding:10px 0;margin:8px 0 10px}.dataTable.svelte-1vynm26>summary.svelte-1vynm26{font-size:1.1em;font-weight:700}.field.svelte-1vynm26.svelte-1vynm26{margin-left:1.5em;padding:5px 0}.process[open].svelte-1vynm26.svelte-1vynm26{margin-bottom:15px;margin-top:5px;margin-right:10px;box-shadow:1px 1px 5px #888}.process.svelte-1vynm26.svelte-1vynm26{margin-left:1.5em;padding:5px 0;margin-right:10px;box-shadow:1px 1px 5px #888}.processDetails.svelte-1vynm26.svelte-1vynm26{padding:.5em}.addbutton.svelte-1vynm26.svelte-1vynm26{float:right;cursor:pointer;margin-right:0}.addbutton.svelte-1vynm26.svelte-1vynm26:hover{background:var(--hover-color);padding:.2em .5em;margin-right:-.5em;margin-top:-.2em;border-radius:20%}.deleteTable.svelte-1vynm26.svelte-1vynm26{float:right;cursor:pointer;margin-right:0;z-index:2}.hoverbutton.svelte-1vynm26.svelte-1vynm26:hover{background:var(--hover-color);padding:.2em .5em;margin:-.2em -.5em;border-radius:20%;cursor:pointer}.viewTable.svelte-1vynm26.svelte-1vynm26{float:right;cursor:pointer;margin-right:.5em}.viewTable.svelte-1vynm26.svelte-1vynm26:hover{margin-right:0;cursor:pointer}.deleteProcess.svelte-1vynm26.svelte-1vynm26{float:right;cursor:pointer;margin-right:0}.tooltip.svelte-1ryw8s3{transform:none;border:1px solid #ddd;box-shadow:1px 1px 1px #ddd;background:#fff;border-radius:4px;padding:4px;position:absolute;margin:0;z-index:9999;width:-moz-max-content;width:max-content}.button.svelte-owaav{margin:5px;border:none;border-radius:20%;padding:.2em .5em;opacity:1;cursor:pointer;width:20px;height:20px}.button.svelte-owaav:hover{background:var(--hover-color)}#chartTools.svelte-10g9qi8{margin-top:-10px;background-color:var(--hover-color);-webkit-backdrop-filter:blur(1px);backdrop-filter:blur(1px);opacity:.4;position:absolute;border-radius:5px;display:flex;right:10px}.button.svelte-10g9qi8{margin:5px;border:none;border-radius:20%;padding:2px 5px;opacity:1;cursor:pointer;width:20px;height:20px}.button.svelte-10g9qi8:hover{background:var(--hover-color)}#chartTools.svelte-10g9qi8:hover{opacity:1;background:var(--bg-color)}#graphTabs.svelte-1gfrvzx.svelte-1gfrvzx{position:sticky;top:0;left:0;z-index:999;background:var(--bg-color);padding:0;margin:0!important;display:flow-root}nav.svelte-1gfrvzx.svelte-1gfrvzx{margin:0;background-color:var(--bg-color);z-index:9;width:100%}ul.svelte-1gfrvzx.svelte-1gfrvzx{display:flex;flex-wrap:wrap;list-style:none;border-bottom:3px solid var(--hover-color);margin-left:-2em;margin-top:2px}li.svelte-1gfrvzx.svelte-1gfrvzx{margin-bottom:-3px;margin-right:2px;border-top-left-radius:.25rem;border-top-right-radius:.25rem;background:var(--hover-color)}span.svelte-1gfrvzx.svelte-1gfrvzx{border:3px solid transparent;border-top-left-radius:.25rem;border-top-right-radius:.25rem;display:block;padding:.5rem 1rem;cursor:pointer}li.active.svelte-1gfrvzx>span.svelte-1gfrvzx,li.active.svelte-1gfrvzx>.closeButton.svelte-1gfrvzx,li.active.svelte-1gfrvzx:hover>span.svelte-1gfrvzx{border-color:var(--hover-color) var(--hover-color) var(--bg-color);background:var(--bg-color)}li.svelte-1gfrvzx.svelte-1gfrvzx:hover,li.svelte-1gfrvzx:hover>span.svelte-1gfrvzx,li.svelte-1gfrvzx:hover>.closeButton.svelte-1gfrvzx{border-color:var(--hover-color) var(--hover-color) var(--hover-color);background:var(--bg-color)}li.active.svelte-1gfrvzx:hover>span.svelte-1gfrvzx,li.active.svelte-1gfrvzx:hover>.closeButton.svelte-1gfrvzx{cursor:default;background:var(--bg-color)}.closeButton.svelte-1gfrvzx.svelte-1gfrvzx{width:15px;cursor:pointer;padding:0;float:right;margin-right:3px;margin-top:-32px;border:none;background-color:var(--hover-color)}svg.svelte-1gfrvzx.svelte-1gfrvzx:hover{stroke:red}#tableTabs.svelte-nulfcf.svelte-nulfcf{position:sticky;top:0;left:0;z-index:999;padding:0;margin:0 2.2em 0 0!important}nav.svelte-nulfcf.svelte-nulfcf{margin:0;z-index:9;width:calc(100% + 2.2em);background-color:var(--bg-color)}ul.svelte-nulfcf.svelte-nulfcf{display:flex;flex-wrap:wrap;list-style:none;border-bottom:3px solid var(--hover-color);margin-top:2px}li.svelte-nulfcf.svelte-nulfcf{margin-bottom:-3px;margin-right:2px;border-top-left-radius:.25rem;border-top-right-radius:.25rem;background:var(--hover-color)}span.svelte-nulfcf.svelte-nulfcf{border:3px solid transparent;border-top-left-radius:.25rem;border-top-right-radius:.25rem;display:block;padding:.5rem 1rem;cursor:pointer}li.active.svelte-nulfcf>span.svelte-nulfcf,li.active.svelte-nulfcf>.closeButton.svelte-nulfcf,li.active.svelte-nulfcf:hover>span.svelte-nulfcf{border-color:var(--hover-color) var(--hover-color) var(--bg-color);background:var(--bg-color)}li.svelte-nulfcf.svelte-nulfcf:hover,li.svelte-nulfcf:hover>span.svelte-nulfcf,li.svelte-nulfcf:hover>.closeButton.svelte-nulfcf{border-color:var(--hover-color) var(--hover-color) var(--hover-color);background:var(--bg-color)}li.active.svelte-nulfcf:hover>span.svelte-nulfcf,li.active.svelte-nulfcf:hover>.closeButton.svelte-nulfcf{cursor:default;background:var(--bg-color)}.closeButton.svelte-nulfcf.svelte-nulfcf{width:15px;cursor:pointer;padding:0;float:right;margin-right:3px;margin-top:-32px;border:none;background-color:var(--hover-color)}svg.svelte-nulfcf.svelte-nulfcf:hover{stroke:red}table.svelte-nulfcf.svelte-nulfcf{border-collapse:collapse;width:-moz-max-content;width:max-content;margin-left:5px}td.svelte-nulfcf.svelte-nulfcf{border:1px solid var(--hover-color);text-align:left;padding:8px}.guessFmtBtn.svelte-1wt1n0s{margin-right:10px}.svelte-spinner.svelte-ynopmf{transition-property:transform;animation-name:svelte-ynopmf-svelte-spinner_infinite-spin;animation-iteration-count:infinite;animation-timing-function:linear}@keyframes svelte-ynopmf-svelte-spinner_infinite-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.tw-toggle.svelte-1jbm41o.svelte-1jbm41o.svelte-1jbm41o{float:right;margin-right:10px;margin-top:-3em;background:var(--bg-color);display:inline-block;padding:1px 3px;border-radius:20px;position:relative;border:2px solid var(--primary-color);cursor:pointer}.tw-toggle.svelte-1jbm41o label.svelte-1jbm41o.svelte-1jbm41o{display:inline-block;position:relative;z-index:2;margin:0;padding:2px 3px;cursor:pointer}.tw-toggle.svelte-1jbm41o input.svelte-1jbm41o.svelte-1jbm41o{position:absolute;z-index:3;opacity:0;cursor:pointer}.tw-toggle.svelte-1jbm41o span.svelte-1jbm41o.svelte-1jbm41o{height:15px;width:15px;line-height:20px;border-radius:50%;background:var(--bg-color);display:block;position:absolute;left:22px;top:2px;transition:all .3s ease-in-out}.tw-toggle.svelte-1jbm41o input[value=light].svelte-1jbm41o:checked~span.svelte-1jbm41o{background:var(--primary-color);left:2px;color:var(--primary-color)}.tw-toggle.svelte-1jbm41o input[value=dark].svelte-1jbm41o:checked~span.svelte-1jbm41o{background:var(--primary-color);left:46px}.tw-toggle.svelte-1jbm41o input[value=user].svelte-1jbm41o:checked~span.svelte-1jbm41o{background:var(--primary-color);left:23px}.inside.svelte-1jbm41o.svelte-1jbm41o.svelte-1jbm41o{width:10px}nav.svelte-n42nv6.svelte-n42nv6{position:sticky;height:2em;background-color:var(--bg-color);z-index:1001}.applicationmenu.svelte-n42nv6.svelte-n42nv6{border-bottom:1px var(--hover-color) solid;height:2em;z-index:3;padding:3px;position:fixed;width:100%;margin:-8px}ul.svelte-n42nv6.svelte-n42nv6{padding:0}ul.topmenu.svelte-n42nv6.svelte-n42nv6{display:flex;flex-direction:row;margin-top:0}ul.topmenu.svelte-n42nv6 li.svelte-n42nv6{list-style-type:none}button.svelte-n42nv6.svelte-n42nv6{border:0px #000 solid;color:var(--font-color);height:30px;padding:0 10px;background:var(--bg-color)}ul.svelte-n42nv6 li button.svelte-n42nv6:hover{background-color:var(--hover-color);cursor:pointer}ul.svelte-n42nv6 li ul.secondmenu.svelte-n42nv6{display:flex;align-items:stretch;flex-direction:column;position:absolute;box-shadow:1px 1px 5px #888}ul.svelte-n42nv6 li ul.secondmenu li button.svelte-n42nv6{width:100%;min-width:150px;text-align:left}ul.svelte-n42nv6 li ul.thirdmenu.svelte-n42nv6{display:flex;align-items:stretch;flex-direction:column;position:absolute;box-shadow:1px 1px 5px #888;margin-left:calc(100% + 1px);margin-top:-30px}hr.svelte-n42nv6.svelte-n42nv6{border:none;border-bottom:1px solid var(--hover-color);margin:0}.navbar.svelte-ouzgb9.svelte-ouzgb9{display:inline-flex;border:1px #999 solid;width:-moz-fit-content;width:fit-content;background-color:var(--bg-color);border-radius:5px;overflow:hidden;flex-direction:column}.navbar.svelte-ouzgb9 ul.svelte-ouzgb9{margin:6px}ul.svelte-ouzgb9.svelte-ouzgb9{padding:0}ul.svelte-ouzgb9 li.svelte-ouzgb9{display:block;list-style-type:none;width:1fr}ul.svelte-ouzgb9 li button.svelte-ouzgb9{font-size:.75rem;width:100%;height:30px;text-align:left;border:0px;background-color:var(--bg-color)}ul.svelte-ouzgb9 li button.svelte-ouzgb9:hover{color:var(--bg-color);text-align:left;border-radius:5px;background-color:#eee}.overlay.svelte-1hj8mph{position:absolute;cursor:pointer;z-index:10001;background:var(--hover-color);padding:5px;border-radius:10px;box-shadow:0 0 15px -5px var(--font-color)}.range.svelte-1s2t95a.svelte-1s2t95a{width:80%;flex-basis:100%;flex-grow:0;flex-shrink:0;margin:10px}.range-slider.svelte-1s2t95a.svelte-1s2t95a{height:.45rem;position:relative;background-color:var(--font-color);border-radius:.5rem;border:solid 1px grey}.range-selected.svelte-1s2t95a.svelte-1s2t95a{height:100%;position:absolute;border-radius:5px;background-color:var(--primary-color);left:0%;right:0%}.range-input.svelte-1s2t95a.svelte-1s2t95a{position:relative}.range-input.svelte-1s2t95a input.svelte-1s2t95a{position:absolute;width:100%;height:0;top:-.45rem;background:none;pointer-events:none;-webkit-appearance:none;-moz-appearance:none}.range-input.svelte-1s2t95a input.svelte-1s2t95a::-webkit-slider-thumb{height:1.1rem;width:1.1rem;border-radius:50%;background-color:var(--primary-color);pointer-events:auto;-webkit-appearance:none;cursor:pointer}.range-input.svelte-1s2t95a input.svelte-1s2t95a::-webkit-slider-thumb:hover{filter:brightness(1.2)}.range-input.svelte-1s2t95a input.svelte-1s2t95a::-moz-range-thumb{height:1.1rem;width:1.1rem;border-radius:50%;background-color:var(--primary-color);pointer-events:auto;-moz-appearance:none}.range-num.svelte-1s2t95a.svelte-1s2t95a{display:flex;justify-content:center;align-items:center;margin-bottom:5px}.range-num.svelte-1s2t95a label.svelte-1s2t95a{margin:0 15px}.range-num.svelte-1s2t95a input.svelte-1s2t95a{width:60px;padding:5px;height:.45rem}.datepicklabelshow.svelte-1uxwljh{display:inline-block}.datepicklabel.svelte-1uxwljh{display:none;cursor:pointer}.dateInput.svelte-1uxwljh:hover{background:#eee}.svelte-1uxwljh::-webkit-calendar-picker-indicator:hover{cursor:pointer}

</style>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
